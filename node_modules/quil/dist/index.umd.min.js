/**
 * quil - Quil library
 * @version v1.1.30
 * @author xputer technologies
 * @link https://github.com/trekhleb/angular-library-seed#readme
 * @license MIT
 */
!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("@angular/core"),require("@angular/common"),require("@angular/forms"),require("@angular/router"),require("@angular/animations"),require("rxjs/Subject"),require("@angular/platform-browser"),require("@angular/http"),require("rxjs/add/operator/map"),require("rxjs/add/operator/catch"),require("rxjs/Observable"),require("rxjs/add/operator/toPromise")):"function"==typeof define&&define.amd?define(["@angular/core","@angular/common","@angular/forms","@angular/router","@angular/animations","rxjs/Subject","@angular/platform-browser","@angular/http","rxjs/add/operator/map","rxjs/add/operator/catch","rxjs/Observable","rxjs/add/operator/toPromise"],e):"object"==typeof exports?exports.quil=e(require("@angular/core"),require("@angular/common"),require("@angular/forms"),require("@angular/router"),require("@angular/animations"),require("rxjs/Subject"),require("@angular/platform-browser"),require("@angular/http"),require("rxjs/add/operator/map"),require("rxjs/add/operator/catch"),require("rxjs/Observable"),require("rxjs/add/operator/toPromise")):t.quil=e(t.ng.core,t.ng.common,t.ng.forms,t.ng.router,t.ng.animations,t.Rx,t.ng.platformBrowser,t.ng.http,t.Rx,t.Rx,t.Rx,t.Rx)}(this,function(t,e,i,n,o,r,s,a,l,h,u,c){return function(t){function e(n){if(i[n])return i[n].exports;var o=i[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,e),o.l=!0,o.exports}var i={};return e.m=t,e.c=i,e.d=function(t,i,n){e.o(t,i)||Object.defineProperty(t,i,{configurable:!1,enumerable:!0,get:n})},e.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(i,"a",i),i},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=30)}([function(e,i){e.exports=t},function(t,i){t.exports=e},function(t,e,i){"use strict";function n(t){for(var i in t)e.hasOwnProperty(i)||(e[i]=t[i])}Object.defineProperty(e,"__esModule",{value:!0}),n(i(24)),n(i(4)),n(i(101)),n(i(102)),n(i(103)),n(i(104)),n(i(9)),n(i(105)),n(i(106)),n(i(107)),n(i(108)),n(i(109)),n(i(110)),n(i(111)),n(i(112)),n(i(113)),n(i(114)),n(i(115)),n(i(116)),n(i(117)),n(i(118)),n(i(119)),n(i(120)),n(i(121)),n(i(122)),n(i(123)),n(i(124)),n(i(125)),n(i(126)),n(i(127)),n(i(128)),n(i(129)),n(i(130)),n(i(131)),n(i(12)),n(i(132)),n(i(133)),n(i(134)),n(i(135)),n(i(136)),n(i(137)),n(i(27)),n(i(138)),n(i(139)),n(i(140)),n(i(141)),n(i(16)),n(i(142)),n(i(143)),n(i(144)),n(i(145)),n(i(29)),n(i(146)),n(i(147)),n(i(148)),n(i(149)),n(i(150)),n(i(151)),n(i(152)),n(i(153)),n(i(154)),n(i(155)),n(i(156)),n(i(157)),n(i(159)),n(i(160)),n(i(161)),n(i(162)),n(i(163)),n(i(164)),n(i(165))},function(t,e,i){"use strict";var n=this&&this.__decorate||function(t,e,i,n){var o,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,i,s):o(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s};Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=function(){function t(){this.calculatedScrollbarWidth=null}return t.prototype.addClass=function(t,e){t.classList?t.classList.add(e):t.className+=" "+e},t.prototype.addMultipleClasses=function(t,e){if(t.classList)for(var i=e.split(" "),n=0;n<i.length;n++)t.classList.add(i[n]);else for(var i=e.split(" "),n=0;n<i.length;n++)t.className+=" "+i[n]},t.prototype.removeClass=function(t,e){t.classList?t.classList.remove(e):t.className=t.className.replace(new RegExp("(^|\\b)"+e.split(" ").join("|")+"(\\b|$)","gi")," ")},t.prototype.hasClass=function(t,e){return t.classList?t.classList.contains(e):new RegExp("(^| )"+e+"( |$)","gi").test(t.className)},t.prototype.siblings=function(t){return Array.prototype.filter.call(t.parentNode.children,function(e){return e!==t})},t.prototype.find=function(t,e){return t.querySelectorAll(e)},t.prototype.findSingle=function(t,e){return t.querySelector(e)},t.prototype.index=function(t){for(var e=t.parentNode.childNodes,i=0,n=0;n<e.length;n++){if(e[n]==t)return i;1==e[n].nodeType&&i++}return-1},t.prototype.relativePosition=function(t,e){var i,n,o=t.offsetParent?{width:t.offsetWidth,height:t.offsetHeight}:this.getHiddenElementDimensions(t),r=e.offsetHeight,s=e.offsetWidth,a=e.getBoundingClientRect(),l=(this.getWindowScrollTop(),this.getViewport());a.top+r+o.height>l.height?(i=-1*o.height,a.top+i<0&&(i=0)):i=r,n=a.left+o.width>l.width?s-o.width:0,t.style.top=i+"px",t.style.left=n+"px"},t.prototype.absolutePosition=function(t,e){var i,n,o=t.offsetParent?{width:t.offsetWidth,height:t.offsetHeight}:this.getHiddenElementDimensions(t),r=o.height,s=o.width,a=e.offsetHeight,l=e.offsetWidth,h=e.getBoundingClientRect(),u=this.getWindowScrollTop(),c=this.getWindowScrollLeft(),d=this.getViewport();h.top+a+r>d.height?(i=h.top+u-r)<0&&(i=0+u):i=a+h.top+u,n=h.left+l+s>d.width?h.left+c+l-s:h.left+c,t.style.top=i+"px",t.style.left=n+"px"},t.prototype.getHiddenElementOuterHeight=function(t){t.style.visibility="hidden",t.style.display="block";var e=t.offsetHeight;return t.style.display="none",t.style.visibility="visible",e},t.prototype.getHiddenElementOuterWidth=function(t){t.style.visibility="hidden",t.style.display="block";var e=t.offsetWidth;return t.style.display="none",t.style.visibility="visible",e},t.prototype.getHiddenElementDimensions=function(t){var e={};return t.style.visibility="hidden",t.style.display="block",e.width=t.offsetWidth,e.height=t.offsetHeight,t.style.display="none",t.style.visibility="visible",e},t.prototype.scrollInView=function(t,e){var i=getComputedStyle(t).getPropertyValue("borderTopWidth"),n=i?parseFloat(i):0,o=getComputedStyle(t).getPropertyValue("paddingTop"),r=o?parseFloat(o):0,s=t.getBoundingClientRect(),a=e.getBoundingClientRect(),l=a.top+document.body.scrollTop-(s.top+document.body.scrollTop)-n-r,h=t.scrollTop,u=t.clientHeight,c=this.getOuterHeight(e);l<0?t.scrollTop=h+l:l+c>u&&(t.scrollTop=h+l-u+c)},t.prototype.fadeIn=function(t,e){t.style.opacity=0;var i=+new Date,n=0,o=function(){n=+t.style.opacity+((new Date).getTime()-i)/e,t.style.opacity=n,i=+new Date,+n<1&&(window.requestAnimationFrame&&requestAnimationFrame(o)||setTimeout(o,16))};o()},t.prototype.fadeOut=function(t,e){var i=1,n=e,o=50/n,r=setInterval(function(){i-=o,i<=0&&(i=0,clearInterval(r)),t.style.opacity=i},50)},t.prototype.getWindowScrollTop=function(){var t=document.documentElement;return(window.pageYOffset||t.scrollTop)-(t.clientTop||0)},t.prototype.getWindowScrollLeft=function(){var t=document.documentElement;return(window.pageXOffset||t.scrollLeft)-(t.clientLeft||0)},t.prototype.matches=function(t,e){var i=Element.prototype;return(i.matches||i.webkitMatchesSelector||i.mozMatchesSelector||i.msMatchesSelector||function(t){return-1!==[].indexOf.call(document.querySelectorAll(t),this)}).call(t,e)},t.prototype.getOuterWidth=function(t,e){var i=t.offsetWidth;if(e){var n=getComputedStyle(t);i+=parseFloat(n.marginLeft)+parseFloat(n.marginRight)}return i},t.prototype.getHorizontalPadding=function(t){var e=getComputedStyle(t);return parseFloat(e.paddingLeft)+parseFloat(e.paddingRight)},t.prototype.getHorizontalMargin=function(t){var e=getComputedStyle(t);return parseFloat(e.marginLeft)+parseFloat(e.marginRight)},t.prototype.innerWidth=function(t){var e=t.offsetWidth,i=getComputedStyle(t);return e+=parseFloat(i.paddingLeft)+parseFloat(i.paddingRight)},t.prototype.width=function(t){var e=t.offsetWidth,i=getComputedStyle(t);return e-=parseFloat(i.paddingLeft)+parseFloat(i.paddingRight)},t.prototype.getInnerHeight=function(t){var e=t.offsetHeight,i=getComputedStyle(t);return e+=parseFloat(i.paddingTop)+parseFloat(i.paddingBottom)},t.prototype.getOuterHeight=function(t,e){var i=t.offsetHeight;if(e){var n=getComputedStyle(t);i+=parseFloat(n.marginTop)+parseFloat(n.marginBottom)}return i},t.prototype.getHeight=function(t){var e=t.offsetHeight,i=getComputedStyle(t);return e-=parseFloat(i.paddingTop)+parseFloat(i.paddingBottom)+parseFloat(i.borderTopWidth)+parseFloat(i.borderBottomWidth)},t.prototype.getWidth=function(t){var e=t.offsetWidth,i=getComputedStyle(t);return e-=parseFloat(i.paddingLeft)+parseFloat(i.paddingRight)+parseFloat(i.borderLeftWidth)+parseFloat(i.borderRightWidth)},t.prototype.getViewport=function(){var t=window,e=document,i=e.documentElement,n=e.getElementsByTagName("body")[0];return{width:t.innerWidth||i.clientWidth||n.clientWidth,height:t.innerHeight||i.clientHeight||n.clientHeight}},t.prototype.getOffset=function(t){var e=t.getBoundingClientRect();return{top:e.top+document.body.scrollTop,left:e.left+document.body.scrollLeft}},t.prototype.getUserAgent=function(){return navigator.userAgent},t.prototype.isIE=function(){var t=window.navigator.userAgent;if(t.indexOf("MSIE ")>0)return!0;if(t.indexOf("Trident/")>0)return t.indexOf("rv:"),!0;return t.indexOf("Edge/")>0},t.prototype.appendChild=function(t,e){if(this.isElement(e))e.appendChild(t);else{if(!e.el||!e.el.nativeElement)throw"Cannot append "+e+" to "+t;e.el.nativeElement.appendChild(t)}},t.prototype.removeChild=function(t,e){if(this.isElement(e))e.removeChild(t);else{if(!e.el||!e.el.nativeElement)throw"Cannot remove "+t+" from "+e;e.el.nativeElement.removeChild(t)}},t.prototype.isElement=function(t){return"object"==typeof HTMLElement?t instanceof HTMLElement:t&&"object"==typeof t&&null!==t&&1===t.nodeType&&"string"==typeof t.nodeName},t.prototype.calculateScrollbarWidth=function(){if(null!==this.calculatedScrollbarWidth)return this.calculatedScrollbarWidth;var t=document.createElement("div");t.className="ui-scrollbar-measure",document.body.appendChild(t);var e=t.offsetWidth-t.clientWidth;return document.body.removeChild(t),this.calculatedScrollbarWidth=e,e},t.prototype.invokeElementMethod=function(t,e,i){t[e].apply(t,i)},t.prototype.clearSelection=function(){if(window.getSelection)window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().rangeCount>0&&window.getSelection().getRangeAt(0).getClientRects().length>0&&window.getSelection().removeAllRanges();else if(document.selection&&document.selection.empty)try{document.selection.empty()}catch(t){}},t}();r.zindex=1e3,r=n([o.Injectable()],r),e.DomHandler=r},function(t,e,i){"use strict";var n=this&&this.__decorate||function(t,e,i,n){var o,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,i,s):o(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};Object.defineProperty(e,"__esModule",{value:!0});var r=i(0),s=i(1),a=i(0),l=function(){function t(){}return t}();l=n([a.Component({selector:"p-header",template:"<ng-content></ng-content>"})],l),e.Header=l;var h=function(){function t(){}return t}();h=n([a.Component({selector:"p-footer",template:"<ng-content></ng-content>"})],h),e.Footer=h;var u=function(){function t(t){this.template=t}return t.prototype.getType=function(){return this.name},t}();n([r.Input(),o("design:type",String)],u.prototype,"type",void 0),n([r.Input("pTemplate"),o("design:type",String)],u.prototype,"name",void 0),u=n([r.Directive({selector:"[pTemplate]",host:{}}),o("design:paramtypes",[r.TemplateRef])],u),e.PrimeTemplate=u;var c=function(){function t(t){this.viewContainer=t}return t.prototype.ngOnInit=function(){this.view=this.viewContainer.createEmbeddedView(this.templateRef,{$implicit:this.item,index:this.index})},t.prototype.ngOnDestroy=function(){this.view.destroy()},t}();n([r.Input(),o("design:type",Object)],c.prototype,"item",void 0),n([r.Input(),o("design:type",Number)],c.prototype,"index",void 0),n([r.Input("pTemplateWrapper"),o("design:type",r.TemplateRef)],c.prototype,"templateRef",void 0),c=n([r.Directive({selector:"[pTemplateWrapper]"}),o("design:paramtypes",[r.ViewContainerRef])],c),e.TemplateWrapper=c;var d=function(){function t(){this.filterType="text",this.sortFunction=new r.EventEmitter}return t.prototype.ngAfterContentInit=function(){var t=this;this.templates.forEach(function(e){switch(e.getType()){case"header":t.headerTemplate=e.template;break;case"body":t.bodyTemplate=e.template;break;case"footer":t.footerTemplate=e.template;break;case"filter":t.filterTemplate=e.template;break;case"editor":t.editorTemplate=e.template;break;default:t.bodyTemplate=e.template}})},t}();n([r.Input(),o("design:type",String)],d.prototype,"field",void 0),n([r.Input(),o("design:type",String)],d.prototype,"colId",void 0),n([r.Input(),o("design:type",String)],d.prototype,"sortField",void 0),n([r.Input(),o("design:type",String)],d.prototype,"filterField",void 0),n([r.Input(),o("design:type",String)],d.prototype,"header",void 0),n([r.Input(),o("design:type",String)],d.prototype,"footer",void 0),n([r.Input(),o("design:type",Object)],d.prototype,"sortable",void 0),n([r.Input(),o("design:type",Boolean)],d.prototype,"editable",void 0),n([r.Input(),o("design:type",Boolean)],d.prototype,"filter",void 0),n([r.Input(),o("design:type",String)],d.prototype,"filterMatchMode",void 0),n([r.Input(),o("design:type",String)],d.prototype,"filterType",void 0),n([r.Input(),o("design:type",Number)],d.prototype,"rowspan",void 0),n([r.Input(),o("design:type",Number)],d.prototype,"colspan",void 0),n([r.Input(),o("design:type",Object)],d.prototype,"style",void 0),n([r.Input(),o("design:type",String)],d.prototype,"styleClass",void 0),n([r.Input(),o("design:type",Boolean)],d.prototype,"hidden",void 0),n([r.Input(),o("design:type",Boolean)],d.prototype,"expander",void 0),n([r.Input(),o("design:type",String)],d.prototype,"selectionMode",void 0),n([r.Input(),o("design:type",String)],d.prototype,"filterPlaceholder",void 0),n([r.Input(),o("design:type",Number)],d.prototype,"filterMaxlength",void 0),n([r.Input(),o("design:type",Boolean)],d.prototype,"frozen",void 0),n([r.Output(),o("design:type",r.EventEmitter)],d.prototype,"sortFunction",void 0),n([r.ContentChildren(u),o("design:type",r.QueryList)],d.prototype,"templates",void 0),n([r.ContentChild(r.TemplateRef),o("design:type",r.TemplateRef)],d.prototype,"template",void 0),d=n([a.Component({selector:"p-column",template:""})],d),e.Column=d;var p=function(){function t(){}return t}();n([r.ContentChildren(d),o("design:type",r.QueryList)],p.prototype,"columns",void 0),p=n([a.Component({selector:"p-row",template:""})],p),e.Row=p;var f=function(){function t(){}return t}();n([r.Input(),o("design:type",Boolean)],f.prototype,"frozen",void 0),n([r.ContentChildren(p),o("design:type",r.QueryList)],f.prototype,"rows",void 0),f=n([a.Component({selector:"p-headerColumnGroup",template:""})],f),e.HeaderColumnGroup=f;var y=function(){function t(){}return t}();n([r.Input(),o("design:type",Boolean)],y.prototype,"frozen",void 0),n([r.ContentChildren(p),o("design:type",r.QueryList)],y.prototype,"rows",void 0),y=n([a.Component({selector:"p-footerColumnGroup",template:""})],y),e.FooterColumnGroup=y;var g=function(){function t(t){this.viewContainer=t}return t.prototype.ngOnInit=function(){this.view=this.viewContainer.createEmbeddedView(this.column.bodyTemplate,{$implicit:this.column,rowData:this.rowData,rowIndex:this.rowIndex})},t.prototype.ngOnChanges=function(t){this.view&&"rowIndex"in t&&(this.view.context.rowIndex=t.rowIndex.currentValue)},t.prototype.ngOnDestroy=function(){this.view.destroy()},t}();n([r.Input(),o("design:type",Object)],g.prototype,"column",void 0),n([r.Input(),o("design:type",Object)],g.prototype,"rowData",void 0),n([r.Input(),o("design:type",Number)],g.prototype,"rowIndex",void 0),g=n([a.Component({selector:"p-columnBodyTemplateLoader",template:""}),o("design:paramtypes",[r.ViewContainerRef])],g),e.ColumnBodyTemplateLoader=g;var v=function(){function t(t){this.viewContainer=t}return t.prototype.ngOnInit=function(){this.view=this.viewContainer.createEmbeddedView(this.column.headerTemplate,{$implicit:this.column})},t.prototype.ngOnDestroy=function(){this.view.destroy()},t}();n([r.Input(),o("design:type",Object)],v.prototype,"column",void 0),v=n([a.Component({selector:"p-columnHeaderTemplateLoader",template:""}),o("design:paramtypes",[r.ViewContainerRef])],v),e.ColumnHeaderTemplateLoader=v;var m=function(){function t(t){this.viewContainer=t}return t.prototype.ngOnInit=function(){this.view=this.viewContainer.createEmbeddedView(this.column.footerTemplate,{$implicit:this.column})},t.prototype.ngOnDestroy=function(){this.view.destroy()},t}();n([r.Input(),o("design:type",Object)],m.prototype,"column",void 0),m=n([a.Component({selector:"p-columnFooterTemplateLoader",template:""}),o("design:paramtypes",[r.ViewContainerRef])],m),e.ColumnFooterTemplateLoader=m;var b=function(){function t(t){this.viewContainer=t}return t.prototype.ngOnInit=function(){this.view=this.viewContainer.createEmbeddedView(this.column.filterTemplate,{$implicit:this.column})},t.prototype.ngOnDestroy=function(){this.view.destroy()},t}();n([r.Input(),o("design:type",Object)],b.prototype,"column",void 0),b=n([a.Component({selector:"p-columnFilterTemplateLoader",template:""}),o("design:paramtypes",[r.ViewContainerRef])],b),e.ColumnFilterTemplateLoader=b;var w=function(){function t(t){this.viewContainer=t}return t.prototype.ngOnInit=function(){this.view=this.viewContainer.createEmbeddedView(this.column.editorTemplate,{$implicit:this.column,rowData:this.rowData,rowIndex:this.rowIndex})},t.prototype.ngOnDestroy=function(){this.view.destroy()},t}();n([r.Input(),o("design:type",Object)],w.prototype,"column",void 0),n([r.Input(),o("design:type",Object)],w.prototype,"rowData",void 0),n([r.Input(),o("design:type",Object)],w.prototype,"rowIndex",void 0),w=n([a.Component({selector:"p-columnEditorTemplateLoader",template:""}),o("design:paramtypes",[r.ViewContainerRef])],w),e.ColumnEditorTemplateLoader=w;var x=function(){function t(t){this.viewContainer=t}return t.prototype.ngOnInit=function(){this.template&&(this.view=this.viewContainer.createEmbeddedView(this.template,{$implicit:this.data}))},t.prototype.ngOnDestroy=function(){this.view&&this.view.destroy()},t}();n([r.Input(),o("design:type",r.TemplateRef)],x.prototype,"template",void 0),n([r.Input(),o("design:type",Object)],x.prototype,"data",void 0),x=n([a.Component({selector:"p-templateLoader",template:""}),o("design:paramtypes",[r.ViewContainerRef])],x),e.TemplateLoader=x;var C=function(){function t(){}return t}();C=n([r.NgModule({imports:[s.CommonModule],exports:[l,h,d,c,v,g,m,b,u,x,p,f,y,w],declarations:[l,h,d,c,v,g,m,b,u,x,p,f,y,w]})],C),e.SharedModule=C},function(t,e){t.exports=i},function(t,e){t.exports=n},function(t,e){t.exports=o},function(t,e){function i(t,e){var i=t[1]||"",o=t[3];if(!o)return i;if(e&&"function"==typeof btoa){var r=n(o);return[i].concat(o.sources.map(function(t){return"/*# sourceURL="+o.sourceRoot+t+" */"})).concat([r]).join("\n")}return[i].join("\n")}function n(t){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(t))))+" */"}t.exports=function(t){var e=[];return e.toString=function(){return this.map(function(e){var n=i(e,t);return e[2]?"@media "+e[2]+"{"+n+"}":n}).join("")},e.i=function(t,i){"string"==typeof t&&(t=[[null,t,""]]);for(var n={},o=0;o<this.length;o++){var r=this[o][0];"number"==typeof r&&(n[r]=!0)}for(o=0;o<t.length;o++){var s=t[o];"number"==typeof s[0]&&n[s[0]]||(i&&!s[2]?s[2]=i:i&&(s[2]="("+s[2]+") and ("+i+")"),e.push(s))}},e}},function(t,e,i){"use strict";var n=this&&this.__decorate||function(t,e,i,n){var o,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,i,s):o(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};Object.defineProperty(e,"__esModule",{value:!0});var r=i(0),s=i(3),a=i(1),l=function(){function t(t,e){this.el=t,this.domHandler=e,this.iconPos="left",this.cornerStyleClass="ui-corner-all"}return t.prototype.ngAfterViewInit=function(){if(this.domHandler.addMultipleClasses(this.el.nativeElement,this.getStyleClass()),this.icon){var t=document.createElement("span"),e="right"==this.iconPos?"ui-button-icon-right":"ui-button-icon-left";t.className=e+" ui-clickable fa fa-fw "+this.icon,this.el.nativeElement.appendChild(t)}var i=document.createElement("span");i.className="ui-button-text ui-clickable",i.appendChild(document.createTextNode(this.label||"ui-btn")),this.el.nativeElement.appendChild(i),this.initialized=!0},t.prototype.getStyleClass=function(){var t="ui-button ui-widget ui-state-default "+this.cornerStyleClass;return this.icon?null!=this.label&&void 0!=this.label?"left"==this.iconPos?t+=" ui-button-text-icon-left":t+=" ui-button-text-icon-right":t+=" ui-button-icon-only":t+=" ui-button-text-only",t},Object.defineProperty(t.prototype,"label",{get:function(){return this._label},set:function(t){this._label=t,this.initialized&&(this.domHandler.findSingle(this.el.nativeElement,".ui-button-text").textContent=this._label)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"icon",{get:function(){return this._icon},set:function(t){if(this._icon=t,this.initialized){var e="right"==this.iconPos?"ui-button-icon-right":"ui-button-icon-left";this.domHandler.findSingle(this.el.nativeElement,".fa").className=e+" ui-clickable fa fa-fw "+this.icon}},enumerable:!0,configurable:!0}),t.prototype.ngOnDestroy=function(){for(;this.el.nativeElement.hasChildNodes();)this.el.nativeElement.removeChild(this.el.nativeElement.lastChild);this.initialized=!1},t}();n([r.Input(),o("design:type",String)],l.prototype,"iconPos",void 0),n([r.Input(),o("design:type",String)],l.prototype,"cornerStyleClass",void 0),n([r.Input(),o("design:type",String),o("design:paramtypes",[String])],l.prototype,"label",null),n([r.Input(),o("design:type",String),o("design:paramtypes",[String])],l.prototype,"icon",null),l=n([r.Directive({selector:"[pButton]",providers:[s.DomHandler]}),o("design:paramtypes",[r.ElementRef,s.DomHandler])],l),e.Button=l;var h=function(){function t(){}return t}();h=n([r.NgModule({imports:[a.CommonModule],exports:[l],declarations:[l]})],h),e.ButtonModule=h},function(t,e,i){"use strict";var n=this&&this.__decorate||function(t,e,i,n){var o,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,i,s):o(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s};Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=function(){function t(){}return t.prototype.equals=function(t,e,i){return i?this.resolveFieldData(t,i)===this.resolveFieldData(e,i):this.equalsByValue(t,e)},t.prototype.equalsByValue=function(t,e){if(null==t&&null==e)return!0;if(null==t||null==e)return!1;if(t==e)return delete t._$visited,!0;if("object"==typeof t&&"object"==typeof e){t._$visited=!0;for(var i in t)if("_$visited"!==i){if(t.hasOwnProperty(i)!==e.hasOwnProperty(i))return!1;switch(typeof t[i]){case"object":if(t[i]&&t[i]._$visited||!this.equals(t[i],e[i]))return!1;break;case"function":if(void 0===e[i]||"compare"!=i&&t[i].toString()!=e[i].toString())return!1;break;default:if(t[i]!=e[i])return!1}}for(var i in e)if(void 0===t[i])return!1;return delete t._$visited,!0}return!1},t.prototype.resolveFieldData=function(t,e){if(t&&e){if(-1==e.indexOf("."))return t[e];for(var i=e.split("."),n=t,o=0,r=i.length;o<r;++o){if(null==n)return null;n=n[i[o]]}return n}return null},t.prototype.filter=function(t,e,i){var n=[];if(t)for(var o=0,r=t;o<r.length;o++)for(var s=r[o],a=0,l=e;a<l.length;a++){var h=l[a];if(String(this.resolveFieldData(s,h)).toLowerCase().indexOf(i.toLowerCase())>-1){n.push(s);break}}return n},t.prototype.reorderArray=function(t,e,i){var n;if(t&&e!==i){if(i>=t.length)for(n=i-t.length;1+n--;)t.push(void 0);t.splice(i,0,t.splice(e,1)[0])}},t}();r=n([o.Injectable()],r),e.ObjectUtils=r},function(t,e,i){"use strict";var n=this&&this.__decorate||function(t,e,i,n){var o,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,i,s):o(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};Object.defineProperty(e,"__esModule",{value:!0});var r=i(0);i(33),i(34);var s=i(35),a=i(21),l=i(17),h=i(13),u=function(){function t(t){this.http=t,this.diagram=new l.Diagram,this.group="",this.chartDatas=[],this.headers=new a.Headers,this.headers.append("Content-Type","application/json"),this.options=new a.RequestOptions({headers:this.headers})}return t.prototype.GetChartData=function(t,e){return this.http.get(this.url+"render/GetChartData/"+t+"/"+e).map(function(t){return t.json()}).catch(this._serverError)},t.prototype._serverError=function(t){return console.log("server error:",t),t instanceof a.Response?s.Observable.throw(t.json().error||"backend server error"):s.Observable.throw(t||"backend server error")},t.prototype.GetProfile=function(t){var e=this.url+"render/GetProfile/"+t;return console.log(e),this.http.get(e).map(function(t){return t.json()}).catch(this._serverError)},t.prototype.GetProfileStructure=function(){var t=this.url+"Profile";return console.log(t),this.http.get(t).map(function(t){return t.json()}).catch(this._serverError)},t.prototype.AddProfileStructure=function(t){var e=this.url+"Profile",i=JSON.stringify(t);return this.http.post(e,i,{headers:this.headers}).map(function(t){return t.json()}).catch(this._serverError)},t.prototype.deleteProfileStructure=function(t){var e=this.url+"Profile/"+t;return this.http.post(e,{headers:this.options.headers}).map(function(t){return t.json()}).catch(this._serverError)},t.prototype.GetEntities=function(){var t=this.url+"structure/getentities/";return this.http.get(t).map(function(t){return t.json()}).catch(this._serverError)},t.prototype.GetConnections=function(t){var e=this.url+"structure/getconnections/",i=JSON.stringify(t);return this.http.post(e,i,{headers:this.options.headers}).map(function(t){return t.json()}).catch(this._serverError)},t.prototype.loadProfile=function(t){var e=this;this.GetProfile(t).subscribe(function(t){t&&(e.group="",e.profileBands=t.bands,e.profileTitle=t.title,t.entities.forEach(function(t){e.group+="/"+t}),e.wsUrl&&e.InitAutoRefresh(e.group))}),this.profileBands=null,this.profileTitle=null},t.prototype.replaceChartData=function(t){var e=this;t.forEach(function(t){e.chartDatas.forEach(function(e){var i=0;e.band.dimensions.forEach(function(n){n.caption==t.caption&&e.band.dimensions.splice(i,1,t),i++})})})},t.prototype.InitAutoRefresh=function(t){var e=this;this.connection=new h.Connection(this.wsUrl+t),this.connection.clientMethods.refreshChart=function(t){e.replaceChartData(t.dimensions)},this.connection.start()},t=n([r.Injectable(),o("design:paramtypes",[a.Http])],t)}();e.BIService=u},function(t,e,i){"use strict";var n=this&&this.__decorate||function(t,e,i,n){var o,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,i,s):o(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};Object.defineProperty(e,"__esModule",{value:!0});var r=i(0),s=i(1),a=function(){function t(t){this.el=t}return t.prototype.ngDoCheck=function(){this.updateFilledState()},t.prototype.onInput=function(t){this.updateFilledState()},t.prototype.updateFilledState=function(){this.filled=this.el.nativeElement.value&&this.el.nativeElement.value.length},t}();n([r.HostListener("input",["$event"]),o("design:type",Function),o("design:paramtypes",[Object]),o("design:returntype",void 0)],a.prototype,"onInput",null),a=n([r.Directive({selector:"[pInputText]",host:{"[class.ui-inputtext]":"true","[class.ui-corner-all]":"true","[class.ui-state-default]":"true","[class.ui-widget]":"true","[class.ui-state-filled]":"filled"}}),o("design:paramtypes",[r.ElementRef])],a),e.InputText=a;var l=function(){function t(){}return t}();l=n([r.NgModule({imports:[s.CommonModule],exports:[a],declarations:[a]})],l),e.InputTextModule=l},function(t,e,i){"use strict";function n(t){for(var i in t)e.hasOwnProperty(i)||(e[i]=t[i])}Object.defineProperty(e,"__esModule",{value:!0}),n(i(31)),n(i(77)),n(i(83))},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(){this.labels=new Array,this.datasets=new Array,this.entities=new Array}return t}();e.ChartDataVm=n},function(t,e){t.exports=r},function(t,e,i){"use strict";var n=this&&this.__decorate||function(t,e,i,n){var o,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,i,s):o(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};Object.defineProperty(e,"__esModule",{value:!0});var r=i(0),s=i(1),a=function(){function t(){this.pageLinkSize=5,this.onPageChange=new r.EventEmitter,this.alwaysShow=!0,this._totalRecords=0,this._first=0,this._rows=0}return Object.defineProperty(t.prototype,"totalRecords",{get:function(){return this._totalRecords},set:function(t){this._totalRecords=t,this.updatePageLinks()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"first",{get:function(){return this._first},set:function(t){this._first=t,this.updatePageLinks()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rows",{get:function(){return this._rows},set:function(t){this._rows=t,this.updatePageLinks()},enumerable:!0,configurable:!0}),t.prototype.isFirstPage=function(){return 0===this.getPage()},t.prototype.isLastPage=function(){return this.getPage()===this.getPageCount()-1},t.prototype.getPageCount=function(){return Math.ceil(this.totalRecords/this.rows)||1},t.prototype.calculatePageLinkBoundaries=function(){var t=this.getPageCount(),e=Math.min(this.pageLinkSize,t),i=Math.max(0,Math.ceil(this.getPage()-e/2)),n=Math.min(t-1,i+e-1),o=this.pageLinkSize-(n-i+1);return i=Math.max(0,i-o),[i,n]},t.prototype.updatePageLinks=function(){this.pageLinks=[];for(var t=this.calculatePageLinkBoundaries(),e=t[0],i=t[1],n=e;n<=i;n++)this.pageLinks.push(n+1)},t.prototype.changePage=function(t){var e=this.getPageCount();if(t>=0&&t<e){this.first=this.rows*t;var i={page:t,first:this.first,rows:this.rows,pageCount:e};this.updatePageLinks(),this.onPageChange.emit(i)}},t.prototype.getPage=function(){return Math.floor(this.first/this.rows)},t.prototype.changePageToFirst=function(t){this.isFirstPage()||this.changePage(0),t.preventDefault()},t.prototype.changePageToPrev=function(t){this.changePage(this.getPage()-1),t.preventDefault()},t.prototype.changePageToNext=function(t){this.changePage(this.getPage()+1),t.preventDefault()},t.prototype.changePageToLast=function(t){this.isLastPage()||this.changePage(this.getPageCount()-1),t.preventDefault()},t.prototype.onPageLinkClick=function(t,e){this.changePage(e),t.preventDefault()},t.prototype.onRppChange=function(t){this.rows=this.rowsPerPageOptions[t.target.selectedIndex],this.changePage(this.getPage())},t}();n([r.Input(),o("design:type",Number)],a.prototype,"pageLinkSize",void 0),n([r.Output(),o("design:type",r.EventEmitter)],a.prototype,"onPageChange",void 0),n([r.Input(),o("design:type",Object)],a.prototype,"style",void 0),n([r.Input(),o("design:type",String)],a.prototype,"styleClass",void 0),n([r.Input(),o("design:type",Array)],a.prototype,"rowsPerPageOptions",void 0),n([r.Input(),o("design:type",Boolean)],a.prototype,"alwaysShow",void 0),n([r.Input(),o("design:type",Number),o("design:paramtypes",[Number])],a.prototype,"totalRecords",null),n([r.Input(),o("design:type",Number),o("design:paramtypes",[Number])],a.prototype,"first",null),n([r.Input(),o("design:type",Number),o("design:paramtypes",[Number])],a.prototype,"rows",null),a=n([r.Component({selector:"p-paginator",template:'\n        <div [class]="styleClass" [ngStyle]="style" [ngClass]="\'ui-paginator ui-widget ui-widget-header ui-unselectable-text\'"\n            *ngIf="alwaysShow ? true : (pageLinks && pageLinks.length > 1)">\n            <a href="#" class="ui-paginator-first ui-paginator-element ui-state-default ui-corner-all"\n                    (click)="changePageToFirst($event)" [ngClass]="{\'ui-state-disabled\':isFirstPage()}" [tabindex]="isFirstPage() ? -1 : null">\n                <span class="fa fa-step-backward"></span>\n            </a>\n            <a href="#" class="ui-paginator-prev ui-paginator-element ui-state-default ui-corner-all"\n                    (click)="changePageToPrev($event)" [ngClass]="{\'ui-state-disabled\':isFirstPage()}" [tabindex]="isFirstPage() ? -1 : null">\n                <span class="fa fa-backward"></span>\n            </a>\n            <span class="ui-paginator-pages">\n                <a href="#" *ngFor="let pageLink of pageLinks" class="ui-paginator-page ui-paginator-element ui-state-default ui-corner-all"\n                    (click)="onPageLinkClick($event, pageLink - 1)" [ngClass]="{\'ui-state-active\': (pageLink-1 == getPage())}">{{pageLink}}</a>\n            </span>\n            <a href="#" class="ui-paginator-next ui-paginator-element ui-state-default ui-corner-all"\n                    (click)="changePageToNext($event)" [ngClass]="{\'ui-state-disabled\':isLastPage()}" [tabindex]="isLastPage() ? -1 : null">\n                <span class="fa fa-forward"></span>\n            </a>\n            <a href="#" class="ui-paginator-last ui-paginator-element ui-state-default ui-corner-all"\n                    (click)="changePageToLast($event)" [ngClass]="{\'ui-state-disabled\':isLastPage()}" [tabindex]="isLastPage() ? -1 : null">\n                <span class="fa fa-step-forward"></span>\n            </a>\n            <select class="ui-paginator-rpp-options ui-widget ui-state-default" *ngIf="rowsPerPageOptions" (change)="onRppChange($event)">\n                <option *ngFor="let opt of rowsPerPageOptions" [value]="opt" [selected]="rows == opt">{{opt}}</option>\n            </select>\n        </div>\n    '})],a),e.Paginator=a;var l=function(){function t(){}return t}();l=n([r.NgModule({imports:[s.CommonModule],exports:[a],declarations:[a]})],l),e.PaginatorModule=l},function(t,e){!function(e){function i(t,e,i){Kh.nc(this),this.cC=t,this.Sb=e,this.aH=i}function n(){this.aC=[]}function o(){}function r(t){void 0===t&&(t=42),this.seed=t,this.vy=48271,this.Uu=2147483647,this.MB=this.Uu/this.vy,this.IG=this.Uu%this.vy,this.HG=1/this.Uu,this.random()}function s(){}function a(t){this.key=-1,this.value=t}function l(t,e){this.ml=t,this.nl=e,this.Wu=!1}function h(t){this.xc=t,this.$h=null,t.Qb=null,this.Sa=t.F,this.wc=-1}function u(t){this.xc=t,t.Oi=null,this.Sa=t.F,this.wc=t.n.length}function c(t){Kh.nc(this),this.P=!1,this.n=[],this.F=0,this.Oi=this.Qb=null,void 0===t||null===t?this.na=null:"string"==typeof t?"object"===t||"string"===t||"number"===t||"boolean"===t||"function"===t?this.na=t:Kh.Fa(t,"the string 'object', 'number', 'string', 'boolean', or 'function'","List constructor: type"):"function"==typeof t?this.na=t===Object?"object":t===String?"string":t===Number?"number":t===Boolean?"boolean":t===Function?"function":t:Kh.Fa(t,"null, a primitive type name, or a class type","List constructor: type")}function d(t){this.bi=t,t.Qb=null,this.Sa=t.F,this.Va=null}function p(t){Kh.nc(this),this.P=!1,void 0===t||null===t?this.na=null:"string"==typeof t?"object"===t||"string"===t||"number"===t?this.na=t:Kh.Fa(t,"the string 'object', 'number' or 'string'","Set constructor: type"):"function"==typeof t?this.na=t===Object?"object":t===String?"string":t===Number?"number":t:Kh.Fa(t,"null, a primitive type name, or a class type","Set constructor: type"),this.qd={},this.pd=0,this.Qb=null,this.F=0,this.Uh=this.Ea=null}function f(t){this.Ga=t,this.Sa=t.F,this.Va=null}function y(t){Kh.nc(this),this.P=!0,this.Ga=t}function g(t){this.Ga=t,t.Pi=null,this.Sa=t.F,this.Va=null}function v(t,e){this.key=t,this.value=e,this.ep=this.Xa=null}function m(t){this.Ga=t,t.Qb=null,this.Sa=t.F,this.Va=null}function b(t,e){Kh.nc(this),this.P=!1,void 0===t||null===t?this.Th=null:"string"==typeof t?"object"===t||"string"===t||"number"===t?this.Th=t:Kh.Fa(t,"the string 'object', 'number' or 'string'","Map constructor: keytype"):"function"==typeof t?this.Th=t===Object?"object":t===String?"string":t===Number?"number":t:Kh.Fa(t,"null, a primitive type name, or a class type","Map constructor: keytype"),void 0===e||null===e?this.st=null:"string"==typeof e?"object"===e||"string"===e||"boolean"===e||"number"===e||"function"===e?this.st=e:Kh.Fa(e,"the string 'object', 'number', 'string', 'boolean', or 'function'","Map constructor: valtype"):"function"==typeof e?this.st=e===Object?"object":e===String?"string":e===Number?"number":e===Boolean?"boolean":e===Function?"function":e:Kh.Fa(e,"null, a primitive type name, or a class type","Map constructor: valtype"),this.qd={},this.pd=0,this.Pi=this.Qb=null,this.F=0,this.Uh=this.Ea=null}function w(t,e){void 0===t?this.y=this.x=0:(this.x=t,this.y=e)}function x(t,e){if(0===t)return 0<e?90:0>e?270:0;if(0===e)return 0<t?0:180;if(isNaN(t)||isNaN(e))return 0;var i=180*Math.atan(Math.abs(e/t))/Math.PI;return 0>t?i=0>e?i+180:180-i:0>e&&(i=360-i),i}function C(t,e){return e.pi(t),t}function k(t,e){void 0===t?this.height=this.width=0:(this.width=t,this.height=e)}function S(t,e,i,n){void 0===t?this.height=this.width=this.y=this.x=0:t instanceof w?e instanceof w?(this.x=Math.min(t.x,e.x),this.y=Math.min(t.y,e.y),this.width=Math.abs(t.x-e.x),this.height=Math.abs(t.y-e.y)):e instanceof k?(this.x=t.x,this.y=t.y,this.width=e.width,this.height=e.height):Kh.k("Incorrect arguments supplied to Rect constructor"):(this.x=t,this.y=e,this.width=i,this.height=n)}function M(t,e,i){t.width=e,t.height=i}function T(t,e){return Y(t.x,e.x)&&Y(t.y,e.y)&&Y(t.width,e.width)&&Y(t.height,e.height)}function E(t,e,i,n,o){var r=t.width;return i+o<=-r?(t.x+=r/2,t.width=0):(t.x-=o,t.width+=i+o),i=t.height,e+n<=-i?(t.y+=i/2,t.height=0):(t.y-=e,t.height+=e+n),t}function I(t,e,i,n,o){var r=Math.max(t.x,e),s=Math.max(t.y,i);return e=Math.min(t.x+t.width,e+n),i=Math.min(t.y+t.height,i+o),t.x=r,t.y=s,t.width=Math.max(0,e-r),t.height=Math.max(0,i-s),t}function P(t,e){var i=t.width,n=e.width+10+10,o=t.x,r=e.x-10;return!(o>n+r||r>i+o)&&(i=t.height,n=e.height+10+10,o=t.y,r=e.y-10,!(o>n+r||r>i+o))}function D(t,e,i,n,o){var r=Math.min(t.x,e),s=Math.min(t.y,i);return e=Math.max(t.x+t.width,e+n),i=Math.max(t.y+t.height,i+o),t.x=r,t.y=s,t.width=e-r,t.height=i-s,t}function O(t,e,i,n){void 0===t?this.left=this.bottom=this.right=this.top=0:void 0===e?this.left=this.bottom=this.right=this.top=t:void 0===i?(n=e,this.top=t,this.right=e,this.bottom=t,this.left=n):void 0!==n?(this.top=t,this.right=e,this.bottom=i,this.left=n):Kh.k("Invalid arguments to Margin constructor")}function L(){this.m11=1,this.m21=this.m12=0,this.m22=1,this.dy=this.dx=0}function N(t,e,i,n){void 0===t?this.offsetY=this.offsetX=this.y=this.x=0:(void 0===e&&(e=0),void 0===i&&(i=0),void 0===n&&(n=0),this.x=t,this.y=e,this.offsetX=i,this.offsetY=n)}function j(t,e){return t.x=NaN,t.y=NaN,t.offsetX=e,t}function R(){this.Ub=[1,0,0,1,0,0]}function F(t){this.type=t,this.r2=this.y2=this.x2=this.r1=this.y1=this.x1=0,this.wE=[],this.pattern=null}function A(t,e,i){this.fillStyle="#000000",this.font="10px sans-serif",this.globalAlpha=1,this.lineCap="butt",this.In=0,this.lineJoin="miter",this.lineWidth=1,this.miterLimit=10,this.shadowBlur=0,this.shadowColor="rgba(0, 0, 0, 0)",this.shadowOffsetY=this.shadowOffsetX=0,this.strokeStyle="#000000",this.textAlign="start",this.Gp=!1,this.Fg=this.at=this.$s=0,this.document=e||document,this.KE=i,this.Ex=null,this.path=[],this.wh=new R,this.stack=[],this.nf=[],this.ix=t,this.fJ="http://www.w3.org/2000/svg",this.width=this.ix.width,this.height=this.ix.height,this.jm=B(this,"svg",{width:this.width+"px",height:this.height+"px",viewBox:"0 0 "+this.ix.width+" "+this.ix.height}),this.jm.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns","http://www.w3.org/2000/svg"),this.jm.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xlink","http://www.w3.org/1999/xlink"),_(this,1,0,0,1,0,0),t=Kh.pm++,e=B(this,"clipPath",{id:"mainClip"+t}),e.appendChild(B(this,"rect",{x:0,y:0,width:this.width,height:this.height})),this.jm.appendChild(e),this.nf[0].setAttributeNS(null,"clip-path","url(#mainClip"+t+")")}function B(t,e,i,n){if(t=t.document.createElementNS(t.fJ,e),Kh.Pa(i))for(var o in i)t.setAttributeNS("href"===o?"http://www.w3.org/1999/xlink":"",o,i[o]);return void 0!==n&&(t.textContent=n),t}function V(t,e,i,n,o){1!==t.globalAlpha&&(i.opacity=t.globalAlpha),"fill"===e?(t.fillStyle instanceof F?i.fill=H(t,t.fillStyle):(/^rgba\(/.test(t.fillStyle)&&(e=/^\s*rgba\s*\(([^,\s]+)\s*,\s*([^,\s]+)\s*,\s*([^,\s]+)\s*,\s*([^,\s]+)\)\s*$/i.exec(t.fillStyle),i.fill="rgb("+e[1]+","+e[2]+","+e[3]+")",i["fill-opacity"]=e[4]),i.fill=t.fillStyle),i.stroke="none"):"stroke"===e&&(i.fill="none",t.strokeStyle instanceof F?i.stroke=H(t,t.strokeStyle):(/^rgba\(/.test(t.strokeStyle)&&(e=/^\s*rgba\s*\(([^,\s]+)\s*,\s*([^,\s]+)\s*,\s*([^,\s]+)\s*,\s*([^,\s]+)\)\s*$/i.exec(t.strokeStyle),i.stroke="rgb("+e[1]+","+e[2]+","+e[3]+")",i["stroke-opacity"]=e[4]),i.stroke=t.strokeStyle),i["stroke-width"]=t.lineWidth,i["stroke-linecap"]=t.lineCap,i["stroke-linejoin"]=t.lineJoin,i["stroke-miterlimit"]=t.miterLimit),t=n.Ub,t="matrix("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+")",void 0!==o&&(t+=o),i.transform=t}function H(t,e){var i,n="GRAD"+Kh.pm++;if("linear"===e.type)i=B(t,"linearGradient",{x1:e.x1,x2:e.x2,y1:e.y1,y2:e.y2,id:n,gradientUnits:"userSpaceOnUse"});else if("radial"===e.type)i=B(t,"radialGradient",{x1:e.x1,x2:e.x2,y1:e.y1,y2:e.y2,r1:e.r1,r2:e.r2,id:n});else{if("pattern"!==e.type)throw Error("invalid gradient");var o=e.pattern;i={width:o.width,height:o.height,id:n,patternUnits:"userSpaceOnUse"};var r="";o instanceof HTMLCanvasElement&&(r=o.toDataURL()),o instanceof HTMLImageElement&&(r=o.src),o={x:0,y:0,width:o.width,height:o.height,href:r},i=B(t,"pattern",i),i.appendChild(B(t,"image",o))}for(var o=e.wE,r=o.length,s=[],a=0;a<r;a++){var l=o[a],h=l.color,l={offset:l.offset,"stop-color":h};/^rgba\(/.test(h)&&(h=/^\s*rgba\s*\(([^,\s]+)\s*,\s*([^,\s]+)\s*,\s*([^,\s]+)\s*,\s*([^,\s]+)\)\s*$/i.exec(h),l["stop-color"]="rgb("+h[1]+","+h[2]+","+h[3]+")",l["stop-opacity"]=h[4]),s.push(l)}for(s.sort(function(t,e){return t.offset>e.offset?1:-1}),a=0;a<r;a++)i.appendChild(B(t,"stop",s[a]));return t.jm.appendChild(i),"url(#"+n+")"}function z(t,e,i,n){i={x:i[0],y:i[1],width:i[2],height:i[3]},V(t,e,i,n),t.addElement("rect",i)}function q(t,e,i,n){for(var o=[],r=0;r<i.length;r++){var s=Kh.Ml(i[r]),a=[s.shift()];if("A"===a[0])a.push(s.shift()+","+s.shift(),s.shift(),s.shift()+","+s.shift(),s.shift()+","+s.shift());else for(;s.length;)a.push(s.shift()+","+s.shift());o.push(a.join(" "))}i={d:o.join(" ")},V(t,e,i,n),"clipPath"===e?(e="CLIP"+Kh.pm++,n=B(t,"clipPath",{id:e}),n.appendChild(B(t,"path",i)),t.jm.appendChild(n),0<t.nf.length&&t.nf[t.nf.length-1].setAttributeNS(null,"clip-path","url(#"+e+")")):t.addElement("path",i)}function G(t,e,i,n,o,r,s){var a=Math.abs(o-r);if(o!==r){var l=e+n*Math.cos(r);r=i+n*Math.sin(r),a>=2*Math.PI?(G(t,e,i,n,o,o+Math.PI,s),G(t,e,i,n,o+Math.PI,o+2*Math.PI,s),t.path.push(["M",l,r])):(e+=n*Math.cos(o),i+=n*Math.sin(o),a=180*a/Math.PI,o=s?0:1,s=180<=a==!!s?0:1,0!==t.path.length?t.path.push(["L",e,i]):t.path.push(["M",e,i]),t.path.push(["A",n,n,a,s,o,l,r]))}}function _(t,e,i,n,o,r,s){var a=new R;a.Ub=[e,i,n,o,r,s],e={},V(t,"g",e,a),a=t.addElement("g",e),t.nf.push(a)}function U(t,e){this.ownerDocument=void 0===e?document:e;var i=this.ownerDocument.createElement("canvas");i.tabIndex=0,this.Kd=i,this.xk=new K(i),i.fa=t,Object.seal(this)}function K(t){t.getContext&&t.getContext("2d")||Kh.k("Browser does not support HTML Canvas Element"),this.ua=t.getContext("2d"),this.Hy=this.Jy=this.Iy="",this.Sq=!1,this.Fg=this.at=this.$s=0,Object.seal(this)}function $(t){if(0>=t)return 0;var e=ec;if(null===e){for(var e=[],i=0;2e3>=i;i++)e[i]=Math.sqrt(i);ec=e}return 1>t?(i=1/t,2e3>=i?1/e[0|i]:Math.sqrt(t)):2e3>=t?e[0|t]:Math.sqrt(t)}function W(t,e){var i=t-e;return.5>i&&-.5<i}function Y(t,e){var i=t-e;return 5e-8>i&&-5e-8<i}function J(t,e,i,n,o,r,s){0>=o&&(o=1e-6);var a=0,l=0,h=0,u=0;if(t<i?(l=t,a=i):(l=i,a=t),e<n?(u=e,h=n):(u=n,h=e),t===i)return u<=s&&s<=h&&t-o<=r&&r<=t+o;if(e===n)return l<=r&&r<=a&&e-o<=s&&s<=e+o;if(a+=o,(l-=o)<=r&&r<=a&&(h+=o,(u-=o)<=s&&s<=h))if(a-l>h-u){if(!(t-i>o||i-t>o))return!0;if((r=(n-e)/(i-t)*(r-t)+e)-o<=s&&s<=r+o)return!0}else{if(!(e-n>o||n-e>o))return!0;if((s=(i-t)/(n-e)*(s-e)+t)-o<=r&&r<=s+o)return!0}return!1}function X(t,e,i,n,o,r,s,a,l,h,u,c){if(J(t,e,s,a,c,i,n)&&J(t,e,s,a,c,o,r))return J(t,e,s,a,c,h,u);var d=(t+i)/2,p=(e+n)/2,f=(i+o)/2,y=(n+r)/2;o=(o+s)/2,r=(r+a)/2,n=(d+f)/2,i=(p+y)/2;var f=(f+o)/2,y=(y+r)/2,g=(n+f)/2,v=(i+y)/2;return X(t,e,d,p,n,i,g,v,l,h,u,c)||X(g,v,f,y,o,r,s,a,l,h,u,c)}function Q(t,e,i,n,o,r,s,a,l,h){if(J(t,e,s,a,l,i,n)&&J(t,e,s,a,l,o,r))D(h,t,e,0,0),D(h,s,a,0,0);else{var u=(t+i)/2,c=(e+n)/2,d=(i+o)/2,p=(n+r)/2;o=(o+s)/2,r=(r+a)/2,n=(u+d)/2,i=(c+p)/2;var d=(d+o)/2,p=(p+r)/2,f=(n+d)/2,y=(i+p)/2;Q(t,e,u,c,n,i,f,y,l,h),Q(f,y,d,p,o,r,s,a,l,h)}}function Z(t,e,i,n,o,r,s,a,l,h){if(J(t,e,s,a,l,i,n)&&J(t,e,s,a,l,o,r))0===h.length&&(h.push(t),h.push(e)),h.push(s),h.push(a);else{var u=(t+i)/2,c=(e+n)/2,d=(i+o)/2,p=(n+r)/2;o=(o+s)/2,r=(r+a)/2,n=(u+d)/2,i=(c+p)/2;var d=(d+o)/2,p=(p+r)/2,f=(n+d)/2,y=(i+p)/2;Z(t,e,u,c,n,i,f,y,l,h),Z(f,y,d,p,o,r,s,a,l,h)}}function tt(t,e,i,n,o,r,s,a,l,h,u,c,d,p){var f=1-l;t=t*f+i*l,e=e*f+n*l,i=i*f+o*l,n=n*f+r*l,o=o*f+s*l,r=r*f+a*l,a=t*f+i*l,s=e*f+n*l,i=i*f+o*l,n=n*f+r*l,h.x=t,h.y=e,u.x=a,u.y=s,c.x=a*f+i*l,c.y=s*f+n*l,d.x=i,d.y=n,p.x=o,p.y=r}function et(t,e,i,n,o,r,s,a,l,h){if(J(t,e,o,r,h,i,n))return J(t,e,o,r,h,a,l);var u=(t+i)/2,c=(e+n)/2;i=(i+o)/2,n=(n+r)/2;var d=(u+i)/2,p=(c+n)/2;return et(t,e,u,c,d,p,s,a,l,h)||et(d,p,i,n,o,r,s,a,l,h)}function it(t,e,i,n,o,r,s,a){if(J(t,e,o,r,s,i,n))D(a,t,e,0,0),D(a,o,r,0,0);else{var l=(t+i)/2,h=(e+n)/2;i=(i+o)/2,n=(n+r)/2;var u=(l+i)/2,c=(h+n)/2;it(t,e,l,h,u,c,s,a),it(u,c,i,n,o,r,s,a)}}function nt(t,e,i,n,o,r,s,a){if(J(t,e,o,r,s,i,n))0===a.length&&(a.push(t),a.push(e)),a.push(o),a.push(r);else{var l=(t+i)/2,h=(e+n)/2;i=(i+o)/2,n=(n+r)/2;var u=(l+i)/2,c=(h+n)/2;nt(t,e,l,h,u,c,s,a),nt(u,c,i,n,o,r,s,a)}}function ot(t,e,i,n,o,r,s,a,l,h,u,c,d,p){if(0>=d&&(d=1e-6),J(t,e,s,a,d,i,n)&&J(t,e,s,a,d,o,r)){var f=(t-s)*(h-c)-(e-a)*(l-u);if(0===f)return!1;if(d=((t*a-e*s)*(l-u)-(t-s)*(l*c-h*u))/f,f=((t*a-e*s)*(h-c)-(e-a)*(l*c-h*u))/f,(l>u?l-u:u-l)<(h>c?h-c:c-h)){if(s=l=0,e<a?(l=e,s=a):(l=a,s=e),f<l||f>s)return!1}else if(t<s?l=t:(l=s,s=t),d<l||d>s)return!1;return p.x=d,p.y=f,!0}var f=(t+i)/2,y=(e+n)/2;i=(i+o)/2,n=(n+r)/2,o=(o+s)/2,r=(r+a)/2;var g=(f+i)/2,v=(y+n)/2;i=(i+o)/2,n=(n+r)/2;var m=(g+i)/2,b=(v+n)/2,w=(u-l)*(u-l)+(c-h)*(c-h),x=!1;return ot(t,e,f,y,g,v,m,b,l,h,u,c,d,p)&&(e=(p.x-l)*(p.x-l)+(p.y-h)*(p.y-h))<w&&(w=e,x=!0),t=p.x,f=p.y,ot(m,b,i,n,o,r,s,a,l,h,u,c,d,p)&&(e=(p.x-l)*(p.x-l)+(p.y-h)*(p.y-h),e<w?x=!0:(p.x=t,p.y=f)),x}function rt(t,e,i,n,o,r,s,a,l,h,u,c,d){var p=0;if(0>=d&&(d=1e-6),J(t,e,s,a,d,i,n)&&J(t,e,s,a,d,o,r)){if(0===(d=(t-s)*(h-c)-(e-a)*(l-u)))return p;var f=((t*a-e*s)*(l-u)-(t-s)*(l*c-h*u))/d,y=((t*a-e*s)*(h-c)-(e-a)*(l*c-h*u))/d;if(f>=u)return p;if((l>u?l-u:u-l)<(h>c?h-c:c-h)){if(t=l=0,e<a?(l=e,t=a):(l=a,t=e),y<l||y>t)return p}else if(t<s?(l=t,t=s):l=s,f<l||f>t)return p;0<d?p++:0>d&&p--}else{var f=(t+i)/2,y=(e+n)/2,g=(i+o)/2,v=(n+r)/2;o=(o+s)/2,r=(r+a)/2,n=(f+g)/2,i=(y+v)/2;var g=(g+o)/2,v=(v+r)/2,m=(n+g)/2,b=(i+v)/2,p=p+rt(t,e,f,y,n,i,m,b,l,h,u,c,d),p=p+rt(m,b,g,v,o,r,s,a,l,h,u,c,d)}return p}function st(t,e,i,n,o,r,s){if(Y(t,i)){var a=0;return i=0,(e<n?(a=e,i=n):(a=n,i=e),(n=r)<a)?(s.x=t,s.y=a,!1):n>i?(s.x=t,s.y=i,!1):(s.x=t,s.y=n,!0)}return Y(e,n)?(t<i?a=t:(a=i,i=t),(n=o)<a?(s.x=a,s.y=e,!1):n>i?(s.x=i,s.y=e,!1):(s.x=n,s.y=e,!0)):-5e-6>(a=((t-o)*(t-i)+(e-r)*(e-n))/((i-t)*(i-t)+(n-e)*(n-e)))?(s.x=t,s.y=e,!1):1.000005<a?(s.x=i,s.y=n,!1):(s.x=t+a*(i-t),s.y=e+a*(n-e),!0)}function at(t,e,i,n,o,r,s,a,l){return W(t,i)&&W(e,n)?(l.x=t,l.y=e,!1):Y(o,s)?Y(t,i)?(st(t,e,i,n,o,r,l),!1):(r=(n-e)/(i-t)*(o-t)+e,st(t,e,i,n,o,r,l)):(a=(a-r)/(s-o),Y(t,i)?(r=a*(t-o)+r,i=s=0,e<n?(s=e,i=n):(s=n,i=e),r<s?(l.x=t,l.y=s,!1):r>i?(l.x=t,l.y=i,!1):(l.x=t,l.y=r,!0)):(s=(n-e)/(i-t),Y(a,s)?(st(t,e,i,n,o,r,l),!1):(o=(s*t-a*o+r-e)/(s-a),Y(s,0)?(t<i?s=t:(s=i,i=t),o<s?(l.x=s,l.y=e,!1):o>i?(l.x=i,l.y=e,!1):(l.x=o,l.y=e,!0)):(r=s*(o-t)+e,st(t,e,i,n,o,r,l)))))}function lt(t,e,i,n,o,r,s,a,l){var h=1e21,u=t,c=e;if(at(t,e,t,n,o,r,s,a,l)){var d=(l.x-o)*(l.x-o)+(l.y-r)*(l.y-r);d<h&&(h=d,u=l.x,c=l.y)}return at(i,e,i,n,o,r,s,a,l)&&(d=(l.x-o)*(l.x-o)+(l.y-r)*(l.y-r))<h&&(h=d,u=l.x,c=l.y),at(t,e,i,e,o,r,s,a,l)&&(d=(l.x-o)*(l.x-o)+(l.y-r)*(l.y-r))<h&&(h=d,u=l.x,c=l.y),at(t,n,i,n,o,r,s,a,l)&&(d=(l.x-o)*(l.x-o)+(l.y-r)*(l.y-r))<h&&(h=d,u=l.x,c=l.y),l.x=u,l.y=c,1e21>h}function ht(t,e,i,n,o,r,s,a,l){i=t-i;var h=o-s,u=s=0;return 0===i||0===h?0===i?(a=(r-a)/h,s=t,u=a*s+(r-a*o)):(n=(e-n)/i,s=o,u=n*s+(e-n*t)):(n=(e-n)/i,a=(r-a)/h,t=e-n*t,s=(r-a*o-t)/(n-a),u=n*s+t),l.m(s,u),l}function ut(t,e,i){var n=e.x,o=e.y,r=i.x,s=i.y,a=t.left,l=t.right,h=t.top,u=t.bottom;return n===r?(r=t=0,o<s?(t=o,r=s):(t=s,r=o),a<=n&&n<=l&&t<=u&&r>=h):o===s?(n<r?t=n:(t=r,r=n),h<=o&&o<=u&&t<=l&&r>=a):!!(t.Ia(e)||t.Ia(i)||ct(a,h,l,h,n,o,r,s)||ct(l,h,l,u,n,o,r,s)||ct(l,u,a,u,n,o,r,s)||ct(a,u,a,h,n,o,r,s))}function ct(t,e,i,n,o,r,s,a){return 0>=dt(t,e,i,n,o,r)*dt(t,e,i,n,s,a)&&0>=dt(o,r,s,a,t,e)*dt(o,r,s,a,i,n)}function dt(t,e,i,n,o,r){return i-=t,n-=e,t=o-t,e=r-e,r=t*n-e*i,0===r&&0<(r=t*i+e*n)&&0>(r=(t-i)*i+(e-n)*n)&&(r=0),0>r?-1:0<r?1:0}function pt(t){return 0>t&&(t+=360),360<=t&&(t-=360),t}function ft(t,e,i,n){var o=Math.PI;n||(e*=o/180,i*=o/180),n=e<i?1:-1;var r=[],s=o/2,a=e;for(e=Math.min(2*o,Math.abs(i-e));1e-5<e;){i=a+n*Math.min(e,s);var o=(i-a)/2,l=t*Math.cos(o),h=t*Math.sin(o),u=-h,c=l*l+u*u,d=c+l*l+u*h,c=4/3*(Math.sqrt(2*c*d)-d)/(l*h-u*l),h=l-c*u,l=u+c*l,u=-l,c=o+a,o=Math.cos(c),c=Math.sin(c);r.push([0+t*Math.cos(a),0+t*Math.sin(a),0+h*o-l*c,0+h*c+l*o,0+h*o-u*c,0+h*c+u*o,0+t*Math.cos(i),0+t*Math.sin(i)]),e-=Math.abs(i-a),a=i}return r}function yt(t,e,i,n,o,r,s){i=Math.floor((t-i)/o)*o+i,n=Math.floor((e-n)/r)*r+n;var a=i;i+o-t<o/2&&(a=i+o),t=n,n+r-e<r/2&&(t=n+r),s.m(a,t)}function gt(t,e){var i=Math.max(t,e),n=Math.min(t,e),o=1,r=1;do{o=i%n,i=r=n,n=o}while(0<o);return r}function vt(t,e,i,n){var o=0>i,r=0>n,s=0,a=s=0;t<e?(s=1,a=0):(s=0,a=1);var l=0,h=0,u=0,c=0,l=0===s?t:e,u=0===s?i:n;if((0===s?o:r)&&(u=-u),s=a,h=0===s?t:e,c=0===s?i:n,(0===s?o:r)&&(c=-c),t=t=0,0<c)if(0<u){for(e=l*l,t=h*h,l*=u,i=h*c,n=-t+i,o=-t+Math.sqrt(l*l+i*i),h=n,r=0;9999999999>r&&((h=.5*(n+o))!==n&&h!==o);++r)if(a=l/(h+e),s=i/(h+t),0<(a=a*a+s*s-1))n=h;else{if(!(0>a))break;o=h}u=e*u/(h+e)-u,c=t*c/(h+t)-c,t=Math.sqrt(u*u+c*c)}else t=Math.abs(c-h);else c=l*l-h*h,t=l*u,t<c?(c=t/c,t=h*Math.sqrt(Math.abs(1-c*c)),u=l*c-u,t=Math.sqrt(u*u+t*t)):t=Math.abs(u-l);return t}function mt(t){1<arguments.length&&Kh.k("Geometry constructor can take at most one optional argument, the Geometry type."),Kh.nc(this),this.P=!1,void 0===t&&(t=rc),this.na=t,this.Gb=this.yb=this.Jc=this.zc=0,this.Oj=new c(Tt),this.Av=this.Oj.F,this.kv=(new S).freeze(),this.fb=!0,this.Hq=this.jo=null,this.Iq=NaN,this.hi=iu,this.ii=uu,this.Lo=this.No=NaN,this.Gi=Ad}function bt(t,e){if(t.type!==ic||e.type!==rc)return!1;if(1===e.fc.count){var i=e.fc.da(0);if(1===i.vb.count&&W(t.ha,i.ha)&&W(t.ea,i.ea)&&(i=i.vb.da(0),i.type===hc&&W(t.C,i.C)&&W(t.D,i.D)))return!0}return!1}function wt(t,e){for(var i=t.length,n=Kh.K(),o=0;o<i;o++){var r=t[o];n.x=r[0],n.y=r[1],e.nb(n),r[0]=n.x,r[1]=n.y,n.x=r[2],n.y=r[3],e.nb(n),r[2]=n.x,r[3]=n.y,n.x=r[4],n.y=r[5],e.nb(n),r[4]=n.x,r[5]=n.y,n.x=r[6],n.y=r[7],e.nb(n),r[6]=n.x,r[7]=n.y}Kh.v(n)}function xt(t,e,i){switch(t.type){case ic:case nc:case oc:i?e.m(t.zc,t.Jc,0,0):D(e,t.zc,t.Jc,0,0),D(e,t.yb,t.Gb,0,0);break;case rc:var n=t.fc;t=n.n;for(var n=n.length,o=0;o<n;o++){var r=t[o];i&&0===o?e.m(r.ha,r.ea,0,0):D(e,r.ha,r.ea,0,0);for(var s=r.vb.n,a=s.length,l=r.ha,h=r.ea,u=0;u<a;u++){var c=s[u];switch(c.type){case hc:case lc:l=c.C,h=c.D,D(e,l,h,0,0);break;case uc:Q(l,h,c.uc,c.Qc,c.Ch,c.Dh,c.C,c.D,.5,e),l=c.C,h=c.D;break;case cc:it(l,h,c.uc,c.Qc,c.C,c.D,.5,e),l=c.C,h=c.D;break;case dc:case pc:var d=c.type===dc?It(c,r):Pt(c,r,l,h),p=d.length;if(0===p){l=c.la,h=c.ra,D(e,l,h,0,0);break}for(var c=null,f=0;f<p;f++)c=d[f],Q(c[0],c[1],c[2],c[3],c[4],c[5],c[6],c[7],.5,e);null!==c&&(l=c[6],h=c[7]);break;default:Kh.k("Unknown Segment type: "+c.type)}}}break;default:Kh.k("Unknown Geometry type: "+t.type)}}function Ct(t,e,i,n,o,r,s,a){if(J(o,r,s,a,.05,t,e))return NaN;var l=(t-i)*(r-a);if(0===l)return 0;var h=((t*n-e*i)*(o-s)-(t-i)*(o*a-r*s))/l;if(e=(t*n-e*i)*(r-a)/l,h>=t)return 0;if((o>s?o-s:s-o)<(r>a?r-a:a-r)){if(o=t=0,r<a?(t=r,o=a):(t=a,o=r),e<t||e>o)return 0}else if(o<s?(t=o,o=s):t=s,h<t||h>o)return 0;return 0<l?1:-1}function kt(t,e,i,n){t=t.fc.n;for(var o=t.length,r=0;r<o;r++)if(t[r].Ia(e,i,n))return!0;return!1}function St(t){if(null===t.jo){t.zx()&&t.sy();var e=t.jo=[],i=t.Hq=[],n=[],o=[];if(t.type===ic)n.push(t.ha),n.push(t.ea),n.push(t.C),n.push(t.D),e.push(n),o.push(Math.sqrt((t.ha-t.C)*(t.ha-t.C)+(t.ea-t.D)*(t.ea-t.D))),i.push(o);else if(t.type===nc)n.push(t.ha),n.push(t.ea),n.push(t.C),n.push(t.ea),n.push(t.C),n.push(t.D),n.push(t.ha),n.push(t.D),n.push(t.ha),n.push(t.ea),e.push(n),o.push(Math.abs(t.ha-t.C)),o.push(Math.abs(t.ea-t.D)),o.push(Math.abs(t.ha-t.C)),o.push(Math.abs(t.ea-t.D)),i.push(o);else if(t.type===oc){var r=new Tt;r.ha=t.C,r.ea=(t.ea+t.D)/2;var s=new Et(dc);if(s.ze=0,s.sf=360,s.la=(t.ha+t.C)/2,s.ra=(t.ea+t.D)/2,s.radiusX=Math.abs(t.ha-t.C)/2,s.radiusY=Math.abs(t.ea-t.D)/2,r.add(s),t=It(s,r),0===(o=t.length))n.push(s.la),n.push(s.ra);else for(var s=r.ha,r=r.ea,a=0;a<o;a++){var l=t[a];Z(s,r,l[2],l[3],l[4],l[5],l[6],l[7],.5,n),s=l[6],r=l[7]}e.push(n),i.push(Mt(n))}else for(var h=t.fc.i;h.next();){var u=h.value,n=[];n.push(u.ha),n.push(u.ea);for(var s=u.ha,r=u.ea,c=s,d=r,p=u.vb.n,f=p.length,y=0;y<f;y++){var g=p[y];switch(g.na){case lc:4<=n.length&&(e.push(n),i.push(Mt(n))),n=[],n.push(g.C),n.push(g.D),s=g.C,r=g.D,c=s,d=r;break;case hc:n.push(g.C),n.push(g.D),s=g.C,r=g.D;break;case uc:Z(s,r,g.Fd,g.Ye,g.oh,g.Eg,g.yb,g.Gb,.5,n),s=g.C,r=g.D;break;case cc:nt(s,r,g.Fd,g.Ye,g.yb,g.Gb,.5,n),s=g.C,r=g.D;break;case dc:if(t=It(g,u),0===(o=t.length)){n.push(g.la),n.push(g.ra),s=g.la,r=g.ra;break}for(a=0;a<o;a++)l=t[a],Z(s,r,l[2],l[3],l[4],l[5],l[6],l[7],.5,n),s=l[6],r=l[7];break;case pc:if(t=Pt(g,u,s,r),0===(o=t.length)){n.push(g.la),n.push(g.ra),s=g.la,r=g.ra;break}for(a=0;a<o;a++)l=t[a],Z(s,r,l[2],l[3],l[4],l[5],l[6],l[7],.5,n),s=l[6],r=l[7];break;default:Kh.k("Segment not of valid type: "+g.na)}g.Sh&&(n.push(c),n.push(d))}4<=n.length&&(e.push(n),i.push(Mt(n)))}}}function Mt(t){for(var e=[],i=0,n=0,o=t.length,r=0;r<o;r+=2){var s=t[r],a=t[r+1];0!==r&&(i=Math.sqrt(Jh(i,n,s,a)),e.push(i)),i=s,n=a}return e}function Tt(t,e,i,n){Kh.nc(this),this.P=!1,void 0===i&&(i=!0),this.Fm=i,void 0===n&&(n=!0),this.Oo=n,this.zc=void 0!==t?t:0,this.Jc=void 0!==e?e:0,this.ip=new c(Et),this.yw=this.ip.F,this.fb=!0}function Et(t,e,i,n,o,r,s,a){Kh.nc(this),this.P=!1,void 0===t&&(t=hc),this.na=t,this.yb=void 0!==e?e:0,this.Gb=void 0!==i?i:0,void 0===n&&(n=0),void 0===o&&(o=0),void 0===r&&(r=0),void 0===s&&(s=0),t===pc?(t=r%360,0>t&&(t+=360),this.Fd=t,this.Ye=0,this.oh=Math.max(n,0),this.Eg=Math.max(o,0),this.So="boolean"==typeof s&&!!s,this.no=!!a):(this.Fd=n,this.Ye=o,t===dc&&(r=Math.max(r,0)),this.oh=r,"number"==typeof s?(t===dc&&(s=Math.max(s,0)),this.Eg=s):this.Eg=0,this.no=this.So=!1),this.Sh=!1,this.fb=!0,this.og=null}function It(t,e){if(null!==t.og&&!1===e.fb)return t.og;var i=t.radiusX,n=t.radiusY;if(void 0===n&&(n=i),0===i||0===n)return t.og=[],t.og;var o=t.Fd,r=t.Ye,s=ft(i<n?i:n,t.ze,t.ze+t.sf,!1);if(i!==n){var a=Kh.Jf();a.reset(),i<n?a.scale(1,n/i):a.scale(i/n,1),wt(s,a),Kh.we(a)}for(i=s.length,n=0;n<i;n++)a=s[n],a[0]+=o,a[1]+=r,a[2]+=o,a[3]+=r,a[4]+=o,a[5]+=r,a[6]+=o,a[7]+=r;return t.og=s,t.og}function Pt(t,e,i,n){function o(t,e,i,n){return(t*n<e*i?-1:1)*Math.acos((t*i+e*n)/(Math.sqrt(t*t+e*e)*Math.sqrt(i*i+n*n)))}if(null!==t.og&&!1===e.fb)return t.og;e=t.oh;var r=t.Eg;if(0===e||0===r)return t.og=[],t.og;var s=Math.PI/180*t.Fd,a=t.So,l=t.no,h=t.yb,u=t.Gb,c=Math.cos(s),d=Math.sin(s),p=c*(i-h)/2+d*(n-u)/2,s=-d*(i-h)/2+c*(n-u)/2,f=p*p/(e*e)+s*s/(r*r);return 1<f&&(e*=Math.sqrt(f),r*=Math.sqrt(f)),f=(a===l?-1:1)*Math.sqrt((e*e*r*r-e*e*s*s-r*r*p*p)/(e*e*s*s+r*r*p*p)),isNaN(f)&&(f=0),a=f*e*s/r,f=f*-r*p/e,isNaN(a)&&(a=0),isNaN(f)&&(f=0),i=(i+h)/2+c*a-d*f,n=(n+u)/2+d*a+c*f,u=o(1,0,(p-a)/e,(s-f)/r),c=(p-a)/e,h=(s-f)/r,p=(-p-a)/e,a=(-s-f)/r,s=o(c,h,p,a),p=(c*p+h*a)/(Math.sqrt(c*c+h*h)*Math.sqrt(p*p+a*a)),-1>=p?s=Math.PI:1<=p&&(s=0),!l&&0<s&&(s-=2*Math.PI),l&&0>s&&(s+=2*Math.PI),l=e>r?1:e/r,p=e>r?r/e:1,e=ft(e>r?e:r,u,u+s,!0),r=Kh.Jf(),r.reset(),r.translate(i,n),r.rotate(t.Fd,0,0),r.scale(l,p),wt(e,r),Kh.we(r),t.og=e,t.og}function Dt(){this.fa=null,this.Oz=new w(0,0).freeze(),this.Vy=new w(0,0).freeze(),this.hv=this.dw=0,this.iv=1,this.Tv="",this.Iw=this.wv=!1,this.tv=this.jv=0,this.Jj=this.Fv=this.Pv=!1,this.ur=null,this.Gw=0,this.Hg=this.Fw=null}function Ot(){this.fa=null,this.Sb="",this.mw=this.Dw=null,this.Pq=!1}function Lt(){this.Qq=yc,this.Wm=this.cw="",this.ss=this.ts=this.xs=this.ys=this.ws=this.fa=this.me=null}function Nt(t){1<arguments.length&&Kh.k("Model constructor can only take one optional argument, the Array of node data."),Kh.nc(this),this.er=this.Sb="",this.Ni=!1,this.sz={},this.De=[],this.Hc=new b(null,Object),this.fk="key",this.so=this.Wo=null,this.Wq=this.Xq=!1,this.Gq=null,this.Rm="category",this.Hi=new b(null,p),this.bk=null,this.dj=!1,this.Nz=null,this.ia=new se,void 0!==t&&(this.hg=t)}function jt(t){return',\n  "modelData": '+zt(t,t.Hk)}function Rt(t,e){var i=e.modelData;Kh.Pa(i)&&(t.Eu(i),t.Hk=i)}function Ft(t,e,i,n){if(e===i)return!0;if(typeof e!=typeof i||"function"==typeof e||"function"==typeof i)return!1;if(Array.isArray(e)&&Array.isArray(i)){if(n.ka(e)===i)return!0;if(n.add(e,i),e.length!==i.length)return!1;for(var o=0;o<e.length;o++)if(!Ft(t,e[o],i[o],n))return!1;return!0}if(Kh.Pa(e)&&Kh.Pa(i)){if(n.ka(e)===i)return!0;n.add(e,i);for(o in e){var r=e[o];if(!Vt(o,r)){var s=i[o];if(void 0===s||!Ft(t,r,s,n))return!1}}for(var a in i)if(s=i[a],!(Vt(a,s)||void 0!==(r=e[a])&&Ft(t,r,s,n)))return!1;return!0}return!1}function At(t,e,i){t[i]!==e[i]&&Kh.k("Model.computeJsonDifference: Model."+i+' is not the same in both models: "'+t[i]+'" and "'+e[i]+'"')}function Bt(t,e,i){void 0===i&&(i=!1);var o=Kh.Za(e);if(0>=o)return"[]";var r=new n;r.add("[ "),i&&1<o&&r.add("\n");for(var s=0;s<o;s++){var a=Kh.Ba(e,s);void 0!==a&&(0<s&&(r.add(","),i&&r.add("\n")),r.add(t.Tu(a)))}return i&&1<o&&r.add("\n"),r.add(" ]"),r.toString()}function Vt(t,e){return void 0===e||"__gohashid"===t||"_"===t[0]||"function"==typeof e}function Ht(t){return isNaN(t)?"NaN":1/0===t?"9e9999":-1/0===t?"-9e9999":t}function zt(t,e){var n=e;if(n instanceof w)e={class:"go.Point",x:Ht(n.x),y:Ht(n.y)};else if(n instanceof k)e={class:"go.Size",width:Ht(n.width),height:Ht(n.height)};else if(n instanceof S)e={class:"go.Rect",x:Ht(n.x),y:Ht(n.y),width:Ht(n.width),height:Ht(n.height)};else if(n instanceof O)e={class:"go.Margin",top:Ht(n.top),right:Ht(n.right),bottom:Ht(n.bottom),left:Ht(n.left)};else if(n instanceof N)e=n.Yc()?{class:"go.Spot",x:Ht(n.x),y:Ht(n.y),offsetX:Ht(n.offsetX),offsetY:Ht(n.offsetY)}:{class:"go.Spot",enum:n.toString()};else if(n instanceof wo){if(e={class:"go.Brush",type:n.type.name},n.type===gd?e.color=n.color:n.type!==vd&&n.type!==md||(e.start=n.start,e.end=n.end,n.type===md&&(0!==n.Pu&&(e.startRadius=Ht(n.Pu)),isNaN(n.Kt)||(e.endRadius=Ht(n.Kt)))),null!==n.uk){for(var o={},n=n.uk.i;n.next();)o[n.key]=n.value;e.colorStops=o}}else if(n instanceof mt)e={class:"go.Geometry",type:n.type.name},0!==n.ha&&(e.startX=Ht(n.ha)),0!==n.ea&&(e.startY=Ht(n.ea)),0!==n.C&&(e.endX=Ht(n.C)),0!==n.D&&(e.endY=Ht(n.D)),n.A.L(iu)||(e.spot1=n.A),n.B.L(uu)||(e.spot2=n.B),n.type===rc&&(e.path=sc(n));else if(n instanceof i)e={class:"go.EnumValue",classType:Kh.mf(n.Ee),name:n.name};else if(n instanceof Eo||n instanceof Vi||n instanceof Ri||n instanceof Nt||n instanceof pe||n instanceof le||n instanceof Ra||n instanceof Ba||n instanceof se||n instanceof re)return Kh.trace("ERROR: trying to convert a GraphObject or Diagram or Model or Tool or Layout or UndoManager into JSON text: "+n.toString()),"{}";var r,o="{",n=!0;for(r in e){var s=Kh.tb(e,r);if(!Vt(r,s))if(n?n=!1:o+=", ",o+='"'+r+'":',"points"===r&&s instanceof c&&s.na===w){for(var a="[",s=s.i;s.next();){var l=s.value;1<a.length&&(a+=","),a+=t.Tu(l.x),a+=",",a+=t.Tu(l.y)}a+="]",o+=a}else o+=t.Tu(s)}return o+"}"}function qt(t){return"number"==typeof t?t:"NaN"===t?NaN:"9e9999"===t?1/0:"-9e9999"===t?-1/0:parseFloat(t)}function Gt(t,e,i,n,o,r,s,a,l){void 0===a&&(a=null),void 0===l&&(l=null);var h=new Lt;h.$=t,h.Ac=i,h.rf=e,h.propertyName=n,h.object=o,h.oldValue=r,h.Aj=a,h.newValue=s,h.zj=l,t.Ww(h)}function _t(t,e,i){"string"!=typeof t&&"function"!=typeof t&&Kh.Bd(t,"string or function",e,i)}function Ut(t){return"number"==typeof t||"string"==typeof t}function Kt(t,e,i){var n=t.pb(e);void 0!==n&&t.Hc.ka(n)===e||(t.LA(e),n=t.pb(e),void 0===n?Kh.k("Model.makeNodeDataKeyUnique failed on "+e+".  Data not added to Model."):(t.Hc.add(n,e),n=null,i&&(n=Kh.Za(t.De),Kh.sh(t.De,n,e)),Gt(t,"nodeDataArray",gc,"nodeDataArray",t,null,e,null,n),t.kq(e),t.jq(e)))}function $t(t,e,i){var n=t.pb(e);if(void 0!==n&&t.Hc.remove(n),n=null,i){if(0>(n=Kh.Jl(t.De,e)))return;Kh.Kg(t.De,n)}Gt(t,"nodeDataArray",vc,"nodeDataArray",t,e,null,n,null),t.Su(e)}function Wt(t,e,i){if(void 0!==e){var n=t.Hi.ka(e);null===n&&(n=new p(Object),t.Hi.add(e,n)),n.add(i)}}function Yt(t,e,i){if(void 0!==e){var n=t.Hi.ka(e);n instanceof p&&(void 0===i||null===i?t.Hi.remove(e):(n.remove(i),0===n.count&&t.Hi.remove(e)))}}function Jt(t,e){if(void 0===e)return null;var i=t.Hi.ka(e);return i instanceof p?i:null}function Xt(t,e,i){if(t.dA&&Array.isArray(e)){var n=[];for(i=0;i<e.length;i++){var o=Xt(t,e[i],t.cA);n.push(o)}return Kh.nc(n),n}if(i&&Kh.Pa(e)){i=(i=e.constructor)?new i:{};for(n in e)if("__gohashid"!==n){var r,o=Kh.tb(e,n);r=o,r instanceof Eo||r instanceof Vi||r instanceof Ri||r instanceof Er||r instanceof wi||r instanceof pe||r instanceof le||r instanceof Ra||r instanceof Dt||r instanceof Ot?("_"!==n[0]&&Kh.trace('Warning: found GraphObject or Diagram reference when copying model data on property "'+n+'" of data object: '+e.toString()+"  \nModel data should not have any references to a Diagram or any part of a diagram, such as: "+r.toString()),r=!0):r=r instanceof Nt||r instanceof se||r instanceof re||r instanceof Lt,r||(o=Xt(t,o,!1)),Kh.La(i,n,o)}return Kh.nc(i),i}return e instanceof w?e.copy():e instanceof k?e.copy():e instanceof S?e.copy():e instanceof N?e.copy():e instanceof O?e.copy():e}function Qt(t,e){Nt.call(this),2<arguments.length&&Kh.k("GraphLinksModel constructor can only take two optional arguments, the Array of node data and the Array of link data."),this.hf=[],this.Ri=new p(Object),this.fd=new b(null,Object),this.ql="",this.um=this.ro=this.Xo=null,this.Vh="from",this.Wh="to",this.Nm=this.Mm="",this.Lm="category",this.Ag="",this.ap="isGroup",this.lh="group",this.Yq=!1,void 0!==t&&(this.hg=t),void 0!==e&&(this.Qg=e)}function Zt(t,e,i){if(""!==t.yj){var n=t.bf(e);if(void 0!==n&&t.fd.ka(n)===e)return;if(t.Lx(e),void 0===(n=t.bf(e)))return void Kh.k("GraphLinksModel.makeLinkDataKeyUnique failed on "+e+". Data not added to model.");t.fd.add(n,e)}t.Ri.add(e),n=null,i&&(n=Kh.Za(t.hf),Kh.sh(t.hf,n,e)),Gt(t,"linkDataArray",gc,"linkDataArray",t,null,e,null,n),ee(t,e)}function te(t,e,i){t.Ri.remove(e);var n=t.bf(e);if(void 0!==n&&t.fd.remove(n),n=null,i){if(0>(n=Kh.Jl(t.hf,e)))return;Kh.Kg(t.hf,n)}if(Gt(t,"linkDataArray",vc,"linkDataArray",t,e,null,n,null),i=t.Wl(e),Yt(t,i,e),i=t.Xl(e),Yt(t,i,e),n=t.Ck(e),Kh.isArray(n))for(var o=Kh.Za(n),r=0;r<o;r++)i=Kh.Ba(n,r),Yt(t,i,e)}function ee(t,e){var i=t.Wl(e),i=t.Ln(i);null===t.ve(i)&&Wt(t,i,e),i=t.Xl(e),i=t.Ln(i),null===t.ve(i)&&Wt(t,i,e);var n=t.Ck(e);if(Kh.isArray(n))for(var o=Kh.Za(n),r=0;r<o;r++)i=Kh.Ba(n,r),null===t.ve(i)&&Wt(t,i,e)}function ie(t){1<arguments.length&&Kh.k("TreeModel constructor can only take one optional argument, the Array of node data."),Nt.call(this),this.mh="parent",this.Zq=!1,this.Um="parentLinkCategory",void 0!==t&&(this.hg=t)}function ne(t,e,i){Kh.nc(this),this.P=!1,void 0===t?t="":Kh.j(t,"string",ne,"constructor:targetprop"),void 0===e?e=t:Kh.j(e,"string",ne,"constructor:sourceprop"),void 0===i?i=null:null!==i&&Kh.j(i,"function",ne,"constructor:conv"),this.ND=-1,this.Hg=null,this.tp=t,this.sp=this.kt=0,this.Aw=null,this.Qr=!1,this.kp=e,this.Vq=i,this.ks=bc,this.Oq=null,this.dz=new p}function oe(t,e,i){t=t.wq;return null===t||""===t?e:"/"===t?i.U:"."===t?i:".."===t?i.Q:e.xd(t)}function re(){this.JG=new c(Lt).freeze(),this.Sb="",this.RC=!1}function se(){this.uz=new p(Nt),this.gf=!1,this.NG=new c(re).freeze(),this.fh=-1,this.fD=999,this.Of=!1,this.sv=null,this.Dl=0,this.bC=!1,this.kh=new c("string").freeze(),this.$o=new c("number"),this.ez=!0,this.oz=!1}function ae(t,e,i){if(t.ab)return!1;t.Xz&&1>t.Ih&&Kh.trace("Ending transaction without having started a transaction: "+i);var n=1===t.Ih;n&&e&&t.hd("CommittingTransaction",i,t.mj);var o=0;if(0<t.Ih&&(t.Dl--,t.isEnabled)){var r=t.kh.count;0<r&&(""===i&&(i=t.kh.da(0)),t.kh.Qa(),t.kh.bd(r-1),t.kh.freeze()),r=t.$o.count,0<r&&(o=t.$o.da(r-1),t.$o.bd(r-1))}if(r=t.mj,n){if(e){if(t.oz=!1,t.isEnabled&&null!==r){for(e=r,e.eu=!0,e.name=i,n=t.history,n.Qa(),o=n.count-1;o>t.rj;o--)r=n.da(o),null!==r&&r.clear(),n.bd(o),t.oz=!0;o=t.EF,0===o&&(o=1),0<o&&n.count>=o&&(r=n.da(0),null!==r&&r.clear(),n.bd(0),t.fh--),n.add(e),t.fh++,n.freeze(),r=e}t.hd("CommittedTransaction",i,r)}else{t.Of=!0;try{t.isEnabled&&null!==r&&(r.eu=!0,r.undo())}finally{t.hd("RolledBackTransaction",i,r),t.Of=!1}null!==r&&r.clear()}return t.sv=null,!0}if(t.isEnabled&&!e&&null!==r){for(t=o,i=r.Wf,e=i.count-1;e>=t;e--)n=i.da(e),null!==n&&n.undo(),i.Qa(),i.bd(e);i.freeze()}return!1}function le(){0<arguments.length&&Kh.ld(le),Kh.nc(this),this.fa=null,this.eC=!1,this.zC=this.fC=!0,this.hC=this.iC=this.AC=this.jC=!1,this.tl=this.VB=null,this.fE=1.05,this.wC=1,this.pz=NaN,this.bD=null,this.Rz=NaN,this.Qz=Fu,this.cj=null,this.CD=0}function he(t,e,i,n,o,r){if(void 0===r&&(r=null),!(t.contains(e)||null!==r&&!r(e)||e instanceof Ns))if(t.add(e),e instanceof js){if(i&&e instanceof Pa)for(var s=e.Oc;s.next();)he(t,s.value,i,n,o,r);if(o)for(s=e.ge;s.next();){var a=s.value;if(!t.contains(a)){var l=a.Y,h=a.Z;null!==l&&t.contains(l)&&null!==h&&t.contains(h)?he(t,a,i,n,o,r):null!==l&&null!==h||he(t,a,i,n,o,r)}}if(1<n)for(e=e.TE();e.next();)he(t,e.value,i,n-1,o,r)}else if(e instanceof Ws)for(e=e.Df;e.next();)he(t,e.value,i,n,o,r)}function ue(t,e,i,n,o){if(null===e||o&&!e.canCopy())return null;if(n.contains(e))return n.ka(e);var r=null,s=e.data;if(null!==s&&null!==i){var a=i.$;e instanceof Ws?a instanceof Qt&&(s=a.Zw(s),Kh.Pa(s)&&(a.xt(s),r=i.Xf(s))):(s=a.copyNodeData(s),Kh.Pa(s)&&(a.Gl(s),r=i.xh(s)))}else xr(e),null!==(r=e.copy())&&(null!==i?i.add(r):null!==s&&null!==t.g&&t.BH&&(a=t.g.$,s=r instanceof Ws&&a instanceof Qt?a.Zw(s):a.copyNodeData(s),Kh.Pa(s)&&(r.data=s)));if(!(r instanceof us))return null;if(r.ib=!1,r.Pg=!1,n.add(e,r),e instanceof js){for(s=e.ge;s.next();){if(a=s.value,a.Y===e){var l=n.ka(a);null!==l&&(l.Y=r)}a.Z===e&&null!==(l=n.ka(a))&&(l.Z=r)}if(e instanceof Pa&&r instanceof Pa)for(s=r,e=e.Oc;e.next();)(a=ue(t,e.value,i,n,o))instanceof Ws||null===a||(a.Da=s)}else if(e instanceof Ws&&r instanceof Ws)for(s=e.Y,null!==s&&null!==(s=n.ka(s))&&(r.Y=s),s=e.Z,null!==s&&null!==(s=n.ka(s))&&(r.Z=s),e=e.Df;e.next();)null!==(s=ue(t,e.value,i,n,o))&&s instanceof js&&(s.Wb=r);return r}function ce(t,e,i){if(e.isVisible())return i;if(e instanceof Ns)ce(t,e.xf,i);else if(e instanceof Ws){var n=e.Y;null!==n&&ce(t,n,i),e=e.Z,null!==e&&ce(t,e,i)}else e instanceof js&&(n=e.Wb,null!==n&&ce(t,n,i),null!==(n=e.Ak())&&(n.tc||n.yq||i.push(n),ce(t,n,i))),null!==(e=e.Da)&&(e.Zc||e.ty||i.push(e),ce(t,e,i));return i}function de(t){var e=Kh.cb();for(t=t.i;t.next();){var i=t.value;i instanceof Ws||e.push(i)}t=new p(us);for(var i=e.length,n=0;n<i;n++){for(var o=e[n],r=!0,s=0;s<i;s++)if(o.qi(e[s])){r=!1;break}r&&t.add(o)}return Kh.ta(e),t}function pe(){0<arguments.length&&Kh.ld(pe),Kh.nc(this),this.fa=null,this.Sb="",this.gf=!0,this.PC=!1,this.$D=null,this.Lw=-1}function fe(t,e,i){if(e.Dc=!1,null===t||t.fu()){var n=0;e.left?n=1===e.Ge?1:2===e.Ge?2:1:e.right&&1===e.Ge&&(n=3);var o="";if(null!==t){switch(n){case 1:o="ObjectSingleClicked";break;case 2:o="ObjectDoubleClicked";break;case 3:o="ObjectContextClicked"}0!==n&&i.Aa(o,t)}else{switch(n){case 1:o="BackgroundSingleClicked";break;case 2:o="BackgroundDoubleClicked";break;case 3:o="BackgroundContextClicked"}0!==n&&i.Aa(o)}if(null!==t)for(;null!==t;){switch(i=null,n){case 1:i=t.click;break;case 2:i=t.Jt?t.Jt:t.click;break;case 3:i=t.aA}if(null!==i&&(i(e,t),e.Dc))break;t=t.Q}else{switch(t=null,n){case 1:t=i.click;break;case 2:t=i.Jt?i.Jt:i.click;break;case 3:t=i.aA}null!==t&&t(e)}}}function ye(){pe.call(this),0<arguments.length&&Kh.ld(ye),this.name="Dragging",this.gC=this.TC=!0,this.Jr=this.FC=!1,this.XC=!0,this.fz=new k(NaN,NaN).freeze(),this.gz=iu,this.hz=new w(NaN,NaN).freeze(),this.EC=!1,this.hw=this.gw=this.Wy=this.dC=this.DC=this.oC=this.aj=null,this.pr=this.VC=!1,this.np=new w(NaN,NaN),this.Bw=new w,this.Ew=!1,this.SC=!0,this.zo=100,this.Nj=[],this.MG=new p(us).freeze()}function ge(t,e){if(t.oj){var i=t.g;null!==i&&i.kn&&(i.$ instanceof Qt&&1===e.count&&e.first()instanceof Ws?(t.kd=e.first(),t.kd.canRelinkFrom()&&t.kd.canRelinkTo()&&t.kd.Et(),t.aj=i.eb.TF,null===t.aj&&(t.aj=new $e,t.aj.Rc(i))):(t.kd=null,t.aj=null))}}function ve(t,e){return new Ve(void 0===e?Ru:t.hu?new w(Math.round(e.x),Math.round(e.y)):e.copy())}function me(t,e,i,n){if(!e.contains(i)&&(!n||i.canMove()||i.canCopy()))if(i instanceof js){if(e.add(i,ve(t,i.location)),i instanceof Pa)for(var o=i.Oc;o.next();)me(t,e,o.value,n);for(o=i.ge;o.next();){var r=o.value;if(!e.contains(r)){var s=r.Y,a=r.Z;null!==s&&e.contains(s)&&null!==a&&e.contains(a)&&me(t,e,r,n)}}if(t.QH)for(i=i.TE();i.next();)me(t,e,i.value,n)}else if(i instanceof Ws)for(r=i,e.add(r,ve(t)),i=r.Df;i.next();)me(t,e,i.value,n);else i instanceof Ns||e.add(i,ve(t,i.location))}function be(t){var e=t.g;if(null!==e){var i=e.wb;e.wb=!0,Le(t,e.R,null),e.wb=i}t.Nj.length=0}function we(){var t=Mc;Me(t),Pe(t);var e=t.g;null!==e&&t.np.I()&&(e.position=t.np),null!==e&&so(e)}function xe(t,e){if(null!==e){t.Ew=!0;for(var i=e.i;i.next();){var n=i.key;n instanceof Ws&&(n.im=!0)}}}function Ce(t,e){if(null!==e){for(var i=e.i;i.next();){var n=i.key;n instanceof Ws&&(n.im=!1,ta(n)&&n.$b())}t.Ew=!1}}function ke(t,e){for(var i=1/0,n=1/0,o=-1/0,r=-1/0,s=t.i;s.next();){var a=s.value;if(a.ee()&&a.isVisible()){var l=a.location,a=l.x,l=l.y;isNaN(a)||isNaN(l)||(a<i&&(i=a),l<n&&(n=l),a>o&&(o=a),l>r&&(r=l))}}1/0===i?e.m(0,0,0,0):e.m(i,n,o-i,r-n)}function Se(t,e){if(null===t.dc){var i=t.g;if(!(null===i||e&&(i.hb||i.Bf))&&null!==t.Zb){var n=i.ia;for(n.isEnabled&&n.tF?null!==n.mj&&0<n.mj.Wf.count&&(i.ia.lq(),i.Hb("Drag")):Pe(t),i.wb=!e,i.Eq=!e,t.Lk=i.Bc.ca,n=t.DH?t.Zb.Gj():i.selection,n=i.Jp(n,i,!0),i=n.i;i.next();)i.value.location=i.key.location;i=Kh.If(),ke(n,i),Kh.Db(i);for(var i=new b(us),o=t.Zb.i;o.next();){var r=o.key;r.ee()&&r.canCopy()&&null!==(r=n.ka(r))&&(r.Je(),i.add(r,ve(t,r.location)))}for(n=n.i;n.next();)(o=n.value)instanceof Ws&&o.canCopy()&&i.add(o,ve(t));t.dc=i,ge(t,i.Gj()),null!==t.kd&&(i=t.kd,n=i.Vn,i.Ik(t.Lk.x-(n.x+n.width/2),t.Lk.y-(n.y+n.height/2)))}}}function Me(t){var e=t.g;if(null!==e){if(null!==t.dc&&(e.bB(t.dc.Gj(),!1),t.dc=null,null!==t.Zb))for(var i=t.Zb.i;i.next();)i.key instanceof Ws&&(i.value.point=new w(0,0));e.wb=!1,e.Eq=!1,t.Lk=e.Bc.ca}}function Te(t){if(null!==t.kd){if(t.oj&&null!==t.aj){var e=t.aj;null!==e.g&&(e.g.remove(e.Vd),e.g.remove(e.Wd))}t.kd=null,t.aj=null}}function Ee(t,e,i){var n=t.g;if(null!==n){var o=t.Lk,r=Kh.K();r.assign(n.R.ca),t.moveParts(e,r.Ej(o),i),Kh.v(r)}}function Ie(t,e,i){if(null!==(e=e.Da)){if(null!==(t=Ie(t,e,i)))return t;if(null!==(t=i.ka(e)))return t}return null}function Pe(t){if(null!==t.Zb){for(var e=t.g,i=t.Zb.i;i.next();){var n=i.key;n.ee()&&(n.location=i.value.point)}for(i=t.Zb.i;i.next();)if((n=i.key)instanceof Ws&&n.im){var o=i.value.point;t.Zb.add(n,ve(t)),n.Ik(-o.x,-o.y)}e.cg()}}function De(t,e){if(null===e)return!0;var i=e.U;return!!(null===i||i instanceof Ns||i.layer.Mc||t.Zb&&t.Zb.contains(i)||t.dc&&t.dc.contains(i))}function Oe(t,e){var i=t.g;if(null!==i){t.oj&&(null!==t.kd&&(t.kd.Y=null,t.kd.Z=null),Re(t,!1));var n=Qi(i,e,null,function(e){return!De(t,e)}),o=i.R;o.Re=n;var r=i.wb,s=!1;try{if(i.wb=!0,s=Le(t,o,n),!t.sa&&null===Mc)return;if(null===n){var a=i.bJ;null!==a&&(a(o),s=!0)}if(!t.sa&&null===Mc)return;if(t.doDragOver(e,n),!t.sa&&null===Mc)return}finally{i.wb=r,s&&i.cg()}(i.oe||i.pe)&&i.iA(o.ef)}}function Le(t,e,i){var n=!1,o=t.Nj.length,r=0<o?t.Nj[0]:null;if(i===r)return!1;e.Dc=!1;for(var s=0;s<o;s++){var a=t.Nj[s],l=a.aJ;if(null!==l&&(l(e,a,i),n=!0,e.Dc))break}if(t.Nj.length=0,!t.sa&&null===Mc||null===i)return n;for(e.Dc=!1;null!==i;)t.Nj.push(i),i=Ne(i);for(o=t.Nj.length,s=0;s<o&&(a=t.Nj[s],null===(l=a.$I)||(l(e,a,r),n=!0,!e.Dc));s++);return n}function Ne(t){var e=t.Q;return null!==e?e:t instanceof us&&!(t instanceof Pa)&&null!==(t=t.Da)&&t.jI?t:null}function je(t,e,i){var n=t.aj;if(null===n)return null;var o=t.g.wn(e,n.RF,function(t){return n.findValidLinkablePort(t,i)});t=Kh.K();for(var r=1/0,s=null,o=o.i;o.next();){var a=o.value;if(null!==a.U){var l=a.Wa(su,t),l=e.zf(l);l<r&&(s=a,r=l)}}return Kh.v(t),s}function Re(t,e){var i=t.kd;if(null!==i&&!(2>i.qa)){var n=t.g;if(null!==n&&!n.hb){var o=t.aj;if(null!==o){var r=null,s=null;null===i.Y&&null!==(r=je(t,i.l(0),!1))&&(s=r.U);var a=null,l=null;null===i.Z&&null!==(a=je(t,i.l(i.qa-1),!0))&&(l=a.U),o.isValidLink(s,r,l,a)?e?(i.Kp=i.l(0),i.Lp=i.l(i.qa-1),i.im=!1,i.Y=s,null!==r&&(i.Og=r.Ud),i.Z=l,null!==a&&(i.Hh=a.Ud),i.Cc!==t.gw&&n.Aa("LinkRelinked",i,t.gw),i.cd!==t.hw&&n.Aa("LinkRelinked",i,t.hw)):We(o,s,r,l,a):We(o,null,null,null,null)}}}}function Fe(t,e){var i=t.g;if(null!==i){t.oj&&Re(t,!0),be(t);var n=Qi(i,e,null,function(e){return!De(t,e)}),o=i.R;if(o.Re=n,null!==n){o.Dc=!1;for(var r=n;null!==r;){var s=r.OA;if(null!==s&&(s(o,r),o.Dc))break;r=Ne(r)}}else null!==(r=i.OA)&&r(o);if(t.sa||null!==Mc){for(o=(t.dc||t.Zb).i;o.next();)(r=o.key)instanceof js&&r.ge.each(function(t){t.im=!1});if(t.doDropOnto(e,n),t.sa||null!==Mc){for(n=Kh.If(),o=i.selection.i;o.next();)(r=o.value)instanceof js&&Ae(i,r.getAvoidableRect(n));Kh.Db(n)}}}}function Ae(t,e){var i=!1;if(t.qb.wk(e)&&(i=!0),i=t.mA(e,function(t){return t.U},function(t){return t instanceof Ws},!0,function(t){return t instanceof Ws},i),0!==i.count)for(i=i.i;i.next();){var n=i.value;n.Zl&&n.$b()}}function Be(t,e,i){if(null===t.dc){var n=t.g;if(null!==n&&!n.hb&&!n.Bf){n.wb=!i,n.Eq=!i,t.Lk=n.R.ca,i=n.Jp(e,n,!0);var o=Kh.If();ke(e,o);var n=o.x+o.width/2,r=o.y+o.height/2;Kh.Db(o);var o=t.Bw,s=new b(us),a=Kh.K();for(e=e.i;e.next();){var l=e.value,h=i.ka(l);l.ee()&&l.canCopy()?(l=l.location,a.m(o.x-(n-l.x),o.y-(r-l.y)),h.location=a,h.Je(),s.add(h,ve(t,a))):l instanceof Ws&&l.canCopy()&&(h.Ik(o.x-n,o.y-r),s.add(h,ve(t)))}Kh.v(a),t.dc=s,ge(t,s.Gj()),null!==t.kd&&(i=t.kd,n=i.Vn,i.Ik(t.Lk.x-(n.x+n.width/2),t.Lk.y-(n.y+n.height/2)))}}}function Ve(t){this.point=t,this.mG=Ru}function He(t,e,i){this.Pc=t,this.info=e,this.gI=i}function ze(){0<arguments.length&&Kh.ld(ze),pe.call(this),this.yD=100,this.$C=!1;var t=new Ws,e=new Pr;e.qf=!0,e.stroke="blue",t.add(e),e=new Pr,e.xq="Standard",e.fill="blue",e.stroke="blue",t.add(e),t.ag="Tool",this.TD=t,t=new js,e=new Pr,e.Ud="",e.Cb="Rectangle",e.fill=null,e.stroke="magenta",e.lb=2,e.Ca=Gu,t.add(e),t.fm=!1,t.ag="Tool",this.RD=t,this.SD=e,t=new js,e=new Pr,e.Ud="",e.Cb="Rectangle",e.fill=null,e.stroke="magenta",e.lb=2,e.Ca=Gu,t.add(e),t.fm=!1,t.ag="Tool",this.UD=t,this.VD=e,this.wD=this.vD=this.rD=this.qD=this.sD=null,this.WC=!0,this.$G=new b(Eo,"boolean"),this.zD=this.rl=this.OD=null}function qe(t,e,i,n){if(e===i)return!0;var o=e.Y;return!(null===o||!o.Af||(n.add(o),!qe(t,o.Wb,i,n)))||!(null===(e=e.Z)||!e.Af||(n.add(e),!qe(t,e.Wb,i,n)))}function Ge(t,e,i,n,o){if(e===i)return!0;if(null===e||null===i)return!1;for(var r=e.ge;r.next();){var s=r.value;if(s!==n&&(!o||s.Nc)&&s.Z===e&&(s=s.Y)!==e&&Ge(t,s,i,n,o))return!0}return!1}function _e(t,e,i,n,o){if(i===n)return!0;if(null===i||null===n||e.contains(i))return!1;e.add(i);for(var r=i.ge;r.next();){var s=r.value;if(s!==o&&s.Z===i&&(s=s.Y)!==i&&_e(t,e,s,n,o))return!0}return!1}function Ue(t,e,i,n,o){if(i===n)return!0;if(null===i||null===n||e.contains(i))return!1;e.add(i);for(var r=i.ge;r.next();){var s=r.value;if(s!==o){var a=s.Y,s=s.Z,a=a===i?s:a;if(a!==i&&Ue(t,e,a,n,o))return!0}}return!1}function Ke(){0<arguments.length&&Kh.ld(Ke),ze.call(this),this.name="Linking",this.XB={},this.WB=null,this.aa=Ec,this.JD=null}function $e(){0<arguments.length&&Kh.ld($e),ze.call(this),this.name="Relinking";var t=new Pr;t.Cb="Diamond",t.Ca=Uu,t.fill="lightblue",t.stroke="dodgerblue",t.cursor="pointer",t.Oe=0,this.JC=t,t=new Pr,t.Cb="Diamond",t.Ca=Uu,t.fill="lightblue",t.stroke="dodgerblue",t.cursor="pointer",t.Oe=-1,this.WD=t,this.hc=null,this.tD=new S}function We(t,e,i,n,o){null!==t.g&&(null!==e?(t.copyPortProperties(e,i,t.Vd,t.Zn,!1),t.g.add(t.Vd)):t.g.remove(t.Vd),null!==n?(t.copyPortProperties(n,o,t.Wd,t.$n,!0),t.g.add(t.Wd)):t.g.remove(t.Wd))}function Ye(){0<arguments.length&&Kh.ld(Ye),pe.call(this),this.name="LinkReshaping";var t=new Pr;t.Cb="Rectangle",t.Ca=_u,t.fill="lightblue",t.stroke="dodgerblue",this.el=t,t=new Pr,t.Cb="Diamond",t.Ca=_u,t.fill="lightblue",t.stroke="dodgerblue",this.gD=t,this.AD=3,this.Gy=this.hc=null,this.cp=new w,this.jw=null}function Je(t,e,i,n,o,r){return r?Math.abs(e.y-i.y)<t.Eh&&Math.abs(i.y-n.y)<t.Eh&&Math.abs(n.y-o.y)<t.Eh:Math.abs(e.x-i.x)<t.Eh&&Math.abs(i.x-n.x)<t.Eh&&Math.abs(n.x-o.x)<t.Eh}function Xe(){0<arguments.length&&Kh.ld(Xe),pe.call(this),this.name="Resizing",this.Yh=new k(1,1).freeze(),this.Xh=new k(9999,9999).freeze(),this.Kj=new k(NaN,NaN).freeze(),this.Jr=!1,this.Gc=null;var t=new Pr;t.qh=su,t.Cb="Rectangle",t.Ca=_u,t.fill="lightblue",t.stroke="dodgerblue",t.lb=1,t.cursor="pointer",this.el=t,this.hc=null,this.cp=new w,this.pD=new k,this.uD=new w,this.cz=new k(0,0),this.bz=new k(1/0,1/0),this.az=new k(1,1),this.mD=!0}function Qe(){0<arguments.length&&Kh.ld(Qe),pe.call(this),this.name="Rotating",this.GD=45,this.FD=2,this.Gc=null;var t=new Pr;t.Cb="Ellipse",t.Ca=Uu,t.fill="lightblue",t.stroke="dodgerblue",t.lb=1,t.cursor="pointer",this.el=t,this.hc=null,this.iw=0,this.BD=new w}function Ze(){pe.call(this),0<arguments.length&&Kh.ld(Ze),this.name="ClickSelecting"}function ti(){pe.call(this),0<arguments.length&&Kh.ld(ti),this.name="Action",this.ho=null}function ei(){pe.call(this),0<arguments.length&&Kh.ld(ei),this.name="ClickCreating",this.um=null,this.UC=!0,this.IC=new w(0,0)}function ii(){this.bE=this.eD=this.jz=this.Fz=null}function ni(t,e,i){this.text=t,this.xE=e,this.visible=i}function oi(){pe.call(this),0<arguments.length&&Kh.ld(oi),this.name="ContextMenu",this.nC=this.Ny=this.kC=null,this.kD=new w,this.Py=this.Am=null;var t=this;this.Mz=function(){t.stopTool()},ri(this)}function ri(t){var i=new ii;if(i.show=function(t,e,i){i.showDefaultContextMenu()},i.Dn=function(t,e){e.hideDefaultContextMenu()},t.Am=i,t.Mz=function(){t.stopTool()},!1===Kh.DE){var i=Kh.createElement("div"),n=Kh.createElement("div");i.style.cssText="top: 0px;z-index:300;position: fixed;display: none;text-align: center;left: 25%;width: 50%;background-color: #F5F5F5;padding: 16px;border: 16px solid #444;border-radius: 10px;margin-top: 10px",n.style.cssText="z-index:299;position: fixed;display: none;top: 0;left: 0;width: 100%;height: 100%;background-color: black;opacity: 0.8;";var o=Kh.createElement("style");e.document.getElementsByTagName("head")[0].appendChild(o),o.sheet.insertRule(".goCXul { list-style: none; }",0),o.sheet.insertRule(".goCXli {font:700 1.5em Helvetica, Arial, sans-serif;position: relative;min-width: 60px; }",0),o.sheet.insertRule(".goCXa {color: #444;display: inline-block;padding: 4px;text-decoration: none;margin: 2px;border: 1px solid gray;border-radius: 10px; }",0),i.addEventListener("contextmenu",si,!1),i.addEventListener("selectstart",si,!1),n.addEventListener("contextmenu",si,!1),e.document.body&&(e.document.body.appendChild(i),e.document.body.appendChild(n)),Kh.Gt=i,Kh.Ft=n,Kh.DE=!0}}function si(t){return t.preventDefault(),!1}function ai(t){var e=t.g;if(null!==e)if(t.sa){var i=t.Nl;if(null!==i){if(!(i instanceof ii)){var n=e.Le(e.R.ca,null,null);null!==n&&n.am(i)&&t.standardMouseClick(null,null)}t.stopTool(),t.canStart()&&(e.$a=t,t.doMouseUp())}}else t.canStart()&&(li(t,!0),t.sa||t.stopTool())}function li(t,e,i){if(void 0===i&&(i=null),e&&t.standardMouseSelect(),!t.standardMouseClick())if(t.sa=!0,e=t.Am,null===i&&(i=t.findObjectWithContextMenu()),null!==i){var n=i.contextMenu;null!==n?(t.ax=i instanceof Eo?i:null,t.showContextMenu(n,t.ax)):null!==e&&t.showContextMenu(e,t.ax)}else null!==e&&t.showContextMenu(e,null)}function hi(t){return null===t.g?null:(t=new c(ni),t.add(new ni("Copy",function(t){t.ob.copySelection()},function(t){return t.ob.canCopySelection()})),t.add(new ni("Cut",function(t){t.ob.cutSelection()},function(t){return t.ob.canCutSelection()})),t.add(new ni("Delete",function(t){t.ob.deleteSelection()},function(t){return t.ob.canDeleteSelection()})),t.add(new ni("Paste",function(t){t.ob.pasteSelection(t.R.ca)},function(t){return t.ob.canPasteSelection()})),t.add(new ni("Select All",function(t){t.ob.selectAll()},function(t){return t.ob.canSelectAll()})),t.add(new ni("Undo",function(t){t.ob.undo()},function(t){return t.ob.canUndo()})),t.add(new ni("Redo",function(t){t.ob.redo()},function(t){return t.ob.canRedo()})),t.add(new ni("Scroll To Part",function(t){t.ob.scrollToPart()},function(t){return t.ob.canScrollToPart()})),t.add(new ni("Zoom To Fit",function(t){t.ob.zoomToFit()},function(t){return t.ob.canZoomToFit()})),t.add(new ni("Reset Zoom",function(t){t.ob.resetZoom()},function(t){return t.ob.canResetZoom()})),t.add(new ni("Group Selection",function(t){t.ob.groupSelection()},function(t){return t.ob.canGroupSelection()})),t.add(new ni("Ungroup Selection",function(t){t.ob.ungroupSelection()},function(t){return t.ob.canUngroupSelection()})),t.add(new ni("Edit Text",function(t){t.ob.editTextBlock()},function(t){return t.ob.canEditTextBlock()})),t)}function ui(){pe.call(this),0<arguments.length&&Kh.ld(ui),this.name="DragSelecting",this.zo=175,this.ZC=!1;var t=new us;t.ag="Tool",t.fm=!1;var e=new Pr;e.name="SHAPE",e.Cb="Rectangle",e.fill=null,e.stroke="magenta",t.add(e),this.wm=t}function ci(){pe.call(this),0<arguments.length&&Kh.ld(ci),this.name="Panning",this.xz=new w,this.Jj=!1;var t=this;this.LD=function(){e.document.removeEventListener("scroll",t.LD,!1),t.stopTool()}}function di(){0<arguments.length&&Kh.ld(di),pe.call(this),this.name="TextEditing",this.Kz=this.lk=null,this.KD=Bc,this.Bl=null,this.Sa=Hc,this.vl=null,this.hD=1,this.DD=!0;var t=new ii;this.pC=null,this.xC=t,this.Qy=null,pi(this,t)}function pi(t,e){var i=Kh.createElement("textarea");t.Qy=i,i.addEventListener("input",function(){if(null!==t.$g){var e=t.UI(this.value),i=this.NJ;this.style.width=20+e.za.width*i+"px",this.style.height=10+e.za.height*i+"px",this.rows=e.HA}},!1),i.addEventListener("keydown",function(e){if(null!==t.$g){var i=e.which;13===i?(!1===t.$g.Bx&&e.preventDefault(),t.acceptText(Ac)):9===i?(t.acceptText(Fc),e.preventDefault()):27===i&&(t.doCancel(),null!==t.g&&t.g.doFocus())}},!1),i.addEventListener("focus",function(){yi(t)},!1),i.addEventListener("blur",function(){gi(t)},!1),e.FB=function(){return i.value},e.KA=i,e.show=function(t,e,n){if(n.state===_c)i.style.border="3px solid red",i.focus();else{var o=t.Wa(su),r=e.position,s=e.scale,a=t.pj()*s;a<n.HF&&(a=n.HF);var l=t.Ja.width*a+6,h=t.Ja.height*a+2,u=(o.x-r.x)*s,o=(o.y-r.y)*s;i.value=t.text,e.nj.style.font=t.font,i.style.cssText="position: absolute;z-index: 100;font: inherit;fontSize: "+100*a+"%;lineHeight: normal;width: "+l+"px;height: "+h+"px;left: "+((u-l/2|0)-1)+"px;top: "+((o-h/2|0)-1)+"px;text-align: "+t.textAlign+";margin: 0;padding: 1px;border: 0;outline: none;white-space: pre-wrap;overflow: hidden;",i.NJ=a,e.nj.appendChild(i),i.focus(),n.iy&&(i.select(),i.setSelectionRange(0,9999))}},e.Dn=function(t){t.nj.removeChild(i)}}function fi(t){var e=t.$g,i=t.g,n=t.lj;if(null!==e&&null!==n){var o=e.text,r="";n instanceof ii?null!==n.FB&&(r=n.FB()):(r=n.value,r="function"==typeof r?r():r),t.isValidText(e,o,r)?(t.Hb(t.name),t.Sa=Uc,n instanceof ii?n.show(e,i,t):null!==t.vl&&(n.style.border=t.vl,t.vl=null),t.Kf=t.name,e.text=r,null!==e.sG&&e.sG(e,o,r),null!==i&&i.Aa("TextEdited",e,o),t.Mk(),t.stopTool(),null!==i&&i.doFocus()):(t.Sa=_c,null!==e.lA&&e.lA(t,o,r),n instanceof ii?n.show(e,i,t):(null===t.vl&&(t.vl=n.style.border,n.style.border="3px solid red"),"function"==typeof n.focus&&n.focus()))}}function yi(t){if(null!==t.lj){var e=t.Qy;t.Sa===zc&&(t.Sa=qc),"function"==typeof e.select&&t.iy&&(e.select(),e.setSelectionRange(0,9999))}}function gi(t){if(null!==t.lj){var e=t.Qy;"function"==typeof e.focus&&e.focus(),"function"==typeof e.select&&t.iy&&(e.select(),e.setSelectionRange(0,9999))}}function vi(){pe.call(this),this.name="ToolManager",this.PG=new c(pe),this.QG=new c(pe),this.RG=new c(pe),this.MC=this.NC=850,this.CC=new k(2,2).Ha(),this.XD=5e3,this.lD=Kc,this.KC=Wc,this.rv=this.qC=null,this.gn=-1}function mi(t,e){t.standardMouseOver(),t.isBeyondDragSize()&&t.standardWaitAfter(t.sa?t.iF:t.mI,e.R)}function bi(t,e,i,n){Kh.j(e,"string",vi,"replaceStandardTool:name"),Kh.G(n,c,vi,"replaceStandardTool:list"),null!==i&&(Kh.G(i,pe,vi,"replaceStandardTool:newtool"),i.g&&i.g!==t.g&&Kh.k("Cannot share tools between Diagrams: "+i.toString()),i.name=e,i.Rc(t.g)),t.findTool(e)?t.replaceTool(e,i):null!==i&&n.add(i)}function wi(){this.rC=xi,this.jr=this.kr=this.fa=null,this.sm=this.lr=this.mr=0,this.ko=this.qc=this.Po=this.Xj=!1,this.jl=this.gf=!0,this.pv=this.ov=this.mC=null,this.lC=0,this.qv=null,this.ev=new p("string"),this.Yy=600,this.SG=new w(0,0),this.$B=this.ZB=this.aE=!1,this.Sm=new b(Eo,ji)}function xi(t,e,i,n){return t/=n/2,1>t?i/2*t*t+e:-i/2*(--t*(t-2)-1)+e}function Ci(t){if(t.gf&&(t.ev.clear(),t.qc))if(t.ko){if(0===t.sm){var e=+new Date;t.sm=e,requestAnimationFrame(function(){if(!1!==t.qc&&!t.Xj&&t.sm===e){var i=t.fa;i.qj("temporaryPixelRatio")&&(i.kk=1),Gi(i),t.qc=!1,i.Aa("AnimationStarting"),Mi(t,e)}})}}else t.qc=!1}function ki(t,e,i,n,r,s){if(!(!t.qc||"position"===i&&n.L(r)||e instanceof us&&!e.mF)){var a=t.Sm;if(a.contains(e)){var a=a.ka(e),l=a.start,h=a.end;void 0===l[i]&&(l[i]=Si(n)),a.$w&&void 0!==h[i]?a.Lt[i]=Si(r):(s||(a.Lt[i]=Si(r)),h[i]=Si(r)),s&&0===i.indexOf("position:")&&e instanceof us&&(a.Lt.location=Si(e.location))}else l=new o,h=new o,l[i]=Si(n),h[i]=Si(r),n=h,r=l.position,r instanceof w&&!r.I()&&t.ev.contains("Expand SubGraph")&&r.assign(n.position),l=new ji(l,h,s),s&&0===i.indexOf("position:")&&e instanceof us&&(l.Lt.location=Si(e.location)),a.add(e,l);t.ko=!0}}function Si(t){return t instanceof w?t.copy():t instanceof k?t.copy():t}function Mi(t,e){function i(){if(!1!==s.Xj&&s.sm===e){var t=+new Date,n=t>y?u:t-f;Ti(s),Ii(s,r,p,a,n,u),s.ov&&s.ov(),hn(r),Ei(s),t>y?Pi(s):requestAnimationFrame(i)}}var n;void 0===n&&(n=new o);var r=t.fa;if(null!==r){t.Xj=!0;var s=t,a=n.XK||t.rC,l=n.wL||null,h=n.xL||null,u=n.duration||t.Yy,c=t.SG;for(n=t.Sm.i;n.next();){var d=n.value.start.position;d instanceof w&&(d.I()||d.assign(c))}t.mC=a,t.ov=l,t.pv=h,t.lC=u,t.qv=t.Sm;var p=t.qv;for(n=p.i;n.next();)l=n.value.end,l["position:placeholder"]&&(h=l["position:placeholder"],c=h.Wa(iu),c.x+=h.padding.left,c.y+=h.padding.top,l["position:placeholder"]=c);Ti(t),Ii(t,r,p,a,0,u),hn(t.fa),Ei(t);var f=+new Date,y=f+u;s.sm===e&&requestAnimationFrame(function(){i()})}}function Ti(t){if(!t.Po){var e=t.fa;t.aE=e.wb,t.ZB=e.Pe,t.$B=e.Ou,e.wb=!0,e.Pe=!0,e.Ou=!0,t.Po=!0}}function Ei(t){var e=t.fa;e.wb=t.aE,e.Pe=t.ZB,e.Ou=t.$B,t.Po=!1}function Ii(t,e,i,n,o,r){for(i=i.i;i.next();){var s,a=i.key,l=i.value,h=l.start,l=l.end;for(s in l)"position"===s&&(l["position:placeholder"]||l["position:node"])||void 0===Xc[s]||Xc[s](a,h[s],l[s],n,o,r)}n=e.CA,e.CA=!0,s=t.rC,0!==t.mr&&0!==t.lr&&(i=t.mr,e.ub=s(o,i,t.lr-i,r)),null!==t.kr&&null!==t.jr&&(i=t.kr,t=t.jr,e.jb=new w(s(o,i.x,t.x-i.x,r),s(o,i.y,t.y-i.y,r))),e.CA=n}function Pi(t){t.Xj=!1,t.ko=!1,Ti(t);for(var e=t.fa,i=t.mC,n=t.lC,o=t.qv.i;o.next();){var r,s=o.key,a=o.value,l=a.start,h=a.end,u=a.Lt;for(r in h)if(void 0!==Xc[r]){var c=r;!a.$w||"position:node"!==c&&"position:placeholder"!==c||(c="position"),Xc[c](s,l[r],void 0!==u[r]?u[r]:a.$w?l[r]:h[r],i,n,n)}a.$w&&void 0!==u.location&&s instanceof us&&(s.location=u.location),a.Yx&&s instanceof us&&s.yd(!1)}for(i=t.fa.links;i.next();)n=i.value,null!==n.hp&&(n.points=n.hp,n.hp=null);e.Kx.clear(),e.kk=null,e.sc(),e.oa(),e.cg(),an(e),Ei(t),t.pv&&t.pv(),t.sm=0,t.qv=null,t.pv=null,t.ov=null,t.kr=null,t.jr=null,t.mr=0,t.lr=0,t.Sm=new b(Eo,ji),e.Aa("AnimationFinished"),e.Ne()}function Di(t,e,i){var n=e.W,o=i.W,r=null;if(i instanceof Pa&&(r=i.placeholder),null!==r?(n=r.Wa(iu),n.x+=r.padding.left,n.y+=r.padding.top,ki(t,e,"position",n,e.position,!1)):ki(t,e,"position",new w(o.x+o.width/2-n.width/2,o.y+o.height/2-n.height/2),e.position,!1),ki(t,e,"scale",.01,e.scale,!1),e instanceof Pa)for(e=e.Oc;e.next();)(r=e.value)instanceof js&&Di(t,r,i)}function Oi(t,e,i){if(e.isVisible()){var n=null;if(i instanceof Pa&&(n=i.placeholder),null!==n?ki(t,e,"position:placeholder",e.position,n,!0):ki(t,e,"position:node",e.position,i,!0),ki(t,e,"scale",e.scale,.01,!0),t.qc&&(n=t.Sm,n.contains(e)&&(n.ka(e).Yx=!0)),e instanceof Pa)for(e=e.Oc;e.next();)(n=e.value)instanceof js&&Oi(t,n,i)}}function Li(t,e,i){t.qc&&(null===t.kr&&e.I()&&null===t.jr&&(t.kr=e.copy()),t.jr=i.copy(),t.ko=!0)}function Ni(t,e,i){t.qc&&t.fa.Gn&&(0===t.mr&&0===t.lr&&(t.mr=e),t.lr=i,t.ko=!0)}function ji(t,e,i){this.start=t,this.end=e,this.Lt=new o,this.$w=i,this.Yx=!1}function Ri(){0<arguments.length&&Kh.ld(Ri),Kh.nc(this),this.fa=null,this.zb=new c(us),this.Sb="",this.yc=1,this.nz=!1,this.wl=this.Pz=this.Wk=this.Vk=this.Uk=this.Tk=this.Rk=this.Sk=this.Qk=this.Yk=this.Pk=this.Xk=this.Ok=this.Nk=!0,this.kz=!1,this.kw=[]}function Fi(t,e,i,n){if(t.visible&&0!==t.yc){1!==t.yc&&(e.globalAlpha=t.yc);var o=t.kw;o.length=0;var r=i.scale;t=t.zb.n;for(var s=t.length,a=n.length,l=0;l<s;l++){var h=t[l];if(Es(h)){if(h instanceof Ws){var u=h;if(u.ac&&o.push(u),!1===u.Lf)continue}var c,u=gs(h,h.W);t:{c=u;for(var d=n,p=a,f=2/r,y=4/r,g=0;g<p;g++){var v=d[g];if(0!==v.width&&0!==v.height&&c.kF(v.x-f,v.y-f,v.width+y,v.height+y)){c=!0;break t}}c=!1}c&&(1<u.width*r||1<u.height*r?h.ue(e,i):Cs(h,e))}}e.globalAlpha=1}}function Ai(t,e,i){if(e=Bi(t,e,i),i instanceof Pa&&null!==i&&isNaN(i.eo)){if(0!==i.Oc.count){for(var n=-1,o=t.zb.n,r=o.length,s=0;s<r;s++){var a=o[s];if(a===i&&(e=s,0<=n))break;if(0>n&&a.Da===i&&(n=s,0<=e))break}!(0>n)&&n<e&&(o=t.zb,o.bd(e),o.Qd(n,i))}i=i.Da,null!==i&&Ai(t,-1,i)}}function Bi(t,e,i){var n=i.eo;if(isNaN(n))return e;t=t.zb;var o=t.count;if(1>=o)return e;if(0>e&&(e=t.indexOf(i)),0>e)return-1;for(var r=e-1,s=NaN;0<=r&&(s=t.da(r).eo,isNaN(s));)r--;for(var a=e+1,l=NaN;a<o&&(l=t.da(a).eo,isNaN(l));)a++;if(!isNaN(s)&&s>n)for(;;){if(-1===r||s<=n){if(++r===e)break;return t.bd(e),t.Qd(r,i),r}for(s=NaN;0<=--r&&(s=t.da(r).eo,isNaN(s)););}else if(!isNaN(l)&&l<n)for(;;){if(a===o||l>=n){if(--a===e)break;return t.bd(e),t.Qd(a,i),a}for(l=NaN;++a<o&&(l=t.da(a).eo,isNaN(l)););}return e}function Vi(t){function i(){e.document.removeEventListener("DOMContentLoaded",i,!1),zi(n)}1<arguments.length&&Kh.k("Diagram constructor can only take one optional argument, the DIV HTML element or its id."),Kh.nc(this),Sp=[],this.Tc=!0,this.UB=new wi,this.UB.Rc(this),this.Hd=17,this.Mr=!1,this.Az="default";var n=this;null!==e.document.body?zi(this):e.document.addEventListener("DOMContentLoaded",i,!1),this.cc=new c(Ri),this.Mb=this.Jb=0,this.hk=this.Nb=this.ff=this.Fb=null,this.ZF(),this.Mo=null,this.YF(),this.jb=new w(NaN,NaN).freeze(),this.ub=1,this.Kv=new w(NaN,NaN).freeze(),this.Lv=NaN,this.bw=1e-4,this.$v=100,this.jd=new L,this.Mw=new w(NaN,NaN).freeze(),this.Cv=new S(NaN,NaN,NaN,NaN).freeze(),this.uw=new O(0,0,0,0).freeze(),this.vw=ad,this.rw=this.pw=null,this.vm=Qc,this.qo=eu,this.hl=Qc,this.Jo=eu,this.Mv=this.Jv=iu,this.Ce=!0,this.Hr=!1,this.wg=new p(us),this.bl=new b(Ws,S),this.or=!0,this.Mq=250,this.lo=-1,this.gv=new O(16,16,16,16).freeze(),this.uv=this.Tf=!1,this.Eo=!0,this.Li=new Dt,this.Vc=new Dt,this.Rb=new Dt,this.ih=this.zi=null,this.jt=!1,this.Ty=this.Uy=null,to(this),this.bp=new p(js),this.Cl=new p(Pa),this.Vo=new p(Ws),this.zb=new p(us),this.Rv=!0,this.Hw=hd,this.QC=!1,this.Jw=ed,this.Oy=this.Ry=this.Lz=null,this.nv="",this.ir="auto",this.Di=this.ej=this.Ui=this.ew=this.Vi=this.Wi=this.Xi=this.Ci=this.Ii=this.Ai=null,this.vz=!1,this.xD={},this.ow=0,this.Zh=[null,null],this.Ly=null,this.Eq=this.Sy=this.Gz=this.ED=this.dj=!1,this.aD=!0,this.mz=this.$d=!1,this.me=null;var o=this;this.iD=function(t){if(t.$===o.$&&o.Ta){o.Ta=!1;try{var e=t.Ac;""===t.rf&&e===yc&&Pn(o,t.object,t.propertyName)}finally{o.Ta=!0}}},this.jD=function(t){In(o,t)},this.dE=!0,this.fh=-2,this.Ei=new b(Object,us),this.Lj=new b(Object,Ws),this.Hm=new b(Object,Array),this.dp=new b("string",Array),this.yz=new c(Kr),this.Ni=!1,this.Ok=this.Nk=this.Xu=this.gf=!0,this.Zu=this.Yu=!1,this.dv=this.bv=this.Wk=this.Vk=this.Uk=this.Tk=this.Rk=this.Sk=this.Qk=this.av=this.Yk=this.Pk=this.Xk=!0,this.kl=this.YC=!1,this.cv=this.$u=this.Hv=this.Gv=!0,this.xw=this.tw=16,this.Cz=this.sw=!1,this.Ts=this.ww=null,this.Dz=this.Ez=0,this.jf=new O(5).freeze(),this.zw=new p(us).freeze(),this.aw=999999999,this.Iv=new p(us).freeze(),this.il=this.Em=this.Wj=!0,this.fl=this.Vj=!1,this.ke=null,this.tm=!0,this.gh=!1,this.OG=new p(Ws),this.OC=new p(fa),this.Gd=null,this.oD=1,this.HD=0,this.ph={scale:1,position:new w,bounds:new S,isScroll:!1},this.cE=new S(NaN,NaN,NaN,NaN).freeze(),this.vv=new S(NaN,NaN,NaN,NaN).freeze(),this.Sv=!1,this.xv=null,this.lw=new p(fo),_i(this),this.Wv=this.Ev=this.fw=this.uC=this.tC=this.vC=this.ak=this.dl=this.Yi=null,Hi(this),this.rd=null,this.Dv=!1,this.to=null,this.eb=new vi,this.eb.initializeStandardTools(),this.$a=this.Ht=this.eb,this.ob=new le,this.$=new Qt,this.dj=!0,this.Tb=new Ra,this.dj=!1,this.GC=this.Xy=null,this.Ed=1,this.kk=null;var r=Kh.vfo.split(".");!0!==Kh.hx.licenseKey&&"1"===r[0]&&7>parseInt(r[1],10)&&(Kh.trace("Warning: You have entered a license key for GoJS version 1.7 or later, but this library is version "+Kh.vfo+". This license key will do nothing until you upgrade to GoJS 1.7 or later."),Kh.hx.licenseKey=!0),this.ol=1,this.Jm=0,this.cD=new w,this.ZD=500,this.fv=new w,this.bt=null,this.ll=!1,this.preventDefault=this.Xx=this.PF=this.QF=this.OF=this.Pn=this.Rg=this.Qn=this.Nn=this.On=this.GB=this.yB=this.zB=this.AB=this.yl=this.Ps=this.xl=this.Os=null,this.Ov=!1,this.gl=new ho,void 0!==t&&co(this,t),this.Tc=!1}function Hi(t){t.Yi=new b("string",us);var e=new js,i=new Br;i.bind(new ne("text","",xc)),e.add(i),t.vC=e,t.Yi.add("",e),e=new js,i=new Br,i.stroke="brown",i.bind(new ne("text","",xc)),e.add(i),t.Yi.add("Comment",e),e=new js,e.fm=!1,e.Vz=!1,i=new Pr,i.Cb="Ellipse",i.fill="black",i.stroke=null,i.Ca=new k(3,3).Ha(),e.add(i),t.Yi.add("LinkLabel",e),t.dl=new b("string",Pa),e=new Pa,e.iB="GROUPPANEL",e.type=Wd,i=new Br,i.font="bold 12pt sans-serif",i.bind(new ne("text","",xc)),e.add(i),i=new ir(Jd),i.name="GROUPPANEL";var n=new Pr;n.Cb="Rectangle",n.fill="rgba(128,128,128,0.2)",n.stroke="black",i.add(n),n=new ja,n.padding=new O(5,5,5,5).Ha(),i.add(n),e.add(i),t.tC=e,t.dl.add("",e),t.ak=new b("string",Ws),e=new Ws,i=new Pr,i.qf=!0,e.add(i),i=new Pr,i.xq="Standard",i.fill="black",i.stroke=null,i.lb=0,e.add(i),t.uC=e,t.ak.add("",e),e=new Ws,i=new Pr,i.qf=!0,i.stroke="brown",e.add(i),t.ak.add("Comment",e),e=new Ns,e.type=Jd,i=new Pr,i.fill=null,i.stroke="dodgerblue",i.lb=3,e.add(i),i=new ja,i.margin=new O(1.5,1.5,1.5,1.5).Ha(),e.add(i),t.fw=e,t.Ev=e,e=new Ns,e.type=tp,i=new Pr,i.qf=!0,i.fill=null,i.stroke="dodgerblue",i.lb=3,e.add(i),t.Wv=e}function zi(t){var i=Kh.createElement("p");i.style.width="100%",i.style.height="200px",i.style.boxSizing="content-box";var n=Kh.createElement("div");n.style.position="absolute",n.style.visibility="hidden",n.style.width="200px",n.style.height="150px",n.style.overflow="hidden",n.style.boxSizing="content-box",n.appendChild(i),e.document.body.appendChild(n);var o=i.offsetWidth;n.style.overflow="scroll",i=i.offsetWidth,o===i&&(i=n.clientWidth),e.document.body.removeChild(n),n=o-i,0!==n||Kh.sF||(n=11),t.Hd=n,n=Kh.createElement("div"),n.dir="rtl",n.style.cssText="font-size: 14px; width: 1px; height: 1px; position: absolute; top: -1000px; overflow: scroll;",n.textContent="A",e.document.body.appendChild(n),o="reverse",0<n.scrollLeft?o="default":(n.scrollLeft=1,0===n.scrollLeft&&(o="negative")),e.document.body.removeChild(n),t.Az=o}function qi(t){var i=t.Fb;i.addEventListener("touchstart",t.AB,!1),i.addEventListener("touchmove",t.zB,!1),i.addEventListener("touchend",t.yB,!1),i.addEventListener("mousemove",t.On,!1),i.addEventListener("mousedown",t.Nn,!1),i.addEventListener("mouseup",t.Qn,!1),i.addEventListener("mousewheel",t.Rg,!1),i.addEventListener("DOMMouseScroll",t.Rg,!1),i.addEventListener("mouseout",t.Pn,!1),i.addEventListener("keydown",t.FI,!1),i.addEventListener("keyup",t.GI,!1),i.addEventListener("selectstart",function(t){return t.preventDefault(),!1},!1),i.addEventListener("contextmenu",function(t){return t.preventDefault(),!1},!1),i.addEventListener("gesturechange",function(e){t.eb.Tp===Yc&&e.preventDefault()},!1),i.addEventListener("pointerdown",t.OF,!1),i.addEventListener("pointermove",t.QF,!1),i.addEventListener("pointerleave",t.PF,!1),e.addEventListener("resize",t.GB,!1)}function Gi(t){if(null!==t.Fb){var e=t.Nb;if(0!==e.clientWidth&&0!==e.clientHeight){var i=t.fl?t.Hd:0,n=t.Vj?t.Hd:0,o=t.Ed;t.Ed=t.computePixelRatio(),t.Ed!==o&&(t.Hr=!0,t.Ne()),e.clientWidth===t.Jb+i&&e.clientHeight===t.Mb+n||(t.Em=!0,t.Ce=!0,e=t.Tb,null!==e&&e.Dx&&t.Kl===Qc&&e.J(),t.$d||t.Ne())}}}function _i(t){var e=new Ri;e.name="Background",t.wt(e),e=new Ri,e.name="",t.wt(e),e=new Ri,e.name="Foreground",t.wt(e),e=new Ri,e.name="Adornment",e.Mc=!0,t.wt(e),e=new Ri,e.name="Tool",e.Mc=!0,e.nF=!0,t.wt(e),e=new Ri,e.name="Grid",e.yf=!1,e.Wg=!1,e.Mc=!0,t.eH(e,t.Nt("Background"))}function Ui(t){t.rd=new ir(ep),t.rd.name="GRID";var e=new Pr;e.Cb="LineH",e.stroke="lightgray",e.lb=.5,e.interval=1,t.rd.add(e),e=new Pr,e.Cb="LineH",e.stroke="gray",e.lb=.5,e.interval=5,t.rd.add(e),e=new Pr,e.Cb="LineH",e.stroke="gray",e.lb=1,e.interval=10,t.rd.add(e),e=new Pr,e.Cb="LineV",e.stroke="lightgray",e.lb=.5,e.interval=1,t.rd.add(e),e=new Pr,e.Cb="LineV",e.stroke="gray",e.lb=.5,e.interval=5,t.rd.add(e),e=new Pr,e.Cb="LineV",e.stroke="gray",e.lb=1,e.interval=10,t.rd.add(e),e=new us,e.add(t.rd),e.ag="Grid",e.eo=0,e.EA=!1,e.mF=!1,e.Wg=!1,e.JA="GRID",t.add(e),t.zb.remove(e),t.rd.visible=!1}function Ki(){this.fa.isEnabled?this.fa.NH(this):xn(this.fa)}function $i(t){this.fa.isEnabled?(this.fa.Cz=!0,this.fa.Ez=t.target.scrollTop,this.fa.Dz=t.target.scrollLeft):xn(this.fa)}function Wi(t){if(t.UE.I()){var e=t.UE.copy();return e.Ow(t.padding),e}for(var i=!0,n=t.cc.n,o=n.length,r=0;r<o;r++){var s=n[r];if(s.visible&&(!s.Mc||s.nF))for(var s=s.zb.n,a=s.length,l=0;l<a;l++){var h=s[l];h.EA&&h.isVisible()&&(h=h.W,h.I()&&(i?(i=!1,e=h.copy()):e.Jh(h)))}}return i&&(e=new S(0,0,0,0)),e.Ow(t.padding),e}function Yi(t,e){if((e||t.gh)&&!t.Tc&&null!==t.Fb&&!t.Oa.pf&&t.se.I()){t.Tc=!0;var i=t.vm;e&&t.hl!==Qc&&(i=t.hl);var n=i!==Qc?Ji(t,i):t.scale,i=t.qb.copy(),o=t.Jb/n,r=t.Mb/n,s=null,a=t.Oa;a.qc&&(s=t.jb.copy()),t.position.Qa();var l=t.qo;e&&!l.Yc()&&t.Jo.Yc()&&(l=t.Jo),Xi(t,t.jb,t.se,o,r,l,e),t.position.freeze(),null!==s&&Li(a,s,t.jb),o=t.scale,t.scale=n,t.Tc=!1,n=t.qb,n.Lc(i)||t.zu(i,n,o,t.scale,!1)}}function Ji(t,e){var i=t.ob.ex;if(null===t.Fb)return i;t.Wj&&Yn(t,t.uh());var n=t.se;if(!n.I())return i;var o=n.width,n=n.height,r=t.Jb,s=t.Mb,a=r/o,l=s/n;return e===Zc?(o=Math.min(l,a),o>i&&(o=i),o<t.Ah&&(o=t.Ah),o>t.zh&&(o=t.zh),o):e===td?(o=l>a?(s-t.Hd)/n:(r-t.Hd)/o,o>i&&(o=i),o<t.Ah&&(o=t.Ah),o>t.zh&&(o=t.zh),o):t.scale}function Xi(t,e,i,n,o,r,s){var a=e.x,l=e.y;(s||t.fB===ad)&&(r.Yc()&&(n>i.width&&(a=i.x+(r.x*i.width+r.offsetX)-(r.x*n-r.offsetX)),o>i.height&&(l=i.y+(r.y*i.height+r.offsetY)-(r.y*o-r.offsetY))),r=t.gy,s=n-i.width,n<i.width+r.left+r.right?(a=Math.min(a+n/2,i.right+Math.max(s,r.right)-n/2),a=Math.max(a,i.left-Math.max(s,r.left)+n/2),a-=n/2):a>i.left?a=i.left:a<i.right-n&&(a=i.right-n),n=o-i.height,o<i.height+r.top+r.bottom?(l=Math.min(l+o/2,i.bottom+Math.max(n,r.bottom)-o/2),l=Math.max(l,i.top-Math.max(n,r.top)+o/2),l-=o/2):l>i.top?l=i.top:l<i.bottom-o&&(l=i.bottom-o)),e.x=isFinite(a)?a:-t.padding.left,e.y=isFinite(l)?l:-t.padding.top,null!==t.SF&&(t=t.SF(t,e),e.x=t.x,e.y=t.y)}function Qi(t,e,i,n){for(void 0===i&&(i=null),void 0===n&&(n=null),cn(t),t=t.cc.Hn;t.next();){var o=t.value;if(o.visible&&!o.Mc&&null!==(o=o.Le(e,i,n)))return o}return null}function Zi(t,e,i,n,o){n.g=e,n.event=i,o?rn(t,i,n):(n.ef=e.Rb.ef,n.ca=e.Rb.ca),t=0,i.ctrlKey&&(t+=1),i.altKey&&(t+=2),i.shiftKey&&(t+=4),i.metaKey&&(t+=8),n.zd=t,n.button=i.button,void 0===i.buttons||Kh.wI||(n.buttons=i.buttons),Kh.Gk&&0===i.button&&i.ctrlKey&&(n.button=2),n.Sl=!1,n.up=!1,n.Ge=1,n.Rl=0,n.Dc=!1,n.bubbles=!1,n.timestamp=Date.now(),n.ju=!1,n.Yg=tn(i),n.Re=null}function tn(t){var e=t.target.fa;if(!e){var i=t.path;i||"function"!=typeof t.wH||(i=t.wH()),i&&i[0]&&(e=i[0].fa)}return e||null}function en(t,e,i,n,o){n.g=t,rn(t,i,n),n.zd=0,n.button=0,n.buttons=1,n.Sl=!0,n.up=!1,n.Ge=1,n.Rl=0,n.Dc=!1,n.bubbles=!0,n.event=e,n.timestamp=Date.now(),n.ju=o,n.Yg=tn(e),n.Re=null,t.Li=n.copy(),Mc=null}function nn(t,i,n,o,r){var s=null;o.g=t,null!==n?((s=e.document.elementFromPoint(n.clientX,n.clientY))&&s.fa?s=s.fa:(n=i instanceof TouchEvent?i.targetTouches[0]:i,s=t),o.Yg=s,rn(t,n,o)):null!==t.Vc?(o.ca=t.Vc.ca,o.ef=t.Vc.ef,o.Yg=t.Vc.Yg):null!==t.Li&&(o.ca=t.Li.ca,o.ef=t.Li.ef,o.Yg=t.Li.Yg),o.zd=0,o.button=0,o.buttons=1,o.Sl=!1,o.up=!1,o.Ge=1,o.Rl=0,o.Dc=!1,o.bubbles=!1,o.event=i,o.timestamp=Date.now(),o.ju=r,o.Re=null}function on(t,e){return!!t.bubbles||(void 0!==e.stopPropagation&&e.stopPropagation(),e.preventDefault(),e.cancelBubble=!0,!1)}function rn(t,e,i){var n=t.Fb,o=t.Jb,r=t.Mb,s=0,a=0;null!==n&&(n=n.getBoundingClientRect(),s=e.clientX-o/n.width*n.left,a=e.clientY-r/n.height*n.top),i.ef.m(s,a),null!==t.jd?(e=Kh.xb(s,a),t.jd.pi(e),i.ca.assign(e),Kh.v(e)):i.ca.m(s,a)}function sn(t,e,i,n){var o=null;if(void 0!==e.targetTouches){if(2>e.targetTouches.length)return;o=e.targetTouches[i]}else{if(null===t.Zh[0])return;o=t.Zh[i]}i=t.Fb,e=t.Jb,t=t.Mb;var r=0,s=0;null!==i&&null!==o&&(i=i.getBoundingClientRect(),r=o.clientX-e/i.width*i.left,s=o.clientY-t/i.height*i.top),n.m(r,s)}function an(t){t.$d||cn(t),t.Wj&&Yn(t,t.uh())}function ln(t,e){t.Oa.pf||t.Tc||!t.Em||xn(t)||(e&&cn(t),Yi(t,!1))}function hn(t){if(!t.$d&&(t.Tf=!1,null!==t.Nb)){t.$d=!0;var e=t.Oa,i=t.yz;if(!e.Po&&0!==i.length){for(var n=i.n,o=n.length,r=0;r<o;r++){var s=n[r];Yo(s,!1),s.H()}i.clear()}i=t.OC,0<i.count&&(i.each(function(t){t.EB()}),i.clear()),n=i=!1,e.pf&&(n=!0,i=t.wb,t.wb=!0),e.qc||Gi(t),ln(t,!1),null!==t.rd&&(t.rd.visible&&!t.Dv&&(Mn(t),t.Dv=!0),!t.rd.visible&&t.Dv&&(t.Dv=!1)),cn(t),o=!1,t.gh&&!t.tm||(t.gh?Qn(t,!t.uv):(t.Hb("Initial Layout"),!1===e.isEnabled&&e.Gh(),Qn(t,!1)),o=!0),t.uv=!1,cn(t),t.Gz||e.pf||an(t),ln(t,!0),o&&(t.gh||un(t),t.Aa("LayoutCompleted")),cn(t),o&&!t.gh&&(t.gh=!0,t.Wc("Initial Layout"),t.wb||t.ia.clear(),Kh.setTimeout(function(){t.ri=!1},1)),gn(t),Ci(e),t.ue(t.ff),n&&(t.wb=i),t.$d=!1}}function un(t){var e=t.cc.n;if(t.Gf(e,e.length,t),t.hl!==Qc?t.scale=Ji(t,t.hl):t.vm!==Qc?t.scale=Ji(t,t.vm):(e=t.qI,isFinite(e)&&0<e&&(t.scale=e)),e=t.pI,e.I())t.position=e;else{e=Kh.K(),e.Wn(t.se,t.oI);var i=t.qb,i=Kh.lg(0,0,i.width,i.height),n=Kh.K();n.Wn(i,t.rI),n.m(e.x-n.x,e.y-n.y),t.position=n,Kh.Db(i),Kh.v(n),Kh.v(e),vn(t),ln(t,!0),Yi(t,!0)}t.Aa("InitialLayoutCompleted"),Mn(t)}function cn(t){if((t.$d||!t.Oa.pf)&&0!==t.wg.count){for(var e=0;23>e;e++){var i=t.wg.i;if(null===i||0===t.wg.count)break;t.wg=new p(us),t.EB(i,t.wg)}t.ig.each(function(t){t instanceof Pa&&0!=(65536&t.ya)!=!1&&(t.ya^=65536)})}}function dn(t,e){for(var i=Kh.cb(),n=Kh.cb(),o=e.Oc;o.next();){var r=o.value;r.isVisible()&&(r instanceof Pa?(Wo(r)||Jo(r)||Ss(r))&&dn(t,r):r instanceof Ws?r.Y===e||r.Z===e?n.push(r):i.push(r):(No(r,1/0,1/0),r.jc()))}for(var o=i.length,s=0;s<o;s++)r=i[s],No(r,1/0,1/0),r.jc();for(Kh.ta(i),No(e,1/0,1/0),e.jc(),o=n.length,s=0;s<o;s++)r=n[s],No(r,1/0,1/0),r.jc();Kh.ta(n)}function pn(t,e,i,n,o){null===t.Nb&&Kh.k("No div specified");var r=t.Fb;if(null===r&&Kh.k("No canvas specified"),!t.Oa.qc){var s=t.ff;if(t.Ce){bn(t);var a=t.Ed;Kh.En?(r.width=r.width,s.Fe(!0)):(s.setTransform(1,0,0,1,0,0),s.clearRect(0,0,t.Jb*a,t.Mb*a)),s.ky(!1),s.drawImage(t.Xy.Kd,0<n?0:Math.round(-n),0<o?0:Math.round(-o)),o=t.jb;var r=t.ub,l=Math.round(o.x*r)/r,h=Math.round(o.y*r)/r;for(n=t.jd,n.reset(),1!==r&&n.scale(r),0===o.x&&0===o.y||n.translate(-l,-h),s.save(),s.beginPath(),o=i.length,r=0;r<o;r++)l=i[r],0!==l.width&&0!==l.height&&s.rect(Math.floor(l.x),Math.floor(l.y),Math.ceil(l.width),Math.ceil(l.height));for(s.clip(),s.setTransform(1,0,0,1,0,0),s.scale(a,a),s.transform(n.m11,n.m12,n.m21,n.m22,n.dx,n.dy),i=t.cc.n,o=i.length,t.Gf(i,o,t),yn(t,s),r=0;r<o;r++)Fi(i[r],s,t,e);s.restore(),s.Fe(!0),t.gl?t.gl.nm(t)&&t.xv():t.zr=function(){return new w(0,0)},t.il=!1,t.Ce=!1,t.Xx()}}}function fn(t,e,i,n,o,r,s,a,l,h){null===t.Nb&&Kh.k("No div specified"),null===t.Fb&&Kh.k("No canvas specified"),void 0===s&&(s=null),void 0===a&&(a=null),void 0===l&&(l=!1),void 0===h&&(h=!1),bn(t),t.ff.Fe(!0),mn(t),t.mz=!0;var u=t.ub;t.ub=o;var c=t.cc.n,d=c.length;try{var f=new S(r.x,r.y,n.width/o,n.height/o),y=f.copy();y.Ow(i),Mn(t,y),cn(t),t.Gf(c,d,t,f);var g=t.Ed;e.setTransform(1,0,0,1,0,0),e.scale(g,g),e.clearRect(0,0,n.width,n.height),null!==a&&""!==a&&(e.fillStyle=a,e.fillRect(0,0,n.width,n.height));var v=Kh.Jf();v.reset(),v.translate(i.left,i.top),v.scale(o),0===r.x&&0===r.y||v.translate(-r.x,-r.y),e.setTransform(v.m11,v.m12,v.m21,v.m22,v.dx,v.dy),Kh.we(v),yn(t,e);var m;if(null!==s){var b=new p(us),x=s.i;for(x.reset();x.next();){var C=x.value;!1===h&&"Grid"===C.layer.name||null===C||b.add(C)}m=function(i){var n=l;if(i.visible&&0!==i.yc&&(void 0===n&&(n=!0),n||!i.Mc)){var n=i.zb.n,o=n.length;if(0!==o){1!==i.yc&&(e.globalAlpha=i.yc),i=i.kw,i.length=0;for(var r=t.scale,s=0;s<o;s++){var a=n[s];if(Es(a)&&b.contains(a)){if(a instanceof Ws){var h=a;if(h.ac&&i.push(h),!1===h.Lf)continue}h=a.W,1<h.width*r||1<h.height*r?a.ue(e,t):Cs(a,e)}}e.globalAlpha=1}}}}else if(!l&&h){var k=t.Cn.U,M=k.layer;m=function(i){i===M?k.ue(e,t):i.ue(e,t,l)}}else m=function(i){i.ue(e,t,l)};for(i=0;i<d;i++)m(c[i]);t.mz=!1,t.gl?t.gl.nm(t)&&t.xv():t.zr=function(){return new w(0,0)}}finally{t.ub=u,t.ff.Fe(!0),mn(t),t.Gf(c,d,t),Mn(t)}}function yn(t,e){var i=t.hk;null!==i&&(void 0!==i.imageSmoothingEnabled&&e.ky(!!i.imageSmoothingEnabled),void 0!==(i=i.defaultFont)&&null!==i&&(e.font=i))}function gn(t){if(0===t.ia.Ih&&0!==t.bl.count){for(;0<t.bl.count;){var e=t.bl;for(t.bl=new b(Ws,S),e=e.i;e.next();){var i=e.key;ua(i,e.value),i.Me()}}t.oa()}}function vn(t){!1===t.Em&&(t.Em=!0)}function mn(t){!1===t.il&&(t.il=!0)}function bn(t){!1!==t.Hr&&(t.Hr=!1,wn(t,t.Jb,t.Mb))}function wn(t,e,i){var n=t.Fb,o=t.Ed,r=e*o,o=i*o;n.width===r&&n.height===o||(n.width=r,n.height=o,n.style.width=e+"px",n.style.height=i+"px",t.Ce=!0,t.ff.Fe(!0))}function xn(t){var e=t.Fb;if(null===e)return!0;var i=t.Nb,n=t.Jb,o=t.Mb,r=t.cE.copy();if(!r.I())return!0;var s=!1,a=t.fl?t.Hd:0,l=t.Vj?t.Hd:0,h=i.clientWidth||n+a,i=i.clientHeight||o+l;h===n+a&&i===o+l||(t.fl=!1,t.Vj=!1,l=a=0,t.Jb=h,t.Mb=i,s=t.Hr=!0),t.Em=!1;var u=t.qb,c=t.se,d=0,p=0,f=0,y=0,h=u.width,i=u.height,g=t.gy;t.$z.Yc()?(c.width>h&&(d=g.left,p=g.right),c.height>i&&(f=g.top,y=g.bottom)):(d=g.left,p=g.right,f=g.top,y=g.bottom);var g=c.width+d+p,v=c.height+f+y,d=c.x-d,m=u.x,p=c.right+p,b=u.right+a,f=c.y-f,w=u.y,y=c.bottom+y,u=u.bottom+l,x="1px",C="1px",c=t.scale,k=!(g<h+a),S=!(v<i+l);(t.fB!==ad||k||S)&&(k&&t.wA&&t.oe&&(x=1,d+1<m&&(x=Math.max((m-d)*c+t.Jb,x)),p>b+1&&(x=Math.max((p-b)*c+t.Jb,x)),h+a+1<g&&(x=Math.max((g-h+a)*c+t.Jb,x)),x=x.toString()+"px"),S&&t.xA&&t.pe&&(C=1,f+1<w&&(C=Math.max((w-f)*c+t.Mb,C)),y>u+1&&(C=Math.max((y-u)*c+t.Mb,C)),i+l+1<v&&(C=Math.max((v-i+l)*c+t.Mb,C)),C=C.toString()+"px"));var k="1px"!==x,M="1px"!==C;if(k&&M||!k&&!M||(S=!(v<i+l),M&&(b-=t.Hd),k&&(u-=t.Hd),g<h+a||!t.wA||!t.oe||(x=1,d+1<m&&(x=Math.max((m-d)*c+t.Jb,x)),p>b+1&&(x=Math.max((p-b)*c+t.Jb,x)),h+1<g&&(x=Math.max((g-h)*c+t.Jb,x)),x=x.toString()+"px"),k="1px"!==x,a=k!==t.Vj?t.Mb-t.Hd:t.Mb,S&&t.xA&&t.pe&&(C=1,f+1<w&&(C=Math.max((w-f)*c+a,C)),y>u+1&&(C=Math.max((y-u)*c+a,C)),i+1<v&&(C=Math.max((v-i)*c+a,C)),C=C.toString()+"px"),M="1px"!==C),t.sw&&k===t.Vj&&M===t.fl)return n===t.Jb&&o===t.Mb||t.cg(),!1;if(k!==t.Vj&&(t.Mb="1px"===x?t.Mb+t.Hd:Math.max(t.Mb-t.Hd,1),s=!0),t.Vj=k,t.Ts.style.width=x,M!==t.fl&&(t.Jb="1px"===C?t.Jb+t.Hd:Math.max(t.Jb-t.Hd,1),s=!0,t.Mr&&(a=Kh.K(),M?(e.style.left=t.Hd+"px",t.position=a.m(t.jb.x+t.Hd/t.scale,t.jb.y)):(e.style.left="0px",t.position=a.m(t.jb.x-t.Hd/t.scale,t.jb.y)),Kh.v(a))),t.fl=M,t.Ts.style.height=C,e=t.ww,a=e.scrollLeft,t.wA&&t.oe&&(h+1<g?a=(t.position.x-d)*c:d+1<m?a=e.scrollWidth-e.clientWidth:p>b+1&&(a=t.position.x*c)),t.Mr)switch(t.Az){case"negative":a=-(e.scrollWidth-a-e.clientWidth);break;case"reverse":a=e.scrollWidth-a-e.clientWidth}return e.scrollLeft=a,t.xA&&t.pe&&(i+1<v?e.scrollTop=(t.position.y-f)*c:f+1<w?e.scrollTop=e.scrollHeight-e.clientHeight:y>u+1&&(e.scrollTop=t.position.y*c)),s&&(t.Hr=!0),h=t.Jb,i=t.Mb,e.style.width=h+(t.fl?t.Hd:0)+"px",e.style.height=i+(t.Vj?t.Hd:0)+"px",t.Cz=!1,n===h&&o===i&&!t.Oa.qc||(u=t.qb,t.zu(r,u,c,t.scale,s),!1)}function Cn(t,e,i){var n=e.layer;null!==n&&n.g===t&&(e.ib=!1,e.Pg=!1,e.J(Pp),i&&e.vn(),i=n.of(-1,e,!1),0<=i&&t.ad(vc,"parts",n,e,null,i,null),null!==(t=e.Gx)&&t(e,n,null))}function kn(t,e,i){if(Kh.G(e,Ri,Vi,"addLayer:layer"),null!==e.g&&e.g!==t&&Kh.k("Cannot share a Layer with another Diagram: "+e+" of "+e.g),null===i?null!==e.g&&Kh.k("Cannot add an existing Layer to this Diagram again: "+e):(Kh.G(i,Ri,Vi,"addLayer:existingLayer"),i.g!==t&&Kh.k("Existing Layer must be in this Diagram: "+i+" not in "+i.g),e===i&&Kh.k("Cannot move a Layer before or after itself: "+e)),e.g!==t){e=e.name,t=t.cc,i=t.count;for(var n=0;n<i;n++)t.da(n).name===e&&Kh.k("Cannot add Layer with the name '"+e+"'; a Layer with the same name is already present in this Diagram.")}}function Sn(t,e,i){if(t.Tc||t.$d)t.ub=i,i=t.Oa,i.qc&&Ni(i,e,t.ub);else if(t.Tc=!0,null===t.Fb)t.ub=i;else{var n=t.qb.copy(),o=t.Jb,r=t.Mb;n.width=t.Jb/e,n.height=t.Mb/e;var s=t.om.x,a=t.om.y,l=t.$z;isNaN(s)&&(l.uj()?l.sj(wu)?s=0:l.sj(xu)&&(s=o-1):s=l.Yc()?l.x*(o-1):o/2),isNaN(a)&&(l.uj()?l.sj(bu)?a=0:l.sj(Cu)&&(a=r-1):a=l.Yc()?l.y*(r-1):r/2),null!==t.dG&&(i=t.dG(t,i)),i<t.Ah&&(i=t.Ah),i>t.zh&&(i=t.zh),o=Kh.xb(t.jb.x+s/e-s/i,t.jb.y+a/e-a/i),t.position=o,Kh.v(o),t.ub=i,t.zu(n,t.qb,e,i,!1),t.Tc=!1,Yi(t,!1),i=t.Oa,i.qc&&Ni(i,e,t.ub),t.oa(),vn(t)}}function Mn(t,e){void 0===e&&(e=null);var i=t.rd;if(null!==i&&i.visible){for(var n=Kh.lm(),o=1,r=1,s=i.xa.n,a=s.length,l=0;l<a;l++){var h=s[l],u=h.interval;2>u||(lr(h.Cb)?r=r*u/gt(r,u):o=o*u/gt(o,u))}if(s=i.ux,n.m(r*s.width,o*s.height),s=r=l=a=0,null!==e)a=e.width,l=e.height,r=e.x,s=e.y;else{for(o=Kh.If(),r=t.qb,o.m(r.x,r.y,r.width,r.height),s=t.lw.i;s.next();)r=s.value.qb,r.I()&&D(o,r.x,r.y,r.width,r.height);if(!o.I())return void Kh.Db(o);a=o.width,l=o.height,r=o.x,s=o.y,Kh.Db(o)}i.width=a+2*n.width,i.height=l+2*n.height,o=Kh.K(),yt(r,s,0,0,n.width,n.height,o),o.offset(-n.width,-n.height),Kh.Bk(n),i.U.location=o,Kh.v(o)}}function Tn(t){if(t=t.selection,0<t.count){for(var e=t.gc(),i=e.length,n=0;n<i;n++)e[n].ib=!1;t.Qa(),t.clear(),t.freeze()}}function En(t){var e=t.ri;t.dE!==e&&(t.dE=e,t.Aa("Modified"))}function In(t,e){if(e.$===t.$){var i=e.Ac,n=e.propertyName;if(i===fc&&"S"===n[0])if("StartingFirstTransaction"===n)i=t.eb,i.df.each(function(e){e.Rc(t)}),i.dg.each(function(e){e.Rc(t)}),i.eg.each(function(e){e.Rc(t)}),t.$d||t.gh||(t.uv=!0,t.Eo&&(t.Tf=!0));else if("StartingUndo"===n||"StartingRedo"===n){var o=t.Oa;o.pf&&!t.wb&&o.Gh(),t.Aa("ChangingSelection")}else"StartedTransaction"===n&&(o=t.Oa,o.pf&&!t.wb&&o.Gh());else if(t.Ta){t.Ta=!1;try{var r=e.rf;if(""!==r)if(i===yc){if("linkFromKey"===r){var s=e.object,a=t.Xf(s);if(null!==a){var l=e.newValue,h=t.Ke(l);a.Y=h}}else if("linkToKey"===r)s=e.object,null!==(a=t.Xf(s))&&(l=e.newValue,h=t.Ke(l),a.Z=h);else if("linkFromPortId"===r){if(s=e.object,null!==(a=t.Xf(s))){var u=e.newValue;"string"==typeof u&&(a.Og=u)}}else if("linkToPortId"===r)s=e.object,null!==(a=t.Xf(s))&&"string"==typeof(u=e.newValue)&&(a.Hh=u);else if("nodeGroupKey"===r){var s=e.object,c=t.xh(s);if(null!==c){var d=e.newValue;if(void 0!==d){var p=t.Ke(d);c.Da=p instanceof Pa?p:null}else c.Da=null}}else if("linkLabelKeys"===r){if(s=e.object,null!==(a=t.Xf(s))){var f=e.oldValue,y=e.newValue;if(Kh.isArray(f))for(var g=Kh.Za(f),v=0;v<g;v++){var m=Kh.Ba(f,v),h=t.Ke(m);null!==h&&(h.Wb=null)}if(Kh.isArray(y))for(g=Kh.Za(y),v=0;v<g;v++)m=Kh.Ba(y,v),null!==(h=t.Ke(m))&&(h.Wb=a)}}else if("nodeParentKey"===r){var b=e.object,w=t.Ke(e.newValue),x=t.ox(b);if(null!==x){var C=x.xn();null!==C?null===w?t.remove(C):t.Td?C.Y=w:C.Z=w:zn(t,w,x)}}else if("parentLinkCategory"===r){var b=e.object,x=t.ox(b),k=e.newValue;null!==x&&"string"==typeof k&&null!==(C=x.xn())&&(C.vd=k)}else if("nodeCategory"===r){var s=e.object,S=t.xh(s),k=e.newValue;null!==S&&"string"==typeof k&&(S.vd=k)}else if("linkCategory"===r){var s=e.object,M=t.Xf(s),k=e.newValue;null!==M&&"string"==typeof k&&(M.vd=k)}else if("nodeDataArray"===r){var T=e.oldValue;Un(t,T);var E=e.newValue;An(t,E)}else"linkDataArray"===r&&(T=e.oldValue,Un(t,T),E=e.newValue,qn(t,E));t.ri=!0}else i===gc?(E=e.newValue,"nodeDataArray"===r&&Kh.Pa(E)?Bn(t,E):"linkDataArray"===r&&Kh.Pa(E)?Gn(t,E):"linkLabelKeys"===r&&Ut(E)&&(a=t.Xf(e.object),h=t.Ke(E),null!==a&&null!==h&&(h.Wb=a)),t.ri=!0):i===vc?(T=e.oldValue,"nodeDataArray"===r&&Kh.Pa(T)?Kn(t,T):"linkDataArray"===r&&Kh.Pa(T)?Kn(t,T):"linkLabelKeys"===r&&Ut(T)&&null!==(h=t.Ke(T))&&(h.Wb=null),t.ri=!0):i===fc&&("SourceChanged"===r?null!==e.object?Pn(t,e.object,e.propertyName):(t.WJ(),t.CG()):"ModelDisplaced"===r&&t.em());else if(i===yc){var I=e.propertyName,s=e.object;s===t.$?"nodeKeyProperty"!==I&&"nodeCategoryProperty"!==I&&"linkFromKeyProperty"!==I&&"linkToKeyProperty"!==I&&"linkFromPortIdProperty"!==I&&"linkToPortIdProperty"!==I&&"linkLabelKeysProperty"!==I&&"nodeIsGroupProperty"!==I&&"nodeGroupKeyProperty"!==I&&"nodeParentKeyProperty"!==I&&"linkCategoryProperty"!==I||t.ia.ab||t.em():Pn(t,s,I),t.ri=!0}else if(i===gc||i===vc)Dn(t,e),t.ri=!0;else if(i===fc){"FinishedUndo"!==n&&"FinishedRedo"!==n||(t.ia.Of=!0,t.Aa("ChangedSelection"),cn(t),t.ia.Of=!1),o=t.Oa,"RolledBackTransaction"===n&&o.Gh(),t.uv=!0,t.cg(),0===t.ia.Ih&&Ci(o),"CommittedTransaction"===n&&t.ia.oz&&(t.fh=Math.min(t.fh,t.ia.rj-1));var P=e.yF;P&&(En(t),t.Kx.clear()),!t.vz&&P&&(t.vz=!0,Kh.setTimeout(function(){t.$a.standardMouseOver(),t.vz=!1},10))}}finally{t.Ta=!0}}}}function Pn(t,e,i){if("string"==typeof i){var n=t.xh(e);if(null!==n)n.Ib(i),t.$ instanceof ie&&null!==(n=t.Xf(e))&&n.Ib(i);else{for(var n=null,o=t.Hm.i;o.next();){for(var r=o.value,s=0;s<r.length;s++){var a=r[s].TH(e);null!==a&&(null===n&&(n=Kh.cb()),n.push(a))}if(null!==n)break}if(null!==n){for(o=0;o<n.length;o++)n[o].Ib(i);Kh.ta(n)}}e===t.$.Hk&&t.CG(i)}}function Dn(t,e){var i=e.Ac===gc,n=i?e.zj:e.Aj,o=i?e.newValue:e.oldValue,r=t.Hm.ka(e.object);if(Array.isArray(r))for(var s=0;s<r.length;s++){var a=r[s];if(i)kr(a,o,n);else{var l=n;if(!(0>l)){var h=l;Cr(a)&&h++,a.of(h,!0),Sr(a,h,l)}}}}function On(t,e){var i=e.$j;if(Kh.isArray(i)){var n=t.Hm.ka(i);if(null===n)n=[],n.push(e),t.Hm.add(i,n);else{for(i=0;i<n.length;i++)if(n[i]===e)return;n.push(e)}}}function Ln(t,e){var i=e.$j;if(Kh.isArray(i)){var n=t.Hm.ka(i);if(null!==n)for(var o=0;o<n.length;o++)if(n[o]===e){n.splice(o,1),0===n.length&&t.Hm.remove(i);break}}}function Nn(t,e){for(var i=e.xa.n,n=i.length,o=0;o<n;o++){var r=i[o];r instanceof Kr&&jn(t,r)}}function jn(t,e){var i=e.element;if(null!==i&&i instanceof HTMLImageElement){var n=e.Ue;if(null!==n&&(n.Go instanceof Event&&null!==e.Ve&&e.Ve(e,n.Go),!0===n.Kr&&(null!==e.ki&&e.ki(e,n.Bz),null!==e.g&&e.g.yz.add(e))),i=i.src,null===(n=t.dp.ka(i)))n=[],n.push(e),t.dp.add(i,n);else{for(i=0;i<n.length;i++)if(n[i]===e)return;n.push(e)}}}function Rn(t,e){for(var i=e.xa.n,n=i.length,o=0;o<n;o++){var r=i[o];r instanceof Kr&&Fn(t,r)}}function Fn(t,e){var i=e.element;if(null!==i&&i instanceof HTMLImageElement){var i=i.src,n=t.dp.ka(i);if(null!==n)for(var o=0;o<n.length;o++)if(n[o]===e){n.splice(o,1),0===n.length&&t.dp.remove(i);break}}}function An(t,e){if(null!==e){for(var i=t.$,n=i instanceof Qt,o=Kh.Za(e),r=0;r<o;r++){var s=Kh.Ba(e,r);i.He(s)?Bn(t,s,!1):n&&Gn(t,s)}if(n||i instanceof ie){for(r=0;r<o;r++)s=Kh.Ba(e,r),i.He(s)&&Hn(t,s);if(n)for(i=t.links;i.next();)Ys(i.value)}Jn(t,!1)}}function Bn(t,e,i){if(void 0!==e&&null!==e&&!t.ia.ab&&!t.Ei.contains(e)){void 0===i&&(i=!0);var n=t.rA(e),o=Vn(t,e,n);if(null!==o&&(xr(o),null!==(o=o.copy()))){var r=t.Pe;t.Pe=!0,o.yi=n,o.Zd=e,t.add(o),o.Zd=null,o.data=e,i&&Hn(t,e),t.Pe=r}}}function Vn(t,e,i){var n=!1,o=t.$;return o instanceof Qt&&(n=o.DA(e)),n?null===(e=t.vA.ka(i))&&null===(e=t.vA.ka(""))&&(pd||(pd=!0,Kh.trace('No Group template found for category "'+i+'"'),Kh.trace("  Using default group template")),e=t.tC):null===(e=t.UA.ka(i))&&null===(e=t.UA.ka(""))&&(dd||(dd=!0,Kh.trace('No Node template found for category "'+i+'"'),Kh.trace("  Using default node template")),e=t.vC),e}function Hn(t,e){var i=t.$;if(i instanceof Qt||i instanceof ie){var n=i.pb(e);if(void 0!==n){var o=Jt(i,n),r=t.xh(e);if(null!==o&&null!==r){for(o=o.i;o.next();){var s=o.value;if(i instanceof Qt){var a=i;if(a.He(s)){if(r instanceof Pa&&a.zn(s)===n){var l=r,s=t.xh(s);null!==s&&(s.Da=l)}}else{var h=t.Xf(s);if(null!==h&&r instanceof js&&(l=r,a.Wl(s)===n&&(h.Y=l),a.Xl(s)===n&&(h.Z=l),s=a.Ck(s),Kh.isArray(s)))for(a=0;a<Kh.Za(s);a++)if(Kh.Ba(s,a)===n){l.Wb=h;break}}}else i instanceof ie&&(h=i,h.He(s)&&r instanceof js&&(l=r,h.Bn(s)===n&&(s=t.ox(s),zn(t,l,s))))}Yt(i,n)}i instanceof Qt?void 0!==(i=i.zn(e))&&(i=t.Ke(i))instanceof Pa&&(r.Da=i):i instanceof ie&&void 0!==(i=i.Bn(e))&&r instanceof js&&(l=r,r=t.Ke(i),zn(t,r,l))}}}function zn(t,e,i){if(null!==e&&null!==i){var n=t.eb.DF,o=e,r=i;if(t.Td){for(e=r.ge;e.next();)if(e.value.Z===r)return}else for(o=i,r=e,e=o.ge;e.next();)if(e.value.Y===o)return;if((null===n||!Ge(n,o,r,null,!0))&&(n=t.sx(i.data),null!==(e=_n(t,n))&&(xr(e),null!==(e=e.copy())))){var s=t.Pe;t.Pe=!0,e.yi=n,e.Zd=i.data,e.Y=o,e.Z=r,t.add(e),e.Zd=null,e.data=i.data,t.Pe=s}}}function qn(t,e){if(null!==e){for(var i=Kh.Za(e),n=0;n<i;n++){Gn(t,Kh.Ba(e,n))}Jn(t,!1)}}function Gn(t,e){if(void 0!==e&&null!==e&&!t.ia.ab&&!t.Lj.contains(e)){var i=t.sx(e),n=_n(t,i);if(null!==n&&(xr(n),null!==(n=n.copy()))){var o=t.Pe;t.Pe=!0,n.yi=i,n.Zd=e;var i=t.$,r=i.$H(e);if(""!==r&&(n.Og=r),r=i.Wl(e),void 0!==r&&(r=t.Ke(r))instanceof js&&(n.Y=r),r=i.dI(e),""!==r&&(n.Hh=r),r=i.Xl(e),void 0!==r&&(r=t.Ke(r))instanceof js&&(n.Z=r),i=i.Ck(e),Kh.isArray(i))for(var r=Kh.Za(i),s=0;s<r;s++){var a=Kh.Ba(i,s),a=t.Ke(a);null!==a&&(a.Wb=n)}t.add(n),n.Zd=null,n.data=e,t.Pe=o}}}function _n(t,e){var i=t.IA.ka(e);return null===i&&null===(i=t.IA.ka(""))&&(fd||(fd=!0,Kh.trace('No Link template found for category "'+e+'"'),Kh.trace("  Using default link template")),i=t.uC),i}function Un(t,e){for(var i=Kh.Za(e),n=0;n<i;n++){Kn(t,Kh.Ba(e,n))}}function Kn(t,e){if(void 0!==e&&null!==e){var i=t.xh(e);if(null!==i){Cn(t,i,!1);var n=t.$;if(n instanceof Qt&&i instanceof js){var o=n.pb(i.data);if(void 0!==o){for(var r=i.ge;r.next();)Wt(n,o,r.value.data);if(i.Af&&null!==(r=i.Wb)&&Wt(n,o,r.data),i instanceof Pa)for(i=i.Oc;i.next();)r=i.value.data,n.He(r)&&Wt(n,o,r)}}else if(n instanceof ie&&i instanceof js){if(null!==(r=t.Xf(i.data))){r.ib=!1,r.Pg=!1;var s=r.layer;if(null!==s){var a=s.of(-1,r,!1);0<=a&&t.ad(vc,"parts",s,r,null,a,null),a=r.Gx,null!==a&&a(r,s,null)}}for(r=t.Td,i=i.ge;i.next();)s=i.value,s=(r?s.Z:s.Y).data,n.He(s)&&Wt(n,o,s)}}}}function $n(t,e,i){for(var n in i){var o=e[n],r=i[n];if(Kh.isArray(r)){if(!Kh.isArray(o)||o.length<r.length)return!1;for(var s=0;s<o.length;s++){var a=o[s],l=r[s];if(void 0!==l&&!Wn(t,a,l))return!1}}else if(!Wn(t,o,r))return!1}return!0}function Wn(t,e,i){if("function"==typeof i){if(!i(e))return!1}else if(i instanceof RegExp){if(!e||!i.test(e.toString()))return!1}else if(Kh.Pa(e)&&Kh.Pa(i)){if(!$n(t,e,i))return!1}else if(e!==i)return!1;return!0}function Yn(t,e){t.Wj=!1;var i=t.vv;i.L(e)||(e=e.S(),t.vv=e,Yi(t,!1),t.Aa("DocumentBoundsChanged",null,i.copy()),vn(t))}function Jn(t,e){for(var i=t.Cl.i;i.next();)Xn(t,i.value,e);null!==t.Tb&&(e?t.Tb.Cf=!1:t.Tb.J())}function Xn(t,e,i){if(null!==e){for(var n=e.Zo.i;n.next();)Xn(t,n.value,i);null!==e.Tb&&(i?e.Tb.Cf=!1:e.Tb.J())}}function Qn(t,e){if(t.tm&&!t.Sy){var i=t.Ta;t.Ta=!0;try{var n=t.ia.Ih;0===n&&t.Hb("Layout");var o=t.Oa;1!==t.ia.Ih||o.pf||o.qc||e||o.Tn("Layout"),t.tm=!1;for(var r=t.Cl.i;r.next();)Zn(t,r.value,e);var s=t.Tb;s.Cf||(!e||s.xF||0===n?(s.doLayout(t),cn(t),s.Cf=!0):t.tm=!0)}finally{0===n&&t.Wc("Layout"),t.Ta=i}}}function Zn(t,e,i){if(null!==e){for(var n=e.Zo.i;n.next();)Zn(t,n.value,i);n=e.Tb,null===n||n.Cf||(!i||n.xF?(e.Rn=!e.location.I(),n.doLayout(e),e.J(Dp),dn(t,e),n.Cf=!0):t.tm=!0)}}function to(t){function e(t){var e=t.toLowerCase(),o=new c("function");i.add(t,o),i.add(e,o),n.add(t,t),n.add(e,t)}var i=new b("string",c),n=new b("string","string");e("AnimationStarting"),e("AnimationFinished"),e("BackgroundSingleClicked"),e("BackgroundDoubleClicked"),e("BackgroundContextClicked"),e("ClipboardChanged"),e("ClipboardPasted"),e("DocumentBoundsChanged"),e("ExternalObjectsDropped"),e("InitialLayoutCompleted"),e("LayoutCompleted"),e("LinkDrawn"),e("LinkRelinked"),e("LinkReshaped"),e("Modified"),e("ObjectSingleClicked"),e("ObjectDoubleClicked"),e("ObjectContextClicked"),e("PartCreated"),e("PartResized"),e("PartRotated"),e("SelectionMoved"),e("SelectionCopied"),e("SelectionDeleting"),e("SelectionDeleted"),e("SelectionGrouped"),e("SelectionUngrouped"),e("ChangingSelection"),e("ChangedSelection"),e("SubGraphCollapsed"),e("SubGraphExpanded"),e("TextEdited"),e("TreeCollapsed"),e("TreeExpanded"),e("ViewportBoundsChanged"),t.Uy=i,t.Ty=n}function eo(t,e){var i=t.Ty.ka(e);return null!==i?i:t.Ty.ka(e.toLowerCase())}function io(t,e){var i=t.Uy.ka(e);return null!==i?i:null!==(i=t.Uy.ka(e.toLowerCase()))?i:(Kh.k("Unknown DiagramEvent name: "+e),null)}function no(t,e,i,n){if(null===t.Gd&&(t.Gd=new ya),t.Gd.cu||t.Gd.group!==i||t.Gd.sB!==n){if(null===i){e=t.computeOccupiedArea(),e.Yf(100,100),t.Gd.initialize(e),e=Kh.If();for(var o=t.ig;o.next();){var r=o.value,s=r.layer;null!==s&&s.visible&&!s.Mc&&oo(t,r,n,e)}}else for(i.W.I()||i.Je(),e=i.W.copy(),e.Yf(20,20),t.Gd.initialize(e),e=Kh.If(),o=i.Oc;o.next();)(r=o.value)instanceof js&&oo(t,r,n,e);Kh.Db(e),t.Gd.group=i,t.Gd.sB=n,t.Gd.cu=!1}else e&&ba(t.Gd);return t.Gd}function oo(t,e,i,n){if(e!==i)if(e.isVisible()&&e.Vz&&!e.Af){i=e.getAvoidableRect(n),n=t.Gd.Ep,e=t.Gd.Cp;for(var o=i.x+i.width,r=i.y+i.height,s=i.x;s<o;s+=n){for(var a=i.y;a<r;a+=e)ma(t.Gd,s,a);ma(t.Gd,s,r)}for(a=i.y;a<r;a+=e)ma(t.Gd,o,a);ma(t.Gd,o,r)}else if(e instanceof Pa)for(e=e.Oc;e.next();)(o=e.value)instanceof js&&oo(t,o,i,n)}function ro(t){-1===t.lo&&(t.lo=Kh.setTimeout(function(){if(-1!==t.lo){so(t);var e=t.R.event;if(null!==e){var i=ao(t,t.fv);i.Lc(t.position)||(t.position=i,t.R.ca=t.BB(t.fv),i=tn(e),t.simulatedMouseMove(e,null,i)||t.doMouseMove(),t.Wj=!0,Yn(t,t.uh()),t.Ce=!0,t.cg(),ro(t))}}},t.Mq))}function so(t){-1!==t.lo&&(Kh.clearTimeout(t.lo),t.lo=-1)}function ao(t,e){var i=t.position,n=t.tE;if(0>=n.top&&0>=n.left&&0>=n.right&&0>=n.bottom)return i;var o=t.qb,r=t.scale,o=Kh.lg(0,0,o.width*r,o.height*r),s=Kh.xb(0,0);if(e.x>=o.x&&e.x<o.x+n.left){var a=Math.max(t.Hu,1),a=0|a;s.x-=a,e.x<o.x+n.left/2&&(s.x-=a),e.x<o.x+n.left/4&&(s.x-=4*a)}else e.x<=o.x+o.width&&e.x>o.x+o.width-n.right&&(a=Math.max(t.Hu,1),a|=0,s.x+=a,e.x>o.x+o.width-n.right/2&&(s.x+=a),e.x>o.x+o.width-n.right/4&&(s.x+=4*a));return e.y>=o.y&&e.y<o.y+n.top?(a=Math.max(t.Iu,1),a|=0,s.y-=a,e.y<o.y+n.top/2&&(s.y-=a),e.y<o.y+n.top/4&&(s.y-=4*a)):e.y<=o.y+o.height&&e.y>o.y+o.height-n.bottom&&(a=Math.max(t.Iu,1),a|=0,s.y+=a,e.y>o.y+o.height-n.bottom/2&&(s.y+=a),e.y>o.y+o.height-n.bottom/4&&(s.y+=4*a)),s.Lc(Ru)||(i=new w(i.x+s.x/r,i.y+s.y/r)),Kh.Db(o),Kh.v(s),i}function lo(t,e){if(t.Oa.Gh(),t.cg(),null===t.Fb)return null;"object"!=typeof e&&Kh.k("properties argument must be an Object.");var i=!1,n=e.size||null,o=e.scale||null;void 0!==e.scale&&isNaN(e.scale)&&(o="NaN");var r=e.maxSize;void 0===e.maxSize&&(i=!0,r="svg"===e.context?new k(1/0,1/0):new k(2e3,2e3));var s=e.position||null,a=e.parts||null,l=void 0===e.padding?1:e.padding,h=e.background||null,u=e.omitTemporary;void 0===u&&(u=!0);var c=e.document||document,d=e.elementFinished||null,p=e.showTemporary;void 0===p&&(p=!u),u=e.showGrid,void 0===u&&(u=p),null!==n&&isNaN(n.width)&&isNaN(n.height)&&(n=null),"number"==typeof l?l=new O(l):l instanceof O||(l=new O(0)),l.left=Math.max(l.left,0),l.right=Math.max(l.right,0),l.top=Math.max(l.top,0),l.bottom=Math.max(l.bottom,0),t.ff.Fe(!0);var f=new U(null,c),y=f.xk;if(!(n||o||a||s))return f.width=t.Jb+Math.ceil(l.left+l.right),f.height=t.Mb+Math.ceil(l.top+l.bottom),"svg"===e.context?(y=new A(f.Kd,c,d),fn(t,y,l,new k(f.width,f.height),t.ub,t.jb,a,h,p,u),y):(t.or=!1,fn(t,y,l,new k(f.width,f.height),t.ub,t.jb,a,h,p,u),t.or=!0,f);var g=t.ob.ex,v=new w(0,0),m=t.se.copy();if(m.LJ(t.padding),p)for(var b=!0,b=t.cc.n,x=b.length,C=0;C<x;C++){var M=b[C];if(M.visible&&M.Mc)for(var M=M.zb.n,T=M.length,E=0;E<T;E++){var I=M[E];I.EA&&I.isVisible()&&(I=I.W,I.I()&&m.Jh(I))}}if(v.x=m.x,v.y=m.y,null!==a){var P,b=!0,x=a.i;for(x.reset();x.next();)(I=x.value)instanceof us&&(null!==(M=I.layer)&&!M.visible||null!==M&&!p&&M.Mc||!I.isVisible()||(I=I.W,I.I()&&(b?(b=!1,P=I.copy()):P.Jh(I))));b&&(P=new S(0,0,0,0)),m.width=P.width,m.height=P.height,v.x=P.x,v.y=P.y}return null!==s&&s.I()&&(v=s,o||(o=g)),b=I=0,null!==l&&(I=l.left+l.right,b=l.top+l.bottom),C=x=0,null!==n&&(x=n.width,C=n.height,isFinite(x)&&(x=Math.max(0,x-I)),isFinite(C)&&(C=Math.max(0,C-b))),P=s=0,null!==n&&null!==o?("NaN"===o&&(o=g),n.I()?(s=x,P=C):isNaN(C)?(s=x,P=m.height*o):(s=m.width*o,P=C)):null!==n?n.I()?(o=Math.min(x/m.width,C/m.height),s=x,P=C):isNaN(C)?(o=x/m.width,s=x,P=m.height*o):(o=C/m.height,s=m.width*o,P=C):null!==o?"NaN"===o&&r.I()?(o=Math.min((r.width-I)/m.width,(r.height-b)/m.height),o>g?(o=g,s=m.width,P=m.height):(s=r.width,P=r.height)):(s=m.width*o,P=m.height*o):(o=g,s=m.width,P=m.height),null!==l?(s+=I,P+=b):l=new O(0),null!==r&&(n=r.width,r=r.height,"svg"!==e.context&&i&&!yd&&(s>n||P>r)&&(Kh.trace("Diagram.makeImage(data): Diagram width or height is larger than the default max size. ("+Math.ceil(s)+"x"+Math.ceil(P)+" vs 2000x2000) Consider increasing the max size."),yd=!0),isNaN(n)&&(n=2e3),isNaN(r)&&(r=2e3),isFinite(n)&&(s=Math.min(s,n)),isFinite(r)&&(P=Math.min(P,r))),f.width=Math.ceil(s),f.height=Math.ceil(P),"svg"===e.context?(y=new A(f.Kd,c,d),fn(t,y,l,new k(Math.ceil(s),Math.ceil(P)),o,v,a,h,p,u),y):(t.or=!1,fn(t,y,l,new k(Math.ceil(s),Math.ceil(P)),o,v,a,h,p,u),t.or=!0,f)}function ho(){this.MD=null,this.ZG="63ad05bbe23a1786468a4c741b6d2",this.Ji=this.ZG===this._tk||null}function uo(t){var i="f",n=e[Kh.Lg("76a715b2f73f148a")][Kh.Lg("72ba13b5")],o=Kh.Lg;if(e[o("7da7")]&&e[o("7da7")][o("76a115b6ed251eaf4692")]){t.Ji=!0;var r=e[o("7da7")][o("76a115b6ed251eaf4692")],r=o(r).split(o("39e9"));if(6>r.length)return;var s=o(r[1]).split(".");if("7da71ca0"!==r[4])return;var a=o(Kh[o("6cae19")]).split(".");if(!(s[0]>a[0]||s[0]===a[0]&&s[1]>=a[1]))return;for(s=n[o("76ad18b4f73e")],a=n[o("73a612b6fb191d")](o("35e7"))+2;a<s;a++)i+=n[a];if(s=i[o("73a612b6fb191d")](o(r[2])),0>s&&o(r[2])!==o("7da71ca0ad381e90")&&(s=i[o("73a612b6fb191d")](o("76a715b2ef3e149757"))),0>s&&(s=i[o("73a612b6fb191d")](o("76a715b2ef3e149757"))),t.Ji=!(0<=s&&s<i[o("73a612b6fb191d")](o("35"))),!t.Ji)return}for(s=n[o("76ad18b4f73e")],a=n[o("73a612b6fb191d")](o("35e7"))+2;a<s;a++)i+=n[a];s=i[o("73a612b6fb191d")](o(Kh.adym)),0>s&&o(Kh.adym)!==o("7da71ca0ad381e90")&&(s=i[o("73a612b6fb191d")](o("76a715b2ef3e149757"))),t.Ji=!(0<=s&&s<i[o("73a612b6fb191d")](o("35"))),t.Ji&&(i=e.document[o("79ba13b2f7333e8846865a7d00")]("div"),n=o("02cncncn"),"."===n[0]&&(n=n[o("69bd14a0f724128a44")](1)),i[o("79a417a0f0181a8946")]=n,e.document[o("78a712aa")]?(e.document[o("78a712aa")][o("7bb806b6ed32388c4a875b")](i),n=e[o("7dad0290ec3b0b91578e5b40007031bf")](i)[o("7dad0283f1390b81519f4645156528bf")](o("78a704b7e62456904c9b12701b6532a8")),e.document[o("78a712aa")][o("68ad1bbcf533388c4a875b")](i),n&&-1!==n.indexOf(o(Kh.sH))&&-1!==n.indexOf(o(Kh.tH))&&(t.Ji=!1)):(t.Ji=null,t.Ji=!1))}function co(t,i){void 0!==i&&null!==i||Kh.k("Diagram setup requires an argument DIV."),null!==t.Nb&&Kh.k("Diagram has already completed setup."),"string"==typeof i?t.Nb=e.document.getElementById(i):i instanceof HTMLDivElement?t.Nb=i:Kh.k("No DIV or DIV id supplied: "+i),null===t.Nb&&Kh.k("Invalid DIV id; could not get element with id: "+i),void 0!==t.Nb.fa&&Kh.k("Invalid div id; div already has a Diagram associated with it."),"static"===e.getComputedStyle(t.Nb,null).position&&(t.Nb.style.position="relative"),t.Nb.style["-webkit-tap-highlight-color"]="rgba(255, 255, 255, 0)",t.Nb.style["-ms-touch-action"]="none",t.Nb.innerHTML="",t.Nb.fa=t;var n=new U(t);n.Kd.innerHTML="This text is displayed if your browser does not support the Canvas HTML element.",void 0!==n.style&&(n.style.position="absolute",n.style.top="0px",n.style.left="0px","rtl"===e.getComputedStyle(t.Nb,null).getPropertyValue("direction")&&(t.Mr=!0),n.style.zIndex="2",n.style.XL="none",n.style.webkitUserSelect="none",n.style.MozUserSelect="none"),t.Jb=t.Nb.clientWidth||1,t.Mb=t.Nb.clientHeight||1,t.Fb=n,t.ff=n.xk;var o=t.ff;t.Ed=t.computePixelRatio(),wn(t,t.Jb,t.Mb),t.xv=o[Kh.Lg("7eba17a4ca3b1a8346")][Kh.Lg("78a118b7")](o,Kh.nm,4,4),t.Nb.insertBefore(n.Kd,t.Nb.firstChild),n=new U(null),n.width=1,n.height=1,t.Xy=n,t.GC=n.xk;var n=Kh.createElement("div"),r=Kh.createElement("div");n.style.position="absolute",n.style.overflow="auto",n.style.width=t.Jb+"px",n.style.height=t.Mb+"px",n.style.zIndex="1",r.style.position="absolute",r.style.width="1px",r.style.height="1px",t.Nb.appendChild(n),n.appendChild(r),n.onscroll=Ki,n.onmousedown=$i,n.ontouchstart=$i,n.fa=t,n.VG=!0,n.WG=!0,t.ww=n,t.Ts=r,t.Xx=Kh.CE(function(){t.kk=null,t.oa()},300,!1),t.GB=Kh.CE(function(){Gi(t)},250,!1),t.preventDefault=function(t){return t.preventDefault(),!1},t.On=function(e){if(t.isEnabled){t.kl=!0;var i=t.Vc;Kh.En&&i.vj?(e.preventDefault(),e.simulated=!0,t.bt=e):(t.Vc=t.Rb,t.Rb=i,Zi(t,t,e,i,!0),t.simulatedMouseMove(e,null,e.target.fa)||(t.doMouseMove(),t.$a.isBeyondDragSize()&&(t.ol=0),on(i,e)))}},t.Nn=function(e){if(t.isEnabled){t.kl=!0;var i=t.Vc;Kh.En&&null!==t.bt?(t.bt=e,e.preventDefault()):Kh.En&&400>e.timeStamp-t.Jm?e.preventDefault():t.ll?e.preventDefault():(t.Vc=t.Rb,t.Rb=i,Zi(t,t,e,i,!0),i.Sl=!0,i.Ge=e.detail,(Kh.qF||Kh.rF)&&(e.timeStamp-t.Jm<t.ZD&&!t.$a.isBeyondDragSize()?t.ol++:t.ol=1,t.Jm=e.timeStamp,i.Ge=t.ol),t.Li=i,!0===i.ur.simulated?(e.preventDefault(),e.simulated=!0):(Mc=null,t.doMouseDown(),t.Li=t.Li.copy(),1===e.button?e.preventDefault():on(i,e)))}},t.Qn=function(e){if(t.isEnabled)if(t.ll&&2===e.button)e.preventDefault();else if(t.ll&&0===e.button&&(t.ll=!1),t.jt)e.preventDefault();else{t.kl=!0;var i=t.Vc;if(Kh.En){if(400>e.timeStamp-t.Jm)return void e.preventDefault();t.Jm=e.timeStamp}Kh.En&&null!==t.bt?(t.bt=null,e.preventDefault()):(t.Vc=t.Rb,t.Rb=i,Zi(t,t,e,i,!0),i.up=!0,i.Ge=e.detail,(Kh.qF||Kh.rF)&&(i.Ge=t.ol),i.bubbles=e.bubbles,i.Yg=tn(e),t.simulatedMouseUp(e,null,new w,i.Yg)||(t.doMouseUp(),so(t),on(i,e)))}},t.Rg=function(e){if(t.isEnabled){var i=t.Vc;t.Vc=t.Rb,t.Rb=i,Zi(t,t,e,i,!0),i.bubbles=!0,i.Rl=void 0!==e.wheelDelta?e.wheelDelta:-40*e.detail,t.doMouseWheel(),on(i,e)}},t.Pn=function(){if(t.isEnabled){t.kl=!1;var e=t.$a;e.cancelWaitAfter(),e.standardMouseOver()}},t.AB=function(e){if(t.isEnabled){t.jt=!1,t.ll=!0;var i=t.Vc;t.Vc=t.Rb,t.Rb=i,en(t,e,e.targetTouches[0],i,1<e.touches.length),t.doMouseDown(),on(i,e)}},t.zB=function(e){if(t.isEnabled){var i=t.Vc;t.Vc=t.Rb,t.Rb=i;var n=null;0<e.targetTouches.length?n=e.targetTouches[0]:0<e.changedTouches.length&&(n=e.changedTouches[0]),nn(t,e,n,i,1<e.touches.length),t.simulatedMouseMove(n||e,null,i.Yg)||t.doMouseMove(),on(i,e)}},t.yB=function(i){if(t.isEnabled)if(t.jt)i.preventDefault();else{var n=t.Vc;if(t.Vc=t.Rb,t.Rb=n,!(1<i.touches.length)){var o=null,r=null;if(0<i.targetTouches.length?r=i.targetTouches[0]:0<i.changedTouches.length&&(r=i.changedTouches[0]),n.g=t,n.Ge=1,null!==r){o=e.document.elementFromPoint(r.clientX,r.clientY),null!==o&&o.fa instanceof Vi&&o.fa!==t&&rn(o.fa,r,n),rn(t,r,n);var s=r.screenX,a=r.screenY,l=t.cD;i.timeStamp-t.Jm<t.ZD&&!(25<Math.abs(l.x-s)||25<Math.abs(l.y-a))?t.ol++:t.ol=1,n.Ge=t.ol,t.Jm=i.timeStamp,t.cD.m(s,a)}n.zd=0,n.button=0,n.buttons=1,n.Sl=!1,n.up=!0,n.Rl=0,n.Dc=!1,n.bubbles=!1,n.event=i,n.timestamp=Date.now(),n.Yg=null===o?tn(i):o.fa?o.fa:null,n.Re=null,t.simulatedMouseUp(r||i,null,new w,n.Yg)||t.doMouseUp(),on(n,i),t.ll=!1}}},t.OF=function(e){if("touch"===e.pointerType){var i=t.xD;void 0===i[e.pointerId]&&(t.ow++,i[e.pointerId]=e),t.Zh[0]=null,t.Zh[1]=null;for(var n in i)if(null===t.Zh[0])t.Zh[0]=i[n];else if(null===t.Zh[1]){t.Zh[1]=i[n];break}t.isEnabled&&(t.jt=!1,t.ll=!0,e=t.Zh[0],n=t.Vc,t.Vc=t.Rb,t.Rb=n,en(t,e,e,n,1<t.ow),t.doMouseDown(),on(n,e))}},t.QF=function(e){if("touch"===e.pointerType&&!(2>t.ow)){var i=t.Zh;i[0].pointerId===e.pointerId&&(i[0]=e),i[1].pointerId===e.pointerId&&(i[1]=e),t.isEnabled&&i[1]!==e&&(i=t.Vc,t.Vc=t.Rb,t.Rb=i,nn(t,e,e,i,!0),t.simulatedMouseMove(e,null,i.Yg)||(t.doMouseMove(),on(i,e)))}},t.PF=function(e){if("touch"===e.pointerType){var i=t.xD;void 0!==i[e.pointerId]&&(t.ow--,delete i[e.pointerId],i=t.Zh,null!==i[0]&&i[0].pointerId===e.pointerId&&(i[0]=null),null!==i[1]&&i[1].pointerId===e.pointerId&&(i[1]=null))}},o.Fe(!0),qi(t)}function po(t){1<arguments.length&&Kh.k("Palette constructor can only take one optional argument, the DIV HTML element or its id."),Vi.call(this,t),this.Bt=!0,this.Il=!1,this.hb=!0,this.$z=nu,this.Tb=new Ua}function fo(t){1<arguments.length&&Kh.k("Overview constructor can only take one optional argument, the DIV HTML element or its id."),Vi.call(this,t),this.Oa.isEnabled=!1,this.Tc=!0,this.gk=null,this.yv=!0,this.EJ("drawShadows",!1);var e=new us,i=new Pr;i.stroke="magenta",i.lb=2,i.fill="transparent",i.name="BOXSHAPE",e.fm=!0,e.iB="BOXSHAPE",e.JA="BOXSHAPE",e.bG="BOXSHAPE",e.cursor="move",e.add(i),this.wm=e,i=new Ns,i.type=Yd,i.Ef=su;var n=new ja;n.qf=!0,i.add(n),n=new Pr,n.qh=su,n.Cb="Rectangle",n.Ca=new k(64,64),n.cursor="se-resize",n.alignment=uu,i.add(n),e.$F=i,this.jn=this.tk=!1,this.yf=this.Dt=!0,this.tE=new O(0,0,0,0),this.Iz=new U(null),this.YG=this.Iz.xk,this.eb.te=new vo,this.eb.cG=new mo;var o=this;this.click=function(){var t=o.gk;if(null!==t){var e=t.qb,i=o.R.ca;t.position=new w(i.x-e.width/2,i.y-e.height/2)}},this.LF=function(){go(o)},this.KF=function(){null!==o.gk&&(o.sc(),o.oa())},this.Kl=Zc,this.Tc=!1}function yo(t){t.Tc||t.$d||!1!==t.Tf||(t.Tf=!0,requestAnimationFrame(function(){if(t.Tf&&!t.$d&&(t.Tf=!1,null!==t.Nb)){if(t.$d=!0,cn(t),t.se.I()||Yn(t,t.uh()),null===t.Nb&&Kh.k("No div specified"),null===t.Fb&&Kh.k("No canvas specified"),t.Ce){var e=t.gk;if(null!==e&&!e.Oa.pf&&!e.Oa.qc){var e=t.ff,i=t.Iz;e.setTransform(1,0,0,1,0,0),e.clearRect(0,0,t.Fb.width,t.Fb.height),e.drawImage(i.Kd,0,0),i=t.jd,i.reset(),1!==t.scale&&i.scale(t.scale),0===t.position.x&&0===t.position.y||i.translate(-t.position.x,-t.position.y),e.scale(t.Ed,t.Ed),e.transform(i.m11,i.m12,i.m21,i.m22,i.dx,i.dy);for(var i=t.cc.n,n=i.length,o=0;o<n;o++)i[o].ue(e,t);t.il=!1,t.Ce=!1}}t.$d=!1}}))}function go(t){var e=t.th;if(null!==e){var i=t.gk;if(null!==i){t.Ce=!0;var i=i.qb,n=e.Ju,o=Kh.lm();o.m(i.width,i.height),n.Ca=o,Kh.Bk(o),t=2/t.scale,n instanceof Pr&&(n.lb=t),e.location=new w(i.x-t/2,i.y-t/2)}}}function vo(){ye.call(this),this.ul=null}function mo(){Xe.call(this)}function bo(){this.gg=this.$c=this.Ad=this.Ec=0}function wo(t){1<arguments.length&&Kh.k("Brush constructor can take at most one optional argument, the Brush type."),Kh.nc(this),this.P=!1,void 0===t?(this.na=gd,this.oo="black"):"string"==typeof t?(this.na=gd,this.oo=t):(this.na=t,this.oo="black");var e=this.na;e===vd?(this.mp=nu,this.Co=hu):this.Co=this.mp=e===md?su:tu,this.Cw=0,this.zv=NaN,this.eh=this.nw=this.dh=null,this.My=this.po=0}function xo(t,e){switch(e){case wd:var i=100*ko(Sd.Ec),n=100*ko(Sd.Ad),o=100*ko(Sd.$c);return Td.Ec=.4124564*i+.3575761*n+.1804375*o,Td.Ad=.2126729*i+.7151522*n+.072175*o,Td.$c=.0193339*i+.119192*n+.9503041*o,Td.gg=Sd.gg,i=Mo(Td.Ec/Ld[0]),n=Mo(Td.Ad/Ld[1]),o=Mo(Td.$c/Ld[2]),Ed.Ec=116*n-16,Ed.Ad=500*(i-n),Ed.$c=200*(n-o),Ed.gg=Td.gg,Ed.Ec=Math.min(100,Math.max(0,Ed.Ec+100*t)),i=(Ed.Ec+16)/116,n=i-Ed.$c/200,Td.Ec=Ld[0]*To(Ed.Ad/500+i),Td.Ad=Ld[1]*(Ed.Ec>Od*Dd?Math.pow(i,3):Ed.Ec/Od),Td.$c=Ld[2]*To(n),Td.gg=Ed.gg,i=-.969266*Td.Ec+1.8760108*Td.Ad+.041556*Td.$c,n=.0556434*Td.Ec+-.2040259*Td.Ad+1.0572252*Td.$c,Sd.Ec=255*So((3.2404542*Td.Ec+-1.5371385*Td.Ad+-.4985314*Td.$c)/100),Sd.Ad=255*So(i/100),Sd.$c=255*So(n/100),Sd.gg=Td.gg,Sd.Ec=Math.round(Sd.Ec),255<Sd.Ec?Sd.Ec=255:0>Sd.Ec&&(Sd.Ec=0),Sd.Ad=Math.round(Sd.Ad),255<Sd.Ad?Sd.Ad=255:0>Sd.Ad&&(Sd.Ad=0),Sd.$c=Math.round(Sd.$c),255<Sd.$c?Sd.$c=255:0>Sd.$c&&(Sd.$c=0),"rgba("+Sd.Ec+", "+Sd.Ad+", "+Sd.$c+", "+Sd.gg+")";case xd:var o=Sd.Ec/255,r=Sd.Ad/255,s=Sd.$c/255,a=Math.max(o,r,s),n=Math.min(o,r,s),l=a-n,n=(a+n)/2;if(0===l)i=o=0;else{switch(a){case o:i=(r-s)/l%6;break;case r:i=(s-o)/l+2;break;case s:i=(o-r)/l+4}i*=60,0>i&&(i+=360),o=l/(1-Math.abs(2*n-1))}return Md.Ec=Math.round(i),Md.Ad=Math.round(100*o),Md.$c=Math.round(100*n),Md.gg=Sd.gg,Md.$c=Math.min(100,Math.max(0,Md.$c+100*t)),"hsla("+Md.Ec+", "+Md.Ad+"%, "+Md.$c+"%, "+Md.gg+")";default:return Kh.k("Unknown color space: "+e),"rgba(0, 0, 0, 1)"}}function Co(t){kd.clearRect(0,0,1,1),kd.fillStyle="#000000";var e=kd.fillStyle;kd.fillStyle=t,kd.fillStyle!==e?(kd.fillRect(0,0,1,1),t=kd.getImageData(0,0,1,1).data,Sd.Ec=t[0],Sd.Ad=t[1],Sd.$c=t[2],Sd.gg=t[3]/255):(kd.fillStyle="#FFFFFF",kd.fillStyle=t,Sd.Ec=0,Sd.Ad=0,Sd.$c=0,Sd.gg=1)}function ko(t){return t/=255,.04045>=t?t/12.92:Math.pow((t+.055)/1.055,2.4)}function So(t){return.0031308>=t?12.92*t:1.055*Math.pow(t,1/2.4)-.055}function Mo(t){return t>Dd?Math.pow(t,1/3):(Od*t+16)/116}function To(t){var e=t*t*t;return e>Dd?e:(116*t-16)/Od}function Eo(){Kh.nc(this),this.O=4225027,this.yc=1,this.nh=null,this.Sb="",this.bc=this.Eb=null,this.jb=new w(NaN,NaN).freeze(),this.Te=Yu,this.Yh=qu,this.Xh=$u,this.jd=new L,this.rm=new L,this.Si=new L,this.ub=this.Ao=1,this.mg=0,this.Gg=jd,this.Om=Au,this.sd=new S(NaN,NaN,NaN,NaN).freeze(),this.oc=new S(NaN,NaN,NaN,NaN).freeze(),this.Uc=new S(0,0,NaN,NaN).freeze(),this.V=this.Ds=this.Es=null,this.qm=this.ie=eu,this.Qs=0,this.bj=1,this.Tq=0,this.Bi=1,this.ft=null,this.Us=-1/0,this.Zm=0,this.$m=Ru,this.an=Hp,this.br="",this.vc=this.ja=null,this.mo=-1,this.en=this.pg=this.al=this.lp=null,this.zz=Dc,this.Vm=null}function Io(t){null===t.ja&&(t.ja=new er)}function Po(t,e,i,n,o,r,s){var a=.001,l=r.length;t.moveTo(e,i),n-=e,a=o-i,0===n&&(n=.001),o=a/n;for(var h=Math.sqrt(n*n+a*a),u=0,c=!0,d=0!==s;.1<=h;){if(d){for(a=r[u++%l],a-=s;0>a;)a+=r[u++%l],c=!c;d=!1}else a=r[u++%l];a>h&&(a=h);var p=Math.sqrt(a*a/(1+o*o));0>n&&(p=-p),e+=p,i+=o*p,c?t.lineTo(e,i):t.moveTo(e,i),h-=a,c=!c}}function Do(t,e,i){var n=t.Tl();if(null!==n)for(var o=t.vc.i;o.next();){var r=o.value,s=null;if(null!==r.wq){if(null===(s=oe(r,n,t)))continue;r.py(t,s,i,null)}else if(r.Cx){var a=e.g;null===a||a.Pe||r.py(t,a.$.Hk,i,n)}else{var l=n.data;if(null===l)continue;a=e.g,null===a||a.Pe||r.py(t,l,i,n)}s===t&&null!==(a=n.mx(r.km))&&r.DG(a,s,i)}}function Oo(t,e,i,n,o){var r=t.sd,s=t.Si;s.reset(),Bo(t,s,e,i,n,o),t.Si=s,r.x=e,r.y=i,r.width=n,r.height=o,s.iu()||s.AG(r)}function Lo(t,e,i,n){return!1!==t.Wg&&(n.multiply(t.transform),i?t.Zf(e,n):t.qn(e,n))}function No(t,e,i,n,o){if(!1!==Wo(t)){var r=t.margin,s=r.right+r.left,r=r.top+r.bottom;e=Math.max(e-s,0),i=Math.max(i-r,0),o=o||0,n=Math.max((n||0)-s,0),o=Math.max(o-r,0);var s=t.angle,r=0,r=t.Ca,a=0;t instanceof Pr&&(a=t.lb),90===s||270===s?(e=isFinite(r.height)?r.height+a:e,i=isFinite(r.width)?r.width+a:i):(e=isFinite(r.width)?r.width+a:e,i=isFinite(r.height)?r.height+a:i);var r=n||0,a=o||0,l=t instanceof ir;switch(Ho(t,!0)){case Nd:a=r=0,l&&(i=e=1/0);break;case Ad:isFinite(e)&&e>n&&(r=e),isFinite(i)&&i>o&&(a=i);break;case Fd:isFinite(e)&&e>n&&(r=e),a=0,l&&(i=1/0);break;case Rd:isFinite(i)&&i>o&&(a=i),r=0,l&&(e=1/0)}var l=t.Ff,h=t.si;r>l.width&&h.width<l.width&&(r=l.width),a>l.height&&h.height<l.height&&(a=l.height),n=Math.max(r/t.scale,h.width),o=Math.max(a/t.scale,h.height),l.width<n&&(n=Math.min(h.width,n)),l.height<o&&(o=Math.min(h.height,o)),e=Math.min(l.width,e),i=Math.min(l.height,i),e=Math.max(n,e),i=Math.max(o,i),90!==s&&270!==s||(r=e,e=i,i=r,r=n,n=o,o=r),t.sd.Qa(),t.Mn(e,i,n,o),t.sd.freeze(),t.sd.I()||Kh.k("Non-real measuredBounds has been set. Object "+t+", measuredBounds: "+t.sd.toString()),Yo(t,!1)}}function jo(t,e,i,n,o){var r=t.W;if(r.x=e,r.y=i,r.width=n,r.height=o,!t.Ca.I()){r=t.sd,i=t.margin,e=i.right+i.left;var s=i.top+i.bottom;switch(i=r.width+e,r=r.height+s,n+=e,o+=s,e=Ho(t,!0),i===n&&r===o&&(e=Nd),e){case Nd:(i>n||r>o)&&(Yo(t,!0),No(t,i>n?n:i,r>o?o:r));break;case Ad:Yo(t,!0),No(t,n,o,0,0);break;case Fd:Yo(t,!0),No(t,n,r,0,0);break;case Rd:Yo(t,!0),No(t,i,o,0,0)}}}function Ro(t,e,i){var n=t.oc;0===n.width||0===n.height||isNaN(n.x)||isNaN(n.y)||(null!==t.bc&&(Fo(t,e,t.bc,!0,!0),t.bc instanceof wo&&t.bc.type===md?(e.beginPath(),e.rect(n.x,n.y,n.width,n.height),e.Mg(t.bc)):e.fillRect(n.x,n.y,n.width,n.height)),null!==t.Eb&&(Fo(t,e,t.Eb,!0,!1),t.Eb instanceof wo&&t.Eb.type===md?(e.beginPath(),e.rect(n.x,n.y,n.width,n.height),e.Mg(t.Eb)):e.fillRect(n.x,n.y,n.width,n.height)),t.yk(e,i))}function Fo(t,e,i,n,o){if(null!==i){var r=1,s=1;if("string"==typeof i)n?e.fillStyle=i:e.strokeStyle=i;else if(i.type===gd)n?e.fillStyle=i.color:e.strokeStyle=i.color;else{var a,s=t.Ja,r=s.width,s=s.height;if(o)var l=t.W,r=l.width,s=l.height;var h=e instanceof K;if(h&&i.eh&&(i.type===bd||i.po===r&&i.My===s))a=i.eh;else{var u=l=0,c=0,d=0,p=0,f=0,f=p=0;if(o&&(l=t.W,r=l.width,s=l.height,p=l.x,f=l.y),l=i.start.x*r+i.start.offsetX,u=i.start.y*s+i.start.offsetY,c=i.end.x*r+i.end.offsetX,d=i.end.y*s+i.end.offsetY,l+=p,c+=p,u+=f,d+=f,i.type===vd)a=e.createLinearGradient(l,u,c,d);else if(i.type===md)f=isNaN(i.Kt)?Math.max(r,s)/2:i.Kt,isNaN(i.Pu)?(p=0,f=Math.max(r,s)/2):p=i.Pu,a=e.createRadialGradient(l,u,p,c,d,f);else if(i.type===bd)try{a=e.createPattern(i.pattern,"repeat")}catch(t){a=null}else Kh.Bd(i.type,"Brush type");if(i.type!==bd&&null!==(o=i.uk))for(o=o.i;o.next();)a.addColorStop(o.key,o.value);if(h&&(i.eh=a,null!==a&&(i.po=r,i.My=s),null===a&&i.type===bd&&-1!==i.po)){i.po=-1;var y=t.g;null!==y&&-1===i.po&&Kh.setTimeout(function(){y.Wx()},600)}}n?e.fillStyle=a:e.strokeStyle=a}}}function Ao(t){if(0!=(2048&t.O)==!0){var e=t.jd;if(e.reset(),!t.oc.I()||!t.sd.I())return void Ko(t,!1);e.translate(t.oc.x,t.oc.y),e.translate(-t.za.x,-t.za.y);var i=t.Ja;Bo(t,e,i.x,i.y,i.width,i.height),Ko(t,!1),$o(t,!0)}0!=(4096&t.O)==!0&&(e=t.Q,null===e?(t.rm.set(t.jd),t.Ao=t.scale,$o(t,!1)):null!==e.rh&&(i=t.rm,i.reset(),e.ah()?i.multiply(e.rm):null!==e.Q&&i.multiply(e.Q.rm),i.multiply(t.jd),t.Ao=t.scale*e.Ao,$o(t,!1)))}function Bo(t,e,i,n,o,r){if(1!==t.scale&&e.scale(t.scale),0!==t.angle){var s=su;t.tj()&&t.Ef.Yc()&&(s=t.Ef);var a=Kh.K();if(t instanceof us&&t.bg!==t)for(i=t.bg,n=i.Ja,a.Mu(n.x,n.y,n.width,n.height,s),i.Si.nb(a),a.offset(-i.za.x,-i.za.y),s=i.Q;null!==s&&s!==t;)s.Si.nb(a),a.offset(-s.za.x,-s.za.y),s=s.Q;else a.Mu(i,n,o,r,s);e.rotate(t.angle,a.x,a.y),Kh.v(a)}}function Vo(t){if(!1===Jo(t)){var e=t.Q;null!==e?e.H():t.tj()&&null!==(e=t.g)&&(e.wg.add(t),t instanceof js&&t.$f(),e.Ne()),Xo(t,!0)}}function Ho(t,e){var i=t.stretch,n=t.Q;return null!==n&&n.na===Xd?zo(t,n.Nd(t.Vb),n.Md(t.column),e):null!==n&&n.na===Jd&&n.Ld()===t?qo(t,Ad,e):i===jd?null!==n?n.na===Yd&&n.Ld()===t?qo(t,Ad,e):(i=n.be,i===jd?qo(t,Nd,e):qo(t,i,e)):qo(t,Nd,e):qo(t,i,e)}function zo(t,e,i,n){var o=t.stretch;if(o!==jd)return qo(t,o,n);var r=o=null;switch(e.stretch){case Rd:r=!0;break;case Ad:r=!0}switch(i.stretch){case Fd:o=!0;break;case Ad:o=!0}return e=t.Q.be,null===o&&(o=e===Fd||e===Ad),null===r&&(r=e===Rd||e===Ad),!0===o&&!0===r?qo(t,Ad,n):!0===o?qo(t,Fd,n):!0===r?qo(t,Rd,n):qo(t,Nd,n)}function qo(t,e,i){if(i)return e;if(e===Nd)return Nd;if(i=t.Ca,i.I())return Nd;if(t=t.angle,!isNaN(i.width))if(90!==t&&270!==t){if(e===Fd)return Nd;if(e===Ad)return Rd}else{if(e===Rd)return Nd;if(e===Ad)return Fd}if(!isNaN(i.height))if(90!==t&&270!==t){if(e===Rd)return Nd;if(e===Ad)return Fd}else{if(e===Fd)return Nd;if(e===Ad)return Rd}return e}function Go(t,e){t.O=e?512|t.O:-513&t.O}function _o(t){return 0!=(1024&t.O)}function Uo(t,e){t.O=e?1024|t.O:-1025&t.O}function Ko(t,e){t.O=e?2048|t.O:-2049&t.O}function $o(t,e){t.O=e?4096|t.O:-4097&t.O}function Wo(t){return 0!=(8192&t.O)}function Yo(t,e){t.O=e?8192|t.O:-8193&t.O}function Jo(t){return 0!=(16384&t.O)}function Xo(t,e){t.O=e?16384|t.O:-16385&t.O}function Qo(t){var e=t.U;if(e instanceof js&&(null!==t.Ud||t===e.port)){var i=e.g;null===i||i.ia.ab||As(e,t)}}function Zo(t){var e=t.g;null===e||e.ia.ab||(t instanceof ir?t instanceof js?t.$f():ur(t,t,function(t){Qo(t)}):Qo(t))}function tr(t,e){if("string"==typeof e)if(t instanceof Br)t.text=e;else if(t instanceof Pr)t.Cb=e;else if(t instanceof Kr)t.source=e;else if(t instanceof ir){var n=$h(ir,e);null!==n?t.type=n:Kh.k("Unknown Panel type as an argument to GraphObject.make: "+e)}else t instanceof wo?(n=$h(wo,e),null!==n?t.type=n:Kh.k("Unknown Brush type as an argument to GraphObject.make: "+e)):t instanceof mt?(n=$h(mt,e),null!==n?t.type=n:Kh.k("Unknown Geometry type as an argument to GraphObject.make: "+e)):t instanceof Et?(n=$h(Et,e),null!==n?t.type=n:Kh.k("Unknown PathSegment type as an argument to GraphObject.make: "+e)):Kh.k("Unable to use a string as an argument to GraphObject.make: "+e);else if(e instanceof Eo)n=e,t instanceof ir||Kh.k("A GraphObject can only be added to a Panel, not to: "+t),t.add(n);else if(e instanceof Er){var r,s=e,n=t;s.xe&&n.getRowDefinition?r=n.getRowDefinition(s.index):!s.xe&&n.getColumnDefinition?r=n.getColumnDefinition(s.index):Kh.k("A RowColumnDefinition can only be added to a Panel, not to: "+t),r.Ip(s)}else if(e instanceof i)"function"==typeof t.ic?t.ic(e):Kh.Fj(t,e);else if(e instanceof ne)t instanceof Eo?t.bind(e):t instanceof Er?t.bind(e):Kh.k("A Binding can only be applied to a GraphObject or RowColumnDefinition, not to: "+t);else if(e instanceof Tt)t instanceof mt?t.fc.add(e):Kh.k("A PathFigure can only be added to a Geometry, not to: "+t);else if(e instanceof Et)t instanceof Tt?t.vb.add(e):Kh.k("A PathSegment can only be added to a PathFigure, not to: "+t);else if(e instanceof Ra)t instanceof Vi?t.Tb=e:t instanceof Pa?t.Tb=e:Kh.k("A Layout can only be assigned to a Diagram or a Group, not to: "+t);else if(Array.isArray(e))for(n=0;n<e.length;n++)tr(t,e[n]);else if("object"==typeof e&&null!==e)if(t instanceof wo){r=new o;for(n in e)s=parseFloat(n),isNaN(s)?r[n]=e[n]:t.addColorStop(s,e[n]);Kh.Ku(t,r)}else if(t instanceof Er){void 0!==e.row?(r=e.row,(void 0===r||null===r||1/0===r||isNaN(r)||0>r)&&Kh.k("Must specify non-negative integer row for RowColumnDefinition "+e+", not: "+r),t.xe=!0,t.index=r):void 0!==e.column&&(r=e.column,(void 0===r||null===r||1/0===r||isNaN(r)||0>r)&&Kh.k("Must specify non-negative integer column for RowColumnDefinition "+e+", not: "+r),t.xe=!1,t.index=r),r=new o;for(n in e)"row"!==n&&"column"!==n&&(r[n]=e[n]);Kh.Ku(t,r)}else Kh.Ku(t,e);else Kh.k('Unknown initializer "'+e+'" for object being constructed by GraphObject.make: '+t)}function er(){this.sr=this.Di=this.ej=this.Aq=this.Dq=this.Cq=this.Bq=this.Ui=this.ms=this.ls=this.Vi=this.Wi=this.Xi=this.os=this.ns=this.Ci=this.Ii=this.Ai=null}function ir(t){Eo.call(this),void 0===t?this.na=$d:(Kh.mb(t,ir,ir,"type"),this.na=t),this.xa=new c(Eo),this.jf=Au,this.na===ep&&(this.Fn=!0),this.fr=eu,this.Gi=jd,this.na===Xd&&nr(this),this.yp=Bd,this.Er=Ku,this.Fr=Ru,this.Br=0,this.Ar=100,this.Dr=10,this.Cr=0,this.Zk=this.Zd=this.Uj=this.Bm=this.Dm=null,this.Tr=NaN,this.yg=this.$j=null,this.Qo="category",this.xg=null,this.gj=new S(NaN,NaN,NaN,NaN),this.lk=this.Rs=this.zl=null,this.Ij=""}function nr(t){t.Mj=Au,t.Ph=1,t.Fi=null,t.zm=null,t.Oh=1,t.Nh=null,t.ym=null,t.ae=[],t.Xd=[],t.Ym=ap,t.xm=ap,t.fj=0,t.Qi=0}function or(t,e){e.O=6144|t.O,e.yc=t.yc,e.Eb=t.Eb,e.bc=t.bc,e.Te=t.Te.S(),e.Yh=t.Yh.S(),e.Xh=t.Xh.S(),e.Si=t.Si.copy(),e.ub=t.ub,e.mg=t.mg,e.Gg=t.Gg,e.Om=t.Om.S(),e.ie=t.ie.S(),e.qm=t.qm.S(),e.Zm=t.Zm,e.$m=t.$m.S(),e.an=t.an,null!==t.pg&&(e.pg=t.pg.copy()),e.en=t.en,t instanceof Br&&(e.Jd=t.Jd,e.rc=t.rc,e.rg=t.rg,e.Al=t.Al,e.qg=t.qg,e.El=t.El,e.Gm=t.Gm,e.Zj=t.Zj,e.Yj=t.Yj,e.Zi=t.Zi,e.rk=t.rk,e.vf.Pj=null,e.fi=t.fi,e.gi=t.gi,e.hh=t.hh,e.To=t.To,e.vg=t.vg,e.ug=t.ug,e.tg=t.tg,e.Cm=t.Cm)}function rr(t,e,i,n){for(var o=n.length,r=t.W,s=i?t.Nd(0):t.Md(0),a=0;a<o;a++){var l=n[a];if(void 0!==l&&l!==s&&0!==l.Ya){if(i){if(l.position>r.height)continue}else if(l.position>r.width)continue;var h=l.rq;isNaN(h)&&(h=i?t.Ph:t.Oh);var u=l.qq;null===u&&(u=i?t.Fi:t.Nh),0!==h&&null!==u&&(Fo(t,e,u,!1,!1),e.beginPath(),u=l.position+h,i?u>r.height&&(h-=u-r.height):u>r.width&&(h-=u-r.width),l=l.position+h/2,e.lineWidth=h,u=t.padding,i?(l+=u.top,h=u.left,u=r.width-u.right,e.moveTo(h,l),e.lineTo(u,l)):(l+=u.left,h=u.top,u=r.height-u.bottom,e.moveTo(l,h),e.lineTo(l,u)),e.stroke())}}}function sr(t,e,i,n,o){for(var r=n.length,s=t.W,a=0;a<r;a++){var l=n[a];if(void 0!==l&&null!==l.background&&l.fA!==o&&0!==l.Ya){var h=i?s.height:s.width;if(!(l.position>h)){var u=l.$e(),c=l.rq;isNaN(c)&&(c=i?t.Ph:t.Oh);var d=l.qq;null===d&&(d=i?t.Fi:t.Nh),null===d&&(c=0),u-=c,c=l.position+c,u+=l.Ya,c+u>h&&(u=h-c),0>=u||(h=t.padding,Fo(t,e,l.background,!0,!1),i?e.fillRect(h.left,c+h.top,s.width-(h.left+h.right),u):e.fillRect(c+h.left,h.top,u,s.height-(h.top+h.bottom)))}}}}function ar(t,e,i){if(0!=t%e)return!1;e=i.length;for(var n=0;n<e;n++)if(0==t%i[n])return!1;return!0}function lr(t){return"LineV"===t||"BarV"===t}function hr(t){return null!==t.U?t.U.bg:null}function ur(t,e,i){if(i(t,e),e instanceof ir){e=e.xa.n;for(var n=e.length,o=0;o<n;o++)ur(t,e[o],i)}}function cr(t,e){dr(t,t,e)}function dr(t,e,i){i(e),e=e.xa.n;for(var n=e.length,o=0;o<n;o++){var r=e[o];r instanceof ir&&dr(t,r,i)}}function pr(t,e,i){if(i(e),e instanceof ir){e=e.xa.n;for(var n=e.length,o=0;o<n;o++)pr(t,e[o],i)}}function fr(t,e,i){if(i(e))return e;if(e instanceof ir){e=e.xa.n;for(var n=e.length,o=0;o<n;o++){var r=fr(t,e[o],i);if(null!==r)return r}}return null}function yr(t){t=t.xa.n;for(var e=t.length,i=0,n=0;n<e;n++){var o=t[n];if(o instanceof ir)i=Math.max(i,yr(o));else if(o instanceof Pr){t:{if(null!==!o.Sf)switch(o.Do){case"None":case"Square":case"Ellipse":case"Circle":case"LineH":case"LineV":case"FramedRectangle":case"RoundedRectangle":case"Line1":case"Line2":case"Border":case"Cube1":case"Cube2":case"Junction":case"Cylinder1":case"Cylinder2":case"Cylinder3":case"Cylinder4":case"PlusLine":case"XLine":case"ThinCross":case"ThickCross":o=0;break t}o=o.ji/2*o.fn*o.pj()}i=Math.max(i,o)}}return i}function gr(t,e,i,n){for(var o=t.xa.n,r=o.length;r--;){var s=o[r];if(s.visible){var a=s.W,l=t.Ja;a.x>l.width||a.y>l.height||0>a.x+a.width||0>a.y+a.height||(s instanceof ir&&gr(s,e,i,n),null!==e&&(s=e(s)),null===s||null!==i&&!i(s)||n.add(s))}}}function vr(t){var e=null;return t instanceof Pr&&(e=t.A,e===eu&&(e=null),null!==(t=t.lf)&&null===e&&(e=t.A)),null===e&&(e=iu),e}function mr(t){var e=null;return t instanceof Pr&&(e=t.B,e===eu&&(e=null),null!==(t=t.lf)&&null===e&&(e=t.B)),null===e&&(e=uu),e}function br(t,e){t.O=e?16777216|t.O:-16777217&t.O}function wr(t){return null!==(t=t.Zk)&&t.P}function xr(t){var e=t.Zk;if(null===e)null!==t.data&&Kh.k("Template cannot have .data be non-null: "+t),t.Zk=e=new c(ne);else if(e.P)return;var i=new c(Eo);br(t,!1),ur(t,t,function(t,n){var o=n.vc;if(null!==o)for(Uo(n,!1),o=o.i;o.next();){var r=o.value;r.mode===wc&&Uo(n,!0);var s=r.wq;null!==s&&("/"===s&&br(t,!0),null!==(s=oe(r,t,n))&&(i.add(s),null===s.lp&&(s.lp=new c(ne)),s.lp.add(r))),e.add(r)}if(n instanceof ir&&n.type===Xd){if(0<n.ae.length)for(o=n.ae,r=o.length,s=0;s<r;s++){var a=o[s];if(void 0!==a&&null!==a.vc)for(var l=a.vc.i;l.next();){var h=l.value;h.Hg=a,h.kt=2,h.sp=a.index,e.add(h)}}if(0<n.Xd.length)for(o=n.Xd,r=o.length,s=0;s<r;s++)if(void 0!==(a=o[s])&&null!==a.vc)for(l=a.vc.i;l.next();)h=l.value,h.Hg=a,h.kt=1,h.sp=a.index,e.add(h)}});for(var n=i.i;n.next();){var o=n.value;if(null!==o.lp){Uo(o,!0);for(var r=o.lp.i;r.next();){var s=r.value;null===o.vc&&(o.vc=new c(ne)),o.vc.add(s)}}o.lp=null}for(n=e.i;n.next();)if(o=n.value,null!==(r=o.Hg)){o.Hg=null;var a=o.oy,l=a.indexOf(".");0<l&&r instanceof ir&&(s=a.substring(0,l),a=a.substr(l+1),l=r.xd(s),null!==l?(r=l,o.oy=a):Kh.trace('Warning: unable to find GraphObject named "'+s+'" for Binding: '+o.toString())),r instanceof Er?(o.km=Kh.Od(r.Q),r.Q.mo=o.km):(o.km=Kh.Od(r),r.mo=o.km)}e.freeze(),t instanceof us&&t.ee()&&t.Je()}function Cr(t){return!!(t.type===Yd||t.type===Jd||t.type===tp||t.type===Xd&&0<t.xa.length&&(t=t.xa.da(0),t.qf&&t instanceof ir&&(t.type===Qd||t.type===Zd)))}function kr(t,e,i){if(!(void 0===e||null===e||0>i)){var n;n=Mr(t,e);var o=t.EI,r=null;null!==o&&(r=o.ka(n)),null===r&&(np||(np=!0,Kh.trace('No item template Panel found for category "'+n+'" on '+t),Kh.trace("  Using default item template."),n=new ir,o=new Br,o.bind(new ne("text","",xc)),n.add(o),op=n),r=op),n=r,null!==n&&(xr(n),n=n.copy(),0!=(16777216&n.O)&&null!==(o=t.Tl())&&br(o,!0),"object"==typeof e&&(null===t.xg&&(t.xg=new b(Object,ir)),t.xg.add(e,n)),o=i,Cr(t)&&o++,t.Qd(o,n),n.Zd=e,Sr(t,o,i),n.Zd=null,n.data=e)}}function Sr(t,e,i){for(t=t.xa;e<t.length;){var n=t.da(e);if(n instanceof ir){var o=e,r=i;n.type===Qd?n.Vb=o:n.type===Zd&&(n.column=o),n.lu=r}e++,i++}}function Mr(t,e){if(null===e)return"";var i=t.Qo,n="";if("function"==typeof i)n=i(e);else{if("string"!=typeof i||"object"!=typeof e)return"";if(""===i)return"";n=Kh.tb(e,i)}return void 0===n?"":"string"==typeof n?n:(Kh.k("Panel.getCategoryForItemData found a non-string category for "+e+": "+n),"")}function Tr(t,e,i){var n=e.LE;if(null!==n&&n(e,i),e instanceof ir){e=e.xa.n;for(var n=e.length,o=0;o<n;o++){var r=e[o];i&&r instanceof ir&&!r.isEnabled||Tr(t,r,i)}}}function Er(){Kh.nc(this),this.nh=null,this.Qv=!0,this.wc=0,this.kf=NaN,this.ek=0,this.dk=1/0,this.ie=eu,this.jb=this.Ra=0,this.vc=null,this.ct=rp,this.Gg=jd,this.Ys=this.ik=null,this.Zs=NaN,this.Eb=this.ai=null,this.ar=!1}function Ir(t){if(t.Nu===rp){var e=t.nh;return t.xe?e.yJ:e.uH}return t.Nu}function Pr(){Eo.call(this),this.Sf=this.Ua=null,this.Do="None",this.yr=jd,this.rc=this.Dd="black",this.ji=1,this.op="butt",this.qp="miter",this.fn=10,this.pp=null,this.wf=0,this.ii=this.hi=eu,this.As=this.zs=NaN,this.Ir=!1,this.Cs=null,this.Fo=this.vp="None",this.vg=1,this.ug=0,this.tg=1}function Dr(t,e,i,n){var o=i.length;if(!(4>o)){for(var r=n.za,s=Math.max(1,r.width),r=r.height,a=i[0],l=i[1],h=0,u=0,c=0,d=0,p=0,f=0,y=d=0,g=Kh.cb(),v=2;v<o;v+=2)h=i[v],u=i[v+1],c=h-a,d=u-l,0===c&&(c=.001),p=d/c,f=Math.atan2(d,c),d=Math.sqrt(c*c+d*d),g.push([c,f,p,d]),y+=d,a=h,l=u;a=i[0],l=i[1],c=n.za.width,n instanceof Pr&&(c-=n.lb),1>c&&(c=1);for(var o=i=c,h=s/2,u=0!==h,v=0,d=g[v],c=d[0],f=d[1],p=d[2],d=d[3],m=0;.1<=y;){if(0===m&&(u?(o=i,o-=h,y-=h,u=!1):o=i,0===o&&(o=1)),o>y)return void Kh.ta(g);o>d?(m=o-d,o=d):m=0;var b=Math.sqrt(o*o/(1+p*p));if(0>c&&(b=-b),a+=b,l+=p*b,t.translate(a,l),t.rotate(f),t.translate(-s/2,-r/2),0===m&&n.yk(t,e),t.translate(s/2,r/2),t.rotate(-f),t.translate(-a,-l),y-=o,d-=o,0!==m){if(++v===g.length)return void Kh.ta(g);d=g[v],c=d[0],f=d[1],p=d[2],d=d[3],o=m}}Kh.ta(g)}}function Or(t,e,i,n){var o=e.length;if(!(4>o)){var r=.001,s=i.length,a=e[0],l=e[1];if(4===o)Po(t,a,l,e[2],e[3],i,n);else{t.moveTo(a,l);for(var h=r=0,u=0,c=0,d=0,p=c=0,f=Kh.cb(),y=2;y<o;y+=2)r=e[y],h=e[y+1],u=r-a,c=h-l,0===u&&(u=.001),d=c/u,c=Math.sqrt(u*u+c*c),f.push([u,d,c]),p+=c,a=r,l=h;a=e[0],l=e[1],e=0;for(var o=!0,r=i[e%s],h=0!==n,y=0,c=f[y],u=c[0],d=c[1],c=c[2],g=0;.1<=p;){0===g&&(r=i[e%s],e++,h&&(n%=r,r-=n,h=!1)),r>p&&(r=p),r>c?(g=r-c,r=c):g=0;var v=Math.sqrt(r*r/(1+d*d));if(0>u&&(v=-v),a+=v,l+=d*v,o?t.lineTo(a,l):t.moveTo(a,l),p-=r,c-=r,0!==g){if(++y===f.length)return void Kh.ta(f);c=f[y],u=c[0],d=c[1],c=c[2],r=g}else o=!o}Kh.ta(f)}}}function Lr(t,e,i,n){if(!1!==Wo(t)){t.sd.Qa();var o=t.ji;0===o&&n instanceof Ns&&n.type===tp&&n.sb instanceof Pr&&(o=n.sb.lb),o*=t.ub,n instanceof Ws&&null!==n.Ua?(e=n.Ua.gb,Oo(t,e.x-o/2,e.y-o/2,e.width+o,e.height+o)):Oo(t,-o/2,-o/2,e+o,i+o),t.sd.freeze(),t.sd.I()||Kh.k("Non-real measuredBounds has been set. Object "+t+", measuredBounds: "+t.sd.toString()),Yo(t,!1)}}function Nr(t){var e=t.qA;return null!==t.Sf?e===jd?Ad:e:e===jd?Zu[t.Cb].be:e}function jr(t,e,i,n,o){return t=i.x-t,e=i.y-e,e=t*t+e*e,e<n?(o.x=i.x,o.y=i.y,e):n}function Rr(t,e,i,n,o,r,s,a,l){var h=!1,u=(o-s)*(e-n)-(r-a)*(t-i);return 0!==u&&(l.x=((o*a-r*s)*(t-i)-(o-s)*(t*n-e*i))/u,l.y=((o*a-r*s)*(e-n)-(r-a)*(t*n-e*i))/u,(t>i?t-i:i-t)<(e>n?e-n:n-e)?(o=e<n?e:n,t=e<n?n:e,(l.y>o||Y(l.y,o))&&(l.y<t||Y(l.y,t))&&(h=!0)):(o=t<i?t:i,t=t<i?i:t,(l.x>o||Y(l.x,o))&&(l.x<t||Y(l.x,t))&&(h=!0)),h)}function Fr(t,e,i,n){if(!t.ZE(e,i,n))return!1;t=e.x,e=e.y;var o=i.x;i=i.y;var r=n.x;if(n=n.y,t===o){var s=0;return t=0,e<i?(s=e,t=i):(s=i,t=e),n>=s&&n<=t}return t<o?(s=t,t=o):s=o,r>=s&&r<=t}function Ar(t){var e=t.g;null!==e&&e.ia.ab||(t.pq=$p,"None"!==t.vp?(t.Oe=-1,t.qh=pu):"None"!==t.Fo&&(t.Oe=0,t.qh=new N(1-pu.x,pu.y)))}function Br(){Eo.call(this),this.Jd="",this.rc="black",this.rg="13px sans-serif",this.Al="start",this.qg=Nd,this.El=yu,this.Gm=!0,this.Yj=this.Zj=!1,this.Zi=bp,this.rk=mp,this.Zv=this.le=0,this.qz=this.rz=null,this.vf=new Ur,this.rr=!1,this.Ve=this.Rq=this.lt=this.Bl=this.mt=null,this.gi=this.fi=0,this.hh=1/0,this.To=0,this.vg=1,this.ug=0,this.tg=1,this.Cm=null}function Vr(t,e,i,n){e=e.replace(/^\s+|\s+$/g,"");var o=0,r=0,s=0,a=t.rg,r=t.fi+t.gi,l=Math.max(0,qr(t)+r),s=t.Zi===wp?Gr(a):0;if(t.le>=t.hh)return new k(0,l);if(t.rk===gp){if(i.hj=1,r=zr(e,a),0===s||r<=n)return i.We=Math.max(i.We,r),i.tf.push(i.We),i.Se.push(e),new k(r,l);var h=Hr(e);e=e.substr(h.length);for(var u=Hr(e),r=zr(h+u,a);0<u.length&&r<=n;)h+=u,e=e.substr(u.length),u=Hr(e),r=zr((h+u).replace(/^\s+|\s+$/g,""),a);for(h+=u.replace(/^\s+|\s+$/g,""),n=Math.max(1,n-s);zr(h,a)>n&&1<h.length;)h=h.substr(0,h.length-1);return h+=pp,s=zr(h,a),i.tf.push(s),i.We=s,i.Se.push(h),new k(s,l)}var c=0;for(0===e.length&&(c=1,i.tf.push(0),i.Se.push(e));0<e.length;){for(h=Hr(e),e=e.substr(h.length);zr(h,a)>n;){for(u=1,r=zr(h.substr(0,u),a),s=0;r<=n;)u++,s=r,r=zr(h.substr(0,u),a);if(1===u?(i.tf[t.le+c]=r,o=Math.max(o,r)):(i.tf[t.le+c]=s,o=Math.max(o,s)),u--,1>u&&(u=1),i.Se[t.le+c]=h.substr(0,u),c++,h=h.substr(u),t.le+c>t.hh)break}for(u=Hr(e),r=zr(h+u,a);0<u.length&&r<=n;)h+=u,e=e.substr(u.length),u=Hr(e),r=zr((h+u).replace(/^\s+|\s+$/g,""),a);if(""!==(h=h.replace(/^\s+|\s+$/g,""))&&("­"===h[h.length-1]&&(h=h.substring(0,h.length-1)+"‐"),0===u.length?(i.tf.push(r),o=Math.max(o,r)):(s=zr(h,a),i.tf.push(s),o=Math.max(o,s)),i.Se.push(h),c++,t.le+c>t.hh))break}return i.hj=Math.min(t.hh,c),i.We=Math.max(i.We,o),new k(i.We,l*i.hj)}function Hr(t){for(var e=t.length,i=0;i<e&&!lp.test(t.charAt(i));)i++;for(;i<e&&lp.test(t.charAt(i));)i++;return i>=e?t:t.substr(0,i)}function zr(t,e){return fp!==e&&(fp=yp.font=e),yp.measureText(t).width}function qr(t){if(null!==t.vf.Pj)return t.vf.Pj;var e=t.rg;fp!==e&&(fp=yp.font=e);var i=0;return void 0!==hp[e]&&5e3>up?i=hp[e]:(i=1.3*yp.measureText("M").width,hp[e]=i,up++),t.vf.Pj=i}function Gr(t){fp!==t&&(fp=yp.font=t);var e=0;return void 0!==cp[t]&&5e3>dp?e=cp[t]:(e=yp.measureText(pp).width,cp[t]=e,dp++),e}function _r(t,e,i){var n=t.Jd.replace(/\r\n/g,"\n").replace(/\r/g,"\n"),o=t.fi+t.gi,o=Math.max(0,qr(t)+o);if(0===n.length)return i.We=0,t.le=1,o;if(!t.Bx){var r=n.indexOf("\n",0);0<=r&&(n=n.substr(0,r))}for(var r=0,s=t.le=0,a=-1,l=!1;!l;)a=n.indexOf("\n",s),-1===a&&(a=n.length,l=!0),s<=a&&(s=n.substr(s,a-s),t.rk!==gp?(i.hj=0,s=Vr(t,s,i,e),r+=s.height,t.le+=i.hj):(Vr(t,s,i,e),r+=o,t.le++),t.le===t.hh&&(l=!0)),s=a+1;return t.Zv=r}function Ur(){this.We=this.hj=0,this.tf=[],this.Se=[],this.Pj=null}function Kr(){Eo.call(this),this.Ue=null,this.et="",this.jk=Ju,this.Io=Ad,this.ki=this.Ve=null,this.Ho=su,this.qg=Nd,this.rp=null,this.lz=!1,this.Bv=!0,this.Xv=!1,this.jp=null}function $r(){var t=Sp;if(0===t.length)for(var i=e.document.getElementsByTagName("canvas"),n=i.length,o=0;o<n;o++){var r=i[o];r.parentElement&&r.parentElement.fa&&t.push(r.parentElement.fa)}return t}function Wr(t,e){t.Kr=!0,t.Go=!1;for(var i=null,n=$r(),o=n.length,r=0;r<o;r++){var s=n[r],a=s.dp.ka(t.src);if(null!==a)for(var l=a.length,h=0;h<l;h++)i=a[h],s.yz.add(i),s.Ne(),null===t.Bz&&(t.Bz=e,null!==i.ki&&i.ki(i,e))}}function Yr(t,e){t.Go=e;for(var i=null,n=$r(),o=n.length,r=0;r<o;r++)if(null!==(i=n[r].dp.ka(t.src))){for(var s=i.length,a=Kh.cb(),l=0;l<s;l++)a.push(i[l]);for(l=0;l<s;l++)i=a[l],null!==i.Ve&&i.Ve(i,e);Kh.ta(a)}}function Jr(t){this.Bp=[new Qr(t,1)]}function Xr(t,e,i,n){var o=new U(null),r=o.xk,s=1/e;o.width=i/e,o.height=n/e,e=new Qr(o.Kd,e),i=t.Bp[t.Bp.length-1],r.setTransform(s*i.iq,0,0,s*i.iq,0,0),r.drawImage(i.source,0,0),t.Bp.push(e)}function Qr(t,e){this.source=t,this.iq=e}function Zr(){this.o=new mt,this.Xb=null}function ts(t,e,i,n,o,r){null===t.o&&Kh.k("StreamGeometryContext has been closed"),void 0!==o&&!0===o?(null===t.Xb&&Kh.k("Need to call beginFigure first"),n=new Et(lc),n.C=e,n.D=i,t.Xb.vb.add(n)):(t.Xb=new Tt,t.Xb.ha=e,t.Xb.ea=i,t.Xb.gu=n,t.o.fc.add(t.Xb)),void 0!==r&&(t.Xb.Oo=r)}function es(t){null===t.o&&Kh.k("StreamGeometryContext has been closed"),null===t.Xb&&Kh.k("Need to call beginFigure first");var e=t.Xb.vb.length;0<e&&t.Xb.vb.da(e-1).close()}function is(t){null===t.o&&Kh.k("StreamGeometryContext has been closed"),null===t.Xb&&Kh.k("Need to call beginFigure first"),0<t.Xb.vb.length&&(t.Xb.gu=!0)}function ns(t,e,i,n,o,r,s,a){void 0===a&&(a=!1),null===t.o&&Kh.k("StreamGeometryContext has been closed"),null===t.Xb&&Kh.k("Need to call beginFigure first");var l=new Et(uc);l.uc=e,l.Qc=i,l.Ch=n,l.Dh=o,l.C=r,l.D=s,a&&l.close(),t.Xb.vb.add(l)}function os(t,e,i,n,o){var r;void 0===r&&(r=!1),null===t.o&&Kh.k("StreamGeometryContext has been closed"),null===t.Xb&&Kh.k("Need to call beginFigure first");var s=new Et(cc);s.uc=e,s.Qc=i,s.C=n,s.D=o,r&&s.close(),t.Xb.vb.add(s)}function rs(t,e,i,n,o,r,s,a){var l;void 0===l&&(l=!1),null===t.o&&Kh.k("StreamGeometryContext has been closed"),null===t.Xb&&Kh.k("Need to call beginFigure first"),e=new Et(pc,s,a,e,i,n,o,r),l&&e.close(),t.Xb.vb.add(e)}function ss(t){t=as(t);var e=Kh.cb();e[0]=t[0];for(var i=1,n=1;n<t.length;)e[i]=t[n],e[i+1]=t[n],e[i+2]=t[n+1],n+=2,i+=3;return Kh.ta(t),e}function as(t){var e=ls(t),i=Kh.cb(),n=Math.floor(e.length/2),o=e.length-1;t=0==t%2?2:1;for(var r=0;r<o;r++){var s=e[r],a=e[r+1],l=e[(n+r-1)%o],h=e[(n+r+t)%o];i[2*r]=s,i[2*r+1]=ht(s.x,s.y,l.x,l.y,a.x,a.y,h.x,h.y,new w)}return i[i.length]=i[0],Kh.ta(e),i}function ls(t){for(var e=Kh.cb(),i=1.5*Math.PI,n=0,o=0;o<t;o++)n=2*Math.PI/t*o+i,e[o]=new w(.5+.5*Math.cos(n),.5+.5*Math.sin(n));return e.push(e[0]),e}function hs(t){var e=tc[t];if(void 0===e){var i=t.toLowerCase();if("none"===i)return"None";if(void 0===(e=tc[i])){var n,o=null;for(n in Ep)if(n.toLowerCase()===i){o=n;break}if(null!==o)return t=ac(Ep[o],!1),tc[o]=t,i!==o&&(tc[i]=o),o}}return"string"==typeof e?e:e instanceof mt?t:null}function us(t){ir.call(this,t),this.N=2408959,this.pl=this.yi="",this.Ms=this.Js=this.Vs=this.Vr=null,this.Xs="",this.wi=this.Gr=this.Ws=this.bn=null,this.Ls="",this.fp=null,this.Ks=Yu,this.Ns="",this.gp=null,this.Jd="",this.Uv=this.Uq=this.$k=null,this.Ti=new w(NaN,NaN).freeze(),this.$r="",this.sl=null,this.as=iu,this.js=Hu,this.bs=zu,this.nr=null,this.Wr=Op,this.dn=Vu,this.cn="gray",this.Fg=4,this.dD=-1,this.vt=NaN,this.LG=new S,this.Qm=null,this.ck=NaN}function cs(t,e){e.eb.df.each(function(e){e.isEnabled&&e.updateAdornments(t)}),e.eb.updateAdornments(t)}function ds(t){0!=(16384&t.N)!=!1&&(t.updateAdornments(),t.N&=-16385)}function ps(t){if(!1===Ss(t)){var e=t.g;null!==e&&(e.wg.add(t),e.Ne()),Ms(t,!0),t.Mi()}}function fs(t){if(t.N|=2097152,!1!==Ss(t)){var e=t.position,i=t.location;i.I()&&e.I()||ms(t,e,i);var i=t.oc,n=i.copy();i.Qa(),i.x=e.x,i.y=e.y,i.freeze(),t.Px(n,i),Ms(t,!1)}}function ys(t,e,i,n){void 0===n&&(n=new w),i=i.Sd()?su:i;var o=e.Ja;if(n.m(o.width*i.x+i.offsetX,o.height*i.y+i.offsetY),null===e||e===t)return n;for(e.transform.nb(n),e=e.Q;null!==e&&e!==t;)e.transform.nb(n),e=e.Q;return t.Si.nb(n),n.offset(-t.sd.x,-t.sd.y),n}function gs(t,e){var i,n=t.LG;isNaN(t.ck)&&(t.ck=yr(t)),i=t.ck;var o=2*i;if(!t.cm)return n.m(e.x-1-i,e.y-1-i,e.width+2+o,e.height+2+o),n;i=e.x;var o=e.y,r=e.width,s=e.height,a=t.shadowBlur,l=t.FJ,r=r+a,s=s+a;return i-=a/2,o-=a/2,0<l.x?r+=l.x:(i+=l.x,r-=l.x),0<l.y?s+=l.y:(o+=l.y,s-=l.y),n.m(i-1,o-1,r+2,s+2),n}function vs(t,e,i,n){null===e||t instanceof Ns||(e=e.Oa,e.qc&&ki(e,t,"position",n.copy(),i.copy(),!1))}function ms(t,e,i){var n=Kh.K(),o=t.Ef,r=t.bg;o.Sd()&&Kh.k("determineOffset: Part's locationSpot must be real: "+o.toString());var s=r.Ja,a=r instanceof Pr?r.lb:0;if(n.Mu(0,0,s.width+a,s.height+a,o),r!==t)for(n.offset(-a/2,-a/2),r.transform.nb(n),o=r.Q;null!==o&&o!==t;)o.transform.nb(n),o=o.Q;t.Si.nb(n),n.offset(-t.sd.x,-t.sd.y),o=t.g,r=i.I(),s=e.I(),r&&s?0!=(2097152&t.N)?bs(t,e,i,o,n):ws(t,e,i,o,n):r?bs(t,e,i,o,n):s&&ws(t,e,i,o,n),t.N|=2097152,Kh.v(n),t.Mi()}function bs(t,e,i,n,o){var r=e.x,s=e.y;e.m(i.x-o.x,i.y-o.y),null!==n&&(i=n.Oa,(o=i.Xj)||!i.qc||t instanceof Ns||ki(i,t,"position",new w(r,s),e,!1),o||e.x===r&&e.y===s||(i=n.wb,n.wb=!0,t.h("position",new w(r,s),e),n.wb=i))}function ws(t,e,i,n,o){var r=i.copy();i.m(e.x+o.x,e.y+o.y),i.L(r)||null===n||(e=n.wb,n.wb=!0,t.h("location",r,i),n.wb=e)}function xs(t,e,i){Ts(t,!1),t instanceof js&&i.BA(t),t.layer.Mc||e||i.sc(),e=t.oc;var n=i.qb;n.I()?(Es(t)?P(e,n)||t.Gf(!1):e.Zf(n)&&t.Gf(!0),t.updateAdornments()):i.il=!0}function Cs(t,e){var i=t.oc;if(0!==i.width&&0!==i.height&&!isNaN(i.x)&&!isNaN(i.y)&&t.isVisible()){var n=t.transform;null!==t.bc&&(Fo(t,e,t.bc,!0,!0),e.fillRect(i.x,i.y,i.width,i.height)),null===t.bc&&null===t.Eb&&(Fo(t,e,"rgba(0,0,0,0.4)",!0,!1),e.fillRect(i.x,i.y,i.width,i.height)),null!==t.Eb&&(n.iu()||e.transform(n.m11,n.m12,n.m21,n.m22,n.dx,n.dy),i=t.Ja,Fo(t,e,t.Eb,!0,!1),e.fillRect(0,0,i.width,i.height),n.iu()||(i=1/(n.m11*n.m22-n.m12*n.m21),e.transform(n.m22*i,-n.m12*i,-n.m21*i,n.m11*i,i*(n.m21*n.dy-n.m22*n.dx),i*(n.m12*n.dx-n.m11*n.dy))))}}function ks(t,e,i,n){e.constructor===t.constructor||Lp||(Lp=!0,Kh.trace('Should not change the class of the Part when changing category from "'+i+'" to "'+n+'"'),Kh.trace("  Old class: "+Kh.mf(t)+", new class: "+Kh.mf(e)+", part: "+t.toString())),t.Et();var o=t.data;i=t.ag;var r=t.ib,s=t.Pg,a=!0,l=!0,h=!1;if(t instanceof js)var u=t,a=u.wj,l=u.tc,h=u.yq;e.oi(t),e.cloneProtected(t),t.yi=n,t.H(),t.oa(),e=t.g,n=!0,null!==e&&(n=e.wb,e.wb=!0),t.Zd=o,null!==o&&t.Ib(),null!==e&&(e.wb=n),o=t.ag,o!==i&&(t.pl=i,t.ag=o),t instanceof js&&(u=t,u.wj=a,u.tc=l,u.yq=h,u.ee()&&u.J(64)),t.ib=r,t.Pg=s}function Ss(t){return 0!=(32768&t.N)}function Ms(t,e){t.N=e?32768|t.N:-32769&t.N}function Ts(t,e){t.N=e?65536|t.N:-65537&t.N}function Es(t){return 0!=(131072&t.N)}function Is(t,e){t.N=e?1048576|t.N:-1048577&t.N}function Ps(t,e){var i=e.Da;return null!==i?1+Ps(t,i):e instanceof js&&null!==(i=e.Wb)?Ps(t,i):0}function Ds(t,e){var i=e.Da;return null!==i?Ds(t,i):e instanceof js&&null!==(i=e.Wb)?Ds(t,i):e}function Os(t,e,i){if(e===i||null===i)return!1;var n=e.Da;return!(null===n||n!==i&&!Os(t,n,i))||e instanceof js&&null!==(e=e.Wb)&&Os(t,e,i)}function Ls(t){return!!t.isVisible()&&(null===(t=t.layer)||!t.Mc)}function Ns(t){0===arguments.length?us.call(this,$d):us.call(this,t),this.N&=-257,this.pl="Adornment",this.Gc=null,this.nD=0,this.eE=!1,this.Lb=this.bh=null}function js(t){us.call(this,t),this.ya=13,this.pc=new c(Ws),this.qt=this.Ro=this.rl=this.Yr=this.Xr=null,this.Nq=Bu,this.ne=this.Kh=null,this.Fs=Fp,this.qk=!1}function Rs(t,e){null!==e&&(null===t.Kh&&(t.Kh=new p(fa)),t.Kh.add(e))}function Fs(t,e,i,n){if(null===e||null===t.Kh)return null;for(var o=t.Kh.i;o.next();){var r=o.value;if(r.fq===t&&r.wu===e&&r.Sx===i&&r.Tx===n||r.fq===e&&r.wu===t&&r.Sx===n&&r.Tx===i)return r}return null}function As(t,e){for(var i=t.ge;i.next();){var n=i.value;n.Cc!==e&&n.cd!==e||(Bs(t,n.Cc),Bs(t,n.cd),n.$b())}}function Bs(t,e){if(null!==e){var i=e.Es;null!==i&&i.Xp(),i=t.Da,null===i||i.Zc||Bs(i,i.port)}}function Vs(t,e,i){Bs(t,i);var n=t.pc.contains(e);if(n||t.pc.add(e),!n||e.Y===e.Z){var o=t.JI;if(null!==o){var r=!0,s=t.g;null!==s&&(r=s.Ta,s.Ta=!0),o(t,e,i),null!==s&&(s.Ta=r)}}!n&&e.Nc&&(i=e.Y,e=e.Z,null!==i&&null!==e&&i!==e&&(n=!0,s=t.g,null!==s&&(n=s.Td),t=n?e:i,o=n?i:e,t.qk||(t.qk=o),!o.wj||null!==s&&s.ia.ab||(n?i===o&&(o.wj=!1):e===o&&(o.wj=!1))))}function Hs(t,e,i){Bs(t,i);var n=t.pc.remove(e);if(n||e.Z===e.Y){var o=t.KI,r=t.g;if(null!==o){var s=!0;null!==r&&(s=r.Ta,r.Ta=!0),o(t,e,i),null!==r&&(r.Ta=s)}}n&&e.Nc&&(i=!0,null!==r&&(i=r.Td),t=i?e.Z:e.Y,e=i?e.Y:e.Z,null!==t&&(t.qk=!1),null===e||e.wj||(0===e.pc.count?(e.qk=null,null!==r&&r.ia.ab||(e.wj=!0)):zs(e)))}function zs(t){if(t.qk=!1,0!==t.pc.count){var e=!0,i=t.g;if(null===i||!i.ia.ab){for(null!==i&&(e=i.Td),i=t.pc.i;i.next();){var n=i.value;if(n.Nc)if(e){if(n.Y===t)return void(t.wj=!1)}else if(n.Z===t)return void(t.wj=!1)}t.wj=!0}}}function qs(t){null===t.ne?t.ne=new b("string",Eo):t.ne.clear(),ur(t,t,function(t,e){var i=e.Ud;null!==i&&t.ne.add(i,e)}),0===t.ne.count&&t.ne.add("",t)}function Gs(t,e,i){var n=e.Ud;if(null!==n&&(null!==t.ne&&t.ne.remove(n),null!==(e=t.g)&&i)){for(i=null,n=t.OE(n);n.next();)t=n.value,null===i&&(i=Kh.cb()),i.push(t);if(null!==i){for(n=0;n<i.length;n++)t=i[n],e.remove(t);Kh.ta(i)}}}function _s(t,e){var i=e.Ak();return null===i?0:1+_s(t,i)}function Us(t,e,i,n,o,r,s){if(1<n)for(var a=i?t.nx():t.Ng();a.next();){var l=a.value;l.Nc&&(null===(l=l.sA(t))||l===t||e.contains(l)||(e.add(l),Us(l,e,i,n-1,o,r,s)))}else Ks(t,e,i,o,r,s)}function Ks(t,e,i,n,o,r){for(var s=o===t||t.tc,a=i?t.nx():t.Ng();a.next();){var l=a.value;l.Nc&&(null===(l=l.sA(t))||l===t||e.contains(l)||(e.add(l),s&&(r&&Oi(n,l,o),l.Fk(),l.yd(!1)),l.tc&&(l.yq=l.tc,Ks(l,e,i,n,o,r))))}t.tc=!1}function $s(t,e,i,n,o,r,s){for(var a=r!==t&&t.tc,l=i?t.nx():t.Ng();l.next();){var h=l.value;h.Nc&&(a||h.Lf||h.$b(),null!==(h=h.sA(t))&&h!==t&&!e.contains(h)&&(e.add(h),a||(h.yd(!0),h.Fk(),s&&Di(o,h,r)),2<n||h.yq))&&(h.yq=!1,$s(h,e,i,n-1,o,r,s))}t.tc=!0}function Ws(){us.call(this,tp),this.Yb=8,this.sg=null,this.Qh="",this.Ig=this.xr=null,this.li="",this.pt=null,this.Fq=Hp,this.$q=0,this.cr=Hp,this.dr=NaN,this.Xm=Bp,this.dt=.5,this.uf=null,this.gd=new c(w).freeze(),this.bh=this.yC=this.sC=this.xi=this.Ki=this.Ua=this.qw=this.hp=this.Xe=null,this.Jz=new w,this.V=this.QD=this.PD=null}function Ys(t){var e=t.Y,i=t.Z,n=null,e=n=null!==e?null!==i?e.SH(i):e.Da:null!==i?i.Da:null,i=t.$k;if(i!==e){null!==i&&Oa(i,t),t.$k=e,null!==e&&Da(e,t);var o=t.zE;if(null!==o){var r=!0,s=t.g;null!==s&&(r=s.Ta,s.Ta=!0),o(t,i,e),null!==s&&(s.Ta=r)}!t.Lf||t.PD!==i&&t.QD!==i||t.$b()}if(t.xI)for(t=t.Df;t.next();)t.value.Da=n}function Js(t,e){null===t.uf&&(t.uf=new p(js)),t.uf.add(e),t.H()}function Xs(t){0===t.gd.count?t.Lf=!1:(t.Lf=!0,t.Kp=t.l(0),t.Lp=t.l(t.qa-1),ha(t,!1))}function Qs(t,e){return Math.abs(e.x-t.x)>Math.abs(e.y-t.y)?(e.x=e.x>=t.x?t.x+9e9:t.x-9e9,e.y=t.y):(e.y=e.y>=t.y?t.y+9e9:t.y-9e9,e.x=t.x),e}function Zs(t,e){var i=e.Es;return null===i&&(i=new Sa,i.port=e,i.Pc=e.U,e.Es=i),Ta(i,t)}function ta(t){if(null===t.g||!t.Zl)return!1;var e=t.points.n,i=e.length;if(4>i)return!1;t=no(t.g,!0,t.Da,null);for(var n=1;n<i-2;n++){var o=e[n],r=e[n+1];if(!t.aq(Math.min(o.x,r.x),Math.min(o.y,r.y),Math.abs(o.x-r.x),Math.abs(o.y-r.y)))return!0}return!1}function ea(t,e,i,n,o,r){var s=e.Ep,a=e.Cp,l=va(e,i,n),h=i,u=n;for(0===o?h+=s:90===o?u+=a:180===o?h-=s:u-=a;1<l&&va(e,h,u)===l-1;)i=h,n=u,0===o?h+=s:90===o?u+=a:180===o?h-=s:u-=a,l-=1;r?1<l&&(180===o||0===o?i=Math.floor(i/s)*s+s/2:90!==o&&270!==o||(n=Math.floor(n/a)*a+a/2)):(i=Math.floor(i/s)*s+s/2,n=Math.floor(n/a)*a+a/2),1<l&&(r=o,h=i,u=n,0===o?(r=90,u+=a):90===o?(r=180,h-=s):180===o?(r=270,u-=a):270===o&&(r=0,h+=s),va(e,h,u)===l-1?ea(t,e,h,u,r,!1):(h=i,u=n,0===o?(r=270,u-=a):90===o?(r=0,h+=s):180===o?(r=90,u+=a):270===o&&(r=180,h-=s),va(e,h,u)===l-1&&ea(t,e,h,u,r,!1))),t.ij(i,n)}function ia(t,e,i,n){return t=i-t,isNaN(t)||1/0===t||-1/0===t?NaN:(0>t&&(t=-t),e=n-e,isNaN(e)||1/0===e||-1/0===e?NaN:(0>e&&(e=-e),Y(t,0)?e:Y(e,0)?t:Math.sqrt(t*t+e*e)))}function na(t,e,i,n){var o=t.qa;if(2>o)return e;if(i){var r=t.l(1);if(i=r.x-n.x,n=r.y-n.y,0===(r=ia(e.x,e.y,i,n)))return e;o=2===o?.5*r:r,t=t.computeShortLength(!0),t>o&&(t=o),i=t*(i-e.x)/r,t=t*(n-e.y)/r,e.x+=i,e.y+=t}else{if(r=t.l(o-2),i=r.x-n.x,n=r.y-n.y,0===(r=ia(e.x,e.y,i,n)))return e;o=2===o?.5*r:r,t=t.computeShortLength(!1),t>o&&(t=o),i=t*(e.x-i)/r,t=t*(e.y-n)/r,e.x-=i,e.y-=t}return e}function oa(t,e,i,n){for(var o=t.qa,r=e;Y(e.x,r.x)&&Y(e.y,r.y);){if(i>=o)return o-1;r=t.l(i++)}if(!Y(e.x,r.x)&&!Y(e.y,r.y))return i-1;for(var s=r;Y(e.x,r.x)&&Y(r.x,s.x)&&(!n||(e.y>=r.y?r.y>=s.y:r.y<=s.y))||Y(e.y,r.y)&&Y(r.y,s.y)&&(!n||(e.x>=r.x?r.x>=s.x:r.x<=s.x));){if(i>=o)return o-1;s=t.l(i++)}return i-2}function ra(t,e,i,n,o,r,s){if(!s&&la(t)){s=[];var a=0;t.isVisible()&&(a=sa(t,o,r,s));var l=o.x,l=o.y;if(0<a)if(W(o.y,r.y))if(o.x<r.x)for(var h=0;h<a;){var u=Math.max(o.x,Math.min(s[h++]-5,r.x-10));e.lineTo(u+i,r.y+n);for(var l=u+i,c=Math.min(u+10,r.x);h<a;){var d=s[h];if(!(d<c+10))break;h++,c=Math.min(d+5,r.x)}d=(u+c)/2+i,d=r.y-10+n,u=c+i,c=r.y+n,t.af===qp?ts(e,u,c,!1,!1):ns(e,l,d,u,d,u,c)}else for(h=a-1;0<=h;){for(u=Math.min(o.x,Math.max(s[h--]+5,r.x+10)),e.lineTo(u+i,r.y+n),l=u+i,c=Math.max(u-10,r.x);0<=h&&(d=s[h])>c-10;)h--,c=Math.max(d-5,r.x);d=r.y-10+n,u=c+i,c=r.y+n,t.af===qp?ts(e,u,c,!1,!1):ns(e,l,d,u,d,u,c)}else if(W(o.x,r.x))if(o.y<r.y)for(h=0;h<a;){for(u=Math.max(o.y,Math.min(s[h++]-5,r.y-10)),e.lineTo(r.x+i,u+n),l=u+n,c=Math.min(u+10,r.y);h<a&&(d=s[h])<c+10;)h++,c=Math.min(d+5,r.y);d=r.x-10+i,u=r.x+i,c+=n,t.af===qp?ts(e,u,c,!1,!1):ns(e,d,l,d,c,u,c)}else for(h=a-1;0<=h;){for(u=Math.min(o.y,Math.max(s[h--]+5,r.y+10)),e.lineTo(r.x+i,u+n),l=u+n,c=Math.max(u-10,r.y);0<=h&&(d=s[h])>c-10;)h--,c=Math.max(d-5,r.y);d=r.x-10+i,u=r.x+i,c+=n,t.af===qp?ts(e,u,c,!1,!1):ns(e,d,l,d,c,u,c)}}e.lineTo(r.x+i,r.y+n)}function sa(t,e,i,n){var o=t.g;if(null===o||e.L(i))return 0;for(o=o.Hx;o.next();){var r=o.value;if(null!==r&&r.visible)for(var r=r.zb.n,s=r.length,a=0;a<s;a++){var l=r[a];if(l instanceof Ws){if(l===t)return 0<n.length&&n.sort(function(t,e){return t-e}),n.length;if(l.isVisible()&&la(l)){var h=l.Vn;h.I()&&t.Vn.Zf(h)&&!t.usesSamePort(l)&&null!==(h=l.path)&&h.xj()&&aa(e,i,n,l)}}}}return 0<n.length&&n.sort(function(t,e){return t-e}),n.length}function aa(t,e,i,n){for(var o=W(t.y,e.y),r=n.qa,s=n.l(0),a=Kh.K(),l=1;l<r;l++){var h=n.l(l);if(l<r-1){var u=n.l(l+1);s.y===h.y&&h.y===u.y?(h.x>s.x&&u.x>h.x||h.x<s.x&&u.x<h.x)&&(h=u,l++):s.x===h.x&&h.x===u.x&&(h.y>s.y&&u.y>h.y||h.y<s.y&&u.y<h.y)&&(h=u,l++)}t:{var u=a,c=t.x,d=t.y,p=e.x,f=e.y,y=s.x,s=s.y,g=h.x,v=h.y;if(W(c,p)){if(!W(d,f)&&W(s,v)&&Math.min(d,f)<s&&Math.max(d,f)>s&&Math.min(y,g)<c&&Math.max(y,g)>c&&!W(y,g)){u.x=c,u.y=s,u=!0;break t}}else if(W(d,f)&&W(y,g)&&Math.min(c,p)<y&&Math.max(c,p)>y&&Math.min(s,v)<d&&Math.max(s,v)>d&&!W(s,v)){u.x=y,u.y=d,u=!0;break t}u.x=0,u.y=0,u=!1}u&&(o?i.push(a.x):i.push(a.y)),s=h}Kh.v(a)}function la(t){return(t=t.af)===Gp||t===qp}function ha(t,e){if(e||la(t)){var i=t.g;null===i||i.bl.contains(t)||null===t.qw||i.bl.add(t,t.qw)}}function ua(t,e){var i=t.layer;if(null!==i&&i.visible&&!i.Mc){var n=i.g;if(null!==n)for(var o=!1,n=n.Hx;n.next();){var r=n.value;if(r.visible)if(r===i)for(var o=!0,s=!1,r=r.zb.n,a=r.length,l=0;l<a;l++){var h=r[l];h instanceof Ws&&(h===t?s=!0:s&&ca(t,h,e))}else if(o)for(r=r.zb.n,a=r.length,l=0;l<a;l++)(h=r[l])instanceof Ws&&ca(t,h,e)}}}function ca(t,e,i){if(null!==e&&null!==e.Ua&&la(e)){var n=e.Vn;n.I()&&(t.Vn.Zf(n)||i.Zf(n))&&(t.usesSamePort(e)||e.Me())}}function da(t){var e=t.sg;if(null!==e){var i=t.Ig;if(null!==i){var n=t.Qh;t=t.li;for(var o=null,r=null,s=e.pc.n,a=s.length,l=0;l<a;l++){var h=s[l];(h.sg===e&&h.Qh===n&&h.Ig===i&&h.li===t||h.sg===i&&h.Qh===t&&h.Ig===e&&h.li===n)&&(null===r?r=h:(null===o&&(o=[],o.push(r)),o.push(h)))}if(null!==o){for(r=Fs(e,i,n,t),null===r&&(r=new fa,r.fq=e,r.Sx=n,r.wu=i,r.Tx=t,Rs(e,r),Rs(i,r)),r.links=o,l=0;l<o.length;l++)h=o[l],h.xi=r;r.Xp()}}}}function pa(t){var e=t.xi;null!==e&&(t.xi=null,0<=(t=e.links.indexOf(t))&&(Kh.Kg(e.links,t),e.Xp()))}function fa(){Kh.nc(this),this.Of=this.Nv=!1,this.Tx=this.wu=this.Sx=this.fq=null,this.links=[]}function ya(){Kh.nc(this),this.sB=this.group=null,this.cu=!0,this.abort=!1,this.Cg=this.Bg=1,this.ds=this.cs=-1,this.Be=this.Ae=8,this.od=null,this.EG=!1,this.nG=22,this.BF=111}function ga(t,e,i){return t.Bg<=e&&e<=t.cs&&t.Cg<=i&&i<=t.ds}function va(t,e,i){return ga(t,e,i)?(e-=t.Bg,e/=t.Ae,i-=t.Cg,i/=t.Be,t.od[0|e][0|i]):1e6}function ma(t,e,i){ga(t,e,i)&&(e-=t.Bg,e/=t.Ae,i-=t.Cg,i/=t.Be,t.od[0|e][0|i]=0)}function ba(t){if(null!==t.od)for(var e=0;e<=t.wp;e++)for(var i=0;i<=t.xp;i++)1<=t.od[e][i]&&(t.od[e][i]=1e6)}function wa(t,e,i,n,o,r,s,a,l){if(!(e<r||e>s||i<a||i>l)){var h,u;h=0|e,u=0|i;var c=t.od[h][u];if(1<=c&&999999>c)for(o?u+=n:h+=n,c+=1;r<=h&&h<=s&&a<=u&&u<=l&&!(c>=t.od[h][u]);)t.od[h][u]=c,c+=1,o?u+=n:h+=n;if(h=o?u:h,o)if(0<n)for(i+=n;i<h;i+=n)wa(t,e,i,1,!o,r,s,a,l),wa(t,e,i,-1,!o,r,s,a,l);else for(i+=n;i>h;i+=n)wa(t,e,i,1,!o,r,s,a,l),wa(t,e,i,-1,!o,r,s,a,l);else if(0<n)for(e+=n;e<h;e+=n)wa(t,e,i,1,!o,r,s,a,l),wa(t,e,i,-1,!o,r,s,a,l);else for(e+=n;e>h;e+=n)wa(t,e,i,1,!o,r,s,a,l),wa(t,e,i,-1,!o,r,s,a,l)}}function xa(t,e,i,n,o,r,s,a,l){e|=0,i|=0;var h=0,u=1;for(t.od[e][i]=u;0===h&&e>r&&e<s&&i>a&&i<l;)u+=1,t.od[e][i]=u,o?i+=n:e+=n,h=t.od[e][i]}function Ca(t,e,i,n,o,r,s,a,l){e|=0,i|=0;var h=0;for(t.od[e][i]=999999;0===h&&e>r&&e<s&&i>a&&i<l;)t.od[e][i]=999999,o?i+=n:e+=n,h=t.od[e][i]}function ka(t,e,i,n,o,r){if(null!==t.od){t.abort=!1;var s=e.x,a=e.y;if(ga(t,s,a)&&(s-=t.Bg,s/=t.Ae,a-=t.Cg,a/=t.Be,e=n.x,n=n.y,ga(t,e,n)))if(e-=t.Bg,e/=t.Ae,n-=t.Cg,n/=t.Be,1>=Math.abs(s-e)&&1>=Math.abs(a-n))t.abort=!0;else{var l=r.x,h=r.y,u=r.x+r.width,c=r.y+r.height,l=l-t.Bg,l=l/t.Ae,h=h-t.Cg,h=h/t.Be,u=u-t.Bg,u=u/t.Ae,c=c-t.Cg,c=c/t.Be;r=Math.max(0,Math.min(t.wp,0|l)),u=Math.min(t.wp,Math.max(0,0|u)),h=Math.max(0,Math.min(t.xp,0|h)),c=Math.min(t.xp,Math.max(0,0|c)),s|=0,a|=0,e|=0,n|=0,l=0===i||90===i?1:-1,i=90===i||270===i,0===t.od[s][a]?(xa(t,s,a,l,i,r,u,h,c),xa(t,s,a,1,!i,r,u,h,c),xa(t,s,a,-1,!i,r,u,h,c)):xa(t,s,a,l,i,s,a,s,a),0===t.od[e][n]?(Ca(t,e,n,0===o||90===o?1:-1,90===o||270===o,r,u,h,c),Ca(t,e,n,1,!(90===o||270===o),r,u,h,c),Ca(t,e,n,-1,!(90===o||270===o),r,u,h,c)):Ca(t,e,n,l,i,e,n,e,n),t.abort||(wa(t,s,a,1,!1,r,u,h,c),wa(t,s,a,-1,!1,r,u,h,c),wa(t,s,a,1,!0,r,u,h,c),wa(t,s,a,-1,!0,r,u,h,c))}}}function Sa(){Kh.nc(this),this.port=this.Pc=null,this.fg=[],this.eq=!1}function Ma(t,e,i,n){switch(e=e.offsetY){case Kh.dd:return 90;case Kh.Sc:return 180;case Kh.md:return 270;case Kh.ed:return 0}switch(e){case Kh.dd|Kh.md:return 180<i?270:90;case Kh.Sc|Kh.ed:return 90<i&&270>=i?180:0}switch(t=180*Math.atan2(t.height,t.width)/Math.PI,e){case Kh.Sc|Kh.md:return i>t&&i<=180+t?180:270;case Kh.md|Kh.ed:return i>180-t&&i<=360-t?270:0;case Kh.ed|Kh.dd:return i>t&&i<=180+t?90:0;case Kh.dd|Kh.Sc:return i>180-t&&i<=360-t?180:90;case Kh.Sc|Kh.md|Kh.ed:return 90<i&&i<=180+t?180:i>180+t&&i<=360-t?270:0;case Kh.md|Kh.ed|Kh.dd:return 180<i&&i<=360-t?270:i>t&&180>=i?90:0;case Kh.ed|Kh.dd|Kh.Sc:return i>t&&i<=180-t?90:i>180-t&&270>=i?180:0;case Kh.dd|Kh.Sc|Kh.md:return i>180-t&&i<=180+t?180:i>180+t?270:90}return n&&e!==(Kh.Sc|Kh.md|Kh.ed|Kh.dd)&&0>(i-=15)&&(i+=360),i>t&&i<180-t?90:i>=180-t&&i<=180+t?180:i>180+t&&i<360-t?270:0}function Ta(t,e){var i=t.fg;if(0===i.length){t:if(!t.eq){i=t.eq,t.eq=!0;var n,o=null,r=t.Pc,r=r instanceof Pa?r:null;if(null===r||r.Zc)n=t.Pc.OE(t.port.Ud);else{if(!r.W.I()){t.eq=i;break t}o=r,n=o.NE()}var s=t.fg.length=0,a=t.port.Wa(iu,Kh.K()),l=t.port.Wa(uu,Kh.K()),r=Kh.lg(a.x,a.y,0,0);for(r.vi(l),Kh.v(a),Kh.v(l),a=Kh.xb(r.x+r.width/2,r.y+r.height/2),l=t.port.Vl(),n=n.i;n.next();){var h=n.value;if(h.isVisible()&&h.Cc!==h.cd){var u=h.Cc===t.port||h.Y.qi(o),c=h.computeSpot(u,t.port);if(c.uj()&&null!==(u=u?h.cd:h.Cc)){var d=u.U;if(null!==d){var p=d.findVisibleNode();null!==p&&p!==d&&(d=p,u=d.port),u=h.computeOtherPoint(d,u),d=a.Pb(u),d-=l,0>d&&(d+=360),c=Ma(r,c,d,h.ac),p=0,0===c?(p=Kh.ed,180<d&&(d-=360)):p=90===c?Kh.dd:180===c?Kh.Sc:Kh.md,c=t.fg[s],void 0===c?(c=new Ea(h,d,p),t.fg[s]=c):(c.link=h,c.angle=d,c.ye=p),c.Qx.set(u),s++}}}}for(Kh.v(a),t.fg.sort(Sa.prototype.dJ),o=t.fg.length,a=-1,s=l=0;s<o;s++)void 0!==(c=t.fg[s])&&(c.ye!==a&&(a=c.ye,l=0),c.Vp=l,l++);for(a=-1,l=0,s=o-1;0<=s;s--)void 0!==(c=t.fg[s])&&(c.ye!==a&&(a=c.ye,l=c.Vp+1),c.tn=l);if(s=t.fg,c=t.port,o=t.Pc.iJ,a=Kh.K(),l=Kh.K(),n=Kh.K(),h=Kh.K(),c.Wa(iu,a),c.Wa(ou,l),c.Wa(uu,n),c.Wa(lu,h),p=d=u=c=0,o===Ap)for(var f=0;f<s.length;f++){var y=s[f];if(null!==y){var g=y.link.computeThickness();switch(y.ye){case Kh.dd:d+=g;break;case Kh.Sc:p+=g;break;case Kh.md:c+=g;break;default:case Kh.ed:u+=g}}}for(var v=0,m=0,b=1,f=0;f<s.length;f++)if(null!==(y=s[f])){var w,x;if(v!==y.ye){switch(v=y.ye){case Kh.dd:w=n,x=h;break;case Kh.Sc:w=h,x=a;break;case Kh.md:w=a,x=l;break;default:case Kh.ed:w=l,x=n}var C=x.x-w.x;switch(x=x.y-w.y,v){case Kh.dd:d>Math.abs(C)?(b=Math.abs(C)/d,d=Math.abs(C)):b=1;break;case Kh.Sc:p>Math.abs(x)?(b=Math.abs(x)/p,p=Math.abs(x)):b=1;break;case Kh.md:c>Math.abs(C)?(b=Math.abs(C)/c,c=Math.abs(C)):b=1;break;default:case Kh.ed:u>Math.abs(x)?(b=Math.abs(x)/u,u=Math.abs(x)):b=1}m=0}var k=y.cq;if(o===Ap){switch(g=y.link.computeThickness(),g*=b,k.set(w),v){case Kh.dd:k.x=w.x+C/2+d/2-m-g/2;break;case Kh.Sc:k.y=w.y+x/2+p/2-m-g/2;break;case Kh.md:k.x=w.x+C/2-c/2+m+g/2;break;default:case Kh.ed:k.y=w.y+x/2-u/2+m+g/2}m+=g}else g=.5,o===Fp&&(g=(y.Vp+1)/(y.tn+1)),k.x=w.x+C*g,k.y=w.y+x*g}for(Kh.v(a),Kh.v(l),Kh.v(n),Kh.v(h),w=t.fg,C=0;C<w.length;C++)null!==(x=w[C])&&(x.jx=t.computeEndSegmentLength(x));t.eq=i,Kh.Db(r)}i=t.fg}for(r=0;r<i.length;r++)if(null!==(w=i[r])&&w.link===e)return w;return null}function Ea(t,e,i){this.link=t,this.angle=e,this.ye=i,this.Qx=new w,this.tn=this.Vp=0,this.cq=new w,this.jx=0}function Ia(){this.pk=this.Tj=eu,this.nk=this.Rj=NaN,this.mk=this.Qj=Np,this.ok=this.Sj=NaN,this.nt=this.vr=null,this.ot=this.wr=1/0}function Pa(t){js.call(this,t),this.ya|=4608,this.fs=new p(us),this.Zo=new p(Pa),this.Lb=this.ht=this.tl=this.gs=this.es=null,this.ke=new Ra,this.ke.group=this}function Da(t,e){if(t.fs.add(e)){e instanceof Pa&&t.Zo.add(e);var i=t.VI;if(null!==i){var n=!0,o=t.g;null!==o&&(n=o.Ta,o.Ta=!0),i(t,e),null!==o&&(o.Ta=n)}t.isVisible()&&t.Zc||e.yd(!1)}e instanceof Ws&&!t.Yw||(i=t.Lb,null===i&&(i=t),i.H())}function Oa(t,e){if(t.fs.remove(e)){e instanceof Pa&&t.Zo.remove(e);var i=t.WI;if(null!==i){var n=!0,o=t.g;null!==o&&(n=o.Ta,o.Ta=!0),i(t,e),null!==o&&(o.Ta=n)}t.isVisible()&&t.Zc||e.yd(!0)}e instanceof Ws&&!t.Yw||(i=t.Lb,null===i&&(i=t),i.H())}function La(t,e,i,n){for(var o=t.Oc;o.next();){var r=o.value;if(r.yd(!1),r instanceof Pa){var s=r;s.Zc&&(s.ty=s.Zc,La(s,e,i,n))}if(r instanceof js)r.$f(e),Oi(i,r,n);else if(r instanceof Ws)for(r=r.Df;r.next();)r.value.$f(e)}t.Zc=!1}function Na(t,e,i,n){for(var o=t.Oc;o.next();){var r=o.value;if(r.yd(!0),r instanceof Pa){var s=r;s.ty&&(s.ty=!1,Na(s,e,i,n))}if(r instanceof js)r.$f(e),Di(i,r,n);else if(r instanceof Ws)for(r=r.Df;r.next();)r.value.$f(e)}t.Zc=!0}function ja(){Eo.call(this),this.jf=Au,this.Ss=new S(NaN,NaN,NaN,NaN)}function Ra(){0<arguments.length&&Kh.ld(Ra),Kh.nc(this),this.iz=this.fa=null,this.jl=this.Lr=!0,this.Sr=!1,this.Jq=new w(0,0).freeze(),this.Nr=this.Pr=!0,this.BC="",this.Rr=!1,this.wz=null}function Fa(t,e,i,n,o,r,s,a){for(i=i.i;i.next();){var l=i.value;n&&!l.Zp||null!==o&&!o(l)||!l.canLayout()||(r&&l instanceof js?l.Af||(l instanceof Pa&&null===l.Tb?Fa(t,e,l.Oc,!1,o,r,s,a):(Aa(l),e.add(l))):s&&l instanceof Ws?e.add(l):!a||!l.ee()||l instanceof js||(Aa(l),e.add(l)))}}function Aa(t){var e=t.W;(0===e.width||0===e.height||isNaN(e.width)||isNaN(e.height))&&t.Je()}function Ba(){if(Kh.nc(this),this.ke=null,this.vertexes)for(var t=this.vertexes.i;t.next();){var e=t.value;e.clear(),e.network=null}if(this.edges)for(t=this.edges.i;t.next();)e=t.value,e.clear(),e.network=null;this.vertexes=new p(Ga),this.edges=new p(_a),this.Nx=new b(js,Ga),this.Ix=new b(Ws,_a)}function Va(t,e){if(null===e)return!1;var i=t.vertexes.remove(e);return i&&(t.Nx.remove(e.Pc),e.network=null),i}function Ha(t,e){null!==e&&t.edges.remove(e)&&(t.Ix.remove(e.link),e.network=null)}function za(t){for(var e=Kh.cb(),i=t.edges.i;i.next();){var n=i.value;null!==n.fromVertex&&null!==n.toVertex||e.push(n)}for(i=e.length,n=0;n<i;n++)t.Mp(e[n]);Kh.ta(e)}function qa(t,e,i){if(null!==i&&i.network!==e){Va(t,i),e.Hl(i);for(var n=i.mc;n.next();){var o=n.value;o.network!==e&&(Ha(t,o),e.zp(o),qa(t,e,o.fromVertex))}for(n=i.kc;n.next();)i=n.value,i.network!==e&&(Ha(t,i),e.zp(i),qa(t,e,i.toVertex))}}function Ga(){Kh.nc(this),this.network=null,this.M=new S(0,0,10,10).freeze(),this.T=new w(5,5).freeze(),this.td=this.Zd=null,this.Qe=new c(_a),this.Ie=new c(_a)}function _a(){Kh.nc(this),this.toVertex=this.fromVertex=this.link=this.data=this.network=null}function Ua(){0<arguments.length&&Kh.ld(Ua),Ra.call(this),this.Dx=!0,this.tt=this.ut=NaN,this.Kj=new k(NaN,NaN).freeze(),this.ei=new k(10,10).freeze(),this.ie=rf,this.nd=sf,this.di=uf,this.Mh=nf}function Ka(){0<arguments.length&&Kh.ld(Ka),Ra.call(this),this.$y=this.Bo=this.Cd=0,this.qr=360,this.Zy=df,this.cl=0,this.SB=new w,this.HC=df,this.lv=this.Uf=this.YD=0,this.Kw=new ol,this.mv=this.Tm=0,this.UG=600,this.Gs=NaN,this.Lq=1,this.gt=0,this.it=360,this.nd=df,this.aa=gf,this.di=Sf,this.Mh=ef,this.ei=6,this.us=Mf}function $a(t,e,i,n,o){var r=t.qr,s=t.Cd;t=t.Uf,n=n*Math.PI/180,i=i*Math.PI/180;for(var a=e.length,l=0;l<a;l++){var h=n+(o===gf?l*i/(360<=r?a:a-1):-l*i/a),u=e.da(l),c=s*Math.tan(h)/t,c=Math.sqrt((s*s+t*t*c*c)/(1+c*c));u.la=c*Math.cos(h),u.ra=c*Math.sin(h),u.actualAngle=180*h/Math.PI}}function Wa(t,e,i,n){var o=t.Cd,r=t.Uf,s=t.cl;i=i*Math.PI/180;for(var a=e.length,l=0;l<a;l++){var h=e.da(l),u=e.da(l===a-1?0:l+1),c=r*Math.sin(i);h.la=o*Math.cos(i),h.ra=c,h.actualAngle=180*i/Math.PI,isNaN(h.diameter)&&al(h,0),isNaN(u.diameter)&&al(u,0),h=nl(t,o,r,n===gf?i:-i,(h.diameter+u.diameter)/2+s),i+=n===gf?h:-h}}function Ya(t,e,i,n){var o=t.Cd,r=t.Uf,s=t.lv;i=i*Math.PI/180;for(var a=e.length,l=0;l<a;l++){var h=e.da(l);h.la=o*Math.cos(i),h.ra=r*Math.sin(i),h.actualAngle=180*i/Math.PI,h=nl(t,o,r,n===gf?i:-i,s),i+=n===gf?h:-h}}function Ja(t,e,i,n,o){var r=t.mv,r=t.qr;if(t.Tm=0,t.Kw=new ol,360>i){for(r=n+(o===gf?r:-r);0>r;)r+=360;r%=360,180<r&&(r-=360),r*=Math.PI/180,t.mv=r,Qa(t,e,i,n,o)}else Xa(t,e,i,n,o);t.Kw.commit(e)}function Xa(t,e,i,n,o){var r=t.Cd,s=t.cl,a=t.Bo,l=r*Math.cos(n*Math.PI/180),h=t.Uf*Math.sin(n*Math.PI/180),u=e.gc();if(3===u.length)u[0].la=r,u[0].ra=0,u[1].la=u[0].la-u[0].width/2-u[1].width/2-s,u[1].y=u[0].y,u[2].la=(u[0].la+u[1].la)/2,u[2].y=u[0].y-u[2].height-s;else if(4===u.length)u[0].la=r,u[0].ra=0,u[2].la=-u[0].la,u[2].ra=u[0].ra,u[1].la=0,u[1].y=Math.min(u[0].y,u[2].y)-u[1].height-s,u[3].la=0,u[3].y=Math.max(u[0].y+u[0].height+s,u[2].y+u[2].height+s);else{for(var r=Kh.K(),c=0;c<u.length&&(u[c].la=l,u[c].ra=h,!(c>=u.length-1));c++)Za(t,l,h,u,c,o,r)||tl(t,l,h,u,c,o,r),l=r.x,h=r.y;if(Kh.v(r),!(23<++t.Tm)){var l=u[0].la,h=u[0].ra,r=u[u.length-1].la,c=u[u.length-1].ra,d=Math.abs(l-r)-((u[0].width+u[u.length-1].width)/2+s),p=Math.abs(h-c)-((u[0].height+u[u.length-1].height)/2+s),s=0;1>Math.abs(p)?Math.abs(l-r)<(u[0].width+u[u.length-1].width)/2&&(s=0):s=0<p?p:1>Math.abs(d)?0:d,d=!1,d=Math.abs(r)>Math.abs(c)?0<r!=h>c:0<c!=l<r,(d=o===gf?d:!d)&&(s=-Math.abs(s),s=Math.min(s,-u[u.length-1].width),s=Math.min(s,-u[u.length-1].height)),t.Kw.compare(s,u),1<Math.abs(s)&&(t.Cd=8>t.Tm?t.Cd-s/(2*Math.PI):5>u.length&&10<s?t.Cd/2:t.Cd-(0<s?1.7:-2.3),t.Uf=t.Cd*a,Xa(t,e,i,n,o))}}}function Qa(t,e,i,n,o){for(var r=t.Cd,s=t.Uf,a=t.Bo,l=r*Math.cos(n*Math.PI/180),h=s*Math.sin(n*Math.PI/180),u=Kh.K(),c=e.gc(),d=0;d<c.length&&(c[d].la=l,c[d].ra=h,!(d>=c.length-1));d++)Za(t,l,h,c,d,o,u)||tl(t,l,h,c,d,o,u),l=u.x,h=u.y;if(Kh.v(u),!(23<++t.Tm)){if(l=Math.atan2(h,l),l=o===gf?t.mv-l:l-t.mv,l=Math.abs(l)<Math.abs(l-2*Math.PI)?l:l-2*Math.PI,r=l*(r+s)/2,s=t.Kw,Math.abs(r)<Math.abs(s.Sp))for(s.Sp=r,s.co=[],s.zq=[],l=0;l<c.length;l++)s.co[l]=c[l].gb.x,s.zq[l]=c[l].gb.y;1<Math.abs(r)&&(t.Cd=8>t.Tm?t.Cd-r/(2*Math.PI):t.Cd-(0<r?1.7:-2.3),t.Uf=t.Cd*a,Qa(t,e,i,n,o))}}function Za(t,e,i,n,o,r,s){var a=t.Cd,l=t.Uf,h=0,u=0;t=(n[o].width+n[o+1].width)/2+t.cl;var c=!1;if(0<=i!=(r===gf)){if((h=e+t)>a){if((h=e-t)<-a)return s.x=h,s.y=u,!1;c=!0}}else if((h=e-t)<-a){if((h=e+t)>a)return s.x=h,s.y=u,!1;c=!0}return u=Math.sqrt(1-Math.min(1,h*h/(a*a)))*l,0>i!==c&&(u=-u),Math.abs(i-u)>(n[o].height+n[o+1].height)/2?(s.x=h,s.y=u,!1):(s.x=h,s.y=u,!0)}function tl(t,e,i,n,o,r,s){var a=t.Cd,l=t.Uf,h=0,u=0;if(t=(n[o].height+n[o+1].height)/2+t.cl,n=!1,0<=e!=(r===gf)){if((u=i-t)<-l){if((u=i+t)>l)return s.x=h,void(s.y=u);n=!0}}else if((u=i+t)>l){if((u=i-t)<-l)return s.x=h,void(s.y=u);n=!0}h=Math.sqrt(1-Math.min(1,u*u/(l*l)))*a,0>e!==n&&(h=-h),s.x=h,s.y=u}function el(t,e,i,n,o){var r=t.UG;if(.001>Math.abs(t.Bo-1))return void 0!==n&&void 0!==o?o*e:2*Math.PI*e;t=e>i?Math.sqrt(e*e-i*i)/e:Math.sqrt(i*i-e*e)/i;for(var s=0,a=0,a=void 0!==n&&void 0!==o?o/(r+1):Math.PI/(2*(r+1)),l=0,h=0;h<=r;h++)l=void 0!==n&&void 0!==o?n+h*o/r:h*Math.PI/(2*r),l=Math.sin(l),s+=Math.sqrt(1-t*t*l*l)*a;return void 0!==n&&void 0!==o?(e>i?e:i)*s:4*(e>i?e:i)*s}function il(t,e,i,n,o){return e/(void 0!==n&&void 0!==o?el(t,1,i,n,o):el(t,1,i))}function nl(t,e,i,n,o){if(.001>Math.abs(t.Bo-1))return o/e;var r=e>i?Math.sqrt(e*e-i*i)/e:Math.sqrt(i*i-e*e)/i,s=0;t=2*Math.PI/(700*t.network.vertexes.count),e>i&&(n+=Math.PI/2);for(var a=0;;a++){var l=Math.sin(n+a*t),s=s+(e>i?e:i)*Math.sqrt(1-r*r*l*l)*t;if(s>=o)return a*t}}function ol(){this.Sp=-1/0,this.zq=this.co=null}function rl(){Ba.call(this)}function sl(){Ga.call(this),this.actualAngle=this.diameter=NaN}function al(t,e){var i=t.network;if(null===i)return NaN;if(null===(i=i.Tb))return NaN;if(i.Vf===yf)if(i.Mx===Tf)t.diameter=Math.max(t.width,t.height);else{var i=Math.abs(Math.sin(e)),n=Math.abs(Math.cos(e));if(0===i)return t.width;if(0===n)return t.height;t.diameter=Math.min(t.height/i,t.width/n)}else t.diameter=i.Mx===Tf?Math.max(t.width,t.height):Math.sqrt(t.width*t.width+t.height*t.height);return t.diameter}function ll(){_a.call(this)}function hl(){0<arguments.length&&Kh.ld(hl),Ra.call(this),this.Jg=null,this.Ur=0,this.ng=new k(100,100).freeze(),this.Kq=!1,this.ci=!0,this.Lh=!1,this.Yo=100,this.tr=1,this.Rh=1e3,this.Hs=Math,this.yo=.05,this.xo=50,this.vo=150,this.wo=0,this.hr=10,this.gr=5}function ul(t,e,i){if(cl(t,e)){var n=t.Rh;t.Rh*=1+1/(e+1);var o=dl(t,e),r=Math.max(0,Math.max(Math.min(t.network.vertexes.count,i*(e+1)/11),10));for(t.MA+=r,ul(t,e+1,i),vl(t,r),pl(t,o),e=t.Jg,null===e?e=new c(xl):e.clear(),e.Kc(o.vertexes),e.sort(function(t,e){return null===t||null===e||t===e?0:e.jg-t.jg}),o=e.i;o.next();)fl(t,o.value);t.Rh=n}}function cl(t,e){if(10<e||3>t.network.vertexes.count)return!1;null===t.Jg?t.Jg=new c(xl):t.Jg.clear(),t.Jg.Kc(t.network.vertexes);var i=t.Jg;i.sort(function(t,e){return null===t||null===e||t===e?0:e.jg-t.jg});for(var n=i.count-1;0<=n&&1>=i.da(n).jg;)n--;return 1<i.count-n}function dl(t,e){for(var i=t.network,n=new wl,o=t.Jg.i;o.next();){var r=o.value;if(!(1<r.jg))break;n.Hl(r);var s=new bl;s.xy=r.jg,s.yy=r.width,s.wy=r.height,s.KB=r.T.x,s.LB=r.T.y,null===r.Fh&&(r.Fh=new c(bl)),r.Fh.add(s),r.eB=r.Fh.count-1}for(var a=i.edges.i;a.next();)if(s=a.value,o=s.fromVertex,r=s.toVertex,o.network===n&&r.network===n)n.zp(s);else if(o.network===n){var l=o.pn;null===l&&(l=new c(xl),o.pn=l),l.add(r),o.jg--,o.Jk+=r.Jk}else r.network===n&&(l=r.pn,null===l&&(l=new c(xl),r.pn=l),l.add(o),r.jg--,r.Jk+=o.Jk);for(o=n.edges.i;o.next();)r=o.value,r.length*=Math.max(1,$((r.fromVertex.Jk+r.toVertex.Jk)/(4*e+1)));for(o=n.vertexes.i;o.next();)if(r=o.value,null!==(l=r.pn)&&0<l.count&&(s=r.Fh.da(r.Fh.count-1),!(0>=(s=s.xy-r.jg)))){for(var h=0,u=0,d=l.count-s;d<l.count;d++){for(var p=l.da(d),f=null,a=p.edges.i;a.next();){var y=a.value;if(y.aI(p)===r){f=y;break}}null!==f&&(u+=f.length,h+=p.width*p.height)}a=r.la,l=r.ra,d=r.width,p=r.height,f=r.T,y=d*p,1>y&&(y=1),h=$((h+y+u*u*4/(s*s))/y),s=(h-1)*d/2,h=(h-1)*p/2,r.gb=new S(a-f.x-s,l-f.y-h,d+2*s,p+2*h),r.focus=new w(f.x+s,f.y+h)}return t.network=n,i}function pl(t,e){for(var i=t.network.vertexes.i;i.next();){var n=i.value;if(n.network=e,null!==n.Fh){var o=n.Fh.da(n.eB);n.jg=o.xy;var r=o.KB,s=o.LB;n.gb=new S(n.la-r,n.ra-s,o.yy,o.wy),n.focus=new w(r,s),n.eB--}}for(i=t.network.edges.i;i.next();)i.value.network=e;t.network=e}function fl(t,e){var i=e.pn;if(null!==i&&0!==i.count){var n=e.la,o=e.ra,r=e.width,s=e.height;null!==e.Fh&&0<e.Fh.count&&(s=e.Fh.da(0),r=s.yy,s=s.wy);for(var r=$(r*r+s*s)/2,a=!1,l=s=0,h=0,u=e.vertexes.i;u.next();){var c=u.value;1>=c.jg?l++:(a=!0,h++,s+=Math.atan2(e.ra-c.ra,e.la-c.la))}if(0!==l)for(0<h&&(s/=h),u=h=0,h=a?2*Math.PI/(l+1):2*Math.PI/l,0==l%2&&(u=h/2),1<i.count&&i.sort(function(t,e){return null===t||null===e||t===e?0:e.width*e.height-t.width*t.height}),a=0==l%2?0:1,i=i.i;i.next();)if(l=i.value,!(1<l.jg||t.isFixed(l))){for(var c=null,d=l.edges.i;d.next();){c=d.value;break}var d=l.width,p=l.height,d=$(d*d+p*p)/2,c=r+c.length+d,d=s+(h*(a/2>>1)+u)*(0==a%2?1:-1);l.la=n+c*Math.cos(d),l.ra=o+c*Math.sin(d),a++}}}function yl(t,e,i,n,o,r,s){var a=9e19,l=-1,h=0;t:for(;h<e;h++){var u=t[h],c=u.x-i,d=u.y-n,c=c*c+d*d;if(c<a){for(d=h-1;0<=d;d--)if(t[d].y>u.y&&t[d].x-u.x<o+s.width)continue t;for(d=h+1;d<e;d++)if(t[d].x>u.x&&t[d].y-u.y<r+s.height)continue t;l=h,a=c}}return l}function gl(t,e){var i=t.M,n=i.x,o=i.y,r=i.width,i=i.height,s=e.M,a=s.x,l=s.y,h=s.width,s=s.height;return n+r<a?o>l+s?(n=n+r-a,o=o-l-s,$(n*n+o*o)):o+i<l?(n=n+r-a,o=o+i-l,$(n*n+o*o)):a-(n+r):n>a+h?o>l+s?(n=n-a-h,o=o-l-s,$(n*n+o*o)):o+i<l?(n=n-a-h,o=o+i-l,$(n*n+o*o)):n-(a+h):o>l+s?o-(l+s):o+i<l?l-(o+i):.1}function vl(t,e){t.Jg=null;for(var i=t.Ur+e;t.Ur<i&&(t.Ur++,ml(t)););t.Jg=null}function ml(t){null===t.Jg&&(t.Jg=new c(xl),t.Jg.Kc(t.network.vertexes));var e=t.Jg.n;if(0>=e.length)return!1;var i=e[0];i.forceX=0,i.forceY=0;for(var n=i.la,o=n,s=i.ra,a=s,i=1;i<e.length;i++){var l=e[i];l.forceX=0,l.forceY=0;var h=l.la,l=l.ra,n=Math.min(n,h),o=Math.max(o,h),s=Math.min(s,l),a=Math.max(a,l)}(s=o-n>a-s)?e.sort(function(t,e){return null===t||null===e||t===e?0:t.la-e.la}):e.sort(function(t,e){return null===t||null===e||t===e?0:t.ra-e.ra});for(var a=t.Rh,u=0,d=0,p=0,i=0;i<e.length;i++){var l=e[i],h=l.M,f=l.T,n=h.x+f.x,h=h.y+f.y,d=l.charge*t.electricalFieldX(n,h),p=l.charge*t.electricalFieldY(n,h),d=d+l.mass*t.gravitationalFieldX(n,h),p=p+l.mass*t.gravitationalFieldY(n,h);for(l.forceX+=d,l.forceY+=p,f=i+1;f<e.length;f++)if((o=e[f])!==l){var y=o.M,d=o.T,p=y.x+d.x,y=y.y+d.y;if(n-p>a||p-n>a){if(s)break}else if(h-y>a||y-h>a){if(!s)break}else{var g=gl(l,o);1>g?(d=t.Vx,null===d&&(t.Vx=d=new r(0)),u=d.random(),g=d.random(),n>p?(d=Math.abs(o.M.right-l.M.x),d=(1+d)*u):n<p?(d=Math.abs(o.M.x-l.M.right),d=-(1+d)*u):(d=Math.max(o.width,l.width),d=(1+d)*u-d/2),h>y?(p=Math.abs(o.M.bottom-l.M.y),p=(1+p)*g):n<p?(p=Math.abs(o.M.y-l.M.bottom),p=-(1+p)*g):(p=Math.max(o.height,l.height),p=(1+p)*g-p/2)):(u=-l.charge*o.charge/(g*g),d=(p-n)/g*u,p=(y-h)/g*u),l.forceX+=d,l.forceY+=p,o.forceX-=d,o.forceY-=p}}}for(i=t.network.edges.i;i.next();)s=i.value,l=s.fromVertex,o=s.toVertex,h=l.M,f=l.T,n=h.x+f.x,h=h.y+f.y,y=o.M,d=o.T,p=y.x+d.x,y=y.y+d.y,g=gl(l,o),1>g?(d=t.Vx,null===d&&(t.Vx=d=new r(0)),u=d.random(),g=d.random(),d=(n>p?1:-1)*(1+(o.width>l.width?o.width:l.width))*u,p=(h>y?1:-1)*(1+(o.height>l.height?o.height:l.height))*g):(u=s.stiffness*(g-s.length),d=(p-n)/g*u,p=(y-h)/g*u),l.forceX+=d,l.forceY+=p,o.forceX-=d,o.forceY-=p;for(i=0,n=Math.max(t.Rh/20,50),o=0;o<e.length;o++)l=e[o],t.isFixed(l)?t.moveFixedVertex(l):(s=l.forceX,a=l.forceY,s<-n?s=-n:s>n&&(s=n),a<-n?a=-n:a>n&&(a=n),l.la+=s,l.ra+=a,i=Math.max(i,s*s+a*a));return i>t.ME*t.ME}function bl(){this.LB=this.KB=this.wy=this.yy=this.xy=0}function wl(){Ba.call(this)}function xl(){Ga.call(this),this.isFixed=!1,this.mass=this.charge=NaN,this.Jk=this.jg=this.forceY=this.forceX=0,this.Fh=this.pn=null,this.eB=0}function Cl(){_a.call(this),this.length=this.stiffness=NaN}function kl(){0<arguments.length&&Kh.ld(kl),Ra.call(this),this.Yd=this.Km=25,this.aa=0,this.uo=Ef,this.Uo=Pf,this.Ko=Lf,this.Im=4,this.io=Ff,this.$i=zf,this.ci=!0,this.Zr=4,this.Kb=this.Yv=this.rb=-1,this.Rf=this.hs=0,this.Ob=this.Pf=this.Qf=this.zg=this.je=null,this.qs=0,this.ps=this.Pm=null,this.Dg=0,this.rs=null,this.YB=new w,this.jh=[],this.jh.length=100}function Sl(t){var e=t.fromVertex.td;return t=t.toVertex.td,null===e&&null===t?8:null===e||null===t?4:1}function Ml(t){null===t.Pm&&(t.Pm=[]);for(var e=0,i=t.network.vertexes.i;i.next();){var n=i.value;t.Pm[e]=n.layer,e++,t.Pm[e]=n.column,e++,t.Pm[e]=n.index,e++}return t.Pm}function Tl(t,e){for(var i=0,n=t.network.vertexes.i;n.next();){var o=n.value;o.layer=e[i],i++,o.column=e[i],i++,o.index=e[i],i++}}function El(t,e,i){var n=eh(t,e),o=t.je[e];(null===t.ps||t.ps.length<o*o)&&(t.ps=[]);for(var r=t.ps,s=0;s<o;s++){var a=0,l=n[s],h=l.near,u=0;if(null!==h&&h.layer===l.layer)if((u=h.index)>s)for(var c=s+1;c<u;c++)l=n[c],l.near===h&&l.mn===h.mn||a++;else for(c=s-1;c>u;c--)l=n[c],l.near===h&&l.mn===h.mn||a++;var d,p,h=0,f=d=c=l=0,y=0,g=0;p=0;var v;if(0<=i)for(u=n[s].Qe,h=0;h<u.count;h++)if(d=u.n[h],d.valid&&d.fromVertex.layer!==e)for(l=d.fromVertex.index,c=d.portToPos,d=d.portFromPos,f=h+1;f<u.count;f++)p=u.n[f],p.valid&&p.fromVertex.layer!==e&&(y=p.fromVertex.index,g=p.portToPos,p=p.portFromPos,c<g&&(l>y||l===y&&d>p)&&a++,g<c&&(y>l||y===l&&p>d)&&a++);if(0>=i)for(u=n[s].Ie,h=0;h<u.count;h++)if(d=u.n[h],d.valid&&d.toVertex.layer!==e)for(l=d.toVertex.index,c=d.portToPos,d=d.portFromPos,f=h+1;f<u.count;f++)p=u.n[f],p.valid&&p.toVertex.layer!==e&&(y=p.toVertex.index,g=p.portToPos,p=p.portFromPos,d<p&&(l>y||l===y&&c>g)&&a++,p<d&&(y>l||y===l&&g>c)&&a++);for(r[s*o+s]=a,u=s+1;u<o;u++){var m=0,b=0;if(0<=i)for(a=n[s].Qe,v=n[u].Qe,h=0;h<a.count;h++)if(d=a.n[h],d.valid&&d.fromVertex.layer!==e)for(l=d.fromVertex.index,d=d.portFromPos,f=0;f<v.count;f++)p=v.n[f],p.valid&&p.fromVertex.layer!==e&&(y=p.fromVertex.index,p=p.portFromPos,(l<y||l===y&&d<p)&&b++,(y<l||y===l&&p<d)&&m++);if(0>=i)for(a=n[s].Ie,v=n[u].Ie,h=0;h<a.count;h++)if(d=a.n[h],d.valid&&d.toVertex.layer!==e)for(l=d.toVertex.index,c=d.portToPos,f=0;f<v.count;f++)p=v.n[f],p.valid&&p.toVertex.layer!==e&&(y=p.toVertex.index,g=p.portToPos,(l<y||l===y&&c<g)&&b++,(y<l||y===l&&g<c)&&m++);r[s*o+u]=m,r[u*o+s]=b}}return ih(t,e,n),r}function Il(t){for(var e=0,i=0;i<=t.rb;i++){for(var n=t,o=i,r=eh(n,o),s=n.je[o],a=0,l=0;l<s;l++){var h,u=null,u=r[l].Ie,c=0,d=0;if(null!==u)for(var p=0;p<u.count;p++)h=u.n[p],h.valid&&h.toVertex.layer!==o&&(c=h.fromVertex.column+h.portFromColOffset,d=h.toVertex.column+h.portToColOffset,a+=(Math.abs(c-d)+1)*Sl(h))}ih(n,o,r),e+=a}return e}function Pl(t,e,i){for(var n=eh(t,e),o=t.je[e],r=[],s=0;s<o;s++){var a=n[s],l=null;0>=i&&(l=a.Qe);var h=null;0<=i&&(h=a.Ie);var u=0,c=0,d=a.near;if(null!==d&&d.layer===a.layer&&(u+=d.column-1,c++),null!==l)for(d=0;d<l.count;d++){var a=l.n[d],p=a.fromVertex;a.valid&&!a.rev&&p.layer!==e&&(u+=p.column,c++)}if(null!==h)for(l=0;l<h.count;l++)a=h.n[l],d=a.toVertex,a.valid&&!a.rev&&d.layer!==e&&(u+=d.column,c++);r[s]=0===c?-1:u/c}return ih(t,e,n),r}function Dl(t,e,i){for(var n=eh(t,e),o=t.je[e],r=[],s=0;s<o;s++){var a=n[s],l=null;0>=i&&(l=a.Qe);var h=null;0<=i&&(h=a.Ie);var u=0,c=[],d=a.near;if(null!==d&&d.layer===a.layer&&(c[u]=d.column-1,u++),null!==l)for(d=0;d<l.count;d++){var a=l.n[d],p=a.fromVertex;a.valid&&!a.rev&&p.layer!==e&&(c[u]=p.column+a.portFromColOffset,u++)}if(null!==h)for(l=0;l<h.count;l++)a=h.n[l],d=a.toVertex,a.valid&&!a.rev&&d.layer!==e&&(c[u]=d.column+a.portToColOffset,u++);0===u?r[s]=-1:(c.sort(function(t,e){return t-e}),h=u>>1,r[s]=0!=(1&u)?c[h]:c[h-1]+c[h]>>1)}return ih(t,e,n),r}function Ol(t,e,i,n,o,r){if(e.component===n){e.component=i;var s=0,a=0;if(o)for(var l=e.kc;l.next();){var a=l.value,h=a.toVertex,s=e.layer-h.layer,a=t.linkMinLength(a);s===a&&Ol(t,h,i,n,o,r)}if(r)for(l=e.mc;l.next();)a=l.value,h=a.fromVertex,s=h.layer-e.layer,a=t.linkMinLength(a),s===a&&Ol(t,h,i,n,o,r)}}function Ll(t,e,i,n,o,r){if(e.component===n){if(e.component=i,o)for(var s=e.kc;s.next();)Ll(t,s.value.toVertex,i,n,o,r);if(r)for(e=e.mc;e.next();)Ll(t,e.value.fromVertex,i,n,o,r)}}function Nl(t){for(t=t.vertexes.i;t.next();){var e=t.value;if(e.valid)return e}return null}function jl(t){for(t=t.vertexes.i;t.next();){var e=t.value;if(e.valid){for(var i=!0,n=e.kc;n.next();)if(n.value.toVertex.valid){i=!1;break}if(i)return e}}return null}function Rl(t){for(t=t.vertexes.i;t.next();){var e=t.value;if(e.valid){for(var i=!0,n=e.mc;n.next();)if(n.value.fromVertex.valid){i=!1;break}if(i)return e}}return null}function Fl(t,e){e.Np=t.qs,t.qs++;for(var i=e.kc;i.next();){var n=i.value,o=n.toVertex;-1===o.Np&&(n.forest=!0,Fl(t,o))}e.finish=t.qs,t.qs++}function Al(t){for(var e=t.network.vertexes.i;e.next();){var i=Bl(t,e.value);t.rb=Math.max(i,t.rb)}}function Bl(t,e){var i=0;if(-1===e.layer){for(var n=e.kc;n.next();)var o=n.value,r=o.toVertex,o=t.linkMinLength(o),i=Math.max(i,Bl(t,r)+o);e.layer=i}else i=e.layer;return i}function Vl(t,e){var i=0;if(-1===e.layer){for(var n=e.mc;n.next();)var o=n.value,r=o.fromVertex,o=t.linkMinLength(o),i=Math.max(i,Vl(t,r)+o);e.layer=i}else i=e.layer;return i}function Hl(t,e){if(!e.valid){e.valid=!0;for(var i=e.kc;i.next();)Hl(t,i.value.toVertex);for(i=t.network.vertexes.i;i.next();)i.value.component=-1;for(var n=e.Qe.n,o=n.length,r=0;r<o;r++){var s=n[r],a=s.fromVertex,l=s.toVertex,s=t.linkMinLength(s);a.layer-l.layer>s&&Ol(t,a,0,-1,!0,!1)}for(Ol(t,e,1,-1,!0,!0);0!==e.component;){for(var a=0,n=1/0,l=0,h=null,u=t.network.vertexes.i;u.next();){var c=u.value;if(1===c.component){for(var d=0,p=!1,f=c.Qe.n,o=f.length,r=0;r<o;r++){var s=f[r],y=s.fromVertex,d=d+1;1!==y.component&&(a+=1,y=y.layer-c.layer,s=t.linkMinLength(s),n=Math.min(n,y-s))}for(s=c.Ie.n,o=s.length,r=0;r<o;r++)f=s[r].toVertex,d-=1,1!==f.component?a-=1:p=!0;(null===h||d<l)&&!p&&(h=c,l=d)}}if(0<a){for(i.reset();i.next();)o=i.value,1===o.component&&(o.layer+=n);e.component=0}else h.component=0}for(i=t.network.vertexes.i;i.next();)i.value.component=-1;for(Ol(t,e,1,-1,!0,!1);0!==e.component;){for(r=0,o=1/0,n=0,s=null,a=t.network.vertexes.i;a.next();)if(l=a.value,1===l.component){for(h=0,u=!1,p=l.Qe.n,c=p.length,d=0;d<c;d++)f=p[d].fromVertex,h+=1,1!==f.component?r+=1:u=!0;for(p=l.Ie.n,c=p.length,d=0;d<c;d++)f=p[d],y=f.toVertex,h-=1,1!==y.component&&(r-=1,y=l.layer-y.layer,f=t.linkMinLength(f),o=Math.min(o,y-f));(null===s||h>n)&&!u&&(s=l,n=h)}if(0>r){for(i.reset();i.next();)r=i.value,1===r.component&&(r.layer-=o);e.component=0}else s.component=0}}}function zl(t,e,i){return 90===t.aa?i&&!e.rev||!i&&e.rev?270:90:180===t.aa?i&&!e.rev||!i&&e.rev?0:180:270===t.aa?i&&!e.rev||!i&&e.rev?90:270:i&&!e.rev||!i&&e.rev?180:0}function ql(t,e){var i=e.layer;e.index=t.je[i],t.je[i]++;for(var i=e.Ie.gc(),n=!0;n;)for(var n=!1,o=0;o<i.length-1;o++){var r=i[o],s=i[o+1];r.portFromColOffset>s.portFromColOffset&&(n=!0,i[o]=s,i[o+1]=r)}for(o=0;o<i.length;o++)n=i[o],n.valid&&(n=n.toVertex,-1===n.index&&ql(t,n))}function Gl(t,e){var i=e.layer;e.index=t.je[i],t.je[i]++;for(var i=e.Qe.gc(),n=!0,o=0;n;)for(n=!1,o=0;o<i.length-1;o++){var r=i[o],s=i[o+1];r.portToColOffset>s.portToColOffset&&(n=!0,i[o]=s,i[o+1]=r)}for(o=0;o<i.length;o++)n=i[o],n.valid&&(n=n.fromVertex,-1===n.index&&Gl(t,n))}function _l(t,e,i){var n=0,o=eh(t,e),r=t.je[e],s=Dl(t,e,i);for(i=Pl(t,e,i),n=0;n<r;n++)-1===i[n]&&(i[n]=o[n].column),-1===s[n]&&(s[n]=o[n].column);for(var a,l=!0;l;)for(l=!1,n=0;n<r-1;n++)(s[n+1]<s[n]||s[n+1]===s[n]&&i[n+1]<i[n])&&(l=!0,a=s[n],s[n]=s[n+1],s[n+1]=a,a=i[n],i[n]=i[n+1],i[n+1]=a,a=o[n],o[n]=o[n+1],o[n+1]=a);for(n=s=0;n<r;n++)a=o[n],a.index=n,s+=t.nodeMinColumnSpace(a,!0),a.column=s,s+=1,s+=t.nodeMinColumnSpace(a,!1);ih(t,e,o)}function Ul(t,e,i){var n=eh(t,e),o=t.je[e];i=El(t,e,i);var r,s=0;for(r=[],s=0;s<o;s++)r[s]=-1;var a;for(a=[],s=0;s<o;s++)a[s]=-1;for(var l=!1,h=!0;h;)for(h=!1,s=0;s<o-1;s++){var u=i[n[s].index*o+n[s+1].index],c=i[n[s+1].index*o+n[s].index],d=0,p=0,f=n[s].column,y=n[s+1].column,g=t.nodeMinColumnSpace(n[s],!0),v=t.nodeMinColumnSpace(n[s],!1),m=t.nodeMinColumnSpace(n[s+1],!0),b=t.nodeMinColumnSpace(n[s+1],!1),g=f-g+m,v=y-v+b,m=m=0,w=n[s].mc.i;for(w.reset();w.next();)if(m=w.value,b=m.fromVertex,m.valid&&b.layer===e){for(m=0;n[m]!==b;)m++;m<s&&(d+=2*(s-m),p+=2*(s+1-m)),m===s+1&&(d+=1),m>s+1&&(d+=4*(m-s),p+=4*(m-(s+1)))}for(w=n[s].kc.i,w.reset();w.next();)if(m=w.value,b=m.toVertex,m.valid&&b.layer===e){for(m=0;n[m]!==b;)m++;m===s+1&&(p+=1)}for(w=n[s+1].mc.i,w.reset();w.next();)if(m=w.value,b=m.fromVertex,m.valid&&b.layer===e){for(m=0;n[m]!==b;)m++;m<s&&(d+=2*(s+1-m),p+=2*(s-m)),m===s&&(p+=1),m>s+1&&(d+=4*(m-(s+1)),p+=4*(m-s))}for(w=n[s+1].kc.i,w.reset();w.next();)if(m=w.value,b=m.toVertex,m.valid&&b.layer===e){for(m=0;n[m]!==b;)m++;m===s&&(d+=1)}var m=b=0,w=r[n[s].index],x=a[n[s].index],C=r[n[s+1].index],k=a[n[s+1].index];-1!==w&&(b+=Math.abs(w-f),m+=Math.abs(w-v)),-1!==x&&(b+=Math.abs(x-f),m+=Math.abs(x-v)),-1!==C&&(b+=Math.abs(C-y),m+=Math.abs(C-g)),-1!==k&&(b+=Math.abs(k-y),m+=Math.abs(k-g)),(p<d-.5||p===d&&c<u-.5||p===d&&c===u&&m<b-.5)&&(h=l=!0,n[s].column=v,n[s+1].column=g,u=n[s],n[s]=n[s+1],n[s+1]=u)}for(s=0;s<o;s++)n[s].index=s;return ih(t,e,n),l}function Kl(t,e,i){for(var n=!1;$l(t,e,i);)n=!0;return n}function $l(t,e,i){var n=0,o=eh(t,e),r=t.je[e],s=Pl(t,e,-1);if(0<i)for(n=0;n<r;n++)s[n]=-1;var a=Pl(t,e,1);if(0>i)for(n=0;n<r;n++)a[n]=-1;for(var l=!1,h=!0;h;)for(h=!1,n=0;n<r;n++){var u=o[n].column,c=t.nodeMinColumnSpace(o[n],!0),d=t.nodeMinColumnSpace(o[n],!1),p=0,p=0>n-1||u-o[n-1].column-1>c+t.nodeMinColumnSpace(o[n-1],!1)?u-1:u,c=0,c=n+1>=r||o[n+1].column-u-1>d+t.nodeMinColumnSpace(o[n+1],!0)?u+1:u,f=d=0,y=0,g=0,v=0,m=0;if(0>=i)for(var b=o[n].mc.i;b.next();){var m=b.value,w=m.fromVertex;m.valid&&w.layer!==e&&(g=Sl(m),v=m.portFromColOffset,m=m.portToColOffset,w=w.column,d+=(Math.abs(u+m-(w+v))+1)*g,f+=(Math.abs(p+m-(w+v))+1)*g,y+=(Math.abs(c+m-(w+v))+1)*g)}if(0<=i)for(b=o[n].kc.i;b.next();)m=b.value,w=m.toVertex,m.valid&&w.layer!==e&&(g=Sl(m),v=m.portFromColOffset,m=m.portToColOffset,w=w.column,d+=(Math.abs(u+v-(w+m))+1)*g,f+=(Math.abs(p+v-(w+m))+1)*g,y+=(Math.abs(c+v-(w+m))+1)*g);m=v=g=0,b=s[o[n].index],w=a[o[n].index],-1!==b&&(g+=Math.abs(b-u),v+=Math.abs(b-p),m+=Math.abs(b-c)),-1!==w&&(g+=Math.abs(w-u),v+=Math.abs(w-p),m+=Math.abs(w-c)),f<d||f===d&&v<g?(h=l=!0,o[n].column=p):(y<d||y===d&&m<g)&&(h=l=!0,o[n].column=c)}return ih(t,e,o),t.normalize(),l}function Wl(t,e,i){var n=0,o=eh(t,e),r=t.je[e],s=Dl(t,e,i);for(i=[],n=0;n<r;n++)i[n]=s[n];for(s=!0;s;)for(s=!1,n=0;n<r;n++){var a=o[n].column,l=t.nodeMinColumnSpace(o[n],!0),h=t.nodeMinColumnSpace(o[n],!1),u=0,c=0,d=0,d=c=0;-1===i[n]?0===n&&n===r-1?u=a:0===n?(c=o[n+1].column,u=c-a===h+t.nodeMinColumnSpace(o[n+1],!0)?a-1:a):n===r-1?(d=o[n-1].column,u=a-d===l+t.nodeMinColumnSpace(o[n-1],!1)?a+1:a):(d=o[n-1].column,d=d+t.nodeMinColumnSpace(o[n-1],!1)+l+1,c=o[n+1].column,c=c-t.nodeMinColumnSpace(o[n+1],!0)-h-1,u=(d+c)/2|0):0===n&&n===r-1?u=i[n]:0===n?(c=o[n+1].column,c=c-t.nodeMinColumnSpace(o[n+1],!0)-h-1,u=Math.min(i[n],c)):n===r-1?(d=o[n-1].column,d=d+t.nodeMinColumnSpace(o[n-1],!1)+l+1,u=Math.max(i[n],d)):(d=o[n-1].column,d=d+t.nodeMinColumnSpace(o[n-1],!1)+l+1,c=o[n+1].column,c=c-t.nodeMinColumnSpace(o[n+1],!0)-h-1,d<i[n]&&i[n]<c?u=i[n]:d>=i[n]?u=d:c<=i[n]&&(u=c)),u!==a&&(s=!0,o[n].column=u)}ih(t,e,o),t.normalize()}function Yl(t,e){for(var i=!0,n=t.network.vertexes.i;n.next();){var o=n.value,r=t.nodeMinColumnSpace(o,!0),s=t.nodeMinColumnSpace(o,!1);if(o.column-r<=e&&o.column+s>=e){i=!1;break}}if(o=!1,i)for(n.reset();n.next();)i=n.value,i.column>e&&(i.column-=1,o=!0);return o}function Jl(t,e){for(var i=e,i=e+1,n=0,o=[],r=[],n=0;n<=t.rb;n++)o[n]=!1,r[n]=!1;for(var s=t.network.vertexes.i;s.next();){var n=s.value,a=n.column-t.nodeMinColumnSpace(n,!0),l=n.column+t.nodeMinColumnSpace(n,!1);a<=e&&l>=e&&(o[n.layer]=!0),a<=i&&l>=i&&(r[n.layer]=!0)}for(a=!0,i=!1,n=0;n<=t.rb;n++)a=a&&!(o[n]&&r[n]);if(a)for(s.reset();s.next();)o=s.value,o.column>e&&(o.column-=1,i=!0);return i}function Xl(t,e){for(var i=0;i<=t.Kb;i++)for(;Yl(t,i););for(t.normalize(),i=0;i<t.Kb;i++)for(;Jl(t,i););t.normalize();var n,i=0,o=0,r=0,s=0;if(0<e)for(i=0;i<=t.Kb;i++)for(n=Ml(t),o=Il(t),r=o+1;o<r;)r=o,Ql(t,i,1),s=Il(t),s>o?Tl(t,n):s<o&&(o=s,n=Ml(t));if(0>e)for(i=t.Kb;0<=i;i--)for(n=Ml(t),o=Il(t),r=o+1;o<r;)r=o,Ql(t,i,-1),s=Il(t),s>o?Tl(t,n):s<o&&(o=s,n=Ml(t));t.normalize()}function Ql(t,e,i){t.Dg=0;for(var n=t.network.vertexes.i;n.next();)n.value.component=-1;if(0<i)for(n.reset();n.next();){var o=n.value;o.column-t.nodeMinColumnSpace(o,!0)<=e&&(o.component=t.Dg)}if(0>i)for(n.reset();n.next();)o=n.value,o.column+t.nodeMinColumnSpace(o,!1)>=e&&(o.component=t.Dg);for(t.Dg++,n.reset();n.next();)e=n.value,-1===e.component&&(Ll(t,e,t.Dg,-1,!0,!0),t.Dg++);var r=0;for(e=[],r=0;r<t.Dg*t.Dg;r++)e[r]=!1;for(o=[],r=0;r<(t.rb+1)*(t.Kb+1);r++)o[r]=-1;for(n.reset();n.next();)for(var r=n.value,s=r.layer,a=Math.max(0,r.column-t.nodeMinColumnSpace(r,!0)),l=Math.min(t.Kb,r.column+t.nodeMinColumnSpace(r,!1));a<=l;a++)o[s*(t.Kb+1)+a]=r.component;for(r=0;r<=t.rb;r++){if(0<i)for(a=0;a<t.Kb;a++)-1!==o[r*(t.Kb+1)+a]&&-1!==o[r*(t.Kb+1)+a+1]&&o[r*(t.Kb+1)+a]!==o[r*(t.Kb+1)+a+1]&&(e[o[r*(t.Kb+1)+a]*t.Dg+o[r*(t.Kb+1)+a+1]]=!0);if(0>i)for(a=t.Kb;0<a;a--)-1!==o[r*(t.Kb+1)+a]&&-1!==o[r*(t.Kb+1)+a-1]&&o[r*(t.Kb+1)+a]!==o[r*(t.Kb+1)+a-1]&&(e[o[r*(t.Kb+1)+a]*t.Dg+o[r*(t.Kb+1)+a-1]]=!0)}for(o=[],r=0;r<t.Dg;r++)o[r]=!0;for(s=new c("number"),s.add(0),l=0;0!==s.count;)if(l=s.n[s.count-1],s.bd(s.count-1),o[l])for(o[l]=!1,r=0;r<t.Dg;r++)e[l*t.Dg+r]&&s.Qd(0,r);if(0<i)for(n.reset();n.next();)t=n.value,o[t.component]&&(t.column-=1);if(0>i)for(n.reset();n.next();)i=n.value,o[i.component]&&(i.column+=1)}function Zl(t,e){return 270===t.aa?e?cu:fu:90===t.aa?e?fu:cu:180===t.aa?e?du:pu:e?pu:du}function th(t,e){var i=t-e;return-1<i&&1>i}function eh(t,e){var i,n=t.je[e];if(n>=t.jh.length){i=[];for(var o=0;o<t.jh.length;o++)i[o]=t.jh[o];t.jh=i}for(void 0===t.jh[n]||null===t.jh[n]?i=[]:(i=t.jh[n],t.jh[n]=null),n=t.rs[e],o=0;o<n.length;o++){var r=n[o];i[r.index]=r}return i}function ih(t,e,i){t.jh[t.je[e]]=i}function nh(){this.index=this.re=this.Ze=this.fe=this.first=this.layer=0,this.link=null,this.ui=0}function oh(){Ba.call(this)}function rh(){Ga.call(this),this.index=this.column=this.layer=-1,this.component=NaN,this.near=null,this.valid=!1,this.finish=this.Np=NaN,this.mn=0,this.SA=this.TA=null}function sh(){_a.call(this),this.forest=this.rev=this.valid=!1,this.portToPos=this.portFromPos=NaN,this.portToColOffset=this.portFromColOffset=0}function ah(){0<arguments.length&&Kh.ld(ah),Ra.call(this),this.ud=new p(Object),this.Bs=qf,this.Nf=Gf,this.rt=ry,this.Vv=dy,this.TB=null,this.Lh=!0,this.nd=hy,this.ng=new k(10,10).freeze(),this.va=new zh,this.wa=new zh,this.Hz=[]}function lh(t){var e=new p(zh);for(t=t.i;t.next();){var i=t.value;i.initialized||e.add(i)}return e}function hh(t,e){for(var i=999999,n=null,o=e.i;o.next();){var r=o.value;switch(t.Nf){case Gf:r.mc.count<i&&(i=r.mc.count,n=r);break;case _f:r.kc.count<i&&(i=r.kc.count,n=r);break;default:Kh.k("Unhandled path value "+t.Nf.toString())}}return n}function uh(t,e){if(null!==e){switch(t.Nf){case Gf:if(0<e.kc.count){for(var i=new c(zh),n=e.MH;n.next();){var o=n.value;ch(t,e,o)&&i.add(o)}0<i.count&&(e.children=i.gc())}break;case _f:if(0<e.mc.count){for(i=new c(zh),n=e.IJ;n.next();)o=n.value,ch(t,e,o)&&i.add(o);0<i.count&&(e.children=i.gc())}break;default:Kh.k("Unhandled path value"+t.Nf.toString())}for(i=e.children,n=i.length,o=0;o<n;o++){var r=i[o];r.initialized=!0,r.level=e.level+1,r.parent=e,t.ud.remove(r)}for(o=0;o<n;o++)r=i[o],uh(t,r)}}function ch(t,e,i){if(i.initialized){var n;if(null===e)n=!1;else{for(n=e.parent;null!==n&&n!==i;)n=n.parent;n=n===i}if(n||i.level>e.level)return!1;t.removeChild(i.parent,i)}return!0}function dh(t,e){if(null!==e){t.initializeTreeVertexValues(e),e.alignment===ty&&t.sortTreeVertexChildren(e);for(var i=0,n=e.on,o=0,r=e.children,s=r.length,a=0;a<s;a++){var l=r[a];dh(t,l),i+=l.descendantCount+1,n=Math.max(n,l.maxChildrenCount),o=Math.max(o,l.maxGenerationCount)}e.descendantCount=i,e.maxChildrenCount=n,e.maxGenerationCount=0<n?o+1:0}}function ph(t,e){switch(t.rt){default:case ry:return null!==e.parent?e.parent:t.va;case ly:return null===e.parent?t.va:null===e.parent.parent?t.wa:e.parent;case ay:return null!==e.parent?null!==e.parent.parent?e.parent.parent:t.wa:t.va;case sy:var i=!0;if(0===e.on)i=!1;else for(var n=e.children,o=n.length,r=0;r<o;r++)if(0<n[r].on){i=!1;break}return i&&null!==e.parent?t.wa:null!==e.parent?e.parent:t.va}}function fh(t,e){if(null!==e){t.assignTreeVertexValues(e);for(var i=e.children,n=i.length,o=0;o<n;o++)fh(t,i[o])}}function yh(t,e){if(null!==e){e.alignment!==ty&&t.sortTreeVertexChildren(e);for(var i=e.children,n=i.length,o=0;o<n;o++)yh(t,i[o])}}function gh(t){return t===Zf||t===ty||t===ey||t===iy}function vh(t){return t===Zf||t===ty}function mh(t){var e=t.parent;if(null!==e){var i=e.alignment;if(gh(i)){if(vh(i)){for(e=e.children,i=0;i<e.length&&t!==e[i];)i++;return 0==i%2}if(i===ey)return!0}}return!1}function bh(t,e){if(0===e.on){var i=!1,n=0,o=Jf;null!==e.parent&&(n=e.parent.angle,o=e.parent.alignment,i=gh(o)),o=mh(e),e.pa.m(0,0),e.kb.m(e.width,e.height),null===e.parent||null===e.comments||(180!==n&&270!==n||i)&&!o?e.Na.m(0,0):180===n&&!i||(90===n||270===n)&&o?e.Na.m(e.width-2*e.T.x,0):e.Na.m(0,e.height-2*e.T.y)}else{for(var i=Ah(e),n=90===i||270===i,r=0,o=e.children,s=o.length,a=0;a<s;a++)var l=o[a],r=Math.max(r,n?l.kb.width:l.kb.height);var h=e.alignment,u=h===Xf,c=h===Qf,d=gh(h),p=Math.max(0,e.breadthLimit),f=Bh(e),y=e.nodeSpacing,g=Vh(e),v=u||c?0:g/2,m=e.rowSpacing,b=0;(u||c||e.mq||e.nq&&1===e.maxGenerationCount)&&(b=Math.max(0,e.rowIndent));var u=e.width,w=e.height,x=0,C=0,k=0,S=0,M=0,T=0,E=0,I=0,P=0,D=0;if(d&&!vh(h)&&135<i&&o.reverse(),vh(h))if(1<s)for(a=0;a<s;a++){var l=o[a],O=l.kb;0==a%2&&a!==s-1?P=Math.max(P,(n?O.width:O.height)+Ch(l)-y):0!=a%2&&(D=Math.max(D,(n?O.width:O.height)+Ch(l)-y))}else 1===s&&(P=n?o[0].kb.width:o[0].kb.height);if(d)switch(h){case Zf:case ty:C=135>i?wh(e,o,P,x,C):xh(e,o,P,x,C),P=C.x,x=C.width,C=C.height;break;case ey:for(a=0;a<s;a++)l=o[a],O=l.kb,p=0===E?0:m,n?(l.pa.m(r-O.width,M+p),x=Math.max(x,O.width),C=Math.max(C,M+p+O.height),M+=p+O.height):(l.pa.m(S+p,r-O.height),x=Math.max(x,S+p+O.width),C=Math.max(C,O.height),S+=p+O.width),E++;break;case iy:for(r=0;r<s;r++)l=o[r],O=l.kb,p=0===E?0:m,n?(l.pa.m(y/2+e.T.x,M+p),x=Math.max(x,O.width),C=Math.max(C,M+p+O.height),M+=p+O.height):(l.pa.m(S+p,y/2+e.T.y),x=Math.max(x,S+p+O.width),C=Math.max(C,O.height),S+=p+O.width),E++}else for(a=0;a<s;a++)l=o[a],O=l.kb,n?(0<p&&0<E&&S+y+O.width>p&&(S<r&&Ih(e,h,r-S,0,I,a-1),T++,E=0,I=a,k=C,S=0,M=135<i?-C-m:C+m),D=0===E?v:y,Dh(t,l,0,M),l.pa.m(S+D,M),x=Math.max(x,S+D+O.width),C=Math.max(C,k+(0===T?0:m)+O.height),S+=D+O.width):(0<p&&0<E&&M+y+O.height>p&&(M<r&&Ih(e,h,0,r-M,I,a-1),T++,E=0,I=a,k=x,M=0,S=135<i?-x-m:x+m),D=0===E?v:y,Dh(t,l,S,0),l.pa.m(S,M+D),C=Math.max(C,M+D+O.height),x=Math.max(x,k+(0===T?0:m)+O.width),M+=D+O.height),E++;switch(0<T&&(n?(C+=Math.max(0,f),S<x&&Ih(e,h,x-S,0,I,s-1),0<b&&(c||Ph(e,b,0,0,s-1),x+=b)):(x+=Math.max(0,f),M<C&&Ih(e,h,0,C-M,I,s-1),0<b&&(c||Ph(e,0,b,0,s-1),C+=b))),b=c=0,h){case Yf:n?c+=x/2-e.T.x-g/2:b+=C/2-e.T.y-g/2;break;case Jf:0<T?n?c+=x/2-e.T.x-g/2:b+=C/2-e.T.y-g/2:n?(h=o[0].pa.x+o[0].Na.x,y=o[s-1].pa.x+o[s-1].Na.x+2*o[s-1].T.x,c+=h+(y-h)/2-e.T.x-g/2):(h=o[0].pa.y+o[0].Na.y,y=o[s-1].pa.y+o[s-1].Na.y+2*o[s-1].T.y,b+=h+(y-h)/2-e.T.y-g/2);break;case Xf:n?(c-=g,x+=g):(b-=g,C+=g);break;case Qf:n?(c+=x-e.width+g,x+=g):(b+=C-e.height+g,C+=g);break;case Zf:case ty:n?c=1<s?c+(P+y/2-e.T.x):c+(o[0].T.x-e.T.x+o[0].Na.x):b=1<s?b+(P+y/2-e.T.y):b+(o[0].T.y-e.T.y+o[0].Na.y);break;case ey:n?c+=x+y/2-e.T.x:b+=C+y/2-e.T.y;break;case iy:break;default:Kh.k("Unhandled alignment value "+h.toString())}for(a=0;a<s;a++)l=o[a],n?l.pa.m(l.pa.x+l.Na.x-c,l.pa.y+(135<i?(d?-C:-l.kb.height)+l.Na.y-f:w+f+l.Na.y)):l.pa.m(l.pa.x+(135<i?(d?-x:-l.kb.width)+l.Na.x-f:u+f+l.Na.x),l.pa.y+l.Na.y-b);n?(x=Mh(e,x,c),0>c&&(c=0),135<i&&(b+=C+f),C+=w+f):(135<i&&(c+=x+f),x+=u+f,C=Th(e,C,b),0>b&&(b=0)),e.Na.m(c,b),e.kb.m(x,C)}}function wh(t,e,i,n,o){var r=e.length;if(0===r)return new S(i,0,n,o);if(1===r){var s=e[0];return n=s.kb.width,o=s.kb.height,new S(i,0,n,o)}for(var a=t.nodeSpacing,l=t.rowSpacing,h=90===Ah(t),u=0,c=0,d=0,p=0;p<r;p++)if(!(0!=p%2||1<r&&p===r-1)){var s=e[p],f=s.kb,y=0===u?0:l;if(h){var g=Ch(s)-a;s.pa.m(i-(f.width+g),d+y),n=Math.max(n,f.width+g),o=Math.max(o,d+y+f.height),d+=y+f.height}else g=Ch(s)-a,s.pa.m(c+y,i-(f.height+g)),o=Math.max(o,f.height+g),n=Math.max(n,c+y+f.width),c+=y+f.width;u++}var u=0,v=c,m=d;for(h?(c=i+a,d=0):(c=0,d=i+a),p=0;p<r;p++)0!=p%2&&(s=e[p],f=s.kb,y=0===u?0:l,h?(g=Ch(s)-a,s.pa.m(c+g,d+y),n=Math.max(n,c+f.width+g),o=Math.max(o,d+y+f.height),d+=y+f.height):(g=Ch(s)-a,s.pa.m(c+y,d+g),n=Math.max(n,c+y+f.width),o=Math.max(o,d+f.height+g),c+=y+f.width),u++);return 1<r&&1==r%2&&(s=e[r-1],f=s.kb,e=kh(s,h?Math.max(Math.abs(m),Math.abs(d)):Math.max(Math.abs(v),Math.abs(c))),h?(s.pa.m(i+a/2-s.T.x-s.Na.x,o+e),h=i+a/2-s.T.x-s.Na.x,n=Math.max(n,h+f.width),0>h&&(n-=h),o=Math.max(o,Math.max(m,d)+e+f.height),0>s.pa.x&&(i=Sh(t,s.pa.x,!1,i,a))):(s.pa.m(n+e,i+a/2-s.T.y-s.Na.y),n=Math.max(n,Math.max(v,c)+e+f.width),h=i+a/2-s.T.y-s.Na.y,o=Math.max(o,h+f.height),0>h&&(o-=h),0>s.pa.y&&(i=Sh(t,s.pa.y,!0,i,a)))),new S(i,0,n,o)}function xh(t,e,i,n,o){var r=e.length;if(0===r)return new S(i,0,n,o);if(1===r){var s=e[0];return n=s.kb.width,o=s.kb.height,new S(i,0,n,o)}for(var a=t.nodeSpacing,l=t.rowSpacing,h=270===Ah(t),u=0,c=0,d=0,p=0;p<r;p++)if(!(0!=p%2||1<r&&p===r-1)){var s=e[p],f=s.kb,y=0===u?0:l;if(h){var g=Ch(s)-a,d=d-(y+f.height);s.pa.m(i-(f.width+g),d),n=Math.max(n,f.width+g),o=Math.max(o,Math.abs(d))}else g=Ch(s)-a,c-=y+f.width,s.pa.m(c,i-(f.height+g)),o=Math.max(o,f.height+g),n=Math.max(n,Math.abs(c));u++}var u=0,v=c,m=d;for(h?(c=i+a,d=0):(c=0,d=i+a),p=0;p<r;p++)0!=p%2&&(s=e[p],f=s.kb,y=0===u?0:l,h?(g=Ch(s)-a,d-=y+f.height,s.pa.m(c+g,d),n=Math.max(n,c+f.width+g),o=Math.max(o,Math.abs(d))):(g=Ch(s)-a,c-=y+f.width,s.pa.m(c,d+g),o=Math.max(o,d+f.height+g),n=Math.max(n,Math.abs(c))),u++);for(1<r&&1==r%2&&(s=e[r-1],f=s.kb,l=kh(s,h?Math.max(Math.abs(m),Math.abs(d)):Math.max(Math.abs(v),Math.abs(c))),h?(s.pa.m(i+a/2-s.T.x-s.Na.x,-o-f.height-l),c=i+a/2-s.T.x-s.Na.x,n=Math.max(n,c+f.width),0>c&&(n-=c),o=Math.max(o,Math.abs(Math.min(m,d))+l+f.height),0>s.pa.x&&(i=Sh(t,s.pa.x,!1,i,a))):(s.pa.m(-n-f.width-l,i+a/2-s.T.y-s.Na.y),n=Math.max(n,Math.abs(Math.min(v,c))+l+f.width),c=i+a/2-s.T.y-s.Na.y,o=Math.max(o,c+f.height),0>c&&(o-=c),0>s.pa.y&&(i=Sh(t,s.pa.y,!0,i,a)))),p=0;p<r;p++)s=e[p],h?s.pa.m(s.pa.x,s.pa.y+o):s.pa.m(s.pa.x+n,s.pa.y);return new S(i,0,n,o)}function Ch(t){return null===t.parent?0:t.parent.nodeSpacing}function kh(t){return null===t.parent?0:t.parent.rowSpacing}function Sh(t,e,i,n,o){t=t.children;for(var r=t.length,s=0;s<r;s++)i?t[s].pa.m(t[s].pa.x,t[s].pa.y-e):t[s].pa.m(t[s].pa.x-e,t[s].pa.y);return e=t[r-1],Math.max(n,i?e.Na.y+e.T.y-o/2:e.Na.x+e.T.x-o/2)}function Mh(t,e,i){switch(t.alignment){case Jf:case Yf:var n=e;return i+t.width>n&&(n=i+t.width),0>i&&(n-=i),n;case Xf:return t.width>e?t.width:e;case Qf:return 2*t.T.x>e?t.width:e+t.width-2*t.T.x;case Zf:case ty:return n=Math.min(0,i),i=Math.max(e,i+t.width),Math.max(t.width,i-n);case ey:return t.width-t.T.x+t.nodeSpacing/2+e;case iy:return Math.max(t.width,t.T.x+t.nodeSpacing/2+e);default:return e}}function Th(t,e,i){switch(t.alignment){case Jf:case Yf:var n=e;return i+t.height>n&&(n=i+t.height),0>i&&(n-=i),n;case Xf:return t.height>e?t.height:e;case Qf:return 2*t.T.y>e?t.height:e+t.height-2*t.T.y;case Zf:case ty:return n=Math.min(0,i),i=Math.max(e,i+t.height),Math.max(t.height,i-n);case ey:return t.height-t.T.y+t.nodeSpacing/2+e;case iy:return Math.max(t.height,t.T.y+t.nodeSpacing/2+e);default:return e}}function Eh(t,e,i){switch(t){case Yf:case Jf:e/=2,i/=2;break;case Xf:i=e=0;break;case Qf:break;default:Kh.k("Unhandled alignment value "+t.toString())}return new w(e,i)}function Ih(t,e,i,n,o,r){e=Eh(e,i,n),Ph(t,e.x,e.y,o,r)}function Ph(t,e,i,n,o){if(0!==e||0!==i)for(t=t.children;n<=o;n++){var r=t[n].pa;r.x+=e,r.y+=i}}function Dh(t,e,i,n){var o=e.parent;switch(t.Nf){case Gf:for(t=e.mc;t.next();)e=t.value,e.fromVertex===o&&e.Is.m(i,n);break;case _f:for(t=e.kc;t.next();)e=t.value,e.toVertex===o&&e.Is.m(i,n);break;default:Kh.k("Unhandled path value "+t.Nf.toString())}}function Oh(t,e,i){for(var n=0;n<t.length;n++){var o=t[n];o.x+=e,o.y+=i}}function Lh(t,e,i,n,o,r,s,a){var l=Ah(e),h=90===l||270===l,u=e.nodeSpacing;e=n;var c=o;n=r,o=s;var d=i.mu,p=i.Gu;s=i.kb;var f=h?Math.max(o,s.height):Math.max(n,s.width);if(null!==d&&l===Ah(i)||(d=Nh(t,2),p=Nh(t,2),h?(d[0].m(0,0),d[1].m(0,s.height),p[0].m(s.width,0),p[1].m(p[0].x,d[1].y)):(d[0].m(0,0),d[1].m(s.width,0),p[0].m(0,s.height),p[1].m(d[1].x,p[0].y))),h){if(i=n,n=9999999,!(null===c||2>c.length||null===d||2>d.length))for(h=l=0;l<c.length&&h<d.length;){o=c[l];var y=d[h];r=y.x;var g=y.y;r+=i;var v=o;l+1<c.length&&(v=c[l+1]);var m=y,y=m.x,m=m.y;h+1<d.length&&(m=d[h+1],y=m.x,m=m.y,y+=i);var b=n;o.y===g?b=r-o.x:o.y>g&&o.y<m?b=r+(o.y-g)/(m-g)*(y-r)-o.x:g>o.y&&g<v.y&&(b=r-(o.x+(g-o.y)/(v.y-o.y)*(v.x-o.x))),b<n&&(n=b),v.y<=o.y?l++:m<=g?h++:(v.y<=m&&l++,m<=v.y&&h++)}if(i-=n,i+=u,l=d,h=i,null===e||2>e.length||null===l||2>l.length)n=null;else{for(u=Nh(t,e.length+l.length),n=r=o=0;r<l.length&&l[r].y<e[0].y;)g=l[r++],u[n++].m(g.x+h,g.y);for(;o<e.length;)g=e[o++],u[n++].m(g.x,g.y);for(o=e[e.length-1].y;r<l.length&&l[r].y<=o;)r++;for(;r<l.length&&l[r].y>o;)g=l[r++],u[n++].m(g.x+h,g.y);for(l=Nh(t,n),o=0;o<n;o++)l[o].assign(u[o]);jh(t,u),n=l}if(r=p,g=i,null===c||2>c.length||null===r||2>r.length)o=null;else{for(u=Nh(t,c.length+r.length),h=v=l=0;l<c.length&&c[l].y<r[0].y;)o=c[l++],u[h++].m(o.x,o.y);for(;v<r.length;)o=r[v++],u[h++].m(o.x+g,o.y);for(r=r[r.length-1].y;l<c.length&&c[l].y<=r;)l++;for(;l<c.length&&c[l].y>r;)o=c[l++],u[h++].m(o.x,o.y);for(o=Nh(t,h),l=0;l<h;l++)o[l].assign(u[l]);jh(t,u)}r=Math.max(0,i)+s.width,s=f}else{if(i=o,n=9999999,!(null===c||2>c.length||null===d||2>d.length))for(h=l=0;l<c.length&&h<d.length;)o=c[l],y=d[h],r=y.x,g=y.y,g+=i,v=o,l+1<c.length&&(v=c[l+1]),m=y,y=m.x,m=m.y,h+1<d.length&&(m=d[h+1],y=m.x,m=m.y,m+=i),b=n,o.x===r?b=g-o.y:o.x>r&&o.x<y?b=g+(o.x-r)/(y-r)*(m-g)-o.y:r>o.x&&r<v.x&&(b=g-(o.y+(r-o.x)/(v.x-o.x)*(v.y-o.y))),b<n&&(n=b),v.x<=o.x?l++:y<=r?h++:(v.x<=y&&l++,y<=v.x&&h++);if(i-=n,i+=u,l=d,h=i,null===e||2>e.length||null===l||2>l.length)n=null;else{for(u=Nh(t,e.length+l.length),n=r=o=0;r<l.length&&l[r].x<e[0].x;)g=l[r++],u[n++].m(g.x,g.y+h);for(;o<e.length;)g=e[o++],u[n++].m(g.x,g.y);for(o=e[e.length-1].x;r<l.length&&l[r].x<=o;)r++;for(;r<l.length&&l[r].x>o;)g=l[r++],u[n++].m(g.x,g.y+h);for(l=Nh(t,n),o=0;o<n;o++)l[o].assign(u[o]);jh(t,u),n=l}if(r=p,g=i,null===c||2>c.length||null===r||2>r.length)o=null;else{for(u=Nh(t,c.length+r.length),h=v=l=0;l<c.length&&c[l].x<r[0].x;)o=c[l++],u[h++].m(o.x,o.y);for(;v<r.length;)o=r[v++],u[h++].m(o.x,o.y+g);for(r=r[r.length-1].x;l<c.length&&c[l].x<=r;)l++;for(;l<c.length&&c[l].x>r;)o=c[l++],u[h++].m(o.x,o.y);for(o=Nh(t,h),l=0;l<h;l++)o[l].assign(u[l]);jh(t,u)}r=f,s=Math.max(0,i)+s.height}return jh(t,e),jh(t,d),jh(t,c),jh(t,p),a[0]=n,a[1]=o,new S(i,0,r,s)}function Nh(t,e){var i=t.Hz[e];if(void 0!==i&&void 0!==(i=i.pop()))return i;for(var i=[],n=0;n<e;n++)i[n]=new w;return i}function jh(t,e){var i=e.length,n=t.Hz[i];void 0===n&&(n=[],t.Hz[i]=n),n.push(e)}function Rh(t,e,i,n){if(null!==e){e.x=i,e.y=n,e=e.children;for(var o=e.length,r=0;r<o;r++){var s=e[r];Rh(t,s,i+s.pa.x,n+s.pa.y)}}}function Fh(t,e){if(null!==e){t.setPortSpots(e);for(var i=e.children,n=i.length,o=0;o<n;o++)Fh(t,i[o])}}function Ah(t){return t=t.angle,45>=t?0:135>=t?90:225>=t?180:315>=t?270:0}function Bh(t){var e=Ah(t),e=90===e||270===e,i=t.layerSpacing;if(0<t.layerSpacingParentOverlap)var n=Math.min(1,t.layerSpacingParentOverlap),i=i-(e?t.height*n:t.width*n);return i<(e?-t.height:-t.width)&&(i=e?-t.height:-t.width),i}function Vh(t){var e=Ah(t),e=90===e||270===e,i=t.nodeIndent;if(0<t.nodeIndentPastParent)var n=Math.min(1,t.nodeIndentPastParent),i=i+(e?t.width*n:t.height*n);return i=Math.max(0,i)}function Hh(){Ba.call(this)}function zh(){Ga.call(this),this.initialized=!1,this.parent=null,this.children=[],this.maxGenerationCount=this.maxChildrenCount=this.descendantCount=this.level=0,this.comments=null,this.pa=new w(0,0),this.kb=new k(0,0),this.Na=new w(0,0),this.nq=this.mq=this.xJ=!1,this.Gu=this.mu=null,this.sorting=Uf,this.comparer=ef,this.angle=0,this.alignment=Jf,this.nodeIndentPastParent=this.nodeIndent=0,this.nodeSpacing=20,this.layerSpacing=50,this.layerSpacingParentOverlap=0,this.compaction=oy,this.breadthLimit=0,this.rowSpacing=25,this.commentSpacing=this.rowIndent=10,this.commentMargin=20,this.setsPortSpot=!0,this.portSpot=eu,this.setsChildPortSpot=!0,this.childPortSpot=eu}function qh(){_a.call(this),this.Is=new w(0,0)}function Gh(){Eo.call(this),this.Ue=null}var _h,Uh={};if(!e.document||void 0===e.document.createElement("canvas").getContext)throw e.console&&e.console.log("The HTML Canvas element is not supported in this browser,or this browser is in Compatibility mode."),Error("The HTML Canvas element is not supported in this browser,or this browser is in Compatibility mode.");if(!Object.defineProperty)throw Error("GoJS requires a newer version of JavaScript");Function.prototype.bind||(Function.prototype.bind=function(t){function e(){return r.apply(t,o.concat(n.call(arguments)))}function i(){}var n=Array.prototype.slice,o=n.call(arguments,1),r=this;return i.prototype=this.prototype,e.prototype=new i,e}),function(){for(var t=0,i=["ms","moz","webkit","o"],n=0;n<i.length&&!e.requestAnimationFrame;++n)e.requestAnimationFrame=e[i[n]+"RequestAnimationFrame"],e.cancelAnimationFrame=e[i[n]+"CancelAnimationFrame"]||e[i[n]+"CancelRequestAnimationFrame"];e.requestAnimationFrame||(e.requestAnimationFrame=function(i){var n=(new Date).getTime(),o=Math.max(8,16-(n-t)),r=e.setTimeout(function(){i(n+o)},o);return t=n+o,r}),e.cancelAnimationFrame||(e.cancelAnimationFrame=function(t){e.clearTimeout(t)})}(),Uh.Debug=null;var Kh={md:1,Sc:2,ed:4,dd:8,En:void 0!==e.navigator&&0<e.navigator.userAgent.indexOf("534.30")&&0<e.navigator.userAgent.indexOf("Android"),wI:void 0!==e.navigator&&0<e.navigator.userAgent.indexOf("MSIE 9.0"),qF:void 0!==e.navigator&&0<e.navigator.userAgent.indexOf("MSIE 10.0"),rF:void 0!==e.navigator&&0<e.navigator.userAgent.indexOf("Trident/7"),dL:void 0!==e.navigator&&0<e.navigator.userAgent.indexOf("Edge/"),Gk:void 0!==e.navigator&&void 0!==e.navigator.platform&&0<=e.navigator.platform.toUpperCase().indexOf("MAC"),sF:void 0!==e.navigator&&void 0!==e.navigator.platform&&null!==e.navigator.platform.match(/(iPhone|iPod|iPad)/i),CE:function(t,e,i){var n=-1;return function(){var o=this,r=arguments;-1!==n&&Kh.clearTimeout(n),n=Kh.setTimeout(function(){n=-1,i||t.apply(o,r)},e),i&&!n&&t.apply(o,r)}},setTimeout:function(t,i){return e.setTimeout(t,i)},clearTimeout:function(t){e.clearTimeout(t)},createElement:function(t){return e.document.createElement(t)},k:function(t){throw Error(t)},ma:function(t,e){var i="The object is frozen, so its properties cannot be set: "+t.toString();void 0!==e&&(i+="  to value: "+e),Kh.k(i)},G:function(t,e,i,n){t instanceof e||(i=Kh.getTypeName(i),void 0!==n&&(i+="."+n),Kh.Bd(t,e,i))},j:function(t,e,i,n){typeof t!==e&&(i=Kh.getTypeName(i),void 0!==n&&(i+="."+n),Kh.Bd(t,e,i))},wd:function(t,e,i){"number"==typeof t&&isFinite(t)||(e=Kh.getTypeName(e),void 0!==i&&(e+="."+i),Kh.k(e+" must be a real number type, and not NaN or Infinity: "+t))},mb:function(t,e,n,o){t instanceof i&&t.Ee===e||(n=Kh.getTypeName(n),void 0!==o&&(n+="."+o),Kh.Bd(t,"a constant of class "+Kh.mf(e),n))},CK:function(t,e){"string"==typeof t?Cd(t)||Kh.k('Color "'+t+'" is not a valid color string for '+e):t instanceof wo||Kh.k("Value for "+e+" must be a color string or a Brush, not "+t)},Bd:function(t,e,i,n){e=Kh.getTypeName(e),i=Kh.getTypeName(i),void 0!==n&&(i+="."+n),"string"==typeof t?Kh.k(i+" value is not an instance of "+e+': "'+t+'"'):Kh.k(i+" value is not an instance of "+e+": "+t)},Fa:function(t,e,i,n){i=Kh.getTypeName(i),void 0!==n&&(i+="."+n),Kh.k(i+" is not in the range "+e+": "+t)},ld:function(t){Kh.k(Kh.mf(t)+" constructor cannot take any arguments.")},Ma:function(t){Kh.k("Collection was modified during iteration: "+t.toString()+"\n  Perhaps you should iterate over a copy of the collection,\n  or you could collect items to be removed from the collection after the iteration.")},Fj:function(t,e){Kh.k("No property to set for this enum value: "+e+" on "+t.toString())},trace:function(t){e.console&&e.console.log(t)},hx:{},It:function(t,i){!0!==Kh.hx[t]&&(Kh.hx[t]=!0,e.console&&e.console.log(t+" is deprecated in "+i+", see the GoJS change log for more information."))},Pa:function(t){return"object"==typeof t&&null!==t},isArray:function(t){return Array.isArray(t)||t instanceof NodeList||t instanceof HTMLCollection},yI:function(t){return Array.isArray(t)},Wz:function(t,e,i){Kh.isArray(t)||Kh.Bd(t,"Array or NodeList or HTMLCollection",e,i)},Za:function(t){return t.length},Ml:function(t){return Array.prototype.slice.call(t)},Ba:function(t,e){return Array.isArray(t),t[e]},sE:function(t,e,i){Array.isArray(t)?t[e]=i:Kh.k("Cannot replace an object in an HTMLCollection or NodeList at "+e)},Jl:function(t,e){if(Array.isArray(t))return t.indexOf(e);for(var i=t.length,n=0;n<i;n++)if(t[n]===e)return n;return-1},sh:function(t,e,i){Array.isArray(t)?e>=t.length?t.push(i):t.splice(e,0,i):Kh.k("Cannot insert an object into an HTMLCollection or NodeList: "+i+" at "+e)},Kg:function(t,e){Array.isArray(t)?e>=t.length?t.pop():t.splice(e,1):Kh.k("Cannot remove an object from an HTMLCollection or NodeList at "+e)},zy:[],K:function(){var t=Kh.zy.pop();return void 0===t?new w:t},xb:function(t,e){var i=Kh.zy.pop();return void 0===i?new w(t,e):(i.x=t,i.y=e,i)},v:function(t){Kh.zy.push(t)},OB:[],lm:function(){var t=Kh.OB.pop();return void 0===t?new k:t},Bk:function(t){Kh.OB.push(t)},Ay:[],If:function(){var t=Kh.Ay.pop();return void 0===t?new S:t},lg:function(t,e,i,n){var o=Kh.Ay.pop();return void 0===o?new S(t,e,i,n):(o.x=t,o.y=e,o.width=i,o.height=n,o)},Db:function(t){Kh.Ay.push(t)},PB:[],Jf:function(){var t=Kh.PB.pop();return void 0===t?new L:t},we:function(t){Kh.PB.push(t)},By:null,s:function(){var t=Kh.By;return null!==t?(Kh.By=null,t):new Zr},q:function(t){t.reset(),Kh.By=t},NB:[],cb:function(){var t=Kh.NB.pop();return void 0===t?[]:t},ta:function(t){t.length=0,Kh.NB.push(t)},fo:Object.freeze([]),pm:1,nc:function(t){t.__gohashid=Kh.pm++},Up:function(t){var e=t.__gohashid;return void 0===e&&(e=Kh.pm++,t.__gohashid=e),e},Od:function(t){return t.__gohashid},ga:function(t,e){e.Ky=t,Uh[t]=e},Ka:function(t,e){function i(){}i.prototype=e.prototype,t.prototype=new i,t.prototype.constructor=t},ni:function(t){t.XG=!0},defineProperty:function(t,e,i,n,o){Kh.j(t,"function","Util.defineProperty:classfunc"),Kh.j(e,"object","Util.defineProperty:propobj"),Kh.j(i,"function","Util.defineProperty:getter"),Kh.j(n,"function","Util.defineProperty:setter");for(var r in e){if(e=e[r],i={get:i,set:n,enumerable:!0},void 0!==o)for(var s in o)i[s]=o[s];Object.defineProperty(t.prototype,r,i),o=Object.getOwnPropertyDescriptor(t.prototype,r),e&&o&&Object.defineProperty(t.prototype,e,o);break}},$J:!1,u:function(t,e,i,n){Kh.j(t,"function","Util.defineReadOnlyProperty:classfunc"),Kh.j(e,"object","Util.defineReadOnlyProperty:propobj"),Kh.j(i,"function","Util.defineReadOnlyProperty:getter");for(var o in e){var r=e[o];if(e={get:i,set:function(t){Kh.k('The property "'+r+'" is read-only and cannot be set to '+t)},enumerable:!0},void 0!==n)for(var s in n)e[s]=n[s];Object.defineProperty(t.prototype,o,e),n=Object.getOwnPropertyDescriptor(t.prototype,o),r&&n&&Object.defineProperty(t.prototype,r,n);break}},ce:function(t,e){for(var i in e)e[i]=!0;t.prototype.TG=e},getTypeName:function(t){return void 0===t?"":"string"==typeof t?t:"function"==typeof t?Kh.mf(t):null===t?"*":""},mf:function(t){if("function"==typeof t){if(t.Ky)return t.Ky;if(t.name)return t.name;var e=t.toString(),i=e.indexOf("("),e=e.substring(9,i).trim();if(""!==e)return t.Ky=e}else if("object"==typeof t&&t.constructor)return Kh.mf(t.constructor);return typeof t},p:function(t,e,n){Kh.j(t,"function","Util.defineEnumValue:classfunc"),Kh.j(e,"string","Util.defineEnumValue:name"),Kh.j(n,"number","Util.defineEnumValue:num"),n=new i(t,e,n),Object.freeze(n),t[e]=n;var o=t.Vu;return o instanceof b||(o=new b("string",i),t.Vu=o),o.add(e,n),n},tb:function(t,e){if(!t||!e)return null;var i=void 0;try{"function"==typeof e?i=e(t):"function"==typeof t.getAttribute?null===(i=t.getAttribute(e))&&(i=void 0):i=t[e]}catch(t){}return i},La:function(t,e,i){if(t&&e)try{"function"==typeof e?e(t,i):"function"==typeof t.setAttribute?t.setAttribute(e,i):t[e]=i}catch(t){}},Ku:function(t,e){Kh.j(t,"object","Setting properties requires Objects as arguments"),Kh.j(e,"object","Setting properties requires Objects as arguments");var i,n=t instanceof ir,o=t instanceof Vi;for(i in e){""===i&&Kh.k("Setting properties requires non-empty property names");var r=t,s=i;if(n||o){var a=i.indexOf(".");if(0<a){var l=i.substring(0,a);n?r=t.xd(l):void 0!==(r=t[l])&&null!==r||(r=t.eb[l]),Kh.Pa(r)?s=i.substr(a+1):Kh.k("Unable to find object named: "+l+" in "+t.toString()+" when trying to set property: "+i)}}if("_"!==s[0]&&!Kh.hF(r,s)){if(o&&"ModelChanged"===s){t.gH(e[s]);continue}if(o&&"Changed"===s){t.hn(e[s]);continue}if(o&&Kh.hF(t.eb,s))r=t.eb;else{if(o&&eo(t,s)){t.Nw(s,e[s]);continue}if(t instanceof Nt&&"Changed"===s){t.hn(e[s]);continue}Kh.k('Trying to set undefined property "'+s+'" on object: '+r.toString())}}r[s]=e[i],"_"===s[0]&&r instanceof Eo&&r.dH(s)}},hF:function(t,e){if(t.hasOwnProperty(e))return!0;for(var i=Object.getPrototypeOf(t);i&&i!==Function;){if(i.hasOwnProperty(e))return!0;var n=i.TG;if(n&&n[e])return!0;i=Object.getPrototypeOf(i)}return!1},kJ:function(t){for(var e=[],i=0;256>i;i++)e[i]=i;for(var n=0,o=0,i=0;256>i;i++)n=(n+e[i]+119)%256,o=e[i],e[i]=e[n],e[n]=o;for(var n=i=0,r="",s=0;s<t.length;s++)i=(i+1)%256,n=(n+e[i])%256,o=e[i],e[i]=e[n],e[n]=o,r+=String.fromCharCode(t.charCodeAt(s)^e[(e[i]+e[n])%256]);return r},kI:function(t){for(var e={},i=0;256>i;i++)e["0123456789abcdef".charAt(i>>4)+"0123456789abcdef".charAt(15&i)]=String.fromCharCode(i);t.length%2&&(t="0"+t);for(var n=[],o=0,i=0;i<t.length;i+=2)n[o++]=e[t.substr(i,2)];return t=n.join(""),""===t?"0":t},Lg:function(t){return Kh.kJ(Kh.kI(t))},nm:null,adym:"7da71ca0ad381e90",vfo:"2be641fdb161",sH:"@COLOR1",tH:"@COLOR2",DE:!1,Ft:null,Gt:null};Kh.nm=function(){var t=e.document.createElement("canvas"),n=t.getContext("2d");n[Kh.Lg("7ca11abfd022028846")]=Kh.Lg("398c3597c01238");for(var o=["5da73c80a36755d3038e4972187c3cae51fd22","32ab5ff3b26f42dc0ed90f22432913b54ae6247590da4bb21c324ba3a84e385776","54a702f3e53909c447824c6706603faf4cfb236cdfda5de14c134ba1a95a2d4c7cc6f93c1387","74bf19bce72555874c86"],r=1;5>r;r++)n[Kh.Lg("7ca11abfd7330390")](Kh.Lg(o[r-1]),10,15*r+0);for(n[Kh.Lg("7ca11abfd022028846")]=Kh.Lg("39f046ebb36e4b"),r=1;5>r;r++)n[Kh.Lg("7ca11abfd7330390")](Kh.Lg(o[r-1]),10,15*r+0);return 4===o.length&&"5"===o[0][0]&&"7"===o[3][0]||(Kh.p=function(t,e){var n=new i(t,e,2);Object.freeze(n),t[e]=n;var o=t.Vu;return o instanceof b||(o=new b("string",i),t.Vu=o),o.add(e,n),n}),t}(),Kh.ga("EnumValue",i),i.prototype.toString=function(){return Kh.mf(this.cC)+"."+this.Sb},Kh.u(i,{Ee:"classType"},function(){return this.cC}),Kh.u(i,{name:"name"},function(){return this.Sb}),Kh.u(i,{value:"value"},function(){return this.aH});var $h;i.findName=$h=function(t,e){if(void 0===e||null===e||""===e)return null;Kh.j(t,"function","findName:classfunc"),Kh.j(e,"string","EnumValue.findName:name");var i=t.Vu;return i instanceof b?i.ka(e):null},n.prototype.toString=function(){return this.aC.join("")},n.prototype.add=function(t){""!==t&&this.aC.push(t)},r.prototype.random=function(){var t=this.seed%this.MB*this.vy-this.seed/this.MB*this.IG;return this.seed=0<t?t:t+this.Uu,this.seed*this.HG},Kh.u(s,{i:"iterator"},function(){return this}),s.prototype.reset=s.prototype.reset=function(){},s.prototype.next=s.prototype.next=function(){return!1},s.prototype.hasNext=function(){return!1},s.prototype.first=s.prototype.first=function(){return null},s.prototype.any=function(){return!1},s.prototype.all=function(){return!0},s.prototype.each=function(){return this},s.prototype.map=function(){return this},s.prototype.filter=function(){return this},s.prototype.concat=function(t){return t.i},Kh.u(s,{count:"count"},function(){return 0}),s.prototype.Mf=function(){},s.prototype.toString=function(){return"EmptyIterator"};var Wh=new s;Kh.ce(a,{key:!0,value:!0}),Kh.u(a,{i:"iterator"},function(){return this}),a.prototype.reset=a.prototype.reset=function(){this.key=-1},a.prototype.next=a.prototype.next=function(){return-1===this.key&&(this.key=0,!0)},a.prototype.hasNext=function(){return this.next()},a.prototype.first=a.prototype.first=function(){return this.key=0,this.value},a.prototype.any=function(t){return this.key=-1,t(this.value)},a.prototype.all=function(t){return this.key=-1,t(this.value)},a.prototype.each=function(t){return this.key=-1,t(this.value),this},a.prototype.map=function(t){return new a(t(this.value))},a.prototype.filter=function(t){return t(this.value)?new a(this.value):Wh},a.prototype.concat=function(t){return new l(this,t.i)},Kh.u(a,{count:"count"},function(){return 1}),a.prototype.Mf=function(){this.value=null},a.prototype.toString=function(){return"SingletonIterator("+this.value+")"},Kh.ce(l,{key:!0,value:!0}),Kh.u(l,{i:"iterator"},function(){return this}),l.prototype.reset=l.prototype.reset=function(){this.ml.reset(),this.nl.reset(),this.Wu=!1},l.prototype.next=l.prototype.next=function(){if(!this.Wu){var t=this.ml;if(t.next())return this.key=t.key,this.value=t.value,!0;this.Wu=!0}return!(!this.Wu||(t=this.nl,!t.next()))&&(this.key=t.key,this.value=t.value,!0)},l.prototype.hasNext=function(){return this.next()},l.prototype.first=l.prototype.first=function(){return this.reset(),this.next()?this.value:null},l.prototype.any=function(t){return!(!this.ml.any(t)&&!this.nl.any(t))},l.prototype.all=function(t){return!(!this.ml.all(t)||!this.nl.all(t))},l.prototype.each=function(t){return this.ml.each(t),this.nl.each(t),this},l.prototype.map=function(t){return new l(this.ml.map(t),this.nl.map(t))},l.prototype.filter=function(t){return new l(this.ml.filter(t),this.nl.filter(t))},l.prototype.concat=function(t){return new l(this,t.i)},Kh.u(l,{count:"count"},function(){return this.ml.count+this.nl.count}),l.prototype.Mf=function(){this.value=this.key=null},l.prototype.toString=function(){return"ConcatIterator()"},Kh.ce(h,{key:!0,value:!0}),Kh.u(h,{i:"iterator"},function(){return this}),Kh.defineProperty(h,{hq:"predicate"},function(){return this.$h},function(t){this.$h=t}),h.prototype.reset=h.prototype.reset=function(){var t=this.xc;t.Qb=null,this.Sa=t.F,this.wc=-1},h.prototype.next=h.prototype.next=function(){var t=this.xc;if(t.F!==this.Sa){if(0>this.key)return!1;Kh.Ma(t)}var t=t.n,e=t.length,i=++this.wc,n=this.$h;if(null!==n)for(;i<e;){var o=t[i];if(n(o))return this.key=this.wc=i,this.value=o,!0;i++}else{if(i<e)return this.key=i,this.value=t[i],!0;this.Mf()}return!1},h.prototype.hasNext=function(){return this.next()},h.prototype.first=h.prototype.first=function(){var t=this.xc;this.Sa=t.F,this.wc=0;var t=t.n,e=t.length,i=this.$h;if(null!==i){for(var n=0;n<e;){var o=t[n];if(i(o))return this.key=this.wc=n,this.value=o;n++}return null}return 0<e?(o=t[0],this.key=0,this.value=o):null},h.prototype.any=function(t){var e=this.xc;e.Qb=null;var i=e.F;this.wc=-1;for(var n=e.n,o=n.length,r=this.$h,s=0;s<o;s++){var a=n[s];if(null===r||r(a)){if(t(a))return!0;e.F!==i&&Kh.Ma(e)}}return!1},h.prototype.all=function(t){var e=this.xc;e.Qb=null;var i=e.F;this.wc=-1;for(var n=e.n,o=n.length,r=this.$h,s=0;s<o;s++){var a=n[s];if(null===r||r(a)){if(!t(a))return!1;e.F!==i&&Kh.Ma(e)}}return!0},h.prototype.each=function(t){var e=this.xc;e.Qb=null;var i=e.F;this.wc=-1;for(var n=e.n,o=n.length,r=this.$h,s=0;s<o;s++){var a=n[s];(null===r||r(a))&&(t(a),e.F!==i&&Kh.Ma(e))}return this},h.prototype.map=function(t){var e=this.xc;e.Qb=null;var i=e.F;this.wc=-1;for(var n=[],o=e.n,r=o.length,s=this.$h,a=0;a<r;a++){var l=o[a];(null===s||s(l))&&(n.push(t(l)),e.F!==i&&Kh.Ma(e))}return t=new c,t.n=n,t.Ic(),t.i},h.prototype.filter=function(t){var e=this.xc;e.Qb=null;var i=e.F;this.wc=-1;for(var n=[],o=e.n,r=o.length,s=this.$h,a=0;a<r;a++){var l=o[a];(null===s||s(l))&&(t(l)&&n.push(l),e.F!==i&&Kh.Ma(e))}return t=new c(e.na),t.n=n,t.Ic(),t.i},h.prototype.concat=function(t){return this.xc.Qb=null,new l(this,t.i)},Kh.u(h,{count:"count"},function(){var t=this.$h;if(null!==t){for(var e=0,i=this.xc.n,n=i.length,o=0;o<n;o++)t(i[o])&&e++;return e}return this.xc.n.length}),h.prototype.Mf=function(){this.key=-1,this.value=null,this.Sa=-1,this.$h=null,this.xc.Qb=this},h.prototype.toString=function(){return"ListIterator@"+this.wc+"/"+this.xc.count},Kh.ce(u,{key:!0,value:!0}),Kh.u(u,{i:"iterator"},function(){return this}),u.prototype.reset=u.prototype.reset=function(){var t=this.xc;t.Oi=null,this.Sa=t.F,this.wc=t.n.length},u.prototype.next=u.prototype.next=function(){var t=this.xc;if(t.F!==this.Sa){if(0>this.key)return!1;Kh.Ma(t)}var e=--this.wc;return 0<=e?(this.key=e,this.value=t.n[e],!0):(this.Mf(),!1)},u.prototype.hasNext=function(){return this.next()},u.prototype.first=u.prototype.first=function(){var t=this.xc;this.Sa=t.F;var e=t.n;return this.wc=t=e.length-1,0<=t?(e=e[t],this.key=t,this.value=e):null},u.prototype.any=function(t){var e=this.xc;e.Oi=null;var i=e.F,n=e.n,o=n.length;for(this.wc=o,o-=1;0<=o;o--){if(t(n[o]))return!0;e.F!==i&&Kh.Ma(e)}return!1},u.prototype.all=function(t){var e=this.xc;e.Oi=null;var i=e.F,n=e.n,o=n.length;for(this.wc=o,o-=1;0<=o;o--){if(!t(n[o]))return!1;e.F!==i&&Kh.Ma(e)}return!0},u.prototype.each=function(t){var e=this.xc;e.Oi=null;var i=e.F,n=e.n,o=n.length;for(this.wc=o,o-=1;0<=o;o--)t(n[o]),e.F!==i&&Kh.Ma(e);return this},u.prototype.map=function(t){var e=this.xc;e.Oi=null;var i=e.F,n=[],o=e.n,r=o.length;for(this.wc=r,r-=1;0<=r;r--)n.push(t(o[r])),e.F!==i&&Kh.Ma(e);return t=new c,t.n=n,t.Ic(),t.i},u.prototype.filter=function(t){var e=this.xc;e.Oi=null;var i=e.F,n=[],o=e.n,r=o.length;for(this.wc=r,r-=1;0<=r;r--){var s=o[r];t(s)&&n.push(s),e.F!==i&&Kh.Ma(e)}return t=new c(e.na),t.n=n,t.Ic(),t.i},u.prototype.concat=function(t){return this.xc.Oi=null,new l(this,t.i)},Kh.u(u,{count:"count"},function(){return this.xc.n.length}),u.prototype.Mf=function(){this.key=-1,this.value=null,this.Sa=-1,this.xc.Oi=this},u.prototype.toString=function(){return"ListIteratorBackwards("+this.wc+"/"+this.xc.count+")"},Kh.ga("List",c),c.prototype.Ic=function(){var t=this.F;t++,999999999<t&&(t=0),this.F=t},c.prototype.freeze=c.prototype.freeze=function(){return this.P=!0,this},c.prototype.thaw=c.prototype.Qa=function(){return this.P=!1,this},c.prototype.toString=function(){return"List("+Kh.getTypeName(this.na)+")#"+Kh.Od(this)},c.prototype.add=c.prototype.add=function(t){null!==t&&(this.P&&Kh.ma(this,t),this.n.push(t),this.Ic())},c.prototype.push=c.prototype.push=function(t){this.add(t)},c.prototype.addAll=c.prototype.Kc=function(t){if(null===t)return this;this.P&&Kh.ma(this);var e=this.n;if(Kh.isArray(t))for(var i=Kh.Za(t),n=0;n<i;n++){var o=Kh.Ba(t,n);e.push(o)}else for(t=t.i;t.next();)o=t.value,e.push(o);return this.Ic(),this},c.prototype.clear=c.prototype.clear=function(){this.P&&Kh.ma(this),this.n.length=0,this.Ic()},c.prototype.contains=c.prototype.contains=function(t){return null!==t&&-1!==this.n.indexOf(t)},c.prototype.has=c.prototype.has=function(t){return this.contains(t)},c.prototype.indexOf=c.prototype.indexOf=function(t){return null===t?-1:this.n.indexOf(t)},c.prototype.elt=c.prototype.da=function(t){var e=this.n;return(0>t||t>=e.length)&&Kh.Fa(t,"0 <= i < length",c,"elt:i"),e[t]},c.prototype.get=c.prototype.get=function(t){return this.da(t)},c.prototype.setElt=c.prototype.kg=function(t,e){var i=this.n;(0>t||t>=i.length)&&Kh.Fa(t,"0 <= i < length",c,"setElt:i"),this.P&&Kh.ma(this,t),i[t]=e},c.prototype.set=c.prototype.set=function(t,e){this.kg(t,e)},c.prototype.first=c.prototype.first=function(){var t=this.n;return 0===t.length?null:t[0]},c.prototype.last=c.prototype.fe=function(){var t=this.n,e=t.length;return 0<e?t[e-1]:null},c.prototype.pop=c.prototype.pop=function(){this.P&&Kh.ma(this);var t=this.n;return 0<t.length?t.pop():null},c.prototype.any=function(t){for(var e=this.n,i=this.F,n=e.length,o=0;o<n;o++){if(t(e[o]))return!0;this.F!==i&&Kh.Ma(this)}return!1},c.prototype.all=function(t){for(var e=this.n,i=this.F,n=e.length,o=0;o<n;o++){if(!t(e[o]))return!1;this.F!==i&&Kh.Ma(this)}return!0},c.prototype.each=function(t){for(var e=this.n,i=this.F,n=e.length,o=0;o<n;o++)t(e[o]),this.F!==i&&Kh.Ma(this);return this},c.prototype.map=function(t){for(var e=new c,i=[],n=this.n,o=this.F,r=n.length,s=0;s<r;s++)i.push(t(n[s])),this.F!==o&&Kh.Ma(this);return e.n=i,e.Ic(),e},c.prototype.filter=function(t){for(var e=new c(this.na),i=[],n=this.n,o=this.F,r=n.length,s=0;s<r;s++){var a=n[s];t(a)&&i.push(a),this.F!==o&&Kh.Ma(this)}return e.n=i,e.Ic(),e},c.prototype.concat=function(t){return this.copy().Kc(t)},c.prototype.insertAt=c.prototype.Qd=function(t,e){0>t&&Kh.Fa(t,">= 0",c,"insertAt:i"),this.P&&Kh.ma(this,t);var i=this.n;return t>=i.length?i.push(e):i.splice(t,0,e),this.Ic(),!0},c.prototype.remove=c.prototype.delete=c.prototype.remove=function(t){if(null===t)return!1;this.P&&Kh.ma(this,t);var e=this.n;return-1!==(t=e.indexOf(t))&&(t===e.length-1?e.pop():e.splice(t,1),this.Ic(),!0)},c.prototype.removeAt=c.prototype.bd=function(t){var e=this.n;(0>t||t>=e.length)&&Kh.Fa(t,"0 <= i < length",c,"removeAt:i"),this.P&&Kh.ma(this,t),t===e.length-1?e.pop():e.splice(t,1),this.Ic()},c.prototype.removeRange=c.prototype.removeRange=function(t,e){var i=this.n,n=i.length;if(0>t)t=0;else if(t>=n)return this;if(0>e)return this;if(e>=n&&(e=n-1),t>e)return this;this.P&&Kh.ma(this);for(var o=t,r=e+1;r<n;)i[o++]=i[r++];return i.length=n-(e-t+1),this.Ic(),this},c.prototype.copy=function(){var t=new c(this.na),e=this.n;return 0<e.length&&(t.n=Array.prototype.slice.call(e)),t},c.prototype.toArray=c.prototype.gc=function(){for(var t=this.n,e=this.count,i=Array(e),n=0;n<e;n++)i[n]=t[n];return i},c.prototype.toSet=c.prototype.wG=function(){for(var t=new p(this.na),e=this.n,i=this.count,n=0;n<i;n++)t.add(e[n]);return t},c.prototype.sort=c.prototype.sort=function(t){return this.P&&Kh.ma(this),this.n.sort(t),this.Ic(),this},c.prototype.sortRange=c.prototype.vq=function(t,e,i){var n=this.n,o=n.length;void 0===e&&(e=0),void 0===i&&(i=o),this.P&&Kh.ma(this);var r=i-e;if(1>=r)return this;if((0>e||e>=o-1)&&Kh.Fa(e,"0 <= from < length",c,"sortRange:from"),2===r)return i=n[e],o=n[e+1],0<t(i,o)&&(n[e]=o,n[e+1]=i,this.Ic()),this;if(0===e)if(i>=o)n.sort(t);else for(r=n.slice(0,i),r.sort(t),t=0;t<i;t++)n[t]=r[t];else if(i>=o)for(r=n.slice(e),r.sort(t),t=e;t<o;t++)n[t]=r[t-e];else for(r=n.slice(e,i),r.sort(t),t=e;t<i;t++)n[t]=r[t-e];return this.Ic(),this},c.prototype.reverse=c.prototype.reverse=function(){return this.P&&Kh.ma(this),this.n.reverse(),this.Ic(),this},Kh.u(c,{count:"count"},function(){return this.n.length}),Kh.u(c,{size:"size"},function(){return this.n.length}),Kh.u(c,{length:"length"},function(){return this.n.length}),Kh.u(c,{i:"iterator"},function(){if(0>=this.n.length)return Wh;var t=this.Qb;return null!==t?(t.reset(),t):new h(this)}),Kh.u(c,{Hn:"iteratorBackwards"},function(){if(0>=this.n.length)return Wh;var t=this.Oi;return null!==t?(t.reset(),t):new u(this)}),Kh.ce(d,{key:!0,value:!0}),Kh.u(d,{i:"iterator"},function(){return this}),d.prototype.reset=d.prototype.reset=function(){var t=this.bi;t.Qb=null,this.Sa=t.F,this.Va=null},d.prototype.next=d.prototype.next=function(){var t=this.bi;if(t.F!==this.Sa){if(null===this.key)return!1;Kh.Ma(t)}var e=this.Va,e=null===e?t.Ea:e.Xa;return null!==e?(this.Va=e,this.value=e.value,this.key=e.key,!0):(this.Mf(),!1)},d.prototype.hasNext=function(){return this.next()},d.prototype.first=d.prototype.first=function(){var t=this.bi;if(this.Sa=t.F,null!==(t=t.Ea)){this.Va=t;var e=t.value;return this.key=t.key,this.value=e}return null},d.prototype.any=function(t){var e=this.bi;e.Qb=null;var i=e.F;this.Va=null;for(var n=e.Ea;null!==n;){if(t(n.value))return!0;e.F!==i&&Kh.Ma(e),n=n.Xa}return!1},d.prototype.all=function(t){var e=this.bi;e.Qb=null;var i=e.F;this.Va=null;for(var n=e.Ea;null!==n;){if(!t(n.value))return!1;e.F!==i&&Kh.Ma(e),n=n.Xa}return!0},d.prototype.each=function(t){var e=this.bi;e.Qb=null;var i=e.F;this.Va=null;for(var n=e.Ea;null!==n;)t(n.value),e.F!==i&&Kh.Ma(e),n=n.Xa;return this},d.prototype.map=function(t){var e=this.bi;e.Qb=null;for(var i=new c,n=e.F,o=e.Ea;null!==o;)i.add(t(o.value)),e.F!==n&&Kh.Ma(e),o=o.Xa;return i.i},d.prototype.filter=function(t){var e=this.bi;e.Qb=null;for(var i=new c(e.na),n=e.F,o=e.Ea;null!==o;){var r=o.value;t(r)&&i.add(r),e.F!==n&&Kh.Ma(e),o=o.Xa}return i.i},d.prototype.concat=function(t){return this.bi.Qb=null,new l(this,t.i)},Kh.u(d,{count:"count"},function(){return this.bi.pd}),d.prototype.Mf=function(){this.value=this.key=null,this.Sa=-1,this.bi.Qb=this},d.prototype.toString=function(){return null!==this.Va?"SetIterator@"+this.Va.value:"SetIterator"},Kh.ga("Set",p),p.prototype.Ic=function(){var t=this.F;t++,999999999<t&&(t=0),this.F=t},p.prototype.freeze=p.prototype.freeze=function(){return this.P=!0,this},p.prototype.thaw=p.prototype.Qa=function(){return this.P=!1,this},p.prototype.toString=function(){return"Set("+Kh.getTypeName(this.na)+")#"+Kh.Od(this)},p.prototype.add=p.prototype.add=function(t){if(null===t)return!1;this.P&&Kh.ma(this,t);var e=t;return Kh.Pa(t)&&(e=Kh.Up(t)),void 0===this.qd[e]&&(this.pd++,t=new v(t,t),this.qd[e]=t,e=this.Uh,null===e?this.Ea=t:(t.ep=e,e.Xa=t),this.Uh=t,this.Ic(),!0)},p.prototype.addAll=p.prototype.Kc=function(t){if(null===t)return this;if(this.P&&Kh.ma(this),Kh.isArray(t))for(var e=Kh.Za(t),i=0;i<e;i++)this.add(Kh.Ba(t,i));else for(t=t.i;t.next();)this.add(t.value);return this},p.prototype.contains=p.prototype.contains=function(t){if(null===t)return!1;var e=t;return(!Kh.Pa(t)||void 0!==(e=Kh.Od(t)))&&void 0!==this.qd[e]},p.prototype.has=p.prototype.has=function(t){return this.contains(t)},p.prototype.containsAll=function(t){if(null===t)return!0;for(t=t.i;t.next();)if(!this.contains(t.value))return!1;return!0},p.prototype.containsAny=function(t){if(null===t)return!0;for(t=t.i;t.next();)if(this.contains(t.value))return!0;return!1},p.prototype.first=p.prototype.first=function(){var t=this.Ea;return null===t?null:t.value},p.prototype.any=function(t){for(var e=this.F,i=this.Ea;null!==i;){if(t(i.value))return!0;this.F!==e&&Kh.Ma(this),i=i.Xa}return!1},p.prototype.all=function(t){for(var e=this.F,i=this.Ea;null!==i;){if(!t(i.value))return!1;this.F!==e&&Kh.Ma(this),i=i.Xa}return!0},p.prototype.each=function(t){for(var e=this.F,i=this.Ea;null!==i;)t(i.value),this.F!==e&&Kh.Ma(this),i=i.Xa;return this},p.prototype.map=function(t){for(var e=new p,i=this.F,n=this.Ea;null!==n;)e.add(t(n.value)),this.F!==i&&Kh.Ma(this),n=n.Xa;return e},p.prototype.filter=function(t){for(var e=new p(this.na),i=this.F,n=this.Ea;null!==n;){var o=n.value;t(o)&&e.add(o),this.F!==i&&Kh.Ma(this),n=n.Xa}return e},p.prototype.concat=function(t){return this.copy().Kc(t)},p.prototype.remove=p.prototype.delete=p.prototype.remove=function(t){if(null===t)return!1;this.P&&Kh.ma(this,t);var e=t;if(Kh.Pa(t)&&void 0===(e=Kh.Od(t)))return!1;if(void 0===(t=this.qd[e]))return!1;var i=t.Xa,n=t.ep;return null!==i&&(i.ep=n),null!==n&&(n.Xa=i),this.Ea===t&&(this.Ea=i),this.Uh===t&&(this.Uh=n),delete this.qd[e],this.pd--,this.Ic(),!0},p.prototype.removeAll=p.prototype.Zx=function(t){if(null===t)return this;if(this.P&&Kh.ma(this),Kh.isArray(t))for(var e=Kh.Za(t),i=0;i<e;i++)this.remove(Kh.Ba(t,i));else for(t=t.i;t.next();)this.remove(t.value);return this},p.prototype.retainAll=function(t){if(null===t||0===this.count)return this;this.P&&Kh.ma(this);var e=new p(this.na);e.Kc(t),t=[];for(var i=this.i;i.next();){var n=i.value;e.contains(n)||t.push(n)}return this.Zx(t),this},p.prototype.clear=p.prototype.clear=function(){this.P&&Kh.ma(this),this.qd={},this.pd=0,this.Uh=this.Ea=null,this.Ic()},p.prototype.copy=function(){var t,e=new p(this.na),i=this.qd;for(t in i)e.add(i[t].value);return e},p.prototype.toArray=p.prototype.gc=function(){var t,e=Array(this.pd),i=this.qd,n=0;for(t in i)e[n]=i[t].value,n++;return e},p.prototype.toList=function(){var t,e=new c(this.na),i=this.qd;for(t in i)e.add(i[t].value);return e},Kh.u(p,{count:"count"},function(){return this.pd}),Kh.u(p,{size:"size"},function(){return this.pd}),Kh.u(p,{i:"iterator"},function(){if(0>=this.pd)return Wh;var t=this.Qb;return null!==t?(t.reset(),t):new d(this)}),Kh.ce(f,{key:!0,value:!0}),Kh.u(f,{i:"iterator"},function(){return this}),f.prototype.reset=f.prototype.reset=function(){this.Sa=this.Ga.F,this.Va=null},f.prototype.next=f.prototype.next=function(){var t=this.Ga;if(t.F!==this.Sa){if(null===this.key)return!1;Kh.Ma(t)}var e=this.Va,e=null===e?t.Ea:e.Xa;return null!==e?(this.Va=e,this.value=this.key=t=e.key,!0):(this.Mf(),!1)},f.prototype.hasNext=function(){return this.next()},f.prototype.first=f.prototype.first=function(){var t=this.Ga;return this.Sa=t.F,t=t.Ea,null!==t?(this.Va=t,this.value=this.key=t=t.key):null},f.prototype.any=function(t){var e=this.Ga,i=e.F;this.Va=null;for(var n=e.Ea;null!==n;){if(t(n.key))return!0;e.F!==i&&Kh.Ma(e),n=n.Xa}return!1},f.prototype.all=function(t){var e=this.Ga,i=e.F;this.Va=null;for(var n=e.Ea;null!==n;){if(!t(n.key))return!1;e.F!==i&&Kh.Ma(e),n=n.Xa}return!0},f.prototype.each=function(t){var e=this.Ga,i=e.F;this.Va=null;for(var n=e.Ea;null!==n;)t(n.key),e.F!==i&&Kh.Ma(e),n=n.Xa;return this},f.prototype.map=function(t){var e=this.Ga,i=e.F;this.Va=null;for(var n=new c,o=e.Ea;null!==o;)n.add(t(o.key)),e.F!==i&&Kh.Ma(e),o=o.Xa;return n.i},f.prototype.filter=function(t){var e=this.Ga,i=e.F;this.Va=null;for(var n=new c(e.Th),o=e.Ea;null!==o;){var r=o.key;t(r)&&n.add(r),e.F!==i&&Kh.Ma(e),o=o.Xa}return n.i},f.prototype.concat=function(t){return new l(this,t.i)},Kh.u(f,{count:"count"},function(){return this.Ga.pd}),f.prototype.Mf=function(){this.value=this.key=null,this.Sa=-1},f.prototype.toString=function(){return null!==this.Va?"MapKeySetIterator@"+this.Va.value:"MapKeySetIterator"},Kh.Ka(y,p),y.prototype.freeze=function(){return this},y.prototype.Qa=function(){return this},y.prototype.toString=function(){return"MapKeySet("+this.Ga.toString()+")"},y.prototype.add=y.prototype.add=function(){return Kh.k("This Set is read-only: "+this.toString()),!1},y.prototype.set=y.prototype.set=function(){return Kh.k("This Set is read-only: "+this.toString()),!1},y.prototype.contains=y.prototype.contains=function(t){return this.Ga.contains(t)},y.prototype.has=y.prototype.has=function(t){return this.contains(t)},y.prototype.remove=y.prototype.delete=y.prototype.remove=function(){return Kh.k("This Set is read-only: "+this.toString()),!1},y.prototype.clear=y.prototype.clear=function(){Kh.k("This Set is read-only: "+this.toString())},y.prototype.first=y.prototype.first=function(){var t=this.Ga.Ea;return null!==t?t.key:null},y.prototype.any=function(t){for(var e=this.Ga.Ea;null!==e;){if(t(e.key))return!0;e=e.Xa}return!1},y.prototype.all=function(t){for(var e=this.Ga.Ea;null!==e;){if(!t(e.key))return!1;e=e.Xa}return!0},y.prototype.each=function(t){for(var e=this.Ga.Ea;null!==e;)t(e.key),e=e.Xa;return this},y.prototype.map=function(t){for(var e=new p,i=this.Ga.Ea;null!==i;)e.add(t(i.key)),i=i.Xa;return e},y.prototype.filter=function(t){for(var e=new p(this.Ga.Th),i=this.Ga.Ea;null!==i;){var n=i.key;t(n)&&e.add(n),i=i.Xa}return e},y.prototype.concat=function(t){return this.wG().Kc(t)},y.prototype.copy=function(){return new y(this.Ga)},y.prototype.toSet=y.prototype.wG=function(){var t,e=new p(this.Ga.Th),i=this.Ga.qd;for(t in i)e.add(i[t].key);return e},y.prototype.toArray=y.prototype.gc=function(){var t,e=this.Ga.qd,i=Array(this.Ga.pd),n=0;for(t in e)i[n]=e[t].key,n++;return i},y.prototype.toList=function(){var t,e=new c(this.Ga.Th),i=this.Ga.qd;for(t in i)e.add(i[t].key);return e},Kh.u(y,{count:"count"},function(){return this.Ga.pd}),Kh.u(y,{size:"size"},function(){return this.Ga.pd}),Kh.u(y,{i:"iterator"},function(){return 0>=this.Ga.pd?Wh:new f(this.Ga)}),Kh.ce(g,{key:!0,value:!0}),Kh.u(g,{i:"iterator"},function(){return this}),g.prototype.reset=g.prototype.reset=function(){var t=this.Ga;t.Pi=null,this.Sa=t.F,this.Va=null},g.prototype.next=g.prototype.next=function(){var t=this.Ga;if(t.F!==this.Sa){if(null===this.key)return!1;Kh.Ma(t)}var e=this.Va,e=null===e?t.Ea:e.Xa;return null!==e?(this.Va=e,this.value=e.value,this.key=e.key,!0):(this.Mf(),!1)},g.prototype.hasNext=function(){return this.next()},g.prototype.first=g.prototype.first=function(){var t=this.Ga;if(this.Sa=t.F,null!==(t=t.Ea)){this.Va=t;var e=t.value;return this.key=t.key,this.value=e}return null},g.prototype.any=function(t){var e=this.Ga;e.Pi=null;var i=e.F;this.Va=null;for(var n=e.Ea;null!==n;){if(t(n.value))return!0;e.F!==i&&Kh.Ma(e),n=n.Xa}return!1},g.prototype.all=function(t){var e=this.Ga;e.Pi=null;var i=e.F;this.Va=null;for(var n=e.Ea;null!==n;){if(!t(n.value))return!1;e.F!==i&&Kh.Ma(e),n=n.Xa}return!0},g.prototype.each=function(t){var e=this.Ga;e.Pi=null;var i=e.F;this.Va=null;for(var n=e.Ea;null!==n;)t(n.value),e.F!==i&&Kh.Ma(e),n=n.Xa;return this},g.prototype.map=function(t){var e=this.Ga;e.Pi=null;var i=e.F;this.Va=null;for(var n=new c,o=e.Ea;null!==o;)n.add(t(o.value)),e.F!==i&&Kh.Ma(e),o=o.Xa;return n.i},g.prototype.filter=function(t){var e=this.Ga;e.Pi=null;var i=e.F;this.Va=null;for(var n=new c(e.Th),o=e.Ea;null!==o;){var r=o.value;t(r)&&n.add(r),e.F!==i&&Kh.Ma(e),o=o.Xa}return n.i},g.prototype.concat=function(t){return this.Ga.Pi=null,new l(this,t.i)},Kh.u(g,{count:"count"},function(){return this.Ga.pd}),g.prototype.Mf=function(){this.value=this.key=null,this.Sa=-1,this.Ga.Pi=this},g.prototype.toString=function(){return null!==this.Va?"MapValueSetIterator@"+this.Va.value:"MapValueSetIterator"},Kh.ce(v,{key:!0,value:!0}),v.prototype.toString=function(){return"{"+this.key+":"+this.value+"}"};Kh.ce(m,{key:!0,value:!0}),Kh.u(m,{i:"iterator"},function(){return this}),m.prototype.reset=m.prototype.reset=function(){var t=this.Ga;t.Qb=null,this.Sa=t.F,this.Va=null},m.prototype.next=m.prototype.next=function(){var t=this.Ga;if(t.F!==this.Sa){if(null===this.key)return!1;Kh.Ma(t)}var e=this.Va,e=null===e?t.Ea:e.Xa;return null!==e?(this.Va=e,this.key=e.key,this.value=e.value,!0):(this.Mf(),!1)},m.prototype.hasNext=function(){return this.next()},m.prototype.first=m.prototype.first=function(){var t=this.Ga;return this.Sa=t.F,t=t.Ea,null!==t?(this.Va=t,this.key=t.key,this.value=t.value,t):null},m.prototype.any=function(t){var e=this.Ga;e.Qb=null;var i=e.F;this.Va=null;for(var n=e.Ea;null!==n;){if(t(n))return!0;e.F!==i&&Kh.Ma(e),n=n.Xa}return!1},m.prototype.all=function(t){var e=this.Ga;e.Qb=null;var i=e.F;this.Va=null;for(var n=e.Ea;null!==n;){if(!t(n))return!1;e.F!==i&&Kh.Ma(e),n=n.Xa}return!0},m.prototype.each=function(t){var e=this.Ga;e.Qb=null;var i=e.F;this.Va=null;for(var n=e.Ea;null!==n;)t(n),e.F!==i&&Kh.Ma(e),n=n.Xa;return this},m.prototype.map=function(t){var e=this.Ga;e.Qb=null;var i=e.F;this.Va=null;for(var n=new c,o=e.Ea;null!==o;)n.add(t(o)),e.F!==i&&Kh.Ma(e),o=o.Xa;return n.i},m.prototype.filter=function(t){var e=this.Ga;e.Qb=null;var i=e.F;this.Va=null;for(var n=new c,o=e.Ea;null!==o;)t(o)&&n.add(o),e.F!==i&&Kh.Ma(e),o=o.Xa;return n.i},m.prototype.concat=function(t){return this.Ga.Qb=null,new l(this,t.i)},Kh.u(m,{count:"count"},function(){return this.Ga.pd}),m.prototype.Mf=function(){this.value=this.key=null,this.Sa=-1,this.Ga.Qb=this},m.prototype.toString=function(){return null!==this.Va?"MapIterator@"+this.Va:"MapIterator"},Kh.ga("Map",b),b.prototype.Ic=function(){var t=this.F;t++,999999999<t&&(t=0),this.F=t},b.prototype.freeze=b.prototype.freeze=function(){return this.P=!0,this},b.prototype.thaw=b.prototype.Qa=function(){return this.P=!1,this},b.prototype.toString=function(){return"Map("+Kh.getTypeName(this.Th)+","+Kh.getTypeName(this.st)+")#"+Kh.Od(this)},b.prototype.add=b.prototype.add=function(t,e){this.P&&Kh.ma(this,t);var i=t;Kh.Pa(t)&&(i=Kh.Up(t));var n=this.qd[i];return void 0===n?(this.pd++,n=new v(t,e),this.qd[i]=n,i=this.Uh,null===i?this.Ea=n:(n.ep=i,i.Xa=n),this.Uh=n,this.Ic(),!0):(n.value=e,!1)},b.prototype.set=b.prototype.set=function(t,e){return this.add(t,e)},b.prototype.addAll=b.prototype.Kc=function(t){if(null===t)return this;if(Kh.isArray(t))for(var e=Kh.Za(t),i=0;i<e;i++){var n=Kh.Ba(t,i);this.add(n.key,n.value)}else for(t=t.i;t.next();)this.add(t.key,t.value);return this},b.prototype.first=b.prototype.first=function(){return this.Ea},b.prototype.any=function(t){for(var e=this.F,i=this.Ea;null!==i;){if(t(i))return!0;this.F!==e&&Kh.Ma(this),i=i.Xa}return!1},b.prototype.all=function(t){for(var e=this.F,i=this.Ea;null!==i;){if(!t(i))return!1;this.F!==e&&Kh.Ma(this),i=i.Xa}return!0},b.prototype.each=function(t){for(var e=this.F,i=this.Ea;null!==i;)t(i),this.F!==e&&Kh.Ma(this),i=i.Xa;return this},b.prototype.map=function(t){for(var e=new b(this.Th),i=this.F,n=this.Ea;null!==n;)e.add(n.key,t(n)),this.F!==i&&Kh.Ma(this),n=n.Xa;return e},b.prototype.filter=function(t){for(var e=new b(this.Th,this.st),i=this.F,n=this.Ea;null!==n;)t(n)&&e.add(n.key,n.value),this.F!==i&&Kh.Ma(this),n=n.Xa;return e},b.prototype.concat=function(t){return this.copy().Kc(t)},b.prototype.contains=b.prototype.contains=function(t){var e=t;return(!Kh.Pa(t)||void 0!==(e=Kh.Od(t)))&&void 0!==this.qd[e]},b.prototype.has=b.prototype.has=function(t){return this.contains(t)},b.prototype.getValue=b.prototype.ka=function(t){var e=t;return Kh.Pa(t)&&void 0===(e=Kh.Od(t))?null:(t=this.qd[e],void 0===t?null:t.value)},b.prototype.get=b.prototype.get=function(t){return this.ka(t)},b.prototype.remove=b.prototype.delete=b.prototype.remove=function(t){if(null===t)return!1;this.P&&Kh.ma(this,t);var e=t;if(Kh.Pa(t)&&void 0===(e=Kh.Od(t)))return!1;if(void 0===(t=this.qd[e]))return!1;var i=t.Xa,n=t.ep;return null!==i&&(i.ep=n),null!==n&&(n.Xa=i),this.Ea===t&&(this.Ea=i),this.Uh===t&&(this.Uh=n),delete this.qd[e],this.pd--,this.Ic(),!0},b.prototype.clear=b.prototype.clear=function(){this.P&&Kh.ma(this),this.qd={},this.pd=0,this.Uh=this.Ea=null,this.Ic()},b.prototype.copy=function(){var t,e=new b(this.Th,this.st),i=this.qd;for(t in i){var n=i[t];e.add(n.key,n.value)}return e},b.prototype.toArray=b.prototype.gc=function(){var t,e=this.qd,i=Array(this.pd),n=0;for(t in e){var o=e[t];i[n]=new v(o.key,o.value),n++}return i},b.prototype.toKeySet=b.prototype.Gj=function(){return new y(this)},Kh.u(b,{count:"count"},function(){return this.pd}),Kh.u(b,{size:"size"},function(){return this.pd}),Kh.u(b,{i:"iterator"},function(){if(0>=this.count)return Wh;var t=this.Qb;return null!==t?(t.reset(),t):new m(this)}),Kh.u(b,{zF:"iteratorKeys"},function(){return 0>=this.count?Wh:new f(this)}),Kh.u(b,{AF:"iteratorValues"},function(){if(0>=this.count)return Wh;var t=this.Pi;return null!==t?(t.reset(),t):new g(this)}),Kh.ga("Point",w),Kh.ni(w),Kh.ce(w,{x:!0,y:!0}),w.prototype.assign=function(t){this.x=t.x,this.y=t.y},w.prototype.setTo=w.prototype.m=function(t,e){return this.x=t,this.y=e,this},w.prototype.set=w.prototype.set=function(t){return this.x=t.x,this.y=t.y,this},w.prototype.copy=function(){var t=new w;return t.x=this.x,t.y=this.y,t},w.prototype.Ha=function(){return Object.freeze(this),this},w.prototype.S=function(){return Object.isFrozen(this)?this:this.copy().freeze()},w.prototype.freeze=function(){return this},w.prototype.Qa=function(){return Object.isFrozen(this)&&Kh.k("cannot thaw constant: "+this),this},w.parse=function(t){if("string"==typeof t){t=t.split(" ");for(var e=0,i=0;""===t[e];)e++;var n=t[e++];n&&(i=parseFloat(n));for(var o=0;""===t[e];)e++;return(n=t[e++])&&(o=parseFloat(n)),new w(i,o)}return new w},w.stringify=function(t){return t.x.toString()+" "+t.y.toString()},w.prototype.toString=function(){return"Point("+this.x+","+this.y+")"},w.prototype.equals=w.prototype.L=function(t){return t instanceof w&&(this.x===t.x&&this.y===t.y)},w.prototype.equalTo=w.prototype.kx=function(t,e){return this.x===t&&this.y===e},w.prototype.equalsApprox=w.prototype.Lc=function(t){return W(this.x,t.x)&&W(this.y,t.y)},w.prototype.add=w.prototype.add=function(t){return this.x+=t.x,this.y+=t.y,this},w.prototype.subtract=w.prototype.Ej=function(t){return this.x-=t.x,this.y-=t.y,this},w.prototype.offset=w.prototype.offset=function(t,e){return this.x+=t,this.y+=e,this},w.prototype.rotate=w.prototype.rotate=function(t){if(0===t)return this;var e=this.x,i=this.y;if(0===e&&0===i)return this;var n=0,o=0;return 360<=t?t-=360:0>t&&(t+=360),90===t?(n=0,o=1):180===t?(n=-1,o=0):270===t?(n=0,o=-1):(t=t*Math.PI/180,n=Math.cos(t),o=Math.sin(t)),this.x=n*e-o*i,this.y=o*e+n*i,this},w.prototype.scale=w.prototype.scale=function(t,e){return this.x*=t,this.y*=e,this},w.prototype.distanceSquaredPoint=w.prototype.zf=function(t){var e=t.x-this.x;return t=t.y-this.y,e*e+t*t},w.prototype.distanceSquared=w.prototype.Op=function(t,e){var i=t-this.x,n=e-this.y;return i*i+n*n},w.prototype.normalize=w.prototype.normalize=function(){var t=this.x,e=this.y,i=Math.sqrt(t*t+e*e);return 0<i&&(this.x=t/i,this.y=e/i),this},w.prototype.directionPoint=w.prototype.Pb=function(t){return x(t.x-this.x,t.y-this.y)},w.prototype.direction=w.prototype.direction=function(t,e){return x(t-this.x,e-this.y)},w.prototype.projectOntoLineSegment=function(t,e,i,n){return st(t,e,i,n,this.x,this.y,this),this},w.prototype.projectOntoLineSegmentPoint=function(t,e){return st(t.x,t.y,e.x,e.y,this.x,this.y,this),this},w.prototype.snapToGrid=function(t,e,i,n){return yt(this.x,this.y,t,e,i,n,this),this},w.prototype.snapToGridPoint=function(t,e){return yt(this.x,this.y,t.x,t.y,e.width,e.height,this),this},w.prototype.setRectSpot=w.prototype.Wn=function(t,e){return this.x=t.x+e.x*t.width+e.offsetX,this.y=t.y+e.y*t.height+e.offsetY,this},w.prototype.setSpot=w.prototype.Mu=function(t,e,i,n,o){return this.x=t+o.x*i+o.offsetX,this.y=e+o.y*n+o.offsetY,this},w.prototype.transform=function(t){return t.nb(this),this};var Yh;w.distanceLineSegmentSquared=Yh=function(t,e,i,n,o,r){var s=o-i,a=r-n,l=s*s+a*a;i-=t,n-=e;var h=-i*s-n*a;return 0>=h||h>=l?(s=o-t,a=r-e,Math.min(i*i+n*n,s*s+a*a)):(t=s*n-a*i)*t/l};var Jh;w.distanceSquared=Jh=function(t,e,i,n){return t=i-t,e=n-e,t*t+e*e};var Xh;w.direction=Xh=function(t,e,i,n){return t=i-t,e=n-e,0===t?0<e?90:0>e?270:0:0===e?0<t?0:180:isNaN(t)||isNaN(e)?0:(n=180*Math.atan(Math.abs(e/t))/Math.PI,0>t?n=0>e?n+180:180-n:0>e&&(n=360-n),n)},w.prototype.isReal=w.prototype.I=function(){return isFinite(this.x)&&isFinite(this.y)},Kh.ga("Size",k),Kh.ni(k),Kh.ce(k,{width:!0,height:!0}),k.prototype.assign=function(t){this.width=t.width,this.height=t.height},k.prototype.setTo=k.prototype.m=function(t,e){return this.width=t,this.height=e,this},k.prototype.set=k.prototype.set=function(t){return this.width=t.width,this.height=t.height,this},k.prototype.copy=function(){var t=new k;return t.width=this.width,t.height=this.height,t},k.prototype.Ha=function(){return Object.freeze(this),this},k.prototype.S=function(){return Object.isFrozen(this)?this:this.copy().freeze()},k.prototype.freeze=function(){return this},k.prototype.Qa=function(){return Object.isFrozen(this)&&Kh.k("cannot thaw constant: "+this),this},k.parse=function(t){if("string"==typeof t){t=t.split(" ");for(var e=0,i=0;""===t[e];)e++;var n=t[e++];n&&(i=parseFloat(n));for(var o=0;""===t[e];)e++;return(n=t[e++])&&(o=parseFloat(n)),new k(i,o)}return new k},k.stringify=function(t){return t.width.toString()+" "+t.height.toString()},k.prototype.toString=function(){return"Size("+this.width+","+this.height+")"},k.prototype.equals=k.prototype.L=function(t){return t instanceof k&&(this.width===t.width&&this.height===t.height)},k.prototype.equalTo=k.prototype.kx=function(t,e){return this.width===t&&this.height===e},k.prototype.equalsApprox=k.prototype.Lc=function(t){return W(this.width,t.width)&&W(this.height,t.height)},k.prototype.isReal=k.prototype.I=function(){return isFinite(this.width)&&isFinite(this.height)},Kh.ga("Rect",S),Kh.ni(S),Kh.ce(S,{x:!0,y:!0,width:!0,height:!0}),S.prototype.assign=function(t){this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height},S.prototype.setTo=S.prototype.m=function(t,e,i,n){return this.x=t,this.y=e,this.width=i,this.height=n,this},S.prototype.set=S.prototype.set=function(t){return this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height,this},S.prototype.setPoint=S.prototype.Xg=function(t){return this.x=t.x,this.y=t.y,this},S.prototype.setSize=function(t){return this.width=t.width,this.height=t.height,this},S.prototype.copy=function(){var t=new S;return t.x=this.x,t.y=this.y,t.width=this.width,t.height=this.height,t},S.prototype.Ha=function(){return Object.freeze(this),this},S.prototype.S=function(){return Object.isFrozen(this)?this:this.copy().freeze()},S.prototype.freeze=function(){return this},S.prototype.Qa=function(){return Object.isFrozen(this)&&Kh.k("cannot thaw constant: "+this),this},S.parse=function(t){if("string"==typeof t){t=t.split(" ");for(var e=0,i=0;""===t[e];)e++;var n=t[e++];n&&(i=parseFloat(n));for(var o=0;""===t[e];)e++;(n=t[e++])&&(o=parseFloat(n));for(var r=0;""===t[e];)e++;(n=t[e++])&&(r=parseFloat(n));for(var s=0;""===t[e];)e++;return(n=t[e++])&&(s=parseFloat(n)),new S(i,o,r,s)}return new S},S.stringify=function(t){return t.x.toString()+" "+t.y.toString()+" "+t.width.toString()+" "+t.height.toString()},S.prototype.toString=function(){return"Rect("+this.x+","+this.y+","+this.width+","+this.height+")"},S.prototype.equals=S.prototype.L=function(t){return t instanceof S&&(this.x===t.x&&this.y===t.y&&this.width===t.width&&this.height===t.height)},S.prototype.equalTo=S.prototype.kx=function(t,e,i,n){return this.x===t&&this.y===e&&this.width===i&&this.height===n},S.prototype.equalsApprox=S.prototype.Lc=function(t){return W(this.x,t.x)&&W(this.y,t.y)&&W(this.width,t.width)&&W(this.height,t.height)},S.prototype.containsPoint=S.prototype.Ia=function(t){return this.x<=t.x&&this.x+this.width>=t.x&&this.y<=t.y&&this.y+this.height>=t.y},S.prototype.containsRect=S.prototype.wk=function(t){return this.x<=t.x&&t.x+t.width<=this.x+this.width&&this.y<=t.y&&t.y+t.height<=this.y+this.height},S.prototype.contains=S.prototype.contains=function(t,e,i,n){return void 0===i&&(i=0),void 0===n&&(n=0),this.x<=t&&t+i<=this.x+this.width&&this.y<=e&&e+n<=this.y+this.height},S.prototype.reset=function(){this.height=this.width=this.y=this.x=0},S.prototype.offset=S.prototype.offset=function(t,e){return this.x+=t,this.y+=e,this},S.prototype.inflate=S.prototype.Yf=function(t,e){return E(this,e,t,e,t)},S.prototype.addMargin=S.prototype.Ow=function(t){return E(this,t.top,t.right,t.bottom,t.left)},S.prototype.subtractMargin=S.prototype.LJ=function(t){return E(this,-t.top,-t.right,-t.bottom,-t.left)},S.prototype.grow=function(t,e,i,n){return E(this,t,e,i,n)},S.prototype.intersectRect=function(t){return I(this,t.x,t.y,t.width,t.height)},S.prototype.intersect=S.prototype.jF=function(t,e,i,n){return I(this,t,e,i,n)},S.prototype.intersectsRect=S.prototype.Zf=function(t){return this.kF(t.x,t.y,t.width,t.height)},S.prototype.intersects=S.prototype.kF=function(t,e,i,n){var o=this.width,r=this.x;return!(1/0!==o&&1/0!==i&&(o+=r,i+=t,isNaN(i)||isNaN(o)||r>i||t>o))&&(t=this.height,i=this.y,!(1/0!==t&&1/0!==n&&(t+=i,n+=e,isNaN(n)||isNaN(t)||i>n||e>t)))},S.prototype.unionPoint=S.prototype.vi=function(t){return D(this,t.x,t.y,0,0)},S.prototype.unionRect=S.prototype.Jh=function(t){return D(this,t.x,t.y,t.width,t.height)},S.prototype.union=S.prototype.BG=function(t,e,i,n){return void 0===i&&(i=0),void 0===n&&(n=0),D(this,t,e,i,n)},S.prototype.setSpot=S.prototype.Mu=function(t,e,i){return this.x=t-i.offsetX-i.x*this.width,this.y=e-i.offsetY-i.y*this.height,this};var Qh;S.contains=Qh=function(t,e,i,n,o,r,s,a){return void 0===s&&(s=0),void 0===a&&(a=0),t<=o&&o+s<=t+i&&e<=r&&r+a<=e+n},S.intersects=function(t,e,i,n,o,r,s,a){return i+=t,s+=o,!(t>s||o>i)&&(t=n+e,a+=r,!(e>a||r>t))},Kh.defineProperty(S,{left:"left"},function(){return this.x},function(t){this.x=t}),Kh.defineProperty(S,{top:"top"},function(){return this.y},function(t){this.y=t}),Kh.defineProperty(S,{right:"right"},function(){return this.x+this.width},function(t){this.x+=t-(this.x+this.width)}),Kh.defineProperty(S,{bottom:"bottom"},function(){return this.y+this.height},function(t){this.y+=t-(this.y+this.height)}),Kh.defineProperty(S,{position:"position"},function(){return new w(this.x,this.y)},function(t){this.x=t.x,this.y=t.y}),Kh.defineProperty(S,{size:"size"},function(){return new k(this.width,this.height)},function(t){this.width=t.width,this.height=t.height}),Kh.defineProperty(S,{Ll:"center"},function(){return new w(this.x+this.width/2,this.y+this.height/2)},function(t){this.x=t.x-this.width/2,this.y=t.y-this.height/2}),Kh.defineProperty(S,{la:"centerX"},function(){return this.x+this.width/2},function(t){this.x=t-this.width/2}),Kh.defineProperty(S,{ra:"centerY"},function(){return this.y+this.height/2},function(t){this.y=t-this.height/2}),S.prototype.isReal=S.prototype.I=function(){return isFinite(this.x)&&isFinite(this.y)&&isFinite(this.width)&&isFinite(this.height)},S.prototype.isEmpty=function(){return 0===this.width&&0===this.height},Kh.ga("Margin",O),Kh.ni(O),Kh.ce(O,{top:!0,right:!0,bottom:!0,left:!0}),O.prototype.assign=function(t){this.top=t.top,this.right=t.right,this.bottom=t.bottom,this.left=t.left},O.prototype.setTo=O.prototype.m=function(t,e,i,n){return this.top=t,this.right=e,this.bottom=i,this.left=n,this},O.prototype.set=O.prototype.set=function(t){return this.top=t.top,this.right=t.right,this.bottom=t.bottom,this.left=t.left,this},O.prototype.copy=function(){var t=new O;return t.top=this.top,t.right=this.right,t.bottom=this.bottom,t.left=this.left,t},O.prototype.Ha=function(){return Object.freeze(this),this},O.prototype.S=function(){return Object.isFrozen(this)?this:this.copy().freeze()},O.prototype.freeze=function(){return this},O.prototype.Qa=function(){return Object.isFrozen(this)&&Kh.k("cannot thaw constant: "+this),this},O.parse=function(t){if("string"==typeof t){t=t.split(" ");for(var e=0,i=NaN;""===t[e];)e++;var n=t[e++];if(n&&(i=parseFloat(n)),isNaN(i))return new O;for(var o=NaN;""===t[e];)e++;if((n=t[e++])&&(o=parseFloat(n)),isNaN(o))return new O(i);for(var r=NaN;""===t[e];)e++;if((n=t[e++])&&(r=parseFloat(n)),isNaN(r))return new O(i,o);for(var s=NaN;""===t[e];)e++;return(n=t[e++])&&(s=parseFloat(n)),isNaN(s)?new O(i,o):new O(i,o,r,s)}return new O},O.stringify=function(t){return t.top.toString()+" "+t.right.toString()+" "+t.bottom.toString()+" "+t.left.toString()},O.prototype.toString=function(){return"Margin("+this.top+","+this.right+","+this.bottom+","+this.left+")"},O.prototype.equals=O.prototype.L=function(t){return t instanceof O&&(this.top===t.top&&this.right===t.right&&this.bottom===t.bottom&&this.left===t.left)},O.prototype.equalTo=O.prototype.kx=function(t,e,i,n){return this.top===t&&this.right===e&&this.bottom===i&&this.left===n},O.prototype.equalsApprox=O.prototype.Lc=function(t){return W(this.top,t.top)&&W(this.right,t.right)&&W(this.bottom,t.bottom)&&W(this.left,t.left)},O.prototype.isReal=O.prototype.I=function(){return isFinite(this.top)&&isFinite(this.right)&&isFinite(this.bottom)&&isFinite(this.left)},Kh.ni(L),Kh.ce(L,{m11:!0,m12:!0,m21:!0,m22:!0,dx:!0,dy:!0}),L.prototype.set=L.prototype.set=function(t){return this.m11=t.m11,this.m12=t.m12,this.m21=t.m21,this.m22=t.m22,this.dx=t.dx,this.dy=t.dy,this},L.prototype.copy=function(){var t=new L;return t.m11=this.m11,t.m12=this.m12,t.m21=this.m21,t.m22=this.m22,t.dx=this.dx,t.dy=this.dy,t},L.prototype.toString=function(){return"Transform("+this.m11+","+this.m12+","+this.m21+","+this.m22+","+this.dx+","+this.dy+")"},L.prototype.equals=L.prototype.L=function(t){return t instanceof L&&(this.m11===t.m11&&this.m12===t.m12&&this.m21===t.m21&&this.m22===t.m22&&this.dx===t.dx&&this.dy===t.dy)},L.prototype.isIdentity=L.prototype.iu=function(){return 1===this.m11&&0===this.m12&&0===this.m21&&1===this.m22&&0===this.dx&&0===this.dy},L.prototype.reset=L.prototype.reset=function(){return this.m11=1,this.m21=this.m12=0,this.m22=1,this.dy=this.dx=0,this},L.prototype.multiply=L.prototype.multiply=function(t){var e=this.m12*t.m11+this.m22*t.m12,i=this.m11*t.m21+this.m21*t.m22,n=this.m12*t.m21+this.m22*t.m22,o=this.m11*t.dx+this.m21*t.dy+this.dx,r=this.m12*t.dx+this.m22*t.dy+this.dy;return this.m11=this.m11*t.m11+this.m21*t.m12,this.m12=e,this.m21=i,this.m22=n,this.dx=o,this.dy=r,this},L.prototype.multiplyInverted=L.prototype.IF=function(t){var e=1/(t.m11*t.m22-t.m12*t.m21),i=t.m22*e,n=-t.m12*e,o=-t.m21*e,r=t.m11*e,s=e*(t.m21*t.dy-t.m22*t.dx),a=e*(t.m12*t.dx-t.m11*t.dy);return t=this.m12*i+this.m22*n,e=this.m11*o+this.m21*r,o=this.m12*o+this.m22*r,r=this.m11*s+this.m21*a+this.dx,s=this.m12*s+this.m22*a+this.dy,this.m11=this.m11*i+this.m21*n,this.m12=t,this.m21=e,this.m22=o,this.dx=r,this.dy=s,this},L.prototype.invert=L.prototype.vx=function(){var t=1/(this.m11*this.m22-this.m12*this.m21),e=-this.m12*t,i=-this.m21*t,n=this.m11*t,o=t*(this.m21*this.dy-this.m22*this.dx),r=t*(this.m12*this.dx-this.m11*this.dy);return this.m11=this.m22*t,this.m12=e,this.m21=i,this.m22=n,this.dx=o,this.dy=r,this},L.prototype.rotate=L.prototype.rotate=function(t,e,i){if(360<=t?t-=360:0>t&&(t+=360),0===t)return this;this.translate(e,i);var n=0,o=0;90===t?(n=0,o=1):180===t?(n=-1,o=0):270===t?(n=0,o=-1):(o=t*Math.PI/180,n=Math.cos(o),o=Math.sin(o)),t=this.m12*n+this.m22*o;var r=this.m11*-o+this.m21*n,s=this.m12*-o+this.m22*n;return this.m11=this.m11*n+this.m21*o,this.m12=t,this.m21=r,this.m22=s,this.translate(-e,-i),this},L.prototype.translate=L.prototype.translate=function(t,e){return this.dx+=this.m11*t+this.m21*e,this.dy+=this.m12*t+this.m22*e,this},L.prototype.scale=L.prototype.scale=function(t,e){return void 0===e&&(e=t),this.m11*=t,this.m12*=t,this.m21*=e,this.m22*=e,this},L.prototype.transformPoint=L.prototype.nb=function(t){var e=t.x,i=t.y;return t.x=e*this.m11+i*this.m21+this.dx,t.y=e*this.m12+i*this.m22+this.dy,t},L.prototype.invertedTransformPoint=L.prototype.pi=function(t){var e=1/(this.m11*this.m22-this.m12*this.m21),i=-this.m12*e,n=this.m11*e,o=e*(this.m12*this.dx-this.m11*this.dy),r=t.x,s=t.y;return t.x=r*this.m22*e+s*-this.m21*e+e*(this.m21*this.dy-this.m22*this.dx),t.y=r*i+s*n+o,t},L.prototype.transformRect=L.prototype.AG=function(t){var e=t.x,i=t.y,n=e+t.width,o=i+t.height,r=this.m11,s=this.m12,a=this.m21,l=this.m22,h=this.dx,u=this.dy,c=e*r+i*a+h,d=e*s+i*l+u,p=n*r+i*a+h,i=n*s+i*l+u,f=e*r+o*a+h,e=e*s+o*l+u,r=n*r+o*a+h,n=n*s+o*l+u,o=c,s=d,c=Math.min(c,p),o=Math.max(o,p),s=Math.min(s,i),d=Math.max(d,i),c=Math.min(c,f),o=Math.max(o,f),s=Math.min(s,e),d=Math.max(d,e),c=Math.min(c,r),o=Math.max(o,r),s=Math.min(s,n),d=Math.max(d,n);return t.x=c,t.y=s,t.width=o-c,t.height=d-s,t},Kh.ga("Spot",N),Kh.ni(N),Kh.ce(N,{x:!0,y:!0,offsetX:!0,offsetY:!0}),N.prototype.assign=function(t){this.x=t.x,this.y=t.y,this.offsetX=t.offsetX,this.offsetY=t.offsetY},N.prototype.setTo=N.prototype.m=function(t,e,i,n){return this.x=t,this.y=e,this.offsetX=i,this.offsetY=n,this},N.prototype.set=N.prototype.set=function(t){return this.x=t.x,this.y=t.y,this.offsetX=t.offsetX,this.offsetY=t.offsetY,this},N.prototype.copy=function(){var t=new N;return t.x=this.x,t.y=this.y,t.offsetX=this.offsetX,t.offsetY=this.offsetY,t},N.prototype.Ha=function(){return Object.freeze(this),this},N.prototype.S=function(){return Object.isFrozen(this)?this:this.copy().freeze()},N.prototype.freeze=function(){return this},N.prototype.Qa=function(){return Object.isFrozen(this)&&Kh.k("cannot thaw constant: "+this),this};var Zh;N.parse=Zh=function(t){if("string"==typeof t){if("None"===(t=t.trim()))return tu;if("TopLeft"===t)return iu;if("Top"===t||"TopCenter"===t||"MiddleTop"===t)return nu;if("TopRight"===t)return ou;if("Left"===t||"LeftCenter"===t||"MiddleLeft"===t)return ru;if("Center"===t)return su;if("Right"===t||"RightCenter"===t||"MiddleRight"===t)return au;if("BottomLeft"===t)return lu;if("Bottom"===t||"BottomCenter"===t||"MiddleBottom"===t)return hu;if("BottomRight"===t)return uu;if("TopSide"===t)return bu;if("LeftSide"===t)return wu;if("RightSide"===t)return xu;if("BottomSide"===t)return Cu;if("TopBottomSides"===t)return ku;if("LeftRightSides"===t)return Su;if("TopLeftSides"===t)return Mu;if("TopRightSides"===t)return Tu;if("BottomLeftSides"===t)return Eu;if("BottomRightSides"===t)return Iu;if("NotTopSide"===t)return Pu;if("NotLeftSide"===t)return Du;if("NotRightSide"===t)return Ou;if("NotBottomSide"===t)return Lu;if("AllSides"===t)return Nu;if("Default"===t)return eu;t=t.split(" ");for(var e=0,i=0;""===t[e];)e++;var n=t[e++];void 0!==n&&0<n.length&&(i=parseFloat(n));for(var o=0;""===t[e];)e++;n=t[e++],void 0!==n&&0<n.length&&(o=parseFloat(n));for(var r=0;""===t[e];)e++;n=t[e++],void 0!==n&&0<n.length&&(r=parseFloat(n));for(var s=0;""===t[e];)e++;return n=t[e++],void 0!==n&&0<n.length&&(s=parseFloat(n)),new N(i,o,r,s)}return new N},N.stringify=function(t){return t.Yc()?t.x.toString()+" "+t.y.toString()+" "+t.offsetX.toString()+" "+t.offsetY.toString():t.toString()},N.prototype.toString=function(){return this.Yc()?0===this.offsetX&&0===this.offsetY?"Spot("+this.x+","+this.y+")":"Spot("+this.x+","+this.y+","+this.offsetX+","+this.offsetY+")":this.L(tu)?"None":this.L(iu)?"TopLeft":this.L(nu)?"Top":this.L(ou)?"TopRight":this.L(ru)?"Left":this.L(su)?"Center":this.L(au)?"Right":this.L(lu)?"BottomLeft":this.L(hu)?"Bottom":this.L(uu)?"BottomRight":this.L(bu)?"TopSide":this.L(wu)?"LeftSide":this.L(xu)?"RightSide":this.L(Cu)?"BottomSide":this.L(ku)?"TopBottomSides":this.L(Su)?"LeftRightSides":this.L(Mu)?"TopLeftSides":this.L(Tu)?"TopRightSides":this.L(Eu)?"BottomLeftSides":this.L(Iu)?"BottomRightSides":this.L(Pu)?"NotTopSide":this.L(Du)?"NotLeftSide":this.L(Ou)?"NotRightSide":this.L(Lu)?"NotBottomSide":this.L(Nu)?"AllSides":this.L(eu)?"Default":"None"},N.prototype.equals=N.prototype.L=function(t){return t instanceof N&&((this.x===t.x||isNaN(this.x)&&isNaN(t.x))&&(this.y===t.y||isNaN(this.y)&&isNaN(t.y))&&this.offsetX===t.offsetX&&this.offsetY===t.offsetY)},N.prototype.opposite=N.prototype.MF=function(){return new N(.5-(this.x-.5),.5-(this.y-.5),-this.offsetX,-this.offsetY)},N.prototype.includesSide=N.prototype.sj=function(t){if(!this.uj())return!1;if(!t.uj())if(t.L(gu))t=wu;else if(t.L(vu))t=xu;else if(t.L(yu))t=bu;else{if(!t.L(mu))return!1;t=Cu}return t=t.offsetY,(this.offsetY&t)===t},N.prototype.isSpot=N.prototype.Yc=function(){return!isNaN(this.x)&&!isNaN(this.y)},N.prototype.isNoSpot=N.prototype.Sd=function(){return isNaN(this.x)||isNaN(this.y)},N.prototype.isSide=N.prototype.uj=function(){return isNaN(this.x)&&isNaN(this.y)&&1===this.offsetX&&0!==this.offsetY},N.prototype.isNone=N.prototype.AI=function(){return isNaN(this.x)&&isNaN(this.y)&&0===this.offsetX&&0===this.offsetY},N.prototype.isDefault=N.prototype.Xc=function(){return isNaN(this.x)&&isNaN(this.y)&&-1===this.offsetX&&0===this.offsetY};var tu;N.None=tu=j(new N(0,0,0,0),0).Ha();var eu;N.Default=eu=j(new N(0,0,-1,0),-1).Ha();var iu;N.TopLeft=iu=new N(0,0,0,0).Ha();var nu;N.TopCenter=nu=new N(.5,0,0,0).Ha();var ou;N.TopRight=ou=new N(1,0,0,0).Ha();var ru;N.LeftCenter=ru=new N(0,.5,0,0).Ha();var su;N.Center=su=new N(.5,.5,0,0).Ha();var au;N.RightCenter=au=new N(1,.5,0,0).Ha();var lu;N.BottomLeft=lu=new N(0,1,0,0).Ha();var hu;N.BottomCenter=hu=new N(.5,1,0,0).Ha();var uu;N.BottomRight=uu=new N(1,1,0,0).Ha();var cu;N.MiddleTop=cu=nu;var du;N.MiddleLeft=du=ru;var pu;N.MiddleRight=pu=au;var fu;N.MiddleBottom=fu=hu;var yu;N.Top=yu=nu;var gu;N.Left=gu=ru;var vu;N.Right=vu=au;var mu;N.Bottom=mu=hu;var bu;N.TopSide=bu=j(new N(0,0,1,Kh.md),1).Ha();var wu;N.LeftSide=wu=j(new N(0,0,1,Kh.Sc),1).Ha();var xu;N.RightSide=xu=j(new N(0,0,1,Kh.ed),1).Ha();var Cu;N.BottomSide=Cu=j(new N(0,0,1,Kh.dd),1).Ha();var ku;N.TopBottomSides=ku=j(new N(0,0,1,Kh.md|Kh.dd),1).Ha();var Su;N.LeftRightSides=Su=j(new N(0,0,1,Kh.Sc|Kh.ed),1).Ha();var Mu;N.TopLeftSides=Mu=j(new N(0,0,1,Kh.md|Kh.Sc),1).Ha();var Tu;N.TopRightSides=Tu=j(new N(0,0,1,Kh.md|Kh.ed),1).Ha();var Eu;N.BottomLeftSides=Eu=j(new N(0,0,1,Kh.dd|Kh.Sc),1).Ha();var Iu;N.BottomRightSides=Iu=j(new N(0,0,1,Kh.dd|Kh.ed),1).Ha();var Pu;N.NotTopSide=Pu=j(new N(0,0,1,Kh.Sc|Kh.ed|Kh.dd),1).Ha();var Du;N.NotLeftSide=Du=j(new N(0,0,1,Kh.md|Kh.ed|Kh.dd),1).Ha();var Ou;N.NotRightSide=Ou=j(new N(0,0,1,Kh.md|Kh.Sc|Kh.dd),1).Ha();var Lu;N.NotBottomSide=Lu=j(new N(0,0,1,Kh.md|Kh.Sc|Kh.ed),1).Ha();var Nu;N.AllSides=Nu=j(new N(0,0,1,Kh.md|Kh.Sc|Kh.ed|Kh.dd),1).Ha(),R.prototype.copy=function(){var t=new R;return t.Ub[0]=this.Ub[0],t.Ub[1]=this.Ub[1],t.Ub[2]=this.Ub[2],t.Ub[3]=this.Ub[3],t.Ub[4]=this.Ub[4],t.Ub[5]=this.Ub[5],t},R.prototype.translate=function(t,e){this.Ub[4]+=this.Ub[0]*t+this.Ub[2]*e,this.Ub[5]+=this.Ub[1]*t+this.Ub[3]*e},R.prototype.scale=function(t,e){this.Ub[0]*=t,this.Ub[1]*=t,this.Ub[2]*=e,this.Ub[3]*=e},F.prototype.addColorStop=function(t,e){this.wE.push({offset:t,color:e})},_h=A.prototype,_h.arc=function(t,e,i,n,o,r){G(this,t,e,i,n,o,r)},_h.beginPath=function(){this.path=[]},_h.bezierCurveTo=function(t,e,i,n,o,r){this.path.push(["C",t,e,i,n,o,r])},_h.clearRect=function(){},_h.clip=function(){q(this,"clipPath",this.path,new R)},_h.closePath=function(){this.path.push(["z"])},_h.createLinearGradient=function(t,e,i,n){var o=new F("linear");return o.x1=t,o.y1=e,o.x2=i,o.y2=n,o},_h.createPattern=function(){return null},_h.createRadialGradient=function(t,e,i,n,o,r){var s=new F("radial");return s.x1=t,s.y1=e,s.r1=i,s.x2=n,s.y2=o,s.r2=r,s},_h.drawImage=function(t,e,i,n,o,r,s,a,l){var h="";t instanceof HTMLCanvasElement&&(h=t.toDataURL()),t instanceof HTMLImageElement&&(h=t.src),void 0===n&&(r=e,s=i,a=n=t.naturalWidth,l=o=t.naturalHeight),n=n||0,o=o||0,r=r||0,s=s||0,a=a||0,l=l||0,h={x:0,y:0,width:t.naturalWidth,height:t.naturalHeight,href:h,preserveAspectRatio:"xMidYMid slice"},Y(n,a)&&Y(o,l)||(h.preserveAspectRatio="none");var u="";a/=n,l/=o,0===r&&0===s||(u+=" translate("+r+", "+s+")"),1===a&&1===l||(u+=" scale("+a+", "+l+")"),0===e&&0===i||(u+=" translate("+-e+", "+-i+")"),0===e&&0===i&&n===t.naturalWidth&&o===t.naturalHeight||(t="CLIP"+Kh.pm++,r=B(this,"clipPath",{id:t}),r.appendChild(B(this,"rect",{x:e,y:i,width:n,height:o})),this.jm.appendChild(r),h["clip-path"]="url(#"+t+")"),V(this,"image",h,this.wh,u),this.addElement("image",h)},_h.fill=function(){q(this,"fill",this.path,this.wh)},_h.Mg=function(){this.Gp?this.clip():this.fill()},_h.fillRect=function(t,e,i,n){z(this,"fill",[t,e,i,n],this.wh)},_h.fillText=function(t,e,i){t=[t,e,i],e=this.textAlign,"left"===e?e="start":"right"===e?e="end":"center"===e&&(e="middle"),e={x:t[1],y:t[2],style:"font: "+this.font,"text-anchor":e},V(this,"fill",e,this.wh),this.addElement("text",e,t[0])},_h.lineTo=function(t,e){this.path.push(["L",t,e])},_h.moveTo=function(t,e){this.path.push(["M",t,e])},_h.quadraticCurveTo=function(t,e,i,n){this.path.push(["Q",t,e,i,n])},_h.rect=function(t,e,i,n){this.path.push(["M",t,e],["L",t+i,e],["L",t+i,e+n],["L",t,e+n],["z"])},_h.restore=function(){this.wh=this.stack.pop(),this.path=this.stack.pop();var t=this.stack.pop();this.fillStyle=t.fillStyle,this.font=t.font,this.globalAlpha=t.globalAlpha,this.lineCap=t.lineCap,this.In=t.In,this.lineJoin=t.lineJoin,this.lineWidth=t.lineWidth,this.miterLimit=t.miterLimit,this.shadowBlur=t.shadowBlur,this.shadowColor=t.shadowColor,this.shadowOffsetX=t.shadowOffsetX,this.shadowOffsetY=t.shadowOffsetY,this.strokeStyle=t.strokeStyle,this.textAlign=t.textAlign},_h.save=function(){this.stack.push({fillStyle:this.fillStyle,font:this.font,globalAlpha:this.globalAlpha,lineCap:this.lineCap,In:this.In,lineJoin:this.lineJoin,lineWidth:this.lineWidth,miterLimit:this.miterLimit,shadowBlur:this.shadowBlur,shadowColor:this.shadowColor,shadowOffsetX:this.shadowOffsetX,shadowOffsetY:this.shadowOffsetY,strokeStyle:this.strokeStyle,textAlign:this.textAlign});for(var t=[],e=0;e<this.path.length;e++)t.push(this.path[e]);this.stack.push(t),this.stack.push(this.wh.copy())},_h.setTransform=function(t,e,i,n,o,r){1===t&&0===e&&0===i&&1===n&&0===o&&0===r||_(this,t,e,i,n,o,r)},_h.scale=function(t,e){this.wh.scale(t,e)},_h.translate=function(t,e){this.wh.translate(t,e)},_h.transform=function(){},_h.stroke=function(){q(this,"stroke",this.path,this.wh)},_h.Dj=function(){this.Gp||this.stroke()},_h.strokeRect=function(t,e,i,n){z(this,"stroke",[t,e,i,n],this.wh)},_h.addElement=function(t,e,i){return t=B(this,t,e,i),0<this.nf.length?this.nf[this.nf.length-1].appendChild(t):this.jm.appendChild(t),this.Ex=t},_h.bb=function(){if(0!==this.shadowOffsetX||0!==this.shadowOffsetY||0!==this.shadowBlur){var t,e,i,n,o,r="SHADOW"+Kh.pm++,s=this.addElement("filter",{id:r,x:"-100%",y:"-100%",width:"300%",height:"300%"},null);t=B(this,"feGaussianBlur",{in:"SourceAlpha",result:"blur",OL:this.shadowBlur/2}),e=B(this,"feFlood",{in:"blur",result:"flood","flood-color":this.shadowColor}),i=B(this,"feComposite",{in:"flood",in2:"blur",operator:"in",result:"comp"}),n=B(this,"feOffset",{in:"comp",result:"offsetBlur",dx:this.shadowOffsetX,dy:this.shadowOffsetY}),o=B(this,"feMerge",{}),o.appendChild(B(this,"feMergeNode",{in:"offsetBlur"})),o.appendChild(B(this,"feMergeNode",{in:"SourceGraphic"})),s.appendChild(t),s.appendChild(e),s.appendChild(i),s.appendChild(n),s.appendChild(o),0<this.nf.length&&this.nf[this.nf.length-1].setAttributeNS(null,"filter","url(#"+r+")")}},_h.rB=function(t,e,i){this.$s=t,this.at=e,this.Fg=i},_h.Xn=function(){this.shadowBlur=this.shadowOffsetY=this.shadowOffsetX=0},_h.Yn=function(){this.shadowOffsetX=this.$s,this.shadowOffsetY=this.at,this.shadowBlur=this.Fg},_h.kA=function(){return!1},_h.hA=function(){},_h.Fe=function(){},_h.ky=function(){},A.prototype.rotate=function(){},_h=U.prototype,_h.toDataURL=function(t,e){return this.Kd.toDataURL(t,e)},_h.getBoundingClientRect=function(){return this.Kd.getBoundingClientRect()},_h.focus=function(){return this.Kd.focus()},_h.addEventListener=function(t,e,i){this.Kd.addEventListener(t,e,i)},_h.removeEventListener=function(t,e,i){this.Kd.removeEventListener(t,e,i)},Kh.defineProperty(U,{width:"width"},function(){return this.Kd.width},function(t){this.Kd.width=t}),Kh.defineProperty(U,{height:"height"},function(){return this.Kd.height},function(t){this.Kd.height=t}),Kh.u(U,{style:"style"},function(){return this.Kd.style}),K.prototype.ky=function(t){this.ua.yA=t},Kh.defineProperty(K,{fillStyle:"fillStyle"},function(){return this.ua.fillStyle},function(t){this.Hy!==t&&(this.Hy=this.ua.fillStyle=t)}),Kh.defineProperty(K,{font:"font"},function(){return this.ua.font},function(t){this.Iy!==t&&(this.Iy=this.ua.font=t)}),Kh.defineProperty(K,{globalAlpha:"globalAlpha"},function(){return this.ua.globalAlpha},function(t){this.ua.globalAlpha=t}),Kh.defineProperty(K,{lineCap:"lineCap"},function(){return this.ua.lineCap},function(t){this.ua.lineCap=t}),Kh.defineProperty(K,{In:"lineDashOffset"},function(){return this.ua.In},function(t){this.ua.In=t}),Kh.defineProperty(K,{lineJoin:"lineJoin"},function(){return this.ua.lineJoin},function(t){this.ua.lineJoin=t}),Kh.defineProperty(K,{lineWidth:"lineWidth"},function(){return this.ua.lineWidth},function(t){this.ua.lineWidth=t}),Kh.defineProperty(K,{miterLimit:"miterLimit"},function(){return this.ua.miterLimit},function(t){this.ua.miterLimit=t}),Kh.defineProperty(K,{shadowBlur:"shadowBlur"},function(){return this.ua.shadowBlur},function(t){this.ua.shadowBlur=t}),Kh.defineProperty(K,{shadowColor:"shadowColor"},function(){return this.ua.shadowColor},function(t){this.ua.shadowColor=t}),Kh.defineProperty(K,{shadowOffsetX:"shadowOffsetX"},function(){return this.ua.shadowOffsetX},function(t){this.ua.shadowOffsetX=t}),Kh.defineProperty(K,{shadowOffsetY:"shadowOffsetY"},function(){return this.ua.shadowOffsetY},function(t){this.ua.shadowOffsetY=t}),Kh.defineProperty(K,{strokeStyle:"strokeStyle"},function(){return this.ua.strokeStyle},function(t){this.Jy!==t&&(this.Jy=this.ua.strokeStyle=t)}),Kh.defineProperty(K,{textAlign:"textAlign"},function(){return this.ua.textAlign},function(t){this.ua.textAlign=t}),Kh.defineProperty(K,{yA:"imageSmoothingEnabled"},function(){return this.ua.yA},function(t){this.ua.yA=t}),_h=K.prototype,_h.arc=function(t,e,i,n,o,r){this.ua.arc(t,e,i,n,o,r)},_h.beginPath=function(){this.ua.beginPath()},_h.bezierCurveTo=function(t,e,i,n,o,r){this.ua.bezierCurveTo(t,e,i,n,o,r)},_h.clearRect=function(t,e,i,n){this.ua.clearRect(t,e,i,n)},_h.clip=function(){this.ua.clip()},_h.closePath=function(){this.ua.closePath()},_h.createLinearGradient=function(t,e,i,n){return this.ua.createLinearGradient(t,e,i,n)},_h.createPattern=function(t,e){return this.ua.createPattern(t,e)},_h.createRadialGradient=function(t,e,i,n,o,r){return this.ua.createRadialGradient(t,e,i,n,o,r)},_h.drawImage=function(t,e,i,n,o,r,s,a,l){void 0===n?this.ua.drawImage(t,e,i):this.ua.drawImage(t,e,i,n,o,r,s,a,l)},_h.fill=function(){this.ua.fill()},_h.fillRect=function(t,e,i,n){this.ua.fillRect(t,e,i,n)},_h.fillText=function(t,e,i){this.ua.fillText(t,e,i)},_h.getImageData=function(t,e,i,n){return this.ua.getImageData(t,e,i,n)},_h.lineTo=function(t,e){this.ua.lineTo(t,e)},_h.measureText=function(t){return this.ua.measureText(t)},_h.moveTo=function(t,e){this.ua.moveTo(t,e)},_h.quadraticCurveTo=function(t,e,i,n){this.ua.quadraticCurveTo(t,e,i,n)},_h.rect=function(t,e,i,n){this.ua.rect(t,e,i,n)},_h.restore=function(){this.ua.restore()},K.prototype.rotate=function(t){this.ua.rotate(t)},_h=K.prototype,_h.save=function(){this.ua.save()},_h.setTransform=function(t,e,i,n,o,r){this.ua.setTransform(t,e,i,n,o,r)},_h.scale=function(t,e){this.ua.scale(t,e)},_h.stroke=function(){this.ua.stroke()},_h.transform=function(t,e,i,n,o,r){1===t&&0===e&&0===i&&1===n&&0===o&&0===r||this.ua.transform(t,e,i,n,o,r)},_h.translate=function(t,e){this.ua.translate(t,e)},_h.Mg=function(t){if(t instanceof wo&&t.type===md){var e=t.po;t=t.My,t>e?(this.scale(e/t,1),this.translate((t-e)/2,0)):e>t&&(this.scale(1,t/e),this.translate(0,(e-t)/2)),this.Sq?this.clip():this.fill(),t>e?(this.translate(-(t-e)/2,0),this.scale(1/(e/t),1)):e>t&&(this.translate(0,-(e-t)/2),this.scale(1,1/(t/e)))}else this.Sq?this.clip():this.fill()},_h.Dj=function(){this.Sq||this.stroke()},Kh.defineProperty(K,{Gp:"clipInsteadOfFill"},function(){return this.Sq},function(t){this.Sq=t}),_h=K.prototype,_h.rB=function(t,e,i){this.$s=t,this.at=e,this.Fg=i},_h.Xn=function(){this.shadowBlur=this.shadowOffsetY=this.shadowOffsetX=0},_h.Yn=function(){this.shadowOffsetX=this.$s,this.shadowOffsetY=this.at,this.shadowBlur=this.Fg},_h.kA=function(t,e){var i=this.ua;if(void 0!==i.setLineDash)i.setLineDash(t),i.lineDashOffset=e;else if(void 0!==i.webkitLineDash)i.webkitLineDash=t,i.webkitLineDashOffset=e;else{if(void 0===i.mozDash)return!1;i.mozDash=t,i.mozDashOffset=e}return!0},_h.hA=function(){var t=this.ua;void 0!==t.setLineDash?(t.setLineDash(Kh.fo),t.lineDashOffset=0):void 0!==t.webkitLineDash?(t.webkitLineDash=Kh.fo,t.webkitLineDashOffset=0):void 0!==t.mozDash&&(t.mozDash=null,t.mozDashOffset=0)},_h.Fe=function(t){t&&(this.Iy=""),this.Hy=this.Jy=""};var ju=(Math.sqrt(2)-1)/3*4,Ru=new w(0,0).Ha(),Fu=new S(0,0,0,0).Ha(),Au=new O(0,0,0,0).Ha(),Bu=new O(2,2,2,2).Ha(),Vu=new w(6,6).Ha(),Hu=new w(-1/0,-1/0).Ha(),zu=new w(1/0,1/0).Ha(),qu=new k(0,0).Ha(),Gu=new k(1,1).Ha(),_u=new k(6,6).Ha(),Uu=new k(8,8).Ha(),Ku=new k(10,10).Ha(),$u=new k(1/0,1/0).Ha(),Wu=new w(NaN,NaN).Ha(),Yu=new k(NaN,NaN).Ha(),Ju=new S(NaN,NaN,NaN,NaN).Ha(),Xu=new N(.156,.156).Ha(),Qu=new N(.844,.844).Ha(),Zu=new o,tc=new o,ec=null;Kh.ga("Geometry",mt),Kh.ni(mt),mt.prototype.copy=function(){var t=new mt;t.na=this.na,t.zc=this.zc,t.Jc=this.Jc,t.yb=this.yb,t.Gb=this.Gb;for(var e=this.Oj.n,i=e.length,n=t.Oj,o=0;o<i;o++){var r=e[o].copy();n.add(r)}return t.Av=this.Av,t.kv.assign(this.kv),t.fb=this.fb,t.jo=this.jo,t.Hq=this.Hq,t.Iq=this.Iq,t.hi=this.hi.S(),t.ii=this.ii.S(),t.No=this.No,t.Lo=this.Lo,t.Gi=this.Gi,t};var ic;mt.Line=ic=Kh.p(mt,"Line",0);var nc;mt.Rectangle=nc=Kh.p(mt,"Rectangle",1);var oc;mt.Ellipse=oc=Kh.p(mt,"Ellipse",2);var rc;mt.Path=rc=Kh.p(mt,"Path",3),mt.prototype.Ha=function(){return this.freeze(),Object.freeze(this),this},mt.prototype.freeze=function(){this.P=!0;var t=this.fc;t.freeze();for(var t=t.n,e=t.length,i=0;i<e;i++)t[i].freeze();return this},mt.prototype.Qa=function(){Object.isFrozen(this)&&Kh.k("cannot thaw constant: "+this),this.P=!1;var t=this.fc;t.Qa();for(var t=t.n,e=t.length,i=0;i<e;i++)t[i].Qa();return this},mt.prototype.equalsApprox=mt.prototype.Lc=function(t){if(!(t instanceof mt))return!1;if(this.type!==t.type)return this.type===ic&&t.type===rc?bt(this,t):t.type===ic&&this.type===rc&&bt(t,this);if(this.type===rc){var e=this.fc.n;t=t.fc.n;var i=e.length;if(i!==t.length)return!1;for(var n=0;n<i;n++)if(!e[n].Lc(t[n]))return!1;return!0}return W(this.ha,t.ha)&&W(this.ea,t.ea)&&W(this.C,t.C)&&W(this.D,t.D)};var sc;mt.stringify=sc=function(t){return t.toString()},mt.prototype.ic=function(t){t.Ee===mt?this.type=t:Kh.Fj(this,t)},mt.prototype.toString=function(t){switch(void 0===t&&(t=-1),this.type){case ic:return 0>t?"M"+this.ha.toString()+" "+this.ea.toString()+"L"+this.C.toString()+" "+this.D.toString():"M"+this.ha.toFixed(t)+" "+this.ea.toFixed(t)+"L"+this.C.toFixed(t)+" "+this.D.toFixed(t);case nc:var e=new S(this.ha,this.ea,0,0);return e.BG(this.C,this.D,0,0),0>t?"M"+e.x.toString()+" "+e.y.toString()+"H"+e.right.toString()+"V"+e.bottom.toString()+"H"+e.left.toString()+"z":"M"+e.x.toFixed(t)+" "+e.y.toFixed(t)+"H"+e.right.toFixed(t)+"V"+e.bottom.toFixed(t)+"H"+e.left.toFixed(t)+"z";case oc:if(e=new S(this.ha,this.ea,0,0),e.BG(this.C,this.D,0,0),0>t){var i=e.left.toString()+" "+(e.y+e.height/2).toString(),n=e.right.toString()+" "+(e.y+e.height/2).toString();return"M"+i+"A"+(e.width/2).toString()+" "+(e.height/2).toString()+" 0 0 1 "+n+"A"+(e.width/2).toString()+" "+(e.height/2).toString()+" 0 0 1 "+i}return i=e.left.toFixed(t)+" "+(e.y+e.height/2).toFixed(t),n=e.right.toFixed(t)+" "+(e.y+e.height/2).toFixed(t),"M"+i+"A"+(e.width/2).toFixed(t)+" "+(e.height/2).toFixed(t)+" 0 0 1 "+n+"A"+(e.width/2).toFixed(t)+" "+(e.height/2).toFixed(t)+" 0 0 1 "+i;case rc:for(var e="",i=this.fc.n,n=i.length,o=0;o<n;o++){var r=i[o];0<o&&(e+=" x "),r.gu&&(e+="F "),e+=r.toString(t)}return e;default:return this.type.toString()}},mt.fillPath=function(t){"string"!=typeof t&&Kh.Bd(t,"string",mt,"fillPath:str"),t=t.split(/[Xx]/);for(var e=t.length,i="",n=0;n<e;n++)var o=t[n],i=null!==o.match(/[Ff]/)?0===n?i+o:i+"X"+(" "===o[0]?"":" ")+o:i+(0===n?"":"X ")+"F"+(" "===o[0]?"":" ")+o;return i};var ac;mt.parse=ac=function(t,e){function i(){return h>=y-1||null!==l[h+1].match(/[A-Za-z]/)}function n(){return h++,l[h]}function o(){var t=new w(parseFloat(n()),parseFloat(n()));return u===u.toLowerCase()&&(t.x=f.x+t.x,t.y=f.y+t.y),t}function r(){return f=o()}function s(){return p=o()}function a(){return"c"!==c.toLowerCase()&&"s"!==c.toLowerCase()?f:new w(2*f.x-p.x,2*f.y-p.y)}void 0===e&&(e=!1),"string"!=typeof t&&Kh.Bd(t,"string",mt,"parse:str"),t=t.replace(/,/gm," "),t=t.replace(/([UuBbMmZzLlHhVvCcSsQqTtAaFf])([UuBbMmZzLlHhVvCcSsQqTtAaFf])/gm,"$1 $2"),t=t.replace(/([UuBbMmZzLlHhVvCcSsQqTtAaFf])([UuBbMmZzLlHhVvCcSsQqTtAaFf])/gm,"$1 $2"),t=t.replace(/([UuBbMmZzLlHhVvCcSsQqTtAaFf])([^\s])/gm,"$1 $2"),t=t.replace(/([^\s])([UuBbMmZzLlHhVvCcSsQqTtAaFf])/gm,"$1 $2"),t=t.replace(/([0-9])([+\-])/gm,"$1 $2"),t=t.replace(/(\.[0-9]*)(\.)/gm,"$1 $2"),t=t.replace(/([Aa](\s+[0-9]+){3})\s+([01])\s*([01])/gm,"$1 $3 $4 "),t=t.replace(/[\s\r\t\n]+/gm," "),t=t.replace(/^\s+|\s+$/g,"");for(var l=t.split(" "),h=-1,u="",c="",d=new w(0,0),p=new w(0,0),f=new w(0,0),y=l.length,g=Kh.s(),v=!1,m=!1,b=!0,x=null;!(h>=y-1);)if(c=u,""!==(u=n()))switch(u.toUpperCase()){case"X":b=!0,m=v=!1;break;case"M":for(x=r(),null===g.Xb||!0===b?(ts(g,x.x,x.y,v,!1,!m),b=!1):g.moveTo(x.x,x.y),d=f;!i();)x=r(),g.lineTo(x.x,x.y);break;case"L":for(;!i();)x=r(),g.lineTo(x.x,x.y);break;case"H":for(;!i();)f=x=new w((u===u.toLowerCase()?f.x:0)+parseFloat(n()),f.y),g.lineTo(f.x,f.y);break;case"V":for(;!i();)f=x=new w(f.x,(u===u.toLowerCase()?f.y:0)+parseFloat(n())),g.lineTo(f.x,f.y);break;case"C":for(;!i();){var C=o(),k=s(),x=r();ns(g,C.x,C.y,k.x,k.y,x.x,x.y)}break;case"S":for(;!i();)C=a(),k=s(),x=r(),ns(g,C.x,C.y,k.x,k.y,x.x,x.y);break;case"Q":for(;!i();)k=s(),x=r(),os(g,k.x,k.y,x.x,x.y);break;case"T":for(;!i();)p=k=a(),x=r(),os(g,k.x,k.y,x.x,x.y);break;case"B":for(;!i();){var x=parseFloat(n()),C=parseFloat(n()),k=parseFloat(n()),S=parseFloat(n()),M=parseFloat(n()),T=M,E=!1;i()||(T=parseFloat(n()),i()||(E=0!==parseFloat(n()))),u===u.toLowerCase()&&(k+=f.x,S+=f.y),g.arcTo(x,C,k,S,M,T,E)}break;case"A":for(;!i();)C=Math.abs(parseFloat(n())),k=Math.abs(parseFloat(n())),S=parseFloat(n()),M=!!parseFloat(n()),T=!!parseFloat(n()),x=r(),rs(g,C,k,S,M,T,x.x,x.y);break;case"Z":x=g.o.fc.n[g.o.fc.length-1],es(g),f=d;break;case"F":for(x="",C=1;l[h+C];)if(null!==l[h+C].match(/[Uu]/))C++;else{if(null!==l[h+C].match(/[A-Za-z]/)){x=l[h+C];break}C++}x.match(/[Mm]/)?v=!0:is(g);break;case"U":for(x="",C=1;l[h+C];)if(null!==l[h+C].match(/[Ff]/))C++;else{if(null!==l[h+C].match(/[A-Za-z]/)){x=l[h+C];break}C++}x.match(/[Mm]/)?m=!0:g.bb(!1)}if(d=g.o,Kh.q(g),e)for(g=d.fc.i;g.next();)x=g.value,x.gu=!0;return d},mt.prototype.zx=function(){if(this.fb||this.Av!==this.fc.F)return!0;for(var t=this.fc.n,e=t.length,i=0;i<e;i++)if(t[i].zx())return!0;return!1},mt.prototype.sy=function(){this.fb=!1,this.Hq=this.jo=null,this.Iq=NaN,this.Av=this.fc.F;for(var t=this.fc.n,e=t.length,i=0;i<e;i++)t[i].sy()},mt.prototype.uh=function(){var t=this.kv;t.Qa(),isNaN(this.No)||isNaN(this.Lo)?t.m(0,0,0,0):t.m(0,0,this.No,this.Lo),xt(this,t,!1),D(t,0,0,0,0),t.freeze()},mt.prototype.computeBoundsWithoutOrigin=mt.prototype.xH=function(){var t=new S;return xt(this,t,!0),t},mt.prototype.normalize=mt.prototype.normalize=function(){this.P&&Kh.ma(this);var t=this.xH();return this.offset(-t.x,-t.y),new w(-t.x,-t.y)},mt.prototype.offset=mt.prototype.offset=function(t,e){return this.P&&Kh.ma(this),this.transform(1,0,0,1,t,e),this},mt.prototype.scale=mt.prototype.scale=function(t,e){return this.P&&Kh.ma(this),this.transform(t,0,0,e,0,0),this},mt.prototype.rotate=mt.prototype.rotate=function(t,e,i){this.P&&Kh.ma(this),void 0===e&&(e=0),void 0===i&&(i=0);var n=Kh.Jf();return n.reset(),n.rotate(t,e,i),this.transform(n.m11,n.m12,n.m21,n.m22,n.dx,n.dy),Kh.we(n),this},mt.prototype.transform=mt.prototype.transform=function(t,e,i,n,o,r){var s=0,a=0;switch(this.type){case ic:case nc:case oc:s=this.zc,a=this.Jc,this.zc=s*t+a*i+o,this.Jc=s*e+a*n+r,s=this.yb,a=this.Gb,this.yb=s*t+a*i+o,this.Gb=s*e+a*n+r;break;case rc:for(var l=this.fc.n,h=l.length,u=0;u<h;u++){var c=l[u],s=c.ha,a=c.ea;c.ha=s*t+a*i+o,c.ea=s*e+a*n+r;for(var c=c.vb.n,d=c.length,p=0;p<d;p++){var f=c[p];switch(f.type){case hc:case lc:s=f.C,a=f.D,f.C=s*t+a*i+o,f.D=s*e+a*n+r;break;case uc:s=f.uc,a=f.Qc,f.uc=s*t+a*i+o,f.Qc=s*e+a*n+r,s=f.Ch,a=f.Dh,f.Ch=s*t+a*i+o,f.Dh=s*e+a*n+r,s=f.C,a=f.D,f.C=s*t+a*i+o,f.D=s*e+a*n+r;break;case cc:s=f.uc,a=f.Qc,f.uc=s*t+a*i+o,f.Qc=s*e+a*n+r,s=f.C,a=f.D,f.C=s*t+a*i+o,f.D=s*e+a*n+r;break;case dc:s=f.la,a=f.ra,f.la=s*t+a*i+o,f.ra=s*e+a*n+r,0!==e&&(s=180*Math.atan2(e,t)/Math.PI,0>s&&(s+=360),f.ze+=s),0>t&&(f.ze=180-f.ze,f.sf=-f.sf),0>n&&(f.ze=-f.ze,f.sf=-f.sf),f.radiusX*=Math.sqrt(t*t+i*i),void 0!==f.radiusY&&(f.radiusY*=Math.sqrt(e*e+n*n));break;case pc:s=f.C,a=f.D,f.C=s*t+a*i+o,f.D=s*e+a*n+r,0!==e&&(s=180*Math.atan2(e,t)/Math.PI,0>s&&(s+=360),f.Hj+=s),0>t&&(f.Hj=180-f.Hj,f.$l=!f.$l),0>n&&(f.Hj=-f.Hj,f.$l=!f.$l),f.radiusX*=Math.sqrt(t*t+i*i),f.radiusY*=Math.sqrt(e*e+n*n);break;default:Kh.k("Unknown Segment type: "+f.type)}}}}return this.fb=!0,this},mt.prototype.Ia=function(t,e,i,n){var o=t.x,r=t.y,s=this.gb.x-20;t=t.y;for(var a=0,l=0,h=0,u=0,c=0,d=0,p=this.fc.n,f=p.length,y=0;y<f;y++){var g=p[y];if(g.gu){if(i&&g.Ia(o,r,e))return!0;for(var v=g.vb,l=g.ha,h=g.ea,m=l,b=h,w=v.n,x=0;x<=v.length;x++){var C,k;switch(x!==v.length?(C=w[x],k=C.type,c=C.C,d=C.D):(k=hc,c=m,d=b),k){case lc:if(u=Ct(o,r,s,t,l,h,m,b),isNaN(u))return!0;a+=u,m=c,b=d;break;case hc:if(u=Ct(o,r,s,t,l,h,c,d),isNaN(u))return!0;a+=u;break;case uc:u=rt(l,h,C.uc,C.Qc,C.Ch,C.Dh,c,d,s,t,o,r,.5),a+=u;break;case cc:u=rt(l,h,(l+2*C.uc)/3,(h+2*C.Qc)/3,(2*C.uc+c)/3,(2*C.Qc+d)/3,c,d,s,t,o,r,.5),a+=u;break;case dc:case pc:k=C.type===dc?It(C,g):Pt(C,g,l,h);var S=k.length;if(0===S){if(u=Ct(o,r,s,t,l,h,C.la,C.ra),isNaN(u))return!0;a+=u;break}for(var M=null,T=0;T<S;T++){if(M=k[T],0===T){if(u=Ct(o,r,s,t,l,h,M[0],M[1]),isNaN(u))return!0;a+=u}u=rt(M[0],M[1],M[2],M[3],M[4],M[5],M[6],M[7],s,t,o,r,.5),a+=u}null!==M&&(c=M[6],d=M[7]);break;default:Kh.k("Unknown Segment type: "+C.type)}l=c,h=d}if(0!==a)return!0;a=0}else if(g.Ia(o,r,n?e:e+2))return!0}return 0!==a},mt.prototype.getPointAlongPath=mt.prototype.cI=function(t,e){if(0>t?t=0:1<t&&(t=1),void 0===e&&(e=new w),this.type===ic)return e.m(this.ha+t*(this.C-this.ha),this.ea+t*(this.D-this.ea)),e;for(var i=this.qx,n=this.Rt,o=i.length,r=this.St*t,s=0,a=0;a<o;a++)for(var l=n[a],h=l.length,u=0;u<h;u++){var c=l[u];if(s+c>=r)return n=(r-s)/c,i=i[a],a=i[2*u],o=i[2*u+1],e.m(a+(i[2*u+2]-a)*n,o+(i[2*u+3]-o)*n),e;s+=c}return e.m(NaN,NaN),e},mt.prototype.getAngleAlongPath=mt.prototype.XE=function(t){0>t?t=0:1<t&&(t=1);var e=0;if(this.type===ic)return e=180*Math.atan2(this.D-this.ea,this.C-this.ha)/Math.PI;for(var e=this.qx,i=this.Rt,n=e.length,o=this.St*t,r=0,s=0;s<n;s++){var a=i[s],l=a.length;for(t=0;t<l;t++){var h=a[t];if(r+h>=o)return e=e[s],e=180*Math.atan2(e[2*t+3]-e[2*t+1],e[2*t+2]-e[2*t])/Math.PI;r+=h}}return NaN},mt.prototype.getFractionForPoint=mt.prototype.ZH=function(t){if(this.type===ic){var e=this.ha,i=this.ea,n=this.C,o=this.D;if(e!==n||i!==o){var r=t.x;t=t.y;var s=0,a=0;return e===n?(i<o?(s=i,a=o):(s=o,a=i),t<=s?s===i?0:1:t>=a?a===i?0:1:Math.abs(t-i)/(a-s)):i===o?(e<n?(s=e,a=n):(s=n,a=e),r<=s?s===e?0:1:r>=a?a===e?0:1:Math.abs(r-e)/(a-s)):((r-e)*(r-e)+(t-i)*(t-i))/((n-e)*(n-e)+(o-i)*(o-i))}}else{if(this.type!==nc){for(var o=this.qx,s=this.Rt,a=this.St,l=Kh.K(),i=1/0,e=n=0,r=o.length,h=m=0,u=0;u<r;u++)for(var c=o[u],d=s[u],p=c.length,f=0;f<p;f+=2){var y=c[f],g=c[f+1];if(0!==f){st(m,h,y,g,t.x,t.y,l);var v=(l.x-t.x)*(l.x-t.x)+(l.y-t.y)*(l.y-t.y);v<i&&(i=v,n=e,n+=Math.sqrt((l.x-m)*(l.x-m)+(l.y-h)*(l.y-h))),e+=d[(f-2)/2]}m=y,h=g}return Kh.v(l),t=n/a,0>t?0:1<t?1:t}if(e=this.ha,i=this.ea,n=this.C,o=this.D,e!==n||i!==o){var s=n-e,a=o-i,l=2*s+2*a,r=t.x;t=t.y,r=Math.min(Math.max(r,e),n),t=Math.min(Math.max(t,i),o);var e=Math.abs(r-e),n=Math.abs(r-n),i=Math.abs(t-i),o=Math.abs(t-o),m=Math.min(e,n,i,o);if(m===i)return r/l;if(m===n)return(s+t)/l;if(m===o)return(2*s+a-r)/l;if(m===e)return(2*s+2*a-t)/l}}return 0},Kh.u(mt,{qx:null},function(){return St(this),this.jo}),Kh.u(mt,{Rt:null},function(){return St(this),this.Hq}),Kh.u(mt,{St:null},function(){var t=this.Iq;if(isNaN(t)){if(this.type===ic)var t=Math.abs(this.C-this.ha),e=Math.abs(this.D-this.ea),t=Math.sqrt(t*t+e*e);else if(this.type===nc)t=Math.abs(this.C-this.ha),e=Math.abs(this.D-this.ea),t=2*t+2*e;else for(var e=this.Rt,i=e.length,n=t=0;n<i;n++)for(var o=e[n],r=o.length,s=0;s<r;s++)t+=o[s];this.Iq=t}return t}),Kh.defineProperty(mt,{type:"type"},function(){return this.na},function(t){this.na!==t&&(this.P&&Kh.ma(this,t),this.na=t,this.fb=!0)}),Kh.defineProperty(mt,{ha:"startX"},function(){return this.zc},function(t){this.zc!==t&&(this.P&&Kh.ma(this,t),this.zc=t,this.fb=!0)}),Kh.defineProperty(mt,{ea:"startY"},function(){return this.Jc},function(t){this.Jc!==t&&(this.P&&Kh.ma(this,t),this.Jc=t,this.fb=!0)}),Kh.defineProperty(mt,{C:"endX"},function(){return this.yb},function(t){this.yb!==t&&(this.P&&Kh.ma(this,t),this.yb=t,this.fb=!0)}),Kh.defineProperty(mt,{D:"endY"},function(){return this.Gb},function(t){this.Gb!==t&&(this.P&&Kh.ma(this,t),this.Gb=t,this.fb=!0)}),Kh.defineProperty(mt,{fc:"figures"},function(){return this.Oj},function(t){this.Oj!==t&&(this.P&&Kh.ma(this,t),this.Oj=t,this.fb=!0)}),mt.prototype.add=mt.prototype.add=function(t){return this.Oj.add(t),this},mt.prototype.setSpots=function(t,e,i,n,o,r,s,a){return this.P&&Kh.ma(this),this.hi=new N(t,e,o,r).freeze(),this.ii=new N(i,n,s,a).freeze(),this},Kh.defineProperty(mt,{A:"spot1"},function(){return this.hi},function(t){this.P&&Kh.ma(this,t),this.hi=t.S()}),Kh.defineProperty(mt,{B:"spot2"},function(){return this.ii},function(t){this.P&&Kh.ma(this,t),this.ii=t.S()}),Kh.defineProperty(mt,{be:"defaultStretch"},function(){return this.Gi},function(t){this.P&&Kh.ma(this,t),this.Gi=t}),Kh.u(mt,{gb:"bounds"},function(){return this.zx()&&(this.sy(),this.uh()),this.kv}),Kh.ga("PathFigure",Tt),Kh.ni(Tt),Tt.prototype.copy=function(){var t=new Tt;t.Fm=this.Fm,t.Oo=this.Oo,t.zc=this.zc,t.Jc=this.Jc;for(var e=this.ip.n,i=e.length,n=t.ip,o=0;o<i;o++){var r=e[o].copy();n.add(r)}return t.yw=this.yw,t.fb=this.fb,t},Tt.prototype.equalsApprox=Tt.prototype.Lc=function(t){if(!(t instanceof Tt&&W(this.ha,t.ha)&&W(this.ea,t.ea)))return!1;var e=this.vb.n;t=t.vb.n;var i=e.length;if(i!==t.length)return!1;for(var n=0;n<i;n++)if(!e[n].Lc(t[n]))return!1;return!0},_h=Tt.prototype,_h.toString=function(t){void 0===t&&(t=-1);for(var e=0>t?"M"+this.ha.toString()+" "+this.ea.toString():"M"+this.ha.toFixed(t)+" "+this.ea.toFixed(t),i=this.vb.n,n=i.length,o=0;o<n;o++)e+=" "+i[o].toString(t);return e},_h.freeze=function(){this.P=!0;var t=this.vb;t.freeze();for(var e=t.n,t=t.length,i=0;i<t;i++)e[i].freeze();return this},_h.Qa=function(){this.P=!1;var t=this.vb;t.Qa();for(var t=t.n,e=t.length,i=0;i<e;i++)t[i].Qa();return this},_h.zx=function(){if(this.fb)return!0;var t=this.vb;if(this.yw!==t.F)return!0;for(var t=t.n,e=t.length,i=0;i<e;i++)if(t[i].fb)return!0;return!1},_h.sy=function(){this.fb=!1;var t=this.vb;this.yw=t.F;for(var t=t.n,e=t.length,i=0;i<e;i++){var n=t[i];n.fb=!1,n.og=null}},Kh.defineProperty(Tt,{gu:"isFilled"},function(){return this.Fm},function(t){this.P&&Kh.ma(this,t),this.Fm=t}),Kh.defineProperty(Tt,{cm:"isShadowed"},function(){return this.Oo},function(t){this.P&&Kh.ma(this,t),this.Oo=t}),Kh.defineProperty(Tt,{ha:"startX"},function(){return this.zc},function(t){this.P&&Kh.ma(this,t),this.zc=t,this.fb=!0}),Kh.defineProperty(Tt,{ea:"startY"},function(){return this.Jc},function(t){this.P&&Kh.ma(this,t),this.Jc=t,this.fb=!0}),Kh.defineProperty(Tt,{vb:"segments"},function(){return this.ip},function(t){this.P&&Kh.ma(this,t),this.ip=t,this.fb=!0}),Tt.prototype.add=Tt.prototype.add=function(t){return this.ip.add(t),this},Tt.prototype.Ia=function(t,e,i){for(var n=this.ha,o=this.ea,r=n,s=o,a=this.vb.n,l=a.length,h=0;h<l;h++){var u=a[h];switch(u.type){case lc:r=u.C,s=u.D,n=u.C,o=u.D;break;case hc:if(J(n,o,u.C,u.D,i,t,e))return!0;n=u.C,o=u.D;break;case uc:if(X(n,o,u.uc,u.Qc,u.Ch,u.Dh,u.C,u.D,.5,t,e,i))return!0;n=u.C,o=u.D;break;case cc:if(et(n,o,u.uc,u.Qc,u.C,u.D,.5,t,e,i))return!0;n=u.C,o=u.D;break;case dc:case pc:var c=u.type===dc?It(u,this):Pt(u,this,n,o),d=c.length;if(0===d){if(J(n,o,u.la,u.ra,i,t,e))return!0;n=u.la,o=u.ra;break}for(var p=null,f=0;f<d;f++)if(p=c[f],0===f&&J(n,o,p[0],p[1],i,t,e)||X(p[0],p[1],p[2],p[3],p[4],p[5],p[6],p[7],.5,t,e,i))return!0;null!==p&&(n=p[6],o=p[7]);break;default:Kh.k("Unknown Segment type: "+u.type)}if(u.xx&&(n!==r||o!==s)&&J(n,o,r,s,i,t,e))return!0}return!1},Kh.ga("PathSegment",Et),Kh.ni(Et),Et.prototype.copy=function(){var t=new Et;return t.na=this.na,t.yb=this.yb,t.Gb=this.Gb,t.Fd=this.Fd,t.Ye=this.Ye,t.oh=this.oh,t.Eg=this.Eg,t.So=this.So,t.no=this.no,t.Sh=this.Sh,t.fb=this.fb,t},Et.prototype.equalsApprox=Et.prototype.Lc=function(t){if(!(t instanceof Et)||this.type!==t.type||this.xx!==t.xx)return!1;switch(this.type){case lc:case hc:return W(this.C,t.C)&&W(this.D,t.D);case uc:return W(this.C,t.C)&&W(this.D,t.D)&&W(this.uc,t.uc)&&W(this.Qc,t.Qc)&&W(this.Ch,t.Ch)&&W(this.Dh,t.Dh);case cc:return W(this.C,t.C)&&W(this.D,t.D)&&W(this.uc,t.uc)&&W(this.Qc,t.Qc);case dc:return W(this.ze,t.ze)&&W(this.sf,t.sf)&&W(this.la,t.la)&&W(this.ra,t.ra)&&W(this.radiusX,t.radiusX)&&W(this.radiusY,t.radiusY);case pc:return this.$l===t.$l&&this.Ax===t.Ax&&W(this.Hj,t.Hj)&&W(this.C,t.C)&&W(this.D,t.D)&&W(this.radiusX,t.radiusX)&&W(this.radiusY,t.radiusY);default:return!1}},Et.prototype.ic=function(t){t.Ee===Et?this.type=t:Kh.Fj(this,t)},Et.prototype.toString=function(t){void 0===t&&(t=-1);var e="";switch(this.type){case lc:e=0>t?"M"+this.C.toString()+" "+this.D.toString():"M"+this.C.toFixed(t)+" "+this.D.toFixed(t);break;case hc:e=0>t?"L"+this.C.toString()+" "+this.D.toString():"L"+this.C.toFixed(t)+" "+this.D.toFixed(t);break;case uc:e=0>t?"C"+this.uc.toString()+" "+this.Qc.toString()+" "+this.Ch.toString()+" "+this.Dh.toString()+" "+this.C.toString()+" "+this.D.toString():"C"+this.uc.toFixed(t)+" "+this.Qc.toFixed(t)+" "+this.Ch.toFixed(t)+" "+this.Dh.toFixed(t)+" "+this.C.toFixed(t)+" "+this.D.toFixed(t);break;case cc:e=0>t?"Q"+this.uc.toString()+" "+this.Qc.toString()+" "+this.C.toString()+" "+this.D.toString():"Q"+this.uc.toFixed(t)+" "+this.Qc.toFixed(t)+" "+this.C.toFixed(t)+" "+this.D.toFixed(t);break;case dc:e=0>t?"B"+this.ze.toString()+" "+this.sf.toString()+" "+this.la.toString()+" "+this.ra.toString()+" "+this.radiusX:"B"+this.ze.toFixed(t)+" "+this.sf.toFixed(t)+" "+this.la.toFixed(t)+" "+this.ra.toFixed(t)+" "+this.radiusX;break;case pc:e=0>t?"A"+this.radiusX.toString()+" "+this.radiusY.toString()+" "+this.Hj.toString()+" "+(this.Ax?1:0)+" "+(this.$l?1:0)+" "+this.C.toString()+" "+this.D.toString():"A"+this.radiusX.toFixed(t)+" "+this.radiusY.toFixed(t)+" "+this.Hj.toFixed(t)+" "+(this.Ax?1:0)+" "+(this.$l?1:0)+" "+this.C.toFixed(t)+" "+this.D.toFixed(t);break;default:e=this.type.toString()}return e+(this.Sh?"z":"")};var lc;Et.Move=lc=Kh.p(Et,"Move",0);var hc;Et.Line=hc=Kh.p(Et,"Line",1);var uc;Et.Bezier=uc=Kh.p(Et,"Bezier",2);var cc;Et.QuadraticBezier=cc=Kh.p(Et,"QuadraticBezier",3);var dc;Et.Arc=dc=Kh.p(Et,"Arc",4);var pc;Et.SvgArc=pc=Kh.p(Et,"SvgArc",4),Et.prototype.freeze=function(){return this.P=!0,this},Et.prototype.Qa=function(){return this.P=!1,this},Et.prototype.close=Et.prototype.close=function(){return this.Sh=!0,this},Kh.defineProperty(Et,{xx:"isClosed"},function(){return this.Sh},function(t){this.Sh!==t&&(this.Sh=t,this.fb=!0)}),Kh.defineProperty(Et,{type:"type"},function(){return this.na},function(t){this.P&&Kh.ma(this,t),this.na=t,this.fb=!0}),Kh.defineProperty(Et,{C:"endX"},function(){return this.yb},function(t){this.P&&Kh.ma(this,t),this.yb=t,this.fb=!0}),Kh.defineProperty(Et,{D:"endY"},function(){return this.Gb},function(t){this.P&&Kh.ma(this,t),this.Gb=t,this.fb=!0}),Kh.defineProperty(Et,{uc:"point1X"},function(){return this.Fd},function(t){this.P&&Kh.ma(this,t),this.Fd=t,this.fb=!0}),Kh.defineProperty(Et,{Qc:"point1Y"},function(){return this.Ye},function(t){this.P&&Kh.ma(this,t),this.Ye=t,this.fb=!0}),Kh.defineProperty(Et,{Ch:"point2X"},function(){return this.oh},function(t){this.P&&Kh.ma(this,t),this.oh=t,this.fb=!0}),Kh.defineProperty(Et,{Dh:"point2Y"},function(){return this.Eg},function(t){this.P&&Kh.ma(this,t),this.Eg=t,this.fb=!0}),Kh.defineProperty(Et,{la:"centerX"},function(){return this.Fd},function(t){this.P&&Kh.ma(this,t),this.Fd=t,this.fb=!0}),Kh.defineProperty(Et,{ra:"centerY"},function(){return this.Ye},function(t){this.P&&Kh.ma(this,t),this.Ye=t,this.fb=!0}),Kh.defineProperty(Et,{radiusX:"radiusX"},function(){return this.oh},function(t){0>t&&Kh.Fa(t,">= zero",Et,"radiusX"),this.P&&Kh.ma(this,t),this.oh=t,this.fb=!0}),Kh.defineProperty(Et,{radiusY:"radiusY"},function(){return this.Eg},function(t){0>t&&Kh.Fa(t,">= zero",Et,"radiusY"),this.P&&Kh.ma(this,t),this.Eg=t,this.fb=!0}),Kh.defineProperty(Et,{ze:"startAngle"},function(){return this.yb},function(t){this.yb!==t&&(this.P&&Kh.ma(this,t),t%=360,0>t&&(t+=360),this.yb=t,this.fb=!0)}),Kh.defineProperty(Et,{sf:"sweepAngle"},function(){return this.Gb},function(t){this.P&&Kh.ma(this,t),360<t&&(t=360),-360>t&&(t=-360),this.Gb=t,this.fb=!0}),Kh.defineProperty(Et,{$l:"isClockwiseArc"},function(){return this.no},function(t){this.P&&Kh.ma(this,t),this.no=t,this.fb=!0}),Kh.defineProperty(Et,{Ax:"isLargeArc"},function(){return this.So},function(t){this.P&&Kh.ma(this,t),this.So=t,this.fb=!0}),Kh.defineProperty(Et,{Hj:"xAxisRotation"},function(){return this.Fd},function(t){t%=360,0>t&&(t+=360),this.P&&Kh.ma(this,t),this.Fd=t,this.fb=!0}),Kh.ga("InputEvent",Dt),Dt.prototype.copy=function(){var t=new Dt;return t.fa=this.fa,t.Oz.assign(this.ef),t.Vy.assign(this.ca),t.dw=this.dw,t.hv=this.hv,t.iv=this.iv,t.Tv=this.Tv,t.wv=this.wv,t.Iw=this.Iw,t.jv=this.jv,t.tv=this.tv,t.Pv=this.Pv,t.Fv=this.Fv,t.Jj=this.Jj,t.ur=this.ur,t.Gw=this.Gw,t.Fw=this.Fw,t.Hg=this.Hg,t},Dt.prototype.toString=function(){var t="^";return 0!==this.zd&&(t+="M:"+this.zd),0!==this.button&&(t+="B:"+this.button),""!==this.key&&(t+="K:"+this.key),0!==this.Ge&&(t+="C:"+this.Ge),0!==this.Rl&&(t+="D:"+this.Rl),this.Dc&&(t+="h"),this.bubbles&&(t+="b"),null!==this.ca&&(t+="@"+this.ca.toString()),t},Kh.defineProperty(Dt,{g:"diagram"},function(){return this.fa},function(t){this.fa=t}),Kh.defineProperty(Dt,{ef:"viewPoint"},function(){return this.Oz},function(t){Kh.G(t,w,Dt,"viewPoint"),this.Oz.assign(t)}),Kh.defineProperty(Dt,{ca:"documentPoint"},function(){return this.Vy},function(t){Kh.G(t,w,Dt,"documentPoint"),this.Vy.assign(t)}),Dt.prototype.getMultiTouchViewPoint=Dt.prototype.tx=function(t,e){var i=this.g;return null===i?e:(sn(i,this.event,t,e),e)},Dt.prototype.getMultiTouchDocumentPoint=function(t,e){var i=this.g;return null===i?e:(sn(i,this.event,t,e),e.assign(i.BB(e)),e)},Kh.defineProperty(Dt,{zd:"modifiers"},function(){return this.dw},function(t){this.dw=t}),Kh.defineProperty(Dt,{button:"button"},function(){return this.hv},function(t){if(this.hv=t,null===this.event)switch(t){case 0:this.buttons=1;break;case 1:this.buttons=4;break;case 2:this.buttons=2}}),Kh.defineProperty(Dt,{buttons:"buttons"},function(){return this.iv},function(t){this.iv=t}),Kh.defineProperty(Dt,{key:"key"},function(){return this.Tv},function(t){this.Tv=t}),Kh.defineProperty(Dt,{Sl:"down"},function(){return this.wv},function(t){this.wv=t}),Kh.defineProperty(Dt,{up:"up"},function(){return this.Iw},function(t){this.Iw=t}),Kh.defineProperty(Dt,{Ge:"clickCount"},function(){return this.jv},function(t){this.jv=t}),Kh.defineProperty(Dt,{Rl:"delta"},function(){return this.tv},function(t){this.tv=t}),Kh.defineProperty(Dt,{ju:"isMultiTouch"},function(){return this.Pv},function(t){this.Pv=t}),Kh.defineProperty(Dt,{Dc:"handled"},function(){return this.Fv},function(t){this.Fv=t}),Kh.defineProperty(Dt,{bubbles:"bubbles"},function(){return this.Jj},function(t){this.Jj=t}),Kh.defineProperty(Dt,{event:"event"},function(){return this.ur},function(t){this.ur=t}),Kh.u(Dt,{vj:"isTouchEvent"},function(){var t=e.TouchEvent;return!!(t&&this.event instanceof t)||(t=e.PointerEvent)&&this.event instanceof t&&"touch"===this.event.pointerType}),Kh.u(Dt,{Gk:"isMac"},function(){return Kh.Gk}),Kh.defineProperty(Dt,{timestamp:"timestamp"},function(){return this.Gw},function(t){this.Gw=t}),Kh.defineProperty(Dt,{Yg:"targetDiagram"},function(){return this.Fw},function(t){this.Fw=t}),Kh.defineProperty(Dt,{Re:"targetObject"},function(){return this.Hg},function(t){this.Hg=t}),Kh.defineProperty(Dt,{control:"control"},function(){return 0!=(1&this.zd)},function(t){this.zd=t?1|this.zd:-2&this.zd}),Kh.defineProperty(Dt,{shift:"shift"},function(){return 0!=(4&this.zd)},function(t){this.zd=t?4|this.zd:-5&this.zd}),Kh.defineProperty(Dt,{alt:"alt"},function(){return 0!=(2&this.zd)},function(t){this.zd=t?2|this.zd:-3&this.zd}),Kh.defineProperty(Dt,{su:"meta"},function(){return 0!=(8&this.zd)},function(t){this.zd=t?8|this.zd:-9&this.zd}),Kh.defineProperty(Dt,{left:"left"},function(){var t=this.event;return null!==t&&t instanceof MouseEvent&&("mousedown"===t.type||"mouseup"===t.type)?0===this.button:0!=(1&this.buttons)},function(t){this.buttons=t?1|this.buttons:-2&this.buttons}),Kh.defineProperty(Dt,{right:"right"},function(){var t=this.event;return null!==t&&t instanceof MouseEvent&&("mousedown"===t.type||"mouseup"===t.type)?2===this.button:0!=(2&this.buttons)},function(t){this.buttons=t?2|this.buttons:-3&this.buttons}),Kh.defineProperty(Dt,{sL:"middle"},function(){var t=this.event;return null!==t&&t instanceof MouseEvent&&("mousedown"===t.type||"mouseup"===t.type)?1===this.button:0!=(4&this.buttons)},function(t){this.buttons=t?4|this.buttons:-5&this.buttons}),Kh.ga("DiagramEvent",Ot),Ot.prototype.copy=function(){var t=new Ot;return t.fa=this.fa,t.Sb=this.Sb,t.Dw=this.Dw,t.mw=this.mw,t.Pq=this.Pq,t},Ot.prototype.toString=function(){var t="*"+this.name;return null!==this.tB&&(t+=":"+this.tB.toString()),null!==this.WA&&(t+="("+this.WA.toString()+")"),t},Kh.defineProperty(Ot,{g:"diagram"},function(){return this.fa},function(t){this.fa=t}),Kh.defineProperty(Ot,{name:"name"},function(){return this.Sb},function(t){this.Sb=t}),Kh.defineProperty(Ot,{tB:"subject"},function(){return this.Dw},function(t){this.Dw=t}),Kh.defineProperty(Ot,{WA:"parameter"},function(){return this.mw},function(t){this.mw=t}),Kh.defineProperty(Ot,{cancel:"cancel"},function(){return this.Pq},function(t){this.Pq!==t&&Kh.It("DiagramEvent.cancel","2.0"),this.Pq=t}),Kh.ga("ChangedEvent",Lt);var fc;Lt.Transaction=fc=Kh.p(Lt,"Transaction",-1);var yc;Lt.Property=yc=Kh.p(Lt,"Property",0);var gc;Lt.Insert=gc=Kh.p(Lt,"Insert",1);var vc;Lt.Remove=vc=Kh.p(Lt,"Remove",2),Lt.prototype.clear=Lt.prototype.clear=function(){this.ss=this.ts=this.xs=this.ys=this.ws=this.fa=this.me=null},Lt.prototype.copy=function(){var t=new Lt;t.Qq=this.Qq,t.cw=this.cw,t.Wm=this.Wm,t.me=this.me,t.fa=this.fa,t.ws=this.ws;var e=this.ys;return t.ys=Kh.Pa(e)&&"function"==typeof e.S?e.S():e,e=this.xs,t.xs=Kh.Pa(e)&&"function"==typeof e.S?e.S():e,e=this.ts,t.ts=Kh.Pa(e)&&"function"==typeof e.S?e.S():e,e=this.ss,t.ss=Kh.Pa(e)&&"function"==typeof e.S?e.S():e,t},Lt.prototype.ic=function(t){t.Ee===Lt?this.Ac=t:Kh.Fj(this,t)},Lt.prototype.toString=function(){var t="",t=this.Ac===fc?t+"* ":this.Ac===yc?t+(null!==this.$?"!m":"!d"):t+(null!==this.$?"!m":"!d")+this.Ac;return this.propertyName&&"string"==typeof this.propertyName&&(t+=" "+this.propertyName),this.rf&&this.rf!==this.propertyName&&(t+=" "+this.rf),t+=": ",this.Ac===fc?null!==this.oldValue&&(t+=" "+this.oldValue):(null!==this.object&&(t+=xc(this.object)),null!==this.oldValue&&(t+="  old: "+xc(this.oldValue)),null!==this.Aj&&(t+=" "+this.Aj),null!==this.newValue&&(t+="  new: "+xc(this.newValue)),null!==this.zj&&(t+=" "+this.zj)),t},Lt.prototype.getValue=Lt.prototype.ka=function(t){return t?this.oldValue:this.newValue},Lt.prototype.getParam=function(t){return t?this.Aj:this.zj},Lt.prototype.canUndo=Lt.prototype.canUndo=function(){return null!==this.$||null!==this.g},Lt.prototype.undo=Lt.prototype.undo=function(){this.canUndo()&&(null!==this.$?this.$.nn(this,!0):null!==this.g&&this.g.nn(this,!0))},Lt.prototype.canRedo=Lt.prototype.canRedo=function(){return null!==this.$||null!==this.g},Lt.prototype.redo=Lt.prototype.redo=function(){this.canRedo()&&(null!==this.$?this.$.nn(this,!1):null!==this.g&&this.g.nn(this,!1))},Kh.defineProperty(Lt,{$:"model"},function(){return this.me},function(t){this.me=t}),Kh.defineProperty(Lt,{g:"diagram"},function(){return this.fa},function(t){this.fa=t}),Kh.defineProperty(Lt,{Ac:"change"},function(){return this.Qq},function(t){this.Qq=t}),Kh.defineProperty(Lt,{rf:"modelChange"},function(){return this.cw},function(t){this.cw=t}),Kh.defineProperty(Lt,{propertyName:"propertyName"},function(){return this.Wm},function(t){this.Wm=t}),Kh.u(Lt,{yF:"isTransactionFinished"},function(){return this.Qq===fc&&("CommittedTransaction"===this.Wm||"FinishedUndo"===this.Wm||"FinishedRedo"===this.Wm)}),Kh.defineProperty(Lt,{object:"object"},function(){return this.ws},function(t){this.ws=t}),Kh.defineProperty(Lt,{oldValue:"oldValue"},function(){return this.ys},function(t){this.ys=t}),Kh.defineProperty(Lt,{Aj:"oldParam"},function(){return this.xs},function(t){this.xs=t}),Kh.defineProperty(Lt,{newValue:"newValue"},function(){return this.ts},function(t){this.ts=t}),Kh.defineProperty(Lt,{zj:"newParam"},function(){return this.ss},function(t){this.ss=t}),Kh.ga("Model",Nt),Nt.prototype.cloneProtected=function(t){t.Sb=this.Sb,t.er=this.er,t.Ni=this.Ni,t.fk=this.fk,t.Wo=this.Wo,t.so=this.so,t.Xq=this.Xq,t.Wq=this.Wq,t.Gq=this.Gq,t.Rm=this.Rm},Nt.prototype.copy=function(){var t=new this.constructor;return this.cloneProtected(t),t},Nt.prototype.clear=Nt.prototype.clear=function(){this.De=[],this.Hc.clear(),this.Hi.clear(),this.ia.clear()},_h=Nt.prototype,_h.toString=function(t){if(void 0===t&&(t=0),1<t)return this.wB();var e=(""!==this.name?this.name:"")+" Model";if(0<t){e+="\n node data:",t=this.hg;for(var i=Kh.Za(t),n=0;n<i;n++)var o=Kh.Ba(t,n),e=e+" "+this.pb(o)+":"+xc(o)}return e},_h.bo=function(){var t="";return""!==this.name&&(t+=',\n  "name": '+this.quote(this.name)),""!==this.Pl&&(t+=',\n  "dataFormat": '+this.quote(this.Pl)),this.hb&&(t+=',\n  "isReadOnly": '+this.hb),"key"!==this.dm&&"string"==typeof this.dm&&(t+=',\n  "nodeKeyProperty": '+this.quote(this.dm)),this.dA&&(t+=',\n  "copiesArrays": true'),this.cA&&(t+=',\n  "copiesArrayObjects": true'),"category"!==this.Sn&&"string"==typeof this.Sn&&(t+=',\n  "nodeCategoryProperty": '+this.quote(this.Sn)),t},_h.Bu=function(t){t.name&&(this.name=t.name),t.dataFormat&&(this.Pl=t.dataFormat),t.isReadOnly&&(this.hb=t.isReadOnly),t.nodeKeyProperty&&(this.dm=t.nodeKeyProperty),t.copiesArrays&&(this.dA=t.copiesArrays),t.copiesArrayObjects&&(this.cA=t.copiesArrayObjects),t.nodeCategoryProperty&&(this.Sn=t.nodeCategoryProperty)},_h.IB=function(){var t,e=this.Hk,i=!1;for(t in e)if(!Vt(t,e[t])){i=!0;break}return e="",i&&(e=jt(this)),e+',\n  "nodeDataArray": '+Bt(this,this.hg,!0)},_h.ZA=function(t){Rt(this,t),t=t.nodeDataArray,Kh.isArray(t)&&(this.Eu(t),this.hg=t)},_h.JB=function(t){At(this,t,"nodeKeyProperty"),this instanceof ie&&At(this,t,"nodeParentKeyProperty");for(var e=new p,i=new p,n=(new p).Kc(this.Hc.zF),o=new b,r=t.hg,s=0;s<r.length;s++){var a=r[s],l=t.pb(a);if(void 0!==l){n.remove(l);var h=this.ve(l);null===h?(e.add(l),i.add(a)):Ft(this,h,a,o)||i.add(a)}else this.LA(a),l=this.pb(a),e.add(l),i.add(a)}return r="",Ft(this,this.Hk,t.Hk,o)||(r+=jt(this)),0<e.count&&(r+=this.Dy+Bt(this,e.gc(),!0)),0<i.count&&(r+=this.RB+Bt(this,i.gc(),!0)),0<n.count&&(r+=this.Fy+Bt(this,n.gc(),!0)),r},Nt.prototype.computeJsonDifference=Nt.prototype.computeJSONDifference=function(t,e){return Kh.G(t,Nt,Nt,"computeJsonDifference:newmodel"),void 0===e&&(e=this.constructor===Nt?"go.Model":this.constructor===Qt?"go.GraphLinksModel":this.constructor===ie?"go.TreeModel":Kh.mf(this)),'{ "class": '+this.quote(e)+', "incremental": 1'+this.bo()+this.JB(t)+"}"},_h=Nt.prototype,_h.Dy=',\n  "insertedNodeKeys": ',_h.RB=',\n  "modifiedNodeData": ',_h.Fy=',\n  "removedNodeKeys": ',_h.HB=function(t,e){var i=this,n=!1,o=new p,r=new p,s=new p;t.Wf.each(function(t){t.$===i&&("nodeDataArray"===t.rf?t.Ac===gc?o.add(t.newValue):t.Ac===vc&&s.add(t.oldValue):i.He(t.object)?r.add(t.object):i.Hk===t.object&&t.Ac===yc&&(n=!0))});var a=new p;o.each(function(t){a.add(i.pb(t)),e||r.add(t)});var l=new p;s.each(function(t){l.add(i.pb(t)),e&&r.add(t)});var h="";return n&&(h+=jt(this)),0<a.count&&(h+=(e?this.Fy:this.Dy)+Bt(this,a.gc(),!0)),0<r.count&&(h+=this.RB+Bt(this,r.gc(),!0)),0<l.count&&(h+=(e?this.Dy:this.Fy)+Bt(this,l.gc(),!0)),h},_h.YA=function(t){Rt(this,t);var e=t.insertedNodeKeys,i=t.modifiedNodeData,n=new b;if(Kh.isArray(i))for(var o=0;o<i.length;o++){var r=Kh.Ba(i,o),s=this.pb(r);void 0!==s&&null!==s&&n.set(s,r)}if(Kh.isArray(e))for(var o=Kh.Za(e),a=0;a<o;a++)r=Kh.Ba(e,a),null===(s=this.ve(r))&&(s=(s=n.get(r))?s:this.copyNodeData({}),this.ly(s,r),this.Gl(s));if(Kh.isArray(i))for(o=Kh.Za(i),a=0;a<o;a++)if(r=Kh.Ba(i,a),s=this.pb(r),null!==(s=this.ve(s)))for(var l in r)"__gohashid"!==l&&l!==this.dm&&l!==this.gq&&this.setDataProperty(s,l,r[l]);if(t=t.removedNodeKeys,Kh.isArray(t))for(o=Kh.Za(t),a=0;a<o;a++)r=Kh.Ba(t,a),null!==(s=this.ve(r))&&this.ay(s)},Nt.prototype.toIncrementalJson=Nt.prototype.toIncrementalJSON=function(t,e){Kh.G(t,Lt,Nt,"toIncrementalJson:e"),t.Ac!==fc&&Kh.k("Model.toIncrementalJson argument is not a Transaction ChangedEvent:"+t.toString());var i=t.object;return t.yF&&i instanceof re?(void 0===e&&(e=this.constructor===Nt?"go.Model":this.constructor===Qt?"go.GraphLinksModel":this.constructor===ie?"go.TreeModel":Kh.mf(this)),'{ "class": '+this.quote(e)+', "incremental": 1'+this.bo()+this.HB(i,"FinishedUndo"===t.propertyName)+"}"):'{ "incremental": 0 }'},Nt.prototype.toJson=Nt.prototype.toJSON=Nt.prototype.wB=function(t){return void 0===t&&(t=this.constructor===Nt?"go.Model":this.constructor===Qt?"go.GraphLinksModel":this.constructor===ie?"go.TreeModel":Kh.mf(this)),'{ "class": '+this.quote(t)+this.bo()+this.IB()+"}"},Nt.prototype.applyIncrementalJson=Nt.prototype.applyIncrementalJSON=function(t){var i=null;if("string"==typeof t)if(e.JSON&&e.JSON.parse)try{i=e.JSON.parse(t)}catch(t){}else Kh.trace("WARNING: no JSON.parse available");else"object"==typeof t?i=t:Kh.k("Unable to modify a Model from: "+t);var n=i.incremental;"number"!=typeof n&&Kh.k("Unable to apply non-incremental changes to Model: "+t),0!==n&&(this.Hb("applyIncrementalJson"),this.YA(i),this.Wc("applyIncrementalJson"))},Nt.fromJson=Nt.fromJSON=function(t,i){void 0===i&&(i=null),null!==i&&Kh.G(i,Nt,Nt,"fromJson:model");var n=null;if("string"==typeof t)if(e.JSON&&e.JSON.parse)try{n=e.JSON.parse(t)}catch(t){}else Kh.trace("WARNING: no JSON.parse available");else"object"==typeof t?n=t:Kh.k("Unable to construct a Model from: "+t);if(null===i){var o;o=null;var r=n.class;if("string"==typeof r)try{var s=null;0===r.indexOf("go.")?(r=r.substr(3),s=Uh[r]):void 0===(s=Uh[r])&&(s=e[r]),"function"==typeof s&&(o=new s)}catch(t){}null===o||o instanceof Nt?i=o:Kh.k("Unable to construct a Model of declared class: "+n.class)}return null===i&&(i=new Qt),i.Bu(n),i.ZA(n),i},Nt.prototype.replaceJsonObjects=Nt.prototype.Eu=function(t){if(Kh.isArray(t))for(var e=Kh.Za(t),i=0;i<e;i++){var n=Kh.Ba(t,i);Kh.Pa(n)&&Kh.sE(t,i,this.Eu(n))}else if(Kh.Pa(t)){for(i in t)if(n=t[i],Kh.Pa(n)&&(n=this.Eu(n),t[i]=n,"points"===i&&Array.isArray(n))){for(var o=0==n.length%2,r=0;r<n.length;r++)if("number"!=typeof n[r]){o=!1;break}if(o){for(o=new c(w),r=0;r<n.length/2;r++)o.add(new w(n[2*r],n[2*r+1]));o.freeze(),t[i]=o}}if("object"==typeof t){if(i=t,"NaN"===(n=t.class))i=NaN;else if("Date"===n)i=new Date(t.value);else if("go.Point"===n)i=new w(qt(t.x),qt(t.y));else if("go.Size"===n)i=new k(qt(t.width),qt(t.height));else if("go.Rect"===n)i=new S(qt(t.x),qt(t.y),qt(t.width),qt(t.height));else if("go.Margin"===n)i=new O(qt(t.top),qt(t.right),qt(t.bottom),qt(t.left));else if("go.Spot"===n)i="string"==typeof t.enum?Zh(t.enum):new N(qt(t.x),qt(t.y),qt(t.offsetX),qt(t.offsetY));else if("go.Brush"===n){if(i=new wo,i.type=$h(wo,t.type),"string"==typeof t.color&&(i.color=t.color),t.start instanceof N&&(i.start=t.start),t.end instanceof N&&(i.end=t.end),"number"==typeof t.startRadius&&(i.Pu=qt(t.startRadius)),"number"==typeof t.endRadius&&(i.Kt=qt(t.endRadius)),t=t.colorStops,Kh.Pa(t))for(e in t)i.addColorStop(parseFloat(e),t[e])}else"go.Geometry"===n?(e=null,e="string"==typeof t.path?ac(t.path):new mt,e.type=$h(mt,t.type),"number"==typeof t.startX&&(e.ha=qt(t.startX)),"number"==typeof t.startY&&(e.ea=qt(t.startY)),"number"==typeof t.endX&&(e.C=qt(t.endX)),"number"==typeof t.endY&&(e.D=qt(t.endY)),t.spot1 instanceof N&&(e.A=t.spot1),t.spot2 instanceof N&&(e.B=t.spot2),i=e):"go.EnumValue"===n&&(e=t.classType,0===e.indexOf("go.")&&(e=e.substr(3)),i=$h(Uh[e],t.name));t=i}}return t},Nt.prototype.quote=function(t){for(var e="",i=t.length,n=0;n<i;n++){var o=t[n];if('"'===o||"\\"===o)e+="\\"+o;else if("\b"===o)e+="\\b";else if("\f"===o)e+="\\f";else if("\n"===o)e+="\\n";else if("\r"===o)e+="\\r";else if("\t"===o)e+="\\t";else var r=t.charCodeAt(n),e=16>r?e+"\\u000"+t.charCodeAt(n).toString(16):32>r?e+"\\u00"+t.charCodeAt(n).toString(16):8232===r?e+"\\u2028":8233===r?e+"\\u2029":e+o}return'"'+e+'"'},Nt.prototype.writeJsonValue=Nt.prototype.Tu=function(t){return void 0===t?"undefined":null===t?"null":!0===t?"true":!1===t?"false":"string"==typeof t?this.quote(t):"number"==typeof t?1/0===t?"9e9999":-1/0===t?"-9e9999":isNaN(t)?'{"class":"NaN"}':t.toString():t instanceof Date?'{"class":"Date", "value":"'+t.toJSON()+'"}':t instanceof Number?this.Tu(t.valueOf()):Kh.isArray(t)?Bt(this,t):Kh.Pa(t)?zt(this,t):"function"==typeof t?"null":t.toString()},Kh.defineProperty(Nt,{name:"name"},function(){return this.Sb},function(t){var e=this.Sb;e!==t&&(Kh.j(t,"string",Nt,"name"),this.Sb=t,this.h("name",e,t))}),Kh.defineProperty(Nt,{Pl:"dataFormat"},function(){return this.er},function(t){var e=this.er;e!==t&&(Kh.j(t,"string",Nt,"dataFormat"),this.er=t,this.h("dataFormat",e,t))}),Kh.defineProperty(Nt,{hb:"isReadOnly"},function(){return this.Ni},function(t){var e=this.Ni;e!==t&&(Kh.j(t,"boolean",Nt,"isReadOnly"),this.Ni=t,this.h("isReadOnly",e,t))}),Kh.defineProperty(Nt,{Hk:"modelData"},function(){return this.sz},function(t){var e=this.sz;e!==t&&(Kh.j(t,"object",Nt,"modelData"),this.sz=t,this.h("modelData",e,t),this.Ib(t))}),Nt.prototype.addChangedListener=Nt.prototype.hn=function(t){Kh.j(t,"function",Nt,"addChangedListener:listener"),null===this.bk&&(this.bk=new c("function")),this.bk.add(t)},Nt.prototype.removeChangedListener=Nt.prototype.Cu=function(t){Kh.j(t,"function",Nt,"removeChangedListener:listener"),null!==this.bk&&(this.bk.remove(t),0===this.bk.count&&(this.bk=null))},Nt.prototype.Ww=function(t){if(this.wb||this.ia.gF(t),null!==this.bk){var e=this.bk,i=e.length;if(1===i)(e=e.da(0))(t);else if(0!==i)for(var n=e.gc(),o=0;o<i;o++)(e=n[o])(t)}},Nt.prototype.raiseChangedEvent=Nt.prototype.ad=function(t,e,i,n,o,r,s){Gt(this,"",t,e,i,n,o,r,s)},Nt.prototype.raiseChanged=Nt.prototype.h=function(t,e,i,n,o){Gt(this,"",yc,t,this,e,i,n,o)},Nt.prototype.raiseDataChanged=Nt.prototype.XA=function(t,e,i,n,o,r){Gt(this,"",yc,e,t,i,n,o,r)},Kh.defineProperty(Nt,{ia:"undoManager"},function(){return this.Nz},function(t){var e=this.Nz;e!==t&&(Kh.G(t,se,Nt,"undoManager"),null!==e&&e.oJ(this),this.Nz=t,null!==t&&t.fH(this))}),Kh.defineProperty(Nt,{wb:"skipsUndoManager"},function(){return this.dj},function(t){Kh.j(t,"boolean",Nt,"skipsUndoManager"),this.dj=t}),Nt.prototype.nn=function(t,e){if(null!==t&&t.$===this)if(t.Ac===yc){var i=t.object,n=t.propertyName,o=t.ka(e);Kh.La(i,n,o)}else t.Ac===gc?(i=t.zj,"nodeDataArray"===t.rf?(n=t.newValue,Kh.Pa(n)&&"number"==typeof i&&(o=this.pb(n),e?(Kh.Ba(this.De,i)===n&&Kh.Kg(this.De,i),void 0!==o&&this.Hc.remove(o)):(Kh.Ba(this.De,i)!==n&&Kh.sh(this.De,i,n),void 0!==o&&this.Hc.add(o,n)))):""===t.rf?(n=t.object,!Kh.isArray(n)&&t.propertyName&&(n=Kh.tb(t.object,t.propertyName)),Kh.isArray(n)&&"number"==typeof i&&(o=t.newValue,e?Kh.Kg(n,i):Kh.sh(n,i,o))):Kh.k("unknown ChangedEvent.Insert modelChange: "+t.toString())):t.Ac===vc?(i=t.Aj,"nodeDataArray"===t.rf?(n=t.oldValue,Kh.Pa(n)&&"number"==typeof i&&(o=this.pb(n),e?(Kh.Ba(this.De,i)!==n&&Kh.sh(this.De,i,n),void 0!==o&&this.Hc.add(o,n)):(Kh.Ba(this.De,i)===n&&Kh.Kg(this.De,i),void 0!==o&&this.Hc.remove(o)))):""===t.rf?(n=t.object,!Kh.isArray(n)&&t.propertyName&&(n=Kh.tb(t.object,t.propertyName)),Kh.isArray(n)&&"number"==typeof i&&(o=t.oldValue,e?Kh.sh(n,i,o):Kh.Kg(n,i))):Kh.k("unknown ChangedEvent.Remove modelChange: "+t.toString())):t.Ac!==fc&&Kh.k("unknown ChangedEvent: "+t.toString())},Nt.prototype.startTransaction=Nt.prototype.Hb=function(t){return this.ia.Hb(t)},Nt.prototype.commitTransaction=Nt.prototype.Wc=function(t){return this.ia.Wc(t)},Nt.prototype.rollbackTransaction=Nt.prototype.lq=function(){return this.ia.lq()},Nt.prototype.commit=function(t,e){this.ia.Hb(e);try{t(this)}finally{this.ia.Wc(e)}},Nt.prototype.updateTargetBindings=Nt.prototype.Ib=function(t,e){void 0===e&&(e=""),Gt(this,"SourceChanged",fc,e,t,null,null)},Kh.defineProperty(Nt,{dm:"nodeKeyProperty"},function(){return this.fk},function(t){var e=this.fk;e!==t&&(_t(t,Nt,"nodeKeyProperty"),""===t&&Kh.k("Model.nodeKeyProperty may not be the empty string"),0<this.Hc.count&&Kh.k("Cannot set Model.nodeKeyProperty when there is existing node data"),this.fk=t,this.h("nodeKeyProperty",e,t))}),Nt.prototype.getKeyForNodeData=Nt.prototype.pb=function(t){if(null!==t){var e=this.fk;if(""!==e&&void 0!==(e=Kh.tb(t,e))){if(Ut(e))return e;Kh.k("Key value for node data "+t+" is not a number or a string: "+e)}}},Nt.prototype.setKeyForNodeData=Nt.prototype.ly=function(t,e){if(void 0!==e&&null!==e&&Ut(e)||Kh.Bd(e,"number or string",Nt,"setKeyForNodeData:key"),null!==t){var i=this.fk;if(""!==i)if(this.He(t)){var n=Kh.tb(t,i);n!==e&&null===this.ve(e)&&(Kh.La(t,i,e),this.Hc.remove(n),this.Hc.add(e,t),Gt(this,"nodeKey",yc,i,t,n,e),"string"==typeof i&&this.Ib(t,i),this.Du(n,e))}else Kh.La(t,i,e)}},Kh.defineProperty(Nt,{lL:"makeUniqueKeyFunction"},function(){return this.Wo},function(t){var e=this.Wo;e!==t&&(null!==t&&Kh.j(t,"function",Nt,"makeUniqueKeyFunction"),this.Wo=t,this.h("makeUniqueKeyFunction",e,t))}),Nt.prototype.containsNodeData=Nt.prototype.He=function(t){var e=this.pb(t);return void 0!==e&&this.Hc.ka(e)===t},Nt.prototype.findNodeDataForKey=Nt.prototype.ve=function(t){return null===t&&Kh.k("Model.findNodeDataForKey:key must not be null"),void 0!==t&&Ut(t)?this.Hc.ka(t):null},Kh.defineProperty(Nt,{hg:"nodeDataArray"},function(){return this.De},function(t){var e=this.De;if(e!==t){Kh.Wz(t,Nt,"nodeDataArray"),this.Hc.clear(),this.DB();for(var i=Kh.Za(t),n=0;n<i;n++){var o=Kh.Ba(t,n);if(!Kh.Pa(o))return void Kh.k("Model.nodeDataArray must only contain Objects, not: "+o);Kh.Up(o)}this.De=t;for(var r=new c(Object),n=0;n<i;n++){var o=Kh.Ba(t,n),s=this.pb(o);void 0===s?r.add(o):null!==this.Hc.ka(s)?r.add(o):this.Hc.add(s,o)}for(n=r.i;n.next();)o=n.value,this.LA(o),void 0!==(r=this.pb(o))&&this.Hc.add(r,o);for(Gt(this,"nodeDataArray",yc,"nodeDataArray",this,e,t),n=0;n<i;n++)o=Kh.Ba(t,n),this.kq(o),this.jq(o);this.vE(),Kh.yI(t)||(this.hb=!0)}}),Nt.prototype.makeNodeDataKeyUnique=Nt.prototype.LA=function(t){if(null!==t){var e=this.fk;if(""!==e){var i=this.pb(t);if(void 0===i||this.Hc.contains(i)){var n=this.Wo;if(null!==n&&void 0!==(i=n(this,t))&&null!==i&&!this.Hc.contains(i))return void Kh.La(t,e,i);if("string"==typeof i){for(n=2;this.Hc.contains(i+n);)n++;Kh.La(t,e,i+n)}else if(void 0===i||"number"==typeof i){for(n=-this.Hc.count-1;this.Hc.contains(n);)n--;Kh.La(t,e,n)}else Kh.k("Model.getKeyForNodeData returned something other than a string or a number: "+i)}}}},Nt.prototype.addNodeData=Nt.prototype.Gl=function(t){null!==t&&(Kh.Up(t),this.He(t)||Kt(this,t,!0))},Nt.prototype.addNodeDataCollection=function(t){if(Kh.isArray(t))for(var e=Kh.Za(t),i=0;i<e;i++)this.Gl(Kh.Ba(t,i));else for(t=t.i;t.next();)this.Gl(t.value)},Nt.prototype.removeNodeData=Nt.prototype.ay=function(t){null!==t&&$t(this,t,!0)},Nt.prototype.removeNodeDataCollection=function(t){if(Kh.isArray(t))for(var e=Kh.Za(t),i=0;i<e;i++)this.ay(Kh.Ba(t,i));else for(t=t.i;t.next();)this.ay(t.value)},_h=Nt.prototype,_h.Du=function(t,e){var i=Jt(this,t);i instanceof p&&this.Hi.add(e,i)},_h.DB=function(){},_h.kq=function(){},_h.jq=function(){},_h.Su=function(){},Nt.prototype.clearUnresolvedReferences=Nt.prototype.vE=function(t){void 0===t?this.Hi.clear():this.Hi.remove(t)},Kh.defineProperty(Nt,{GK:"copyNodeDataFunction"},function(){return this.so},function(t){var e=this.so;e!==t&&(null!==t&&Kh.j(t,"function",Nt,"copyNodeDataFunction"),this.so=t,this.h("copyNodeDataFunction",e,t))}),Kh.defineProperty(Nt,{dA:"copiesArrays"},function(){return this.Xq},function(t){var e=this.Xq;e!==t&&(null!==t&&Kh.j(t,"boolean",Nt,"copiesArrays"),this.Xq=t,this.h("copiesArrays",e,t))}),Kh.defineProperty(Nt,{cA:"copiesArrayObjects"},function(){return this.Wq},function(t){var e=this.Wq;e!==t&&(null!==t&&Kh.j(t,"boolean",Nt,"copiesArrayObjects"),this.Wq=t,this.h("copiesArrayObjects",e,t))}),Nt.prototype.copyNodeData=function(t){if(null===t)return null;var e=null,e=this.so,e=null!==e?e(t,this):Xt(this,t,!0);return Kh.Pa(e)&&Kh.nc(e),e},Kh.defineProperty(Nt,{hH:"afterCopyFunction"},function(){return this.Gq},function(t){var e=this.Gq;e!==t&&(null!==t&&Kh.j(t,"function",Nt,"afterCopyFunction"),this.Gq=t,this.h("afterCopyFunction",e,t))});var mc=!1;Nt.prototype.set=Nt.prototype.setDataProperty=function(t,e,i){if(this.He(t)){if(e===this.dm)this.ly(t,i);else if(e===this.Sn)return void this.jy(t,i)}else!mc&&t instanceof Eo&&(mc=!0,Kh.trace('Model.setDataProperty is modifying a GraphObject, "'+t.toString()+'"'),Kh.trace("  Is that really your intent?"));var n=Kh.tb(t,e);n!==i&&(Kh.La(t,e,i),this.XA(t,e,n,i))},Nt.prototype.addArrayItem=function(t,e){this.zA(t,-1,e)},Nt.prototype.insertArrayItem=Nt.prototype.zA=function(t,e,i){t===this.De&&Kh.k("Model.insertArrayItem or Model.addArrayItem should not be called on the Model.nodeDataArray"),0>e&&(e=Kh.Za(t)),Kh.sh(t,e,i),Gt(this,"",gc,"",t,null,i,null,e)},Nt.prototype.removeArrayItem=Nt.prototype.UF=function(t,e){void 0===e&&(e=-1),t===this.De&&Kh.k("Model.removeArrayItem should not be called on the Model.nodeDataArray"),-1===e&&(e=Kh.Za(t)-1);var i=Kh.Ba(t,e);Kh.Kg(t,e),Gt(this,"",vc,"",t,i,null,e,null)},Kh.defineProperty(Nt,{Sn:"nodeCategoryProperty"},function(){return this.Rm},function(t){var e=this.Rm;e!==t&&(_t(t,Nt,"nodeCategoryProperty"),this.Rm=t,this.h("nodeCategoryProperty",e,t))}),Nt.prototype.getCategoryForNodeData=Nt.prototype.rA=function(t){if(null===t)return"";var e=this.Rm;return""===e?"":void 0===(e=Kh.tb(t,e))?"":"string"==typeof e?e:(Kh.k("getCategoryForNodeData found a non-string category for "+t+": "+e),"")},Nt.prototype.setCategoryForNodeData=Nt.prototype.jy=function(t,e){if(Kh.j(e,"string",Nt,"setCategoryForNodeData:cat"),null!==t){var i=this.Rm;if(""!==i)if(this.He(t)){var n=Kh.tb(t,i);void 0===n&&(n=""),n!==e&&(Kh.La(t,i,e),Gt(this,"nodeCategory",yc,i,t,n,e))}else Kh.La(t,i,e)}},Kh.Ka(Qt,Nt),Kh.ga("GraphLinksModel",Qt),Qt.prototype.cloneProtected=function(t){Nt.prototype.cloneProtected.call(this,t),t.ql=this.ql,t.Xo=this.Xo,t.ro=this.ro,t.Vh=this.Vh,t.Wh=this.Wh,t.Mm=this.Mm,t.Nm=this.Nm,t.Lm=this.Lm,t.Ag=this.Ag,t.ap=this.ap,t.lh=this.lh,t.Yq=this.Yq},Qt.prototype.clear=Qt.prototype.clear=function(){Nt.prototype.clear.call(this),this.hf=[],this.fd.clear(),this.Ri.clear()},_h=Qt.prototype,_h.toString=function(t){if(void 0===t&&(t=0),2<=t)return this.wB();var e=(""!==this.name?this.name:"")+" GraphLinksModel";if(0<t){e+="\n node data:",t=this.hg;for(var i=Kh.Za(t),n=0,n=0;n<i;n++)var o=Kh.Ba(t,n),e=e+" "+this.pb(o)+":"+xc(o);for(e+="\n link data:",t=this.Qg,i=Kh.Za(t),n=0;n<i;n++)o=Kh.Ba(t,n),e+=" "+this.Wl(o)+"--\x3e"+this.Xl(o)}return e},_h.bo=function(){var t=Nt.prototype.bo.call(this),e="";return"category"!==this.nu&&"string"==typeof this.nu&&(e+=',\n  "linkCategoryProperty": '+this.quote(this.nu)),""!==this.yj&&"string"==typeof this.yj&&(e+=',\n  "linkKeyProperty": '+this.quote(this.yj)),"from"!==this.Jn&&"string"==typeof this.Jn&&(e+=',\n  "linkFromKeyProperty": '+this.quote(this.Jn)),"to"!==this.Kn&&"string"==typeof this.Kn&&(e+=',\n  "linkToKeyProperty": '+this.quote(this.Kn)),""!==this.ou&&"string"==typeof this.ou&&(e+=',\n  "linkFromPortIdProperty": '+this.quote(this.ou)),""!==this.qu&&"string"==typeof this.qu&&(e+=',\n  "linkToPortIdProperty": '+this.quote(this.qu)),""!==this.pu&&"string"==typeof this.pu&&(e+=',\n  "linkLabelKeysProperty": '+this.quote(this.pu)),"isGroup"!==this.gq&&"string"==typeof this.gq&&(e+=',\n  "nodeIsGroupProperty": '+this.quote(this.gq)),"group"!==this.xu&&"string"==typeof this.xu&&(e+=',\n  "nodeGroupKeyProperty": '+this.quote(this.xu)),t+e},_h.Bu=function(t){Nt.prototype.Bu.call(this,t),t.linkKeyProperty&&(this.yj=t.linkKeyProperty),t.linkFromKeyProperty&&(this.Jn=t.linkFromKeyProperty),t.linkToKeyProperty&&(this.Kn=t.linkToKeyProperty),t.linkFromPortIdProperty&&(this.ou=t.linkFromPortIdProperty),t.linkToPortIdProperty&&(this.qu=t.linkToPortIdProperty),t.linkCategoryProperty&&(this.nu=t.linkCategoryProperty),t.linkLabelKeysProperty&&(this.pu=t.linkLabelKeysProperty),t.nodeIsGroupProperty&&(this.gq=t.nodeIsGroupProperty),t.nodeGroupKeyProperty&&(this.xu=t.nodeGroupKeyProperty)},_h.IB=function(){return Nt.prototype.IB.call(this)+',\n  "linkDataArray": '+Bt(this,this.Qg,!0)},_h.ZA=function(t){Nt.prototype.ZA.call(this,t),t=t.linkDataArray,Kh.isArray(t)&&(this.Eu(t),this.Qg=t)},_h.JB=function(t){if(!(t instanceof Qt))return Kh.k("Model.computeJsonDifference: newmodel must be a GraphLinksModel"),"";""===this.yj&&Kh.k("GraphLinksModel.linkKeyProperty must not be an empty string for .computeJsonDifference() to succeed.");var e=Nt.prototype.JB.call(this,t);At(this,t,"linkKeyProperty"),At(this,t,"linkFromKeyProperty"),At(this,t,"linkToKeyProperty"),At(this,t,"linkLabelKeysProperty"),At(this,t,"nodeIsGroupProperty"),At(this,t,"nodeGroupKeyProperty");for(var i=new p,n=new p,o=(new p).Kc(this.fd.zF),r=new b,s=t.Qg,a=0;a<s.length;a++){var l=s[a],h=t.bf(l);if(void 0!==h){o.remove(h);var u=this.Qp(h);null===u?(i.add(h),n.add(l)):Ft(this,u,l,r)||n.add(l)}else this.Lx(l),h=this.bf(l),i.add(h),n.add(l)}return t=e,0<i.count&&(t+=this.Cy+Bt(this,i.gc(),!0)),0<n.count&&(t+=this.QB+Bt(this,n.gc(),!0)),0<o.count&&(t+=this.Ey+Bt(this,o.gc(),!0)),t},_h.Cy=',\n  "insertedLinkKeys": ',_h.QB=',\n  "modifiedLinkData": ',_h.Ey=',\n  "removedLinkKeys": ',_h.HB=function(t,e){""===this.yj&&Kh.k("GraphLinksModel.linkKeyProperty must not be an empty string for .toIncrementalJson() to succeed.");var i=Nt.prototype.HB.call(this,t,e),n=this,o=new p,r=new p,s=new p;t.Wf.each(function(t){t.$===n&&("linkDataArray"===t.rf?t.Ac===gc?o.add(t.newValue):t.Ac===vc&&s.add(t.oldValue):n.vh(t.object)&&r.add(t.object))});var a=new p;o.each(function(t){a.add(n.bf(t)),e||r.add(t)});var l=new p;return s.each(function(t){l.add(n.bf(t)),e&&r.add(t)}),0<a.count&&(i+=(e?this.Ey:this.Cy)+Bt(this,a.gc(),!0)),0<r.count&&(i+=this.QB+Bt(this,r.gc(),!0)),0<l.count&&(i+=(e?this.Cy:this.Ey)+Bt(this,l.gc(),!0)),i},_h.YA=function(t){Nt.prototype.YA.call(this,t);var e=t.insertedLinkKeys,i=t.modifiedLinkData,n=new b;if(Kh.isArray(i))for(var o=0;o<i.length;o++){var r=Kh.Ba(i,o),s=this.bf(r);void 0!==s&&null!==s&&n.set(s,r)}if(Kh.isArray(e))for(var o=Kh.Za(e),a=0;a<o;a++)r=Kh.Ba(e,a),null===(s=this.Qp(r))&&(s=(s=n.get(r))?s:this.Zw({}),this.kG(s,r),this.xt(s));if(Kh.isArray(i))for(o=Kh.Za(i),a=0;a<o;a++)if(r=Kh.Ba(i,a),s=this.bf(r),null!==(s=this.Qp(s)))for(var l in r)"__gohashid"!==l&&l!==this.yj&&this.setDataProperty(s,l,r[l]);if(t=t.removedLinkKeys,Kh.isArray(t))for(o=Kh.Za(t),a=0;a<o;a++)r=Kh.Ba(t,a),null!==(s=this.Qp(r))&&this.$x(s)},_h.nn=function(t,e){if(t.Ac===gc){var i=t.zj;if("linkDataArray"===t.rf){var n=t.newValue;if(Kh.Pa(n)&&"number"==typeof i){var o=this.bf(n);e?(this.Ri.remove(n),Kh.Ba(this.hf,i)===n&&Kh.Kg(this.hf,i),void 0!==o&&this.fd.remove(o)):(this.Ri.add(n),Kh.Ba(this.hf,i)!==n&&Kh.sh(this.hf,i,n),void 0!==o&&this.fd.add(o,n))}return}if("linkLabelKeys"===t.rf)return n=this.Ck(t.object),void(Kh.isArray(n)&&"number"==typeof i&&(e?0<=(i=Kh.Jl(n,t.newValue))&&Kh.Kg(n,i):0>Kh.Jl(n,t.newValue)&&Kh.sh(n,i,t.newValue)))}else if(t.Ac===vc){if(i=t.Aj,"linkDataArray"===t.rf)return n=t.oldValue,void(Kh.Pa(n)&&"number"==typeof i&&(o=this.bf(n),e?(this.Ri.add(n),Kh.Ba(this.hf,i)!==n&&Kh.sh(this.hf,i,n),void 0!==o&&this.fd.add(o,n)):(this.Ri.remove(n),Kh.Ba(this.hf,i)===n&&Kh.Kg(this.hf,i),void 0!==o&&this.fd.remove(o))));if("linkLabelKeys"===t.rf)return n=this.Ck(t.object),void(Kh.isArray(n)&&"number"==typeof i&&(e?0>Kh.Jl(n,t.newValue)&&Kh.sh(n,i,t.newValue):0<=(i=Kh.Jl(n,t.newValue))&&Kh.Kg(n,i)))}Nt.prototype.nn.call(this,t,e)},Kh.defineProperty(Qt,{Uz:"archetypeNodeData"},function(){return this.um},function(t){var e=this.um;e!==t&&(null!==t&&Kh.G(t,Object,Qt,"archetypeNodeData"),this.um=t,this.h("archetypeNodeData",e,t))}),Qt.prototype.Ln=function(t){if(void 0!==t){var e=this.um;if(null!==e){var i=this.ve(t);null===i&&(i=this.copyNodeData(e),Kh.La(i,this.fk,t),this.Gl(i))}return t}},Kh.defineProperty(Qt,{Jn:"linkFromKeyProperty"},function(){return this.Vh},function(t){var e=this.Vh;e!==t&&(_t(t,Qt,"linkFromKeyProperty"),this.Vh=t,this.h("linkFromKeyProperty",e,t))}),Qt.prototype.getFromKeyForLinkData=Qt.prototype.Wl=function(t){if(null!==t){var e=this.Vh;if(""!==e&&void 0!==(e=Kh.tb(t,e))){if(Ut(e))return e;Kh.k("FromKey value for link data "+t+" is not a number or a string: "+e)}}},Qt.prototype.setFromKeyForLinkData=Qt.prototype.jB=function(t,e){if(null===e&&(e=void 0),void 0===e||Ut(e)||Kh.Bd(e,"number or string",Qt,"setFromKeyForLinkData:key"),null!==t){var i=this.Vh;if(""!==i)if(e=this.Ln(e),this.vh(t)){var n=Kh.tb(t,i);n!==e&&(Yt(this,n,t),Kh.La(t,i,e),null===this.ve(e)&&Wt(this,e,t),Gt(this,"linkFromKey",yc,i,t,n,e),"string"==typeof i&&this.Ib(t,i))}else Kh.La(t,i,e)}},Kh.defineProperty(Qt,{Kn:"linkToKeyProperty"},function(){return this.Wh},function(t){var e=this.Wh;e!==t&&(_t(t,Qt,"linkToKeyProperty"),this.Wh=t,this.h("linkToKeyProperty",e,t))}),Qt.prototype.getToKeyForLinkData=Qt.prototype.Xl=function(t){if(null!==t){var e=this.Wh;if(""!==e&&void 0!==(e=Kh.tb(t,e))){if(Ut(e))return e;Kh.k("ToKey value for link data "+t+" is not a number or a string: "+e)}}},Qt.prototype.setToKeyForLinkData=Qt.prototype.pB=function(t,e){if(null===e&&(e=void 0),void 0===e||Ut(e)||Kh.Bd(e,"number or string",Qt,"setToKeyForLinkData:key"),null!==t){var i=this.Wh;if(""!==i)if(e=this.Ln(e),this.vh(t)){var n=Kh.tb(t,i);n!==e&&(Yt(this,n,t),Kh.La(t,i,e),null===this.ve(e)&&Wt(this,e,t),Gt(this,"linkToKey",yc,i,t,n,e),"string"==typeof i&&this.Ib(t,i))}else Kh.La(t,i,e)}},Kh.defineProperty(Qt,{ou:"linkFromPortIdProperty"},function(){return this.Mm},function(t){var e=this.Mm;e!==t&&(_t(t,Qt,"linkFromPortIdProperty"),t!==this.Jn&&t!==this.Kn||Kh.k("linkFromPortIdProperty name must not be the same as the GraphLinksModel.linkFromKeyProperty or linkToKeyProperty: "+t),this.Mm=t,this.h("linkFromPortIdProperty",e,t))}),Qt.prototype.getFromPortIdForLinkData=Qt.prototype.$H=function(t){if(null===t)return"";var e=this.Mm;return""===e?"":(t=Kh.tb(t,e),void 0===t?"":t)},Qt.prototype.setFromPortIdForLinkData=Qt.prototype.kB=function(t,e){if(Kh.j(e,"string",Qt,"setFromPortIdForLinkData:portname"),null!==t){var i=this.Mm;if(""!==i)if(this.vh(t)){var n=Kh.tb(t,i);void 0===n&&(n=""),n!==e&&(Kh.La(t,i,e),Gt(this,"linkFromPortId",yc,i,t,n,e),"string"==typeof i&&this.Ib(t,i))}else Kh.La(t,i,e)}},Kh.defineProperty(Qt,{qu:"linkToPortIdProperty"},function(){return this.Nm},function(t){var e=this.Nm;e!==t&&(_t(t,Qt,"linkToPortIdProperty"),t!==this.Jn&&t!==this.Kn||Kh.k("linkFromPortIdProperty name must not be the same as the GraphLinksModel.linkFromKeyProperty or linkToKeyProperty: "+t),this.Nm=t,this.h("linkToPortIdProperty",e,t))}),Qt.prototype.getToPortIdForLinkData=Qt.prototype.dI=function(t){if(null===t)return"";var e=this.Nm;return""===e?"":(t=Kh.tb(t,e),void 0===t?"":t)},Qt.prototype.setToPortIdForLinkData=Qt.prototype.qB=function(t,e){if(Kh.j(e,"string",Qt,"setToPortIdForLinkData:portname"),null!==t){var i=this.Nm;if(""!==i)if(this.vh(t)){var n=Kh.tb(t,i);void 0===n&&(n=""),n!==e&&(Kh.La(t,i,e),Gt(this,"linkToPortId",yc,i,t,n,e),"string"==typeof i&&this.Ib(t,i))}else Kh.La(t,i,e)}},Kh.defineProperty(Qt,{pu:"linkLabelKeysProperty"},function(){return this.Ag},function(t){var e=this.Ag;e!==t&&(_t(t,Qt,"linkLabelKeysProperty"),this.Ag=t,this.h("linkLabelKeysProperty",e,t))}),Qt.prototype.getLabelKeysForLinkData=Qt.prototype.Ck=function(t){if(null===t)return Kh.fo;var e=this.Ag;return""===e?Kh.fo:(t=Kh.tb(t,e),void 0===t?Kh.fo:t)},Qt.prototype.setLabelKeysForLinkData=Qt.prototype.lG=function(t,e){if(Kh.Wz(e,Qt,"setLabelKeysForLinkData:arr"),null!==t){var i=this.Ag;if(""!==i)if(this.vh(t)){var n=Kh.tb(t,i);if(void 0===n&&(n=Kh.fo),n!==e){for(var o=Kh.Za(n),r=0;r<o;r++){var s=Kh.Ba(n,r);Yt(this,s,t)}for(Kh.La(t,i,e),o=Kh.Za(e),r=0;r<o;r++)s=Kh.Ba(e,r),null===this.ve(s)&&Wt(this,s,t);Gt(this,"linkLabelKeys",yc,i,t,n,e),"string"==typeof i&&this.Ib(t,i)}}else Kh.La(t,i,e)}},Qt.prototype.addLabelKeyForLinkData=Qt.prototype.lE=function(t,e){if(null!==e&&void 0!==e&&(Ut(e)||Kh.Bd(e,"number or string",Qt,"addLabelKeyForLinkData:key"),null!==t)){var i=this.Ag;if(""!==i){var n=Kh.tb(t,i);if(void 0===n)i=[],i.push(e),this.lG(t,i);else if(Kh.isArray(n)){var o=Kh.Jl(n,e);0<=o||(o=Kh.Za(n),Kh.sh(n,1/0,e),this.vh(t)&&(null===this.ve(e)&&Wt(this,e,t),Gt(this,"linkLabelKeys",gc,i,t,null,e,null,o)))}else Kh.k(i+" property is not an Array; cannot addLabelKeyForLinkData: "+t)}}},Qt.prototype.removeLabelKeyForLinkData=Qt.prototype.nJ=function(t,e){if(null!==e&&void 0!==e&&(Ut(e)||Kh.Bd(e,"number or string",Qt,"removeLabelKeyForLinkData:key"),null!==t)){var i=this.Ag;if(""!==i){var n=Kh.tb(t,i);if(Kh.isArray(n)){var o=Kh.Jl(n,e);0>o||(Kh.Kg(n,o),this.vh(t)&&(Yt(this,e,t),Gt(this,"linkLabelKeys",vc,i,t,e,null,o,null)))}else void 0!==n&&Kh.k(i+" property is not an Array; cannot removeLabelKeyforLinkData: "+t)}}},Kh.defineProperty(Qt,{Qg:"linkDataArray"},function(){return this.hf},function(t){var e=this.hf;if(e!==t){Kh.Wz(t,Qt,"linkDataArray"),this.fd.clear();for(var i=Kh.Za(t),n=0;n<i;n++){var o=Kh.Ba(t,n);if(!Kh.Pa(o))return void Kh.k("GraphLinksModel.linkDataArray must only contain Objects, not: "+o);Kh.Up(o)}if(this.hf=t,""!==this.yj){for(var r=new c(Object),n=0;n<i;n++){var o=Kh.Ba(t,n),s=this.bf(o);void 0===s?r.add(o):null!==this.fd.ka(s)?r.add(o):this.fd.add(s,o)}for(n=r.i;n.next();)o=n.value,this.Lx(o),void 0!==(r=this.bf(o))&&this.fd.add(r,o)}for(r=new p(Object),n=0;n<i;n++)o=Kh.Ba(t,n),r.add(o);for(this.Ri=r,Gt(this,"linkDataArray",yc,"linkDataArray",this,e,t),n=0;n<i;n++)o=Kh.Ba(t,n),ee(this,o)}}),Kh.defineProperty(Qt,{yj:"linkKeyProperty"},function(){return this.ql},function(t){var e=this.ql;if(e!==t){_t(t,Qt,"linkKeyProperty"),this.ql=t,this.fd.clear();for(var i=Kh.Za(this.Qg),n=0;n<i;n++){var o=Kh.Ba(this.Qg,n),r=this.bf(o);void 0===r&&(this.Lx(o),r=this.bf(o)),void 0!==r&&this.fd.add(r,o)}this.h("linkKeyProperty",e,t)}}),Qt.prototype.getKeyForLinkData=Qt.prototype.bf=function(t){if(null!==t){var e=this.ql;if(""!==e&&void 0!==(e=Kh.tb(t,e))){if(Ut(e))return e;Kh.k("Key value for link data "+t+" is not a number or a string: "+e)}}},Qt.prototype.setKeyForLinkData=Qt.prototype.kG=function(t,e){if(void 0!==e&&null!==e&&Ut(e)||Kh.Bd(e,"number or string",Qt,"setKeyForLinkData:key"),null!==t){var i=this.ql;if(""!==i)if(this.vh(t)){var n=Kh.tb(t,i);n!==e&&null===this.Qp(e)&&(Kh.La(t,i,e),this.fd.remove(n),this.fd.add(e,t),Gt(this,"linkKey",yc,i,t,n,e),"string"==typeof i&&this.Ib(t,i))}else Kh.La(t,i,e)}},Kh.defineProperty(Qt,{mL:"makeUniqueLinkKeyFunction"},function(){return this.Xo},function(t){var e=this.Xo;e!==t&&(null!==t&&Kh.j(t,"function",Qt,"makeUniqueLinkKeyFunction"),this.Xo=t,this.h("makeUniqueLinkKeyFunction",e,t))}),Qt.prototype.findLinkDataForKey=Qt.prototype.Qp=function(t){return null===t&&Kh.k("GraphLinksModel.findLinkDataForKey:key must not be null"),void 0!==t&&Ut(t)?this.fd.ka(t):null},Qt.prototype.makeLinkDataKeyUnique=Qt.prototype.Lx=function(t){if(null!==t){var e=this.ql;if(""!==e){var i=this.bf(t);if(void 0===i||this.fd.contains(i)){var n=this.Xo;if(null!==n&&void 0!==(i=n(this,t))&&null!==i&&!this.fd.contains(i))return void Kh.La(t,e,i);if("string"==typeof i){for(n=2;this.fd.contains(i+n);)n++;Kh.La(t,e,i+n)}else if(void 0===i||"number"==typeof i){for(n=-this.fd.count-1;this.fd.contains(n);)n--;Kh.La(t,e,n)}else Kh.k("GraphLinksModel.getKeyForLinkData returned something other than a string or a number: "+i)}}}},Qt.prototype.containsLinkData=Qt.prototype.vh=function(t){return null!==t&&this.Ri.contains(t)},Qt.prototype.addLinkData=Qt.prototype.xt=function(t){null!==t&&(Kh.Up(t),this.vh(t)||Zt(this,t,!0))},Qt.prototype.addLinkDataCollection=function(t){if(Kh.isArray(t))for(var e=Kh.Za(t),i=0;i<e;i++)this.xt(Kh.Ba(t,i));else for(t=t.i;t.next();)this.xt(t.value)},Qt.prototype.removeLinkData=Qt.prototype.$x=function(t){null!==t&&te(this,t,!0)},Qt.prototype.removeLinkDataCollection=function(t){if(Kh.isArray(t))for(var e=Kh.Za(t),i=0;i<e;i++)this.$x(Kh.Ba(t,i));else for(t=t.i;t.next();)this.$x(t.value)},Kh.defineProperty(Qt,{FK:"copyLinkDataFunction"},function(){return this.ro},function(t){var e=this.ro;e!==t&&(null!==t&&Kh.j(t,"function",Qt,"copyLinkDataFunction"),this.ro=t,this.h("copyLinkDataFunction",e,t))}),Qt.prototype.copyLinkData=Qt.prototype.Zw=function(t){if(null===t)return null;var e=null,e=this.ro,e=null!==e?e(t,this):Xt(this,t,!0);return Kh.Pa(e)&&(Kh.nc(e),""!==this.Vh&&Kh.La(e,this.Vh,void 0),""!==this.Wh&&Kh.La(e,this.Wh,void 0),""!==this.Ag&&Kh.La(e,this.Ag,[])),e},Kh.defineProperty(Qt,{gq:"nodeIsGroupProperty"},function(){return this.ap},function(t){var e=this.ap;e!==t&&(_t(t,Qt,"nodeIsGroupProperty"),this.ap=t,this.h("nodeIsGroupProperty",e,t))}),Qt.prototype.isGroupForNodeData=Qt.prototype.DA=function(t){if(null===t)return!1;var e=this.ap;return""!==e&&!!Kh.tb(t,e)},Kh.defineProperty(Qt,{xu:"nodeGroupKeyProperty"},function(){return this.lh},function(t){var e=this.lh;e!==t&&(_t(t,Qt,"nodeGroupKeyProperty"),this.lh=t,this.h("nodeGroupKeyProperty",e,t))}),Kh.defineProperty(Qt,{rn:"copiesGroupKeyOfNodeData"},function(){return this.Yq},function(t){this.Yq!==t&&(Kh.j(t,"boolean",Qt,"copiesGroupKeyOfNodeData"),this.Yq=t)}),Qt.prototype.getGroupKeyForNodeData=Qt.prototype.zn=function(t){if(null!==t){var e=this.lh;if(""!==e&&void 0!==(e=Kh.tb(t,e))){if(Ut(e))return e;Kh.k("GroupKey value for node data "+t+" is not a number or a string: "+e)}}},Qt.prototype.setGroupKeyForNodeData=Qt.prototype.lB=function(t,e){if(null===e&&(e=void 0),void 0===e||Ut(e)||Kh.Bd(e,"number or string",Qt,"setGroupKeyForNodeData:key"),null!==t){var i=this.lh;if(""!==i)if(this.He(t)){var n=Kh.tb(t,i);n!==e&&(Yt(this,n,t),Kh.La(t,i,e),null===this.ve(e)&&Wt(this,e,t),Gt(this,"nodeGroupKey",yc,i,t,n,e),"string"==typeof i&&this.Ib(t,i))}else Kh.La(t,i,e)}},Qt.prototype.copyNodeData=function(t){return null===t?null:(t=Nt.prototype.copyNodeData.call(this,t),this.rn||""===this.lh||void 0===Kh.tb(t,this.lh)||Kh.La(t,this.lh,void 0),t)},Qt.prototype.setDataProperty=function(t,e,i){if(this.He(t))if(e===this.dm)this.ly(t,i);else{if(e===this.Sn)return void this.jy(t,i);if(e===this.xu)return void this.lB(t,i);e===this.gq&&Kh.k("GraphLinksModel.setDataProperty: property name must not be the nodeIsGroupProperty: "+e)}else if(this.vh(t)){if(e===this.Jn)return void this.jB(t,i);if(e===this.Kn)return void this.pB(t,i);if(e===this.ou)return void this.kB(t,i);if(e===this.qu)return void this.qB(t,i);if(e===this.yj)return void this.kG(t,i);if(e===this.nu)return void this.jG(t,i);if(e===this.pu)return void this.lG(t,i)}else!mc&&t instanceof Eo&&(mc=!0,Kh.trace('GraphLinksModel.setDataProperty is modifying a GraphObject, "'+t.toString()+'"'),Kh.trace("  Is that really your intent?"));var n=Kh.tb(t,e);n!==i&&(Kh.La(t,e,i),this.XA(t,e,n,i))},_h=Qt.prototype,_h.Du=function(t,e){Nt.prototype.Du.call(this,t,e);for(var i=this.Hc.i;i.next();)this.cB(i.value,t,e);for(i=this.Ri.i;i.next();){var n=i.value,o=t,r=e;if(this.Wl(n)===o){var s=this.Vh;Kh.La(n,s,r),Gt(this,"linkFromKey",yc,s,n,o,r),"string"==typeof s&&this.Ib(n,s)}if(this.Xl(n)===o&&(s=this.Wh,Kh.La(n,s,r),Gt(this,"linkToKey",yc,s,n,o,r),"string"==typeof s&&this.Ib(n,s)),s=this.Ck(n),Kh.isArray(s))for(var a=Kh.Za(s),l=this.Ag,h=0;h<a;h++)Kh.Ba(s,h)===o&&(Kh.sE(s,h,r),Gt(this,"linkLabelKeys",gc,l,n,o,r,h,h))}},_h.cB=function(t,e,i){if(this.zn(t)===e){var n=this.lh;Kh.La(t,n,i),Gt(this,"nodeGroupKey",yc,n,t,e,i),"string"==typeof n&&this.Ib(t,n)}},_h.DB=function(){Nt.prototype.DB.call(this);for(var t=this.Qg,e=Kh.Za(t),i=0;i<e;i++){ee(this,Kh.Ba(t,i))}},_h.kq=function(t){Nt.prototype.kq.call(this,t),t=this.pb(t);var e=Jt(this,t);if(null!==e){for(var i=new c(Object),e=e.i;e.next();){var n=e.value;if(this.He(n)){if(this.zn(n)===t){var o=this.lh;Gt(this,"nodeGroupKey",yc,o,n,t,t),"string"==typeof o&&this.Ib(n,o),i.add(n)}}else if(this.Wl(n)===t&&(o=this.Vh,Gt(this,"linkFromKey",yc,o,n,t,t),"string"==typeof o&&this.Ib(n,o),i.add(n)),this.Xl(n)===t&&(o=this.Wh,Gt(this,"linkToKey",yc,o,n,t,t),"string"==typeof o&&this.Ib(n,o),i.add(n)),o=this.Ck(n),Kh.isArray(o))for(var r=Kh.Za(o),s=this.Ag,a=0;a<r;a++)Kh.Ba(o,a)===t&&(Gt(this,"linkLabelKeys",gc,s,n,t,t,a,a),i.add(n))}for(i=i.i;i.next();)Yt(this,t,i.value)}},_h.jq=function(t){Nt.prototype.jq.call(this,t);var e=this.zn(t);null===this.ve(e)&&Wt(this,e,t)},_h.Su=function(t){Nt.prototype.Su.call(this,t),Yt(this,this.zn(t),t)},Kh.defineProperty(Qt,{nu:"linkCategoryProperty"},function(){return this.Lm},function(t){var e=this.Lm;e!==t&&(_t(t,Qt,"linkCategoryProperty"),this.Lm=t,this.h("linkCategoryProperty",e,t))}),Qt.prototype.getCategoryForLinkData=Qt.prototype.sx=function(t){if(null===t)return"";var e=this.Lm;return""===e?"":void 0===(e=Kh.tb(t,e))?"":"string"==typeof e?e:(Kh.k("getCategoryForLinkData found a non-string category for "+t+": "+e),"")},Qt.prototype.setCategoryForLinkData=Qt.prototype.jG=function(t,e){if(Kh.j(e,"string",Qt,"setCategoryForLinkData:cat"),null!==t){var i=this.Lm;if(""!==i)if(this.vh(t)){var n=Kh.tb(t,i);void 0===n&&(n=""),n!==e&&(Kh.La(t,i,e),Gt(this,"linkCategory",yc,i,t,n,e),"string"==typeof i&&this.Ib(t,i))}else Kh.La(t,i,e)}},Kh.Ka(ie,Nt),Kh.ga("TreeModel",ie),ie.prototype.cloneProtected=function(t){Nt.prototype.cloneProtected.call(this,t),t.mh=this.mh,t.Zq=this.Zq,t.Um=this.Um},ie.prototype.toString=function(t){if(void 0===t&&(t=0),2<=t)return this.wB();var e=(""!==this.name?this.name:"")+" TreeModel";if(0<t){e+="\n node data:",t=this.hg;for(var i=Kh.Za(t),n=0;n<i;n++)var o=Kh.Ba(t,n),e=e+" "+this.pb(o)+":"+xc(o)}return e},ie.prototype.bo=function(){var t=Nt.prototype.bo.call(this),e="";return"parent"!==this.yu&&"string"==typeof this.yu&&(e+=',\n  "nodeParentKeyProperty": '+this.quote(this.yu)),t+e},ie.prototype.Bu=function(t){Nt.prototype.Bu.call(this,t),t.nodeParentKeyProperty&&(this.yu=t.nodeParentKeyProperty)},ie.prototype.Ln=function(t){return t},Kh.defineProperty(ie,{yu:"nodeParentKeyProperty"},function(){return this.mh},function(t){var e=this.mh;e!==t&&(_t(t,ie,"nodeParentKeyProperty"),this.mh=t,this.h("nodeParentKeyProperty",e,t))}),Kh.defineProperty(ie,{sn:"copiesParentKeyOfNodeData"},function(){return this.Zq},function(t){this.Zq!==t&&(Kh.j(t,"boolean",ie,"copiesParentKeyOfNodeData"),this.Zq=t)}),ie.prototype.getParentKeyForNodeData=ie.prototype.Bn=function(t){if(null!==t){var e=this.mh;if(""!==e&&void 0!==(e=Kh.tb(t,e))){if(Ut(e))return e;Kh.k("ParentKey value for node data "+t+" is not a number or a string: "+e)}}},ie.prototype.setParentKeyForNodeData=ie.prototype.ti=function(t,e){if(null===e&&(e=void 0),void 0===e||Ut(e)||Kh.Bd(e,"number or string",ie,"setParentKeyForNodeData:key"),null!==t){var i=this.mh;if(""!==i)if(e=this.Ln(e),this.He(t)){var n=Kh.tb(t,i);n!==e&&(Yt(this,n,t),Kh.La(t,i,e),null===this.ve(e)&&Wt(this,e,t),Gt(this,"nodeParentKey",yc,i,t,n,e),"string"==typeof i&&this.Ib(t,i))}else Kh.La(t,i,e)}},Kh.defineProperty(ie,{DL:"parentLinkCategoryProperty"},function(){return this.Um},function(t){var e=this.Um;e!==t&&(_t(t,ie,"parentLinkCategoryProperty"),this.Um=t,this.h("parentLinkCategoryProperty",e,t))}),ie.prototype.getParentLinkCategoryForNodeData=ie.prototype.bI=function(t){if(null===t)return"";var e=this.Um;return""===e?"":void 0===(e=Kh.tb(t,e))?"":"string"==typeof e?e:(Kh.k("getParentLinkCategoryForNodeData found a non-string category for "+t+": "+e),"")},ie.prototype.setParentLinkCategoryForNodeData=ie.prototype.DJ=function(t,e){if(Kh.j(e,"string",ie,"setParentLinkCategoryForNodeData:cat"),null!==t){var i=this.Um;if(""!==i)if(this.He(t)){var n=Kh.tb(t,i);void 0===n&&(n=""),n!==e&&(Kh.La(t,i,e),Gt(this,"parentLinkCategory",yc,i,t,n,e),"string"==typeof i&&this.Ib(t,i))}else Kh.La(t,i,e)}},ie.prototype.copyNodeData=function(t){return null===t?null:(t=Nt.prototype.copyNodeData.call(this,t),this.sn||""===this.mh||void 0===Kh.tb(t,this.mh)||Kh.La(t,this.mh,void 0),t)},ie.prototype.setDataProperty=function(t,e,i){if(this.He(t))if(e===this.dm)this.ly(t,i);else{if(e===this.Sn)return void this.jy(t,i);if(e===this.yu)return void this.ti(t,i)}else!mc&&t instanceof Eo&&(mc=!0,Kh.trace('TreeModel.setDataProperty is modifying a GraphObject, "'+t.toString()+'"'),Kh.trace("  Is that really your intent?"));var n=Kh.tb(t,e);n!==i&&(Kh.La(t,e,i),this.XA(t,e,n,i))},_h=ie.prototype,_h.Du=function(t,e){Nt.prototype.Du.call(this,t,e);for(var i=this.Hc.i;i.next();)this.cB(i.value,t,e)},_h.cB=function(t,e,i){if(this.Bn(t)===e){var n=this.mh;Kh.La(t,n,i),Gt(this,"nodeParentKey",yc,n,t,e,i),"string"==typeof n&&this.Ib(t,n)}},_h.kq=function(t){Nt.prototype.kq.call(this,t),t=this.pb(t);var e=Jt(this,t);if(null!==e){for(var i=new c(Object),e=e.i;e.next();){var n=e.value;if(this.He(n)&&this.Bn(n)===t){var o=this.mh;Gt(this,"nodeParentKey",yc,o,n,t,t),"string"==typeof o&&this.Ib(n,o),i.add(n)}}for(i=i.i;i.next();)Yt(this,t,i.value)}},_h.jq=function(t){Nt.prototype.jq.call(this,t);var e=this.Bn(t),e=this.Ln(e);null===this.ve(e)&&Wt(this,e,t)},_h.Su=function(t){Nt.prototype.Su.call(this,t),Yt(this,this.Bn(t),t)},Kh.ga("Binding",ne),ne.prototype.copy=function(){var t=new ne;return t.tp=this.tp,t.kt=this.kt,t.sp=this.sp,t.Aw=this.Aw,t.Qr=this.Qr,t.kp=this.kp,t.Vq=this.Vq,t.ks=this.ks,t.Oq=this.Oq,t};var bc;ne.OneWay=bc=Kh.p(ne,"OneWay",1);var wc;ne.TwoWay=wc=Kh.p(ne,"TwoWay",2),ne.parseEnum=function(t,e){return Kh.j(t,"function",ne,"parseEnum:ctor"),Kh.mb(e,t,ne,"parseEnum:defval"),function(i){return i=$h(t,i),null===i?e:i}},ne.prototype.ic=function(t){t.Ee===ne?this.mode=t:Kh.Fj(this,t)};var xc;ne.toString=xc=function(t){var e=t;return Kh.Pa(t)&&(t.text?e=t.text:t.name?e=t.name:void 0!==t.key?e=t.key:void 0!==t.id?e=t.id:t.constructor===Object&&(t.Text?e=t.Text:t.Name?e=t.Name:void 0!==t.Key?e=t.Key:void 0!==t.Id?e=t.Id:void 0!==t.ID&&(e=t.ID))),void 0===e?"undefined":null===e?"null":e.toString()},ne.prototype.toString=function(){return"Binding("+this.oy+":"+this.oG+(-1!==this.km?" "+this.km:"")+" "+this.mode.name+")"},ne.prototype.freeze=function(){return this.P=!0,this},ne.prototype.Qa=function(){return this.P=!1,this},Kh.defineProperty(ne,{km:null},function(){return this.ND},function(t){this.P&&Kh.ma(this),Kh.j(t,"number",ne,"targetId"),this.ND=t}),Kh.defineProperty(ne,{oy:"targetProperty"},function(){return this.tp},function(t){this.P&&Kh.ma(this),Kh.j(t,"string",ne,"targetProperty"),this.tp=t}),Kh.defineProperty(ne,{wq:"sourceName"},function(){return this.Aw},function(t){this.P&&Kh.ma(this),null!==t&&Kh.j(t,"string",ne,"sourceName"),this.Aw=t,null!==t&&(this.Qr=!1)}),Kh.defineProperty(ne,{Cx:"isToModel"},function(){return this.Qr},function(t){this.P&&Kh.ma(this),Kh.j(t,"boolean",ne,"isToModel"),this.Qr=t}),Kh.defineProperty(ne,{oG:"sourceProperty"},function(){return this.kp},function(t){this.P&&Kh.ma(this),Kh.j(t,"string",ne,"sourceProperty"),this.kp=t}),Kh.defineProperty(ne,{AH:"converter"},function(){return this.Vq},function(t){this.P&&Kh.ma(this),null!==t&&Kh.j(t,"function",ne,"converter"),this.Vq=t}),Kh.defineProperty(ne,{nH:"backConverter"},function(){return this.Oq},function(t){this.P&&Kh.ma(this),null!==t&&Kh.j(t,"function",ne,"backConverter"),this.Oq=t}),Kh.defineProperty(ne,{mode:"mode"},function(){return this.ks},function(t){this.P&&Kh.ma(this),Kh.mb(t,ne,ne,"mode"),this.ks=t}),ne.prototype.makeTwoWay=ne.prototype.OI=function(t){return void 0===t&&(t=null),null!==t&&Kh.j(t,"function",ne,"makeTwoWay"),this.mode=wc,this.nH=t,this},ne.prototype.ofObject=ne.prototype.Ox=function(t){return void 0===t&&(t=""),this.wq=t,this.Cx=!1,this},ne.prototype.ofModel=function(){return this.wq=null,this.Cx=!0,this},ne.prototype.updateTarget=ne.prototype.DG=function(t,e,i){var n=this.kp;if(void 0===i||""===n||n===i){i=this.tp;var o=this.Vq;if(null===o&&""===i)Kh.trace("Binding error: target property is the empty string: "+this.toString());else{var r=e;if(""!==n&&(r=Kh.tb(e,n)),void 0!==r)if(null===o)""!==i&&Kh.La(t,i,r);else try{if(""!==i){var s=o(r,t);Kh.La(t,i,s)}else o(r,t)}catch(t){}}}},ne.prototype.updateSource=ne.prototype.py=function(t,e,i,n){if(this.ks===wc){var o=this.tp;if(void 0===i||o===i){i=this.kp;var r=this.Oq,s=t;if(""!==o&&(s=Kh.tb(t,o)),void 0!==s&&!this.dz.contains(t))try{this.dz.add(t);var a=null!==n?n.g:null,l=null!==a?a.$:null;if(null===r){if(""!==i)null!==l?l.setDataProperty(e,i,s):Kh.La(e,i,s);else if(null!==l&&null!==n&&0<=n.lu&&null!==n.Q&&Array.isArray(n.Q.bq)){var h=n.lu,u=n.Q.bq;l.UF(u,h),l.zA(u,h,s)}}else try{if(""!==i){var c=r(s,e,l);null!==l?l.setDataProperty(e,i,c):Kh.La(e,i,c)}else void 0!==(c=r(s,e,l))&&null!==l&&null!==n&&0<=n.lu&&null!==n.Q&&Array.isArray(n.Q.bq)&&(h=n.lu,u=n.Q.bq,l.UF(u,h),l.zA(u,h,c))}catch(t){}}finally{this.dz.remove(t)}}}},Kh.ga("Transaction",re),re.prototype.toString=function(t){var e="Transaction: "+this.name+" "+this.Wf.count.toString()+(this.eu?"":", incomplete");if(void 0!==t&&0<t){t=this.Wf.count;for(var i=0;i<t;i++){var n=this.Wf.da(i);null!==n&&(e+="\n  "+n.toString())}}return e},re.prototype.clear=re.prototype.clear=function(){var t=this.Wf;t.Qa();for(var e=t.count-1;0<=e;e--){var i=t.da(e);null!==i&&i.clear()}t.clear(),t.freeze()},re.prototype.canUndo=re.prototype.canUndo=function(){return this.eu},re.prototype.undo=re.prototype.undo=function(){if(this.canUndo())for(var t=this.Wf.count-1;0<=t;t--){var e=this.Wf.da(t);null!==e&&e.undo()}},re.prototype.canRedo=re.prototype.canRedo=function(){return this.eu},re.prototype.redo=re.prototype.redo=function(){if(this.canRedo())for(var t=this.Wf.count,e=0;e<t;e++){var i=this.Wf.da(e);null!==i&&i.redo()}},Kh.u(re,{Wf:"changes"},function(){return this.JG}),Kh.defineProperty(re,{name:"name"},function(){return this.Sb},function(t){this.Sb=t}),Kh.defineProperty(re,{eu:"isComplete"},function(){return this.RC},function(t){this.RC=t}),Kh.ga("UndoManager",se),se.prototype.toString=function(t){for(var e="UndoManager "+this.rj+"<"+this.history.count+"<="+this.EF,e=e+"[",i=this.JF.count,n=0;n<i;n++)0<n&&(e+=" "),e+=this.JF.da(n);if(e+="]",void 0!==t&&0<t)for(i=this.history.count,n=0;n<i;n++)e+="\n "+this.history.da(n).toString(t-1);return e},se.prototype.clear=se.prototype.clear=function(){var t=this.history;t.Qa();for(var e=t.count-1;0<=e;e--){var i=t.da(e);null!==i&&i.clear()}t.clear(),this.fh=-1,t.freeze(),this.Of=!1,this.sv=null,this.Dl=0,this.kh.Qa(),this.kh.clear(),this.kh.freeze(),this.$o.clear()},se.prototype.addModel=se.prototype.fH=function(t){this.uz.add(t)},se.prototype.removeModel=se.prototype.oJ=function(t){this.uz.remove(t)},se.prototype.startTransaction=se.prototype.Hb=function(t){if(void 0===t&&(t=""),null===t&&(t=""),this.ab)return!1;!0===this.ez&&(this.ez=!1,this.Dl++,this.hd("StartingFirstTransaction",t,this.mj),0<this.Dl&&this.Dl--),this.isEnabled&&(this.kh.Qa(),this.kh.add(t),this.kh.freeze(),null===this.mj?this.$o.add(0):this.$o.add(this.mj.Wf.count)),this.Dl++;var e=1===this.Ih;return e&&this.hd("StartedTransaction",t,this.mj),e},se.prototype.commitTransaction=se.prototype.Wc=function(t){return void 0===t&&(t=""),ae(this,!0,t)},se.prototype.rollbackTransaction=se.prototype.lq=function(){return ae(this,!1,"")},se.prototype.canUndo=se.prototype.canUndo=function(){if(!this.isEnabled||0<this.Ih||this.ab)return!1;var t=this.yG;return!(null===t||!t.canUndo())},se.prototype.undo=se.prototype.undo=function(){if(this.canUndo()){var t=this.yG;try{this.hd("StartingUndo","Undo",t),this.Of=!0,this.fh--,t.undo()}catch(t){Kh.trace("undo error: "+t.toString())}finally{this.Of=!1,this.hd("FinishedUndo","Undo",t)}}},se.prototype.canRedo=se.prototype.canRedo=function(){if(!this.isEnabled||0<this.Ih||this.ab)return!1;var t=this.xG;return!(null===t||!t.canRedo())},se.prototype.redo=se.prototype.redo=function(){if(this.canRedo()){var t=this.xG;try{this.hd("StartingRedo","Redo",t),this.Of=!0,this.fh++,t.redo()}catch(t){Kh.trace("redo error: "+t.toString())}finally{this.Of=!1,this.hd("FinishedRedo","Redo",t)}}},se.prototype.hd=function(t,e,i){void 0===i&&(i=null);var n=new Lt;for(n.Ac=fc,n.propertyName=t,n.object=i,n.oldValue=e,t=this.ZI;t.next();)e=t.value,n.$=e,e.Ww(n)},se.prototype.handleChanged=se.prototype.gF=function(t){if(this.isEnabled&&!this.ab&&!this.skipsEvent(t)){var e=this.mj;null===e&&(this.sv=e=new re);var i=t.copy(),e=e.Wf;e.Qa(),e.add(i),e.freeze(),this.Xz&&0>=this.Ih&&!this.ez&&(null!==(t=t.g)&&!1===t.Gn||Kh.trace("Change not within a transaction: "+i.toString()))}},se.prototype.skipsEvent=function(t){if(null===t||0>t.Ac.value)return!0;if((t=t.object)instanceof Eo){if(null!==(t=t.layer)&&t.Mc)return!0}else if(t instanceof Ri&&t.Mc)return!0;return!1},Kh.u(se,{ZI:"models"},function(){return this.uz.i}),Kh.defineProperty(se,{isEnabled:"isEnabled"},function(){return this.gf},function(t){this.gf=t}),Kh.u(se,{yG:"transactionToUndo"},function(){return 0<=this.rj&&this.rj<=this.history.count-1?this.history.da(this.rj):null}),Kh.u(se,{xG:"transactionToRedo"},function(){return this.rj<this.history.count-1?this.history.da(this.rj+1):null}),Kh.u(se,{ab:"isUndoingRedoing"},function(){return this.Of}),Kh.u(se,{history:"history"},function(){return this.NG}),Kh.defineProperty(se,{EF:"maxHistoryLength"},function(){return this.fD},function(t){this.fD=t}),Kh.u(se,{rj:"historyIndex"},function(){return this.fh}),Kh.u(se,{mj:"currentTransaction"},function(){return this.sv}),Kh.u(se,{Ih:"transactionLevel"},function(){return this.Dl}),Kh.u(se,{tF:"isInTransaction"},function(){return 0<this.Dl}),Kh.defineProperty(se,{Xz:"checksTransactionLevel"},function(){return this.bC},function(t){this.bC=t}),Kh.u(se,{JF:"nestedTransactionNames"},function(){return this.kh}),Kh.ga("CommandHandler",le);var Cc=null,kc="";le.prototype.toString=function(){return"CommandHandler"},Kh.u(le,{g:"diagram"},function(){return this.fa}),le.prototype.Rc=function(t){this.fa=t},le.prototype.doKeyDown=function(){var t=this.g;if(null!==t){var e=t.R,i=Kh.Gk?e.su:e.control,n=e.shift,o=e.alt,r=e.key;!i||"C"!==r&&"Insert"!==r?i&&"X"===r||n&&"Del"===r?this.canCutSelection()&&this.cutSelection():i&&"V"===r||n&&"Insert"===r?this.canPasteSelection()&&this.pasteSelection():i&&"Y"===r||o&&n&&"Backspace"===r?this.canRedo()&&this.redo():i&&"Z"===r||o&&"Backspace"===r?this.canUndo()&&this.undo():"Del"===r||"Backspace"===r?this.canDeleteSelection()&&this.deleteSelection():i&&"A"===r?this.canSelectAll()&&this.selectAll():"Esc"===r?this.canStopCommand()&&this.stopCommand():"Up"===r?t.pe&&(i?t.scroll("pixel","up"):t.scroll("line","up")):"Down"===r?t.pe&&(i?t.scroll("pixel","down"):t.scroll("line","down")):"Left"===r?t.oe&&(i?t.scroll("pixel","left"):t.scroll("line","left")):"Right"===r?t.oe&&(i?t.scroll("pixel","right"):t.scroll("line","right")):"PageUp"===r?n&&t.oe?t.scroll("page","left"):t.pe&&t.scroll("page","up"):"PageDown"===r?n&&t.oe?t.scroll("page","right"):t.pe&&t.scroll("page","down"):"Home"===r?i&&t.pe?t.scroll("document","up"):!i&&t.oe&&t.scroll("document","left"):"End"===r?i&&t.pe?t.scroll("document","down"):!i&&t.oe&&t.scroll("document","right"):" "===r?this.canScrollToPart()&&this.scrollToPart():"Subtract"===r?this.canDecreaseZoom()&&this.decreaseZoom():"Add"===r?this.canIncreaseZoom()&&this.increaseZoom():i&&"0"===r?this.canResetZoom()&&this.resetZoom():n&&"Z"===r?this.canZoomToFit()&&this.zoomToFit():i&&!n&&"G"===r?this.canGroupSelection()&&this.groupSelection():i&&n&&"G"===r?this.canUngroupSelection()&&this.ungroupSelection():e.event&&113===e.event.which?this.canEditTextBlock()&&this.editTextBlock():e.event&&93===e.event.which?this.canShowContextMenu()&&this.showContextMenu():e.bubbles=!0:this.canCopySelection()&&this.copySelection()}},le.prototype.doKeyUp=function(){var t=this.g;null!==t&&(t.R.bubbles=!0)},le.prototype.stopCommand=function(){var t=this.g;if(null!==t){var e=t.$a;e instanceof vi&&t.yf&&t.Xw(),null!==e&&e.doCancel()}},le.prototype.canStopCommand=function(){return!0},le.prototype.selectAll=function(){var t=this.g;if(null!==t){t.oa();try{t.ec="wait",t.Aa("ChangingSelection");for(var e=t.Kk;e.next();)e.value.ib=!0;for(var i=t.ig;i.next();)i.value.ib=!0;for(var n=t.links;n.next();)n.value.ib=!0}finally{t.Aa("ChangedSelection"),t.ec=""}}},le.prototype.canSelectAll=function(){var t=this.g;return null!==t&&t.yf},le.prototype.deleteSelection=function(){var t=this.g;if(null!==t&&!t.Aa("SelectionDeleting",t.selection))try{t.ec="wait",t.Hb("Delete"),t.Aa("ChangingSelection");for(var e=new p(us),i=t.selection.i;i.next();)he(e,i.value,!0,this.LH?1/0:0,this.IE,function(t){return t.canDelete()});t.bB(e,!0),t.Aa("SelectionDeleted",e)}finally{t.Aa("ChangedSelection"),t.Wc("Delete"),t.ec=""}},le.prototype.canDeleteSelection=function(){var t=this.g;return!(null===t||t.hb||t.Bf||!t.jn||0===t.selection.count)},le.prototype.Jp=function(t,e,i){var n=new b(us,us);for(t=t.i;t.next();)ue(this,t.value,e,n,i);if(null!==e){i=e.$,t=!1,null!==e.eb.te&&(t=e.eb.te.oj);for(var o=new p(Ws),r=new b(Ws,Ws),s=n.i;s.next();){var a=s.value;if(a instanceof Ws){var l=a;t||null!==l.Y&&null!==l.Z||o.add(l)}else if(i instanceof ie&&a instanceof js&&null!==a.data){var l=i,h=a,a=s.key,u=a.Ak();null!==u&&(u=n.ka(u),null!==u?(l.ti(h.data,l.pb(u.data)),l=e.Xf(h.data),null!==(a=a.xn())&&null!==l&&r.add(a,l)):l.ti(h.data,void 0))}}if(0<o.count&&e.bB(o,!1),0<r.count)for(i=r.i;i.next();)n.add(i.key,i.value)}if(null!==e&&null!==this.g&&(e=e.$,null!==(i=e.hH))){var c=new b;n.each(function(t){null!==t.key.data&&c.add(t.key.data,t.value.data)}),i(c,e,this.g.$)}for(e=n.i;e.next();)e.value.Ib();return n},le.prototype.copySelection=function(){var t=this.g;if(null!==t){for(var e=new p(us),t=t.selection.i;t.next();)he(e,t.value,!0,this.EH?1/0:0,this.CH,function(t){return t.canCopy()});this.copyToClipboard(e)}},le.prototype.canCopySelection=function(){var t=this.g;return!(null===t||!t.tk||!t.Sz||0===t.selection.count)},le.prototype.cutSelection=function(){this.copySelection(),this.deleteSelection()},le.prototype.canCutSelection=function(){var t=this.g;return!(null===t||t.hb||t.Bf||!t.tk||!t.jn||!t.Sz||0===t.selection.count)},le.prototype.copyToClipboard=function(t){var e=this.g;if(null!==e){var i=null;if(null===t)Cc=null,kc="";else{var i=e.$,n=!1,o=null;try{if(i instanceof ie){var r=i;r.sn;r.sn=this.BE}i instanceof Qt&&(r=i,n=r.rn,r.rn=this.AE),o=e.Jp(t,null,!0)}finally{i instanceof ie&&(i.sn=!1),i instanceof Qt&&(i.rn=n),i=new c(us),i.Kc(o),Cc=i,kc=e.$.Pl}}e.Aa("ClipboardChanged",i)}},le.prototype.pasteFromClipboard=function(){var t=new p(us),e=Cc;if(null===e)return t;var i=this.g;if(null===i||kc!==i.$.Pl)return t;var n=i.$,o=!1,r=!1,s=null;try{if(n instanceof ie){var a=n,o=a.sn;a.sn=this.BE}n instanceof Qt&&(a=n,r=a.rn,a.rn=this.AE),s=i.Jp(e,i,!1)}finally{for(n instanceof ie&&(n.sn=o),n instanceof Qt&&(n.rn=r),e=s.i;e.next();)i=e.value,n=e.key,i.location.I()||(n.location.I()?i.location=n.location:!i.position.I()&&n.position.I()&&(i.position=n.position)),t.add(i)}return t},le.prototype.pasteSelection=function(t){void 0===t&&(t=null);var e=this.g;if(null!==e)try{e.ec="wait",e.Hb("Paste"),e.Aa("ChangingSelection");var i=this.pasteFromClipboard();0<i.count&&Tn(e);for(var n=i.i;n.next();)n.value.ib=!0;if(e.Aa("ChangedSelection"),null!==t){var o=e.computePartsBounds(e.selection);if(o.I()){var r=e.eb.te;null===r&&(r=new ye,r.Rc(e));var s=r.computeEffectiveCollection(e.selection);r.moveParts(s,new w(t.x-o.la,t.y-o.ra),!1)}}e.Aa("ClipboardPasted",i)}finally{e.Wc("Paste"),e.ec=""}},le.prototype.canPasteSelection=function(){var t=this.g;return!(null===t||t.hb||t.Bf||!t.Ap||!t.Sz||null===Cc||kc!==t.$.Pl)},le.prototype.undo=function(){var t=this.g;null!==t&&t.ia.undo()},le.prototype.canUndo=function(){var t=this.g;return null!==t&&!t.hb&&!t.Bf&&(t.oE&&t.ia.canUndo())},le.prototype.redo=function(){var t=this.g;null!==t&&t.ia.redo()},le.prototype.canRedo=function(){var t=this.g;return null!==t&&!t.hb&&!t.Bf&&(t.oE&&t.ia.canRedo())},le.prototype.decreaseZoom=function(t){void 0===t&&(t=1/this.uy),Kh.wd(t,le,"decreaseZoom:factor");var e=this.g;null!==e&&e.Kl===Qc&&((t*=e.scale)<e.Ah||t>e.zh||(e.scale=t))},le.prototype.canDecreaseZoom=function(t){void 0===t&&(t=1/this.uy),Kh.wd(t,le,"canDecreaseZoom:factor");var e=this.g;return null!==e&&e.Kl===Qc&&(!((t*=e.scale)<e.Ah||t>e.zh)&&e.Vw)},le.prototype.increaseZoom=function(t){void 0===t&&(t=this.uy),Kh.wd(t,le,"increaseZoom:factor");var e=this.g;null!==e&&e.Kl===Qc&&((t*=e.scale)<e.Ah||t>e.zh||(e.scale=t))},le.prototype.canIncreaseZoom=function(t){void 0===t&&(t=this.uy),Kh.wd(t,le,"canIncreaseZoom:factor");var e=this.g;return null!==e&&e.Kl===Qc&&(!((t*=e.scale)<e.Ah||t>e.zh)&&e.Vw)},le.prototype.resetZoom=function(t){void 0===t&&(t=this.ex),Kh.wd(t,le,"resetZoom:newscale");var e=this.g;null===e||t<e.Ah||t>e.zh||(e.scale=t)},le.prototype.canResetZoom=function(t){void 0===t&&(t=this.ex),Kh.wd(t,le,"canResetZoom:newscale");var e=this.g;return!(null===e||t<e.Ah||t>e.zh)&&e.Vw},le.prototype.zoomToFit=function(){var t=this.g;if(null!==t){var e=t.scale,i=t.position;e===this.Rz&&!isNaN(this.pz)&&t.se.L(this.Qz)?(t.scale=this.pz,t.position=this.bD,this.Rz=NaN,this.Qz=Fu):(this.pz=e,this.bD=i.copy(),t.zoomToFit(),this.Rz=t.scale,this.Qz=t.se.copy())}},le.prototype.canZoomToFit=function(){var t=this.g;return null!==t&&t.Vw},le.prototype.scrollToPart=function(t){void 0===t&&(t=null),null!==t&&Kh.G(t,us,le,"part");var e=this.g;if(null!==e){if(null===t){try{null!==this.cj&&(this.cj.next()?t=this.cj.value:this.cj=null)}catch(t){this.cj=null}null===t&&(0<e.Yl.count?this.cj=e.Yl.i:0<e.selection.count&&(this.cj=e.selection.i),null!==this.cj&&this.cj.next()&&(t=this.cj.value))}if(null!==t){var i=e.Oa;i.Tn("Scroll To Part");var n=this.zJ;if(0<n){var o=ce(this,t,[t]),r=function(){e.Hb();for(var t=o.pop();0<o.length&&t instanceof js&&t.tc&&(!(t instanceof Pa)||t.Zc);)t=o.pop();0<o.length?(t instanceof us&&e.eG(t.W),t instanceof js&&!t.tc&&(t.tc=!0),t instanceof Pa&&!t.Zc&&(t.Zc=!0)):(t instanceof us&&e.uE(t.W),e.aB("LayoutCompleted",s)),e.Wc("Scroll To Part")},s=function(){setTimeout(r,(i.isEnabled?i.duration:0)+n)};e.Nw("LayoutCompleted",s),r()}else{var a=e.position.copy();e.uE(t.W),a.Lc(e.position)&&i.Gh()}}}},le.prototype.canScrollToPart=function(t){return void 0===t&&(t=null),(null===t||t instanceof us)&&(null!==(t=this.g)&&(0!==t.selection.count||0!==t.Yl.count)&&(t.oe&&t.pe))},le.prototype.collapseTree=function(t){void 0===t&&(t=null);var e=this.g;if(null!==e)try{e.Hb("Collapse Tree"),e.Oa.Tn("Collapse Tree");var i=new c(js);if(null!==t&&t.tc)t.collapseTree(),i.add(t);else for(var n=e.selection.i;n.next();){var o=n.value;o instanceof js&&(t=o,t.tc&&(t.collapseTree(),i.add(t)))}e.Aa("TreeCollapsed",i)}finally{e.Wc("Collapse Tree")}},le.prototype.canCollapseTree=function(t){void 0===t&&(t=null);var e=this.g;if(null===e||e.hb)return!1;if(null!==t){if(!(t instanceof js&&t.tc))return!1;if(0<t.px().count)return!0}else for(t=e.selection.i;t.next();)if((e=t.value)instanceof js&&e.tc&&0<e.px().count)return!0;return!1},le.prototype.expandTree=function(t){void 0===t&&(t=null);var e=this.g;if(null!==e)try{e.Hb("Expand Tree"),e.Oa.Tn("Expand Tree");var i=new c(js);if(null===t||t.tc)for(var n=e.selection.i;n.next();){var o=n.value;o instanceof js&&(t=o,t.tc||(t.expandTree(),i.add(t)))}else t.expandTree(),i.add(t);e.Aa("TreeExpanded",i)}finally{e.Wc("Expand Tree")}},le.prototype.canExpandTree=function(t){void 0===t&&(t=null);var e=this.g;if(null===e||e.hb)return!1;if(null!==t){if(!(t instanceof js)||t.tc)return!1;if(0<t.px().count)return!0}else for(t=e.selection.i;t.next();)if((e=t.value)instanceof js&&!e.tc&&0<e.px().count)return!0;return!1},le.prototype.groupSelection=function(){var t=this.g;if(null!==t){var e=t.$;if(e instanceof Qt){var i=this.pE;if(null!==i){var n=null;try{t.ec="wait",t.Hb("Group"),t.Aa("ChangingSelection");for(var o=new c(us),r=t.selection.i;r.next();){var s=r.value;s.ee()&&s.canGroup()&&o.add(s)}for(var a=new c(us),l=o.i;l.next();){for(var h=l.value,r=!1,u=o.i;u.next();)if(h.qi(u.value)){r=!0;break}r||a.add(h)}if(0<a.count){var d=a.first().Da;if(null!==d)for(;null!==d;){for(var o=!1,p=a.i;p.next();)if(!p.value.qi(d)){o=!0;break}if(!o)break;d=d.Da}if(i instanceof Pa)xr(i),null!==(n=i.copy())&&t.add(n);else if(e.DA(i)){var f=e.copyNodeData(i);Kh.Pa(f)&&(e.Gl(f),n=t.ox(f))}if(null!==n){null!==d&&this.isValidMember(d,n)&&(n.Da=d);for(var y=a.i;y.next();){var g=y.value;this.isValidMember(n,g)&&(g.Da=n)}t.select(n)}}t.Aa("ChangedSelection"),t.Aa("SelectionGrouped",n)}finally{t.Wc("Group"),t.ec=""}}}}},le.prototype.canGroupSelection=function(){var t=this.g;if(null===t||t.hb||t.Bf||!t.Ap||!t.Qw||!(t.$ instanceof Qt)||null===this.pE)return!1;for(t=t.selection.i;t.next();){var e=t.value;if(e.ee()&&e.canGroup())return!0}return!1},le.prototype.isValidMember=function(t,e){if(null===e||t===e||e instanceof Ws)return!1;if(null!==t){if(t===e||t.qi(e))return!1;var i=t.NA;if(null!==i&&!i(t,e)||null===t.data&&null!==e.data||null!==t.data&&null===e.data)return!1}return null===(i=this.NA)||i(t,e)},le.prototype.ungroupSelection=function(t){void 0===t&&(t=null);var e=this.g;if(null!==e){var i=e.$;if(i instanceof Qt)try{e.ec="wait",e.Hb("Ungroup"),e.Aa("ChangingSelection");var n=new c(Pa);if(null!==t)n.add(t);else for(var o=e.selection.i;o.next();){var r=o.value;r instanceof Pa&&(t=r,t.canUngroup()&&n.add(t))}if(0<n.count){e.Xw();for(var s=n.i;s.next();){var a=s.value;a.expandSubGraph();var l=a.Da,h=null!==l&&null!==l.data?i.pb(l.data):void 0,u=new c(us);u.Kc(a.Oc);for(var d=u.i;d.next();){var p=d.value;if(p.ib=!0,!(p instanceof Ws)){var f=p.data;null!==f?i.lB(f,h):p.Da=l}}e.remove(a)}}e.Aa("ChangedSelection"),e.Aa("SelectionUngrouped",n,u)}finally{e.Wc("Ungroup"),e.ec=""}}},le.prototype.canUngroupSelection=function(t){void 0===t&&(t=null);var e=this.g;if(null===e||e.hb||e.Bf||!e.jn||!e.Uw||!(e.$ instanceof Qt))return!1;if(null!==t){if(!(t instanceof Pa))return!1;if(t.canUngroup())return!0}else for(t=e.selection.i;t.next();)if((e=t.value)instanceof Pa&&e.canUngroup())return!0;return!1},le.prototype.addTopLevelParts=function(t,e){for(var i=!0,n=de(t).i;n.next();){var o=n.value;null!==o.Da&&(!e||this.isValidMember(null,o)?o.Da=null:i=!1)}return i},le.prototype.collapseSubGraph=function(t){void 0===t&&(t=null);var e=this.g;if(null!==e)try{e.Hb("Collapse SubGraph"),e.Oa.Tn("Collapse SubGraph");var i=new c(Pa);if(null!==t&&t.Zc)t.collapseSubGraph(),i.add(t);else for(var n=e.selection.i;n.next();){var o=n.value;o instanceof Pa&&(t=o,t.Zc&&(t.collapseSubGraph(),i.add(t)))}e.Aa("SubGraphCollapsed",i)}finally{e.Wc("Collapse SubGraph")}},le.prototype.canCollapseSubGraph=function(t){void 0===t&&(t=null);var e=this.g;if(null===e||e.hb)return!1;if(null!==t)return!!(t instanceof Pa&&t.Zc);for(t=e.selection.i;t.next();)if((e=t.value)instanceof Pa&&e.Zc)return!0;return!1},le.prototype.expandSubGraph=function(t){void 0===t&&(t=null);var e=this.g;if(null!==e)try{e.Hb("Expand SubGraph"),e.Oa.Tn("Expand SubGraph");var i=new c(Pa);if(null===t||t.Zc)for(var n=e.selection.i;n.next();){var o=n.value;o instanceof Pa&&(t=o,t.Zc||(t.expandSubGraph(),i.add(t)))}else t.expandSubGraph(),i.add(t);e.Aa("SubGraphExpanded",i)}finally{e.Wc("Expand SubGraph")}},le.prototype.canExpandSubGraph=function(t){void 0===t&&(t=null);var e=this.g;if(null===e||e.hb)return!1;if(null!==t)return t instanceof Pa&&!t.Zc;for(t=e.selection.i;t.next();)if((e=t.value)instanceof Pa&&!e.Zc)return!0;return!1},le.prototype.editTextBlock=function(t){void 0===t&&(t=null),null!==t&&Kh.G(t,Br,le,"editTextBlock");var e=this.g;if(null!==e){var i=e.eb.uB;if(null!==i){if(null===t){t=null;for(var n=e.selection.i;n.next();){var o=n.value;if(o.canEdit()){t=o;break}}if(null===t)return;t=t.Mt(function(t){return t instanceof Br&&t.jA})}null!==t&&(e.$a=null,i.$g=t,e.$a=i)}}},le.prototype.canEditTextBlock=function(t){void 0===t&&(t=null);var e=this.g;if(null===e||e.hb||e.Bf||!e.Tw||null===e.eb.uB)return!1;if(null!==t){if(!(t instanceof Br))return!1;if(null!==(t=t.U)&&t.canEdit())return!0}else for(e=e.selection.i;e.next();)if(t=e.value,t.canEdit()&&null!==(t=t.Mt(function(t){return t instanceof Br&&t.jA})))return!0;return!1},le.prototype.showContextMenu=function(t){var e=this.g;if(null!==e){var i=e.eb.bA;if(null!==i&&(void 0===t&&(t=0<e.selection.count?e.selection.first():e),null!==(t=i.findObjectWithContextMenu(t)))){var n=new Dt,o=null;t instanceof Eo?o=t.Wa(su):e.zI||(o=e.qb,o=new w(o.x+o.width/2,o.y+o.height/2)),null!==o&&(n.g=e,n.ef=e.zG(o),n.ca=o,n.left=!1,n.right=!0,n.up=!0,e.R=n),e.$a=i,li(i,!1,t)}}},le.prototype.canShowContextMenu=function(t){var e=this.g;if(null===e)return!1;var i=e.eb.bA;return null!==i&&(void 0===t&&(t=0<e.selection.count?e.selection.first():e),null!==i.findObjectWithContextMenu(t))},Kh.defineProperty(le,{BH:"copiesClipboardData"},function(){return this.eC},function(t){Kh.j(t,"boolean",le,"copiesClipboardData"),this.eC=t}),Kh.defineProperty(le,{CH:"copiesConnectedLinks"},function(){return this.fC},function(t){Kh.j(t,"boolean",le,"copiesConnectedLinks"),this.fC=t}),Kh.defineProperty(le,{IE:"deletesConnectedLinks"},function(){return this.zC},function(t){Kh.j(t,"boolean",le,"deletesConnectedLinks"),this.zC=t}),Kh.defineProperty(le,{EH:"copiesTree"},function(){return this.jC},function(t){Kh.j(t,"boolean",le,"copiesTree"),this.jC=t}),Kh.defineProperty(le,{LH:"deletesTree"},function(){return this.AC},function(t){Kh.j(t,"boolean",le,"deletesTree"),this.AC=t}),Kh.defineProperty(le,{BE:"copiesParentKey"},function(){return this.iC},function(t){Kh.j(t,"boolean",le,"copiesParentKey"),this.iC=t}),Kh.defineProperty(le,{AE:"copiesGroupKey"},function(){return this.hC},function(t){Kh.j(t,"boolean",le,"copiesGroupKey"),this.hC=t}),Kh.defineProperty(le,{pE:"archetypeGroupData"},function(){return this.VB},function(t){null!==t&&Kh.G(t,Object,le,"archetypeGroupData");var e=this.g;null!==e&&(e=e.$)instanceof Qt&&(t instanceof Pa||e.DA(t)||Kh.k("CommandHandler.archetypeGroupData must be either a Group or a data object for which GraphLinksModel.isGroupForNodeData is true: "+t)),this.VB=t}),Kh.defineProperty(le,{NA:"memberValidation"},function(){return this.tl},function(t){null!==t&&Kh.j(t,"function",le,"memberValidation"),this.tl=t}),Kh.defineProperty(le,{ex:"defaultScale"},function(){return this.wC},function(t){Kh.wd(t,le,"defaultScale"),0<t||Kh.k("defaultScale must be larger than zero, not: "+t),this.wC=t}),Kh.defineProperty(le,{uy:"zoomFactor"},function(){return this.fE},function(t){Kh.wd(t,le,"zoomFactor"),1<t||Kh.k("zoomFactor must be larger than 1.0, not: "+t),this.fE=t}),Kh.defineProperty(le,{zJ:"scrollToPartPause"},function(){return this.CD},function(t){Kh.wd(t,le,"scrollToPartPause"),this.CD=t}),Kh.ga("Tool",pe),pe.prototype.Rc=function(t){this.fa=t},pe.prototype.toString=function(){return""!==this.name?this.name+" Tool":Kh.mf(Object.getPrototypeOf(this))},pe.prototype.updateAdornments=function(){},pe.prototype.canStart=function(){return this.isEnabled},pe.prototype.doStart=function(){},pe.prototype.doActivate=function(){this.sa=!0},pe.prototype.doDeactivate=function(){this.sa=!1},pe.prototype.doStop=function(){},pe.prototype.doCancel=function(){this.stopTool()},pe.prototype.stopTool=function(){var t=this.g;null!==t&&t.$a===this&&(t.$a=null,t.ec="")},pe.prototype.doMouseDown=function(){!this.sa&&this.canStart()&&this.doActivate()},pe.prototype.doMouseMove=function(){},pe.prototype.doMouseUp=function(){this.stopTool()},pe.prototype.doMouseWheel=function(){},pe.prototype.canStartMultiTouch=function(){return!0},pe.prototype.standardPinchZoomStart=function(){var t=this.g;if(null!==t){var e=t.R,i=e.tx(0,Kh.xb(NaN,NaN)),n=e.tx(1,Kh.xb(NaN,NaN));if(i.I()&&n.I()&&(this.doCancel(),t.Yt("hasGestureZoom"))){t.oD=t.scale;var o=n.x-i.x,r=n.y-i.y;t.HD=Math.sqrt(o*o+r*r),e.bubbles=!1}Kh.v(i),Kh.v(n)}},pe.prototype.standardPinchZoomMove=function(){var t=this.g;if(null!==t){var e=t.R,i=e.tx(0,Kh.xb(NaN,NaN)),n=e.tx(1,Kh.xb(NaN,NaN));if(i.I()&&n.I()&&(this.doCancel(),t.Yt("hasGestureZoom"))){var o=n.x-i.x,r=n.y-i.y,r=Math.sqrt(o*o+r*r)/t.HD,o=new w((Math.min(n.x,i.x)+Math.max(n.x,i.x))/2,(Math.min(n.y,i.y)+Math.max(n.y,i.y))/2),r=t.oD*r,s=t.ob;if(r!==t.scale&&s.canResetZoom(r)){var a=t.om;t.om=o,s.resetZoom(r),t.om=a}e.bubbles=!1}Kh.v(i),Kh.v(n)}},pe.prototype.doKeyDown=function(){var t=this.g;null!==t&&"Esc"===t.R.key&&this.doCancel()},pe.prototype.doKeyUp=function(){},pe.prototype.startTransaction=pe.prototype.Hb=function(t){void 0===t&&(t=this.name),this.Kf=null;var e=this.g;return null!==e&&e.Hb(t)},pe.prototype.stopTransaction=pe.prototype.Mk=function(){var t=this.g;return null!==t&&(null===this.Kf?t.lq():t.Wc(this.Kf))},pe.prototype.standardMouseSelect=function(){var t=this.g;if(null!==t&&t.yf){var e=t.R,i=t.Pt(e.ca,!1);if(null!==i){if(Kh.Gk?e.su:e.control){for(t.Aa("ChangingSelection"),e=i;null!==e&&!e.canSelect();)e=e.Da;null!==e&&(e.ib=!e.ib),t.Aa("ChangedSelection")}else if(e.shift){if(!i.ib){for(t.Aa("ChangingSelection"),e=i;null!==e&&!e.canSelect();)e=e.Da;null!==e&&(e.ib=!0),t.Aa("ChangedSelection")}}else if(!i.ib){for(e=i;null!==e&&!e.canSelect();)e=e.Da;null!==e&&t.select(e)}}else!e.left||(Kh.Gk?e.su:e.control)||e.shift||t.Xw()}},pe.prototype.standardMouseClick=function(t,e){void 0===t&&(t=null),void 0===e&&(e=function(t){return!t.layer.Mc});var i=this.g;if(null===i)return!1;var n=i.R,o=i.Le(n.ca,t,e);return n.Re=o,fe(o,n,i),n.Dc},pe.prototype.standardMouseOver=function(){var t=this.g;if(null!==t){var e=t.R;if(null!==e.g&&!0!==t.Oa.qc){var i=t.wb;t.wb=!0;var n=t.kl?t.Le(e.ca,null,null):null;e.Re=n;var o=!1;if(n!==t.to){var r=t.to,s=r;for(t.to=n,this.doCurrentObjectChanged(r,n),e.Dc=!1;null!==r;){var a=r.uu;if(null!==a){if(n===r)break;if(null!==n&&n.am(r))break;if(a(e,r,n),o=!0,e.Dc)break}r=r.Q}for(r=s,e.Dc=!1;null!==n;){if(null!==(a=n.tu)){if(r===n)break;if(null!==r&&r.am(n))break;if(a(e,n,r),o=!0,e.Dc)break}n=n.Q}n=t.to}if(null!==n){for(r=n,s="";null!==r&&""===(s=r.cursor);)r=r.Q;for(t.ec=s,e.Dc=!1,r=n;null!==r&&(null===(n=r.RA)||(n(e,r),o=!0,!e.Dc));)r=r.Q}else t.ec="",null!==(n=t.RA)&&(n(e),o=!0);o&&t.Ne(),t.wb=i}}},pe.prototype.doCurrentObjectChanged=function(){},pe.prototype.standardMouseWheel=function(){var t=this.g;if(null!==t){var e=t.R,i=e.Rl;if(0!==i&&t.se.I()){var n=t.ob,o=t.eb.vu;if((o===$c&&!e.shift||o===Kc&&e.control)&&(0<i?n.canIncreaseZoom():n.canDecreaseZoom()))o=t.om,t.om=e.ef,0<i?n.increaseZoom():n.decreaseZoom(),t.om=o,e.bubbles=!1;else if(o===$c&&e.shift||o===Kc&&!e.control){var n=t.position.copy(),o=0<i?i:-i,r=e.event.deltaX,s=e.event.deltaY;void 0===r||void 0===s||0===r&&0===s||e.shift?!e.shift&&t.pe?(r=t.Iu,o=o/40*r,0<i?t.scroll("pixel","up",o):t.scroll("pixel","down",o)):e.shift&&t.oe&&(r=t.Hu,o=o/40*r,0<i?t.scroll("pixel","left",o):t.scroll("pixel","right",o)):(0!==r&&t.oe&&(0<r?t.scroll("pixel","left",-r):t.scroll("pixel","right",r)),0!==s&&t.pe&&(0<s?t.scroll("pixel","up",-s):t.scroll("pixel","down",s))),t.position.L(n)||(e.bubbles=!1)}}}},pe.prototype.standardWaitAfter=function(t,e){Kh.j(t,"number",pe,"standardWaitAfter:delay"),this.cancelWaitAfter();var i=this,n=e.copy();this.Lw=Kh.setTimeout(function(){i.doWaitAfter(n)},t)},pe.prototype.cancelWaitAfter=function(){-1!==this.Lw&&Kh.clearTimeout(this.Lw),this.Lw=-1},pe.prototype.doWaitAfter=function(){},pe.prototype.findToolHandleAt=function(t,e){var i=this.g;return null===i?null:(i=i.Le(t,function(t){for(;null!==t&&!(t.Q instanceof Ns);)t=t.Q;return t}),null===i?null:i.U.vd===e?i:null)},pe.prototype.isBeyondDragSize=function(t,e){var i=this.g;if(null===i)return!1;void 0===t&&(t=i.Bc.ef),void 0===e&&(e=i.R.ef);var n=i.eb.PH,o=n.width,n=n.height;return i.Bc.vj&&(o+=6,n+=6),Math.abs(e.x-t.x)>o||Math.abs(e.y-t.y)>n},Kh.u(pe,{g:"diagram"},function(){return this.fa}),Kh.defineProperty(pe,{name:"name"},function(){return this.Sb},function(t){Kh.j(t,"string",pe,"name"),this.Sb=t}),Kh.defineProperty(pe,{isEnabled:"isEnabled"},function(){return this.gf},function(t){Kh.j(t,"boolean",pe,"isEnabled"),this.gf=t}),Kh.defineProperty(pe,{sa:"isActive"},function(){return this.PC},function(t){Kh.j(t,"boolean",pe,"isActive"),this.PC=t}),Kh.defineProperty(pe,{Kf:"transactionResult"},function(){return this.$D},function(t){null!==t&&Kh.j(t,"string",pe,"transactionResult"),this.$D=t}),Kh.Ka(ye,pe),Kh.ga("DraggingTool",ye),Kh.defineProperty(ye,{oF:"isCopyEnabled"},function(){return this.TC},function(t){Kh.j(t,"boolean",ye,"isCopyEnabled"),this.TC=t}),Kh.defineProperty(ye,{DH:"copiesEffectiveCollection"},function(){return this.gC},function(t){Kh.j(t,"boolean",ye,"copiesEffectiveCollection"),this.gC=t}),Kh.defineProperty(ye,{QH:"dragsTree"},function(){return this.FC},function(t){Kh.j(t,"boolean",ye,"dragsTree"),this.FC=t}),Kh.defineProperty(ye,{hu:"isGridSnapEnabled"},function(){return this.Jr},function(t){Kh.j(t,"boolean",ye,"isGridSnapEnabled"),this.Jr=t}),Kh.defineProperty(ye,{tI:"isComplexRoutingRealtime"},function(){return this.SC},function(t){Kh.j(t,"boolean",ye,"isComplexRoutingRealtime"),this.SC=t}),Kh.defineProperty(ye,{vI:"isGridSnapRealtime"},function(){return this.XC},function(t){Kh.j(t,"boolean",ye,"isGridSnapRealtime"),this.XC=t}),Kh.defineProperty(ye,{fF:"gridSnapCellSize"},function(){return this.fz},function(t){Kh.G(t,k,ye,"gridSnapCellSize"),this.fz.L(t)||(this.fz=t=t.S())}),Kh.defineProperty(ye,{eI:"gridSnapCellSpot"},function(){return this.gz},function(t){Kh.G(t,N,ye,"gridSnapCellSpot"),this.gz.L(t)||(this.gz=t=t.S())}),Kh.defineProperty(ye,{fI:"gridSnapOrigin"},function(){return this.hz},function(t){Kh.G(t,w,ye,"gridSnapOrigin"),this.hz.L(t)||(this.hz=t=t.S())}),Kh.defineProperty(ye,{oj:"dragsLink"},function(){return this.EC},function(t){Kh.j(t,"boolean",ye,"dragsLink"),this.EC=t}),Kh.defineProperty(ye,{un:"currentPart"},function(){return this.oC},function(t){null!==t&&Kh.G(t,us,ye,"currentPart"),this.oC=t}),Kh.defineProperty(ye,{dc:"copiedParts"},function(){return this.dC},function(t){this.dC=t}),Kh.defineProperty(ye,{Zb:"draggedParts"},function(){return this.DC},function(t){this.DC=t}),Kh.u(ye,{VK:"draggingParts"},function(){return null!==this.dc?this.dc.Gj():null!==this.Zb?this.Zb.Gj():this.MG}),Kh.defineProperty(ye,{kd:"draggedLink"},function(){return this.Wy},function(t){null!==t&&Kh.G(t,Ws,ye,"draggedLink"),this.Wy!==t&&(this.Wy=t,null!==t?(this.gw=t.Cc,this.hw=t.cd):this.hw=this.gw=null)}),Kh.defineProperty(ye,{yx:"isDragOutStarted"},function(){return this.VC},function(t){this.VC=t}),Kh.defineProperty(ye,{Lk:"startPoint"},function(){return this.Bw},function(t){Kh.G(t,w,ye,"startPoint"),this.Bw.L(t)||(this.Bw=t=t.S())}),Kh.defineProperty(ye,{EE:"delay"},function(){return this.zo},function(t){Kh.j(t,"number",ye,"delay"),this.zo=t}),ye.prototype.canStart=function(){if(!this.isEnabled)return!1;var t=this.g;if(null===t||t.hb&&!t.Bt||!t.Il&&!t.tk&&!t.Bt||!t.yf)return!1;var e=t.R;return!(!e.left||t.$a!==this&&(!this.isBeyondDragSize()||e.vj&&e.timestamp-t.Bc.timestamp<this.zo))&&null!==this.findDraggablePart()},ye.prototype.findDraggablePart=function(){var t=this.g;if(null===t)return null;if(null===(t=t.Pt(t.Bc.ca,!1)))return null;for(;null!==t&&!t.canSelect();)t=t.Da;return null!==t&&(t.canMove()||t.canCopy())?t:null},ye.prototype.standardMouseSelect=function(){var t=this.g;if(null!==t&&t.yf){var e=t.Pt(t.Bc.ca,!1);if(null!==e){for(;null!==e&&!e.canSelect();)e=e.Da;this.un=e,this.un.ib||(t.Aa("ChangingSelection"),e=t.R,(Kh.Gk?e.su:e.control)||e.shift||Tn(t),this.un.ib=!0,t.Aa("ChangedSelection"))}}},ye.prototype.doActivate=function(){var t=this.g;if(null!==t){null===this.un&&this.standardMouseSelect();var e=this.un;null!==e&&(e.canMove()||e.canCopy())&&(this.sa=!0,this.np.set(t.position),ge(this,t.selection),this.Nj.length=0,this.Zb=this.computeEffectiveCollection(t.selection),t.Ou=!0,xe(this,this.Zb),this.Hb("Drag"),this.Lk=t.Bc.ca,t.cf=!0,t.Bt&&(this.yx=!0,this.pr=!1,Mc=this,Tc=this.g,this.doSimulatedDragOut()))}},ye.prototype.computeEffectiveCollection=function(t){var e=null!==this.g&&this.g.$a===this,i=new b(us);if(null===t)return i;for(var n=t.i;n.next();)me(this,i,n.value,e);if(null!==this.kd&&this.oj)return i;for(n=t.i;n.next();)(t=n.value)instanceof Ws&&(e=t.Y,null===e||i.contains(e)?null===(e=t.Z)||i.contains(e)||i.remove(t):i.remove(t));return i},ye.prototype.doDeactivate=function(){this.sa=!1;var t=this.g;if(null!==t&&so(t),be(this),Ce(this,this.Zb),this.Zb=this.un=null,this.pr=this.yx=!1,0<Sc.count){for(var e=Sc.length,i=0;i<e;i++){var n=Sc.da(i);Te(n),Me(n),be(n),null!==n.g&&so(n.g)}Sc.clear()}Te(this),this.np.m(NaN,NaN),Mc=Tc=null,Me(this),t.cf=!1,t.ec="",t.Ou=!1,this.Mk()},ye.prototype.doCancel=function(){Me(this),Pe(this);var t=this.g;null!==t&&this.np.I()&&(t.position=this.np),this.stopTool()},ye.prototype.doKeyDown=function(){var t=this.g;null!==t&&null!==(t=t.R)&&this.sa&&("Esc"===t.key?this.doCancel():this.doMouseMove())},ye.prototype.doKeyUp=function(){var t=this.g;null!==t&&null!==t.R&&this.sa&&this.doMouseMove()},ye.prototype.moveParts=function(t,e,i){if(null!==t&&(Kh.G(t,b,ye,"moveParts:parts"),0!==t.count)){var n=Kh.K(),o=Kh.K();o.assign(e),isNaN(o.x)&&(o.x=0),isNaN(o.y)&&(o.y=0),(e=this.Ew)||xe(this,t);for(var r=new c(He),s=new c(v),a=t.i;a.next();){var l=a.key;if(l.ee()){var h=Ie(this,l,t);if(null!==h)r.add(new He(l,a.value,h));else if(!i||l.canMove()){h=a.value.point,n.assign(h);var u=new w,d=this.computeMove(l,n.add(o),t,u);l.location=d,a.value.mG=u.Ej(h)}}else a.key instanceof Ws&&s.add(a.Va)}for(i=r.i;i.next();)r=i.value,h=r.info.point,n.assign(h),r.Pc.location=n.add(r.gI.mG);for(i=Kh.K(),h=Kh.K(),s=s.i;s.next();)a=s.value,(r=a.key)instanceof Ws&&(r.im?(l=r.Y,u=r.Z,null!==this.kd&&this.oj?(a=a.value.point,t.add(r,ve(this,o)),l=o.x-a.x,a=o.y-a.y,r.Ik(l,a)):(null!==l&&(i.assign(l.location),null!==(d=t.ka(l))&&i.Ej(d.point)),null!==u&&(h.assign(u.location),null!==(d=t.ka(u))&&h.Ej(d.point)),null!==l&&null!==u?i.Lc(h)?(a=a.value.point,l=n,l.assign(i),l.Ej(a),t.add(r,ve(this,i)),r.Ik(l.x,l.y)):(r.im=!1,r.$b()):(a=a.value.point,u=null!==l?i:null!==u?h:o,t.add(r,ve(this,u)),l=u.x-a.x,a=u.y-a.y,r.Ik(l,a)))):null!==r.Y&&null!==r.Z||(a=a.value.point,t.add(r,ve(this,o)),l=o.x-a.x,a=o.y-a.y,r.Ik(l,a)));Kh.v(n),Kh.v(o),Kh.v(i),Kh.v(h),e||(cn(this.g),Ce(this,t))}},ye.prototype.computeMove=function(t,e,i,n){if(void 0===n&&(n=new w),n.assign(e),null===t)return n;void 0===i&&(i=null);var o=e;if(this.hu&&(this.vI||null===i||null!==this.g&&this.g.R.up)&&(o=Kh.K(),i=o,i.assign(e),null!==t)){var r=this.g;if(null!==r){var s=r.Cn,a=this.fF,r=a.width,a=a.height,l=this.fI,h=l.x,l=l.y,u=this.eI;if(null!==s){var c=s.ux;isNaN(r)&&(r=c.width),isNaN(a)&&(a=c.height),s=s.eF,isNaN(h)&&(h=s.x),isNaN(l)&&(l=s.y)}s=Kh.xb(0,0),s.Mu(0,0,r,a,u),yt(e.x,e.y,h+s.x,l+s.y,r,a,i),Kh.v(s)}}return i=null!==t.JE?t.JE(t,e,o):o,a=t.YI,r=a.x,isNaN(r)&&(r=t.location.x),a=a.y,isNaN(a)&&(a=t.location.y),s=t.SI,h=s.x,isNaN(h)&&(h=t.location.x),s=s.y,isNaN(s)&&(s=t.location.y),n.m(Math.max(r,Math.min(i.x,h)),Math.max(a,Math.min(i.y,s))),o!==e&&Kh.v(o),n},ye.prototype.doDragOver=function(){},ye.prototype.doDropOnto=function(){},ye.prototype.doMouseMove=function(){if(this.sa){var t=this.g;null!==t&&null!==this.un&&null!==this.Zb&&(this.mayCopy()?(t.ec="copy",Se(this,!1),xe(this,this.dc),Ee(this,this.dc,!1),Ce(this,this.dc)):this.mayMove()?(t.ec="default",Me(this),Ee(this,this.Zb,!0)):this.mayDragOut()?(t.ec="no-drop",Se(this,!1),Ee(this,this.dc,!1)):Me(this),Oe(this,t.R.ca))}},ye.prototype.doMouseUp=function(){if(this.sa){var t=this.g;if(null!==t){var e=!1,i=this.mayCopy();if(i&&null!==this.dc?(Me(this),Se(this,!0),xe(this,this.dc),Ee(this,this.dc,!1),Ce(this,this.dc),null!==this.dc&&t.hG(this.dc.Gj())):(e=!0,Me(this),this.mayMove()&&(Ee(this,this.Zb,!0),Oe(this,t.R.ca))),this.pr=!0,Fe(this,t.R.ca),this.sa){if(this.dc=null,e&&null!==this.Zb)for(e=this.Zb.i;e.next();){var n=e.key;n instanceof js&&(null===(n=n.Da)||null===n.placeholder||this.Zb.contains(n)||n.placeholder.H())}t.sc(),Ce(this,this.Zb),this.Kf=i?"Copy":"Move",t.Aa(i?"SelectionCopied":"SelectionMoved",t.selection)}this.stopTool()}}},ye.prototype.mayCopy=function(){if(!this.oF)return!1;var t=this.g;if(null===t||t.hb||t.Bf||!t.Ap||!t.tk||(Kh.Gk?!t.R.alt:!t.R.control))return!1;for(t=t.selection.i;t.next();){var e=t.value;if(e.ee()&&e.canCopy())return!0}return!(null===this.kd||!this.oj||!this.kd.canCopy())},ye.prototype.mayDragOut=function(){if(!this.oF)return!1;var t=this.g;if(null===t||!t.Bt||!t.tk||t.Il)return!1;for(t=t.selection.i;t.next();){var e=t.value;if(e.ee()&&e.canCopy())return!0}return!(null===this.kd||!this.oj||!this.kd.canCopy())},ye.prototype.mayMove=function(){var t=this.g;if(null===t||t.hb||!t.Il)return!1;for(t=t.selection.i;t.next();){var e=t.value;if(e.ee()&&e.canMove())return!0}return!(null===this.kd||!this.oj||!this.kd.canMove())};var Sc=new c(ye),Mc=null,Tc=null;ye.prototype.getDraggingSource=function(){return Mc},ye.prototype.mayDragIn=function(){var t=this.g;if(null===t||!t.nE||t.hb||t.Bf||!t.Ap)return!1;var e=Mc;return null!==e&&null!==e.g&&e.g.$.Pl===t.$.Pl},ye.prototype.doSimulatedDragEnter=function(){if(this.mayDragIn()){var t=this.g;t.Oa.Gh(),hn(t),t.Oa.Gh(),t=Mc,null!==t&&null!==t.g&&(t.g.ec="copy")}},ye.prototype.doSimulatedDragLeave=function(){var t=Mc;null!==t&&t.doSimulatedDragOut(),this.doCancel()},ye.prototype.doSimulatedDragOver=function(){var t=this.g;if(null!==t){var e=Mc;null!==e&&null!==e.Zb&&this.mayDragIn()&&(t.ec="copy",Be(this,e.Zb.Gj(),!1),Ee(this,this.dc,!1),Oe(this,t.R.ca))}},ye.prototype.doSimulatedDrop=function(){var t=this.g;if(null!==t){var e=Mc;if(null!==e){var i=e.g;e.pr=!0,Me(this),this.mayDragIn()&&(this.Hb("Drop"),Be(this,e.Zb.Gj(),!0),Ee(this,this.dc,!1),null!==this.dc&&t.hG(this.dc.Gj()),Fe(this,t.R.ca),t.sc(),e=t.selection,null!==this.dc?this.Kf="ExternalCopy":e=new p(us),this.dc=null,t.doFocus(),t.Aa("ExternalObjectsDropped",e,i),this.Mk())}}},ye.prototype.doSimulatedDragOut=function(){var t=this.g;null!==t&&(this.mayCopy()||this.mayMove()?t.ec="":t.ec="no-drop")},Kh.ga("DraggingInfo",Ve),Kh.Ka(ze,pe),Kh.ga("LinkingBaseTool",ze),ze.prototype.doStop=function(){var t=this.g;null!==t&&so(t),this.Vg=this.Ug=this.Tg=this.Sg=this.lc=null,this.qy.clear(),this.Hf=null},Kh.defineProperty(ze,{RF:"portGravity"},function(){return this.yD},function(t){Kh.j(t,"number",ze,"portGravity"),0<=t&&(this.yD=t)}),Kh.defineProperty(ze,{$p:"isUnconnectedLinkValid"},function(){return this.$C},function(t){Kh.j(t,"boolean",ze,"isUnconnectedLinkValid"),this.$C=t}),Kh.defineProperty(ze,{Zg:"temporaryLink"},function(){return this.TD},function(t){Kh.G(t,Ws,ze,"temporaryLink"),this.TD=t}),Kh.defineProperty(ze,{Vd:"temporaryFromNode"},function(){return this.RD},function(t){Kh.G(t,js,ze,"temporaryFromNode"),this.RD=t}),Kh.defineProperty(ze,{Zn:"temporaryFromPort"},function(){return this.SD},function(t){Kh.G(t,Eo,ze,"temporaryFromPort"),this.SD=t}),Kh.defineProperty(ze,{Wd:"temporaryToNode"},function(){return this.UD},function(t){Kh.G(t,js,ze,"temporaryToNode"),this.UD=t}),Kh.defineProperty(ze,{$n:"temporaryToPort"},function(){return this.VD},function(t){Kh.G(t,Eo,ze,"temporaryToPort"),this.VD=t}),Kh.defineProperty(ze,{lc:"originalLink"},function(){return this.sD},function(t){null!==t&&Kh.G(t,Ws,ze,"originalLink"),this.sD=t}),Kh.defineProperty(ze,{Sg:"originalFromNode"},function(){return this.qD},function(t){null!==t&&Kh.G(t,js,ze,"originalFromNode"),this.qD=t}),Kh.defineProperty(ze,{Tg:"originalFromPort"},function(){return this.rD},function(t){null!==t&&Kh.G(t,Eo,ze,"originalFromPort"),this.rD=t}),Kh.defineProperty(ze,{Ug:"originalToNode"},function(){return this.vD},function(t){null!==t&&Kh.G(t,js,ze,"originalToNode"),this.vD=t}),Kh.defineProperty(ze,{Vg:"originalToPort"},function(){return this.wD},function(t){null!==t&&Kh.G(t,Eo,ze,"originalToPort"),this.wD=t}),Kh.defineProperty(ze,{Rd:"isForwards"},function(){return this.WC},function(t){Kh.j(t,"boolean",ze,"isForwards"),this.WC=t}),Kh.u(ze,{qy:"validPortsCache"},function(){return this.$G}),Kh.defineProperty(ze,{Hf:"targetPort"},function(){return this.OD},function(t){null!==t&&Kh.G(t,Eo,ze,"targetPort"),this.OD=t}),ze.prototype.copyPortProperties=function(t,e,i,n,o){if(null!==t&&null!==e&&null!==i&&null!==n){n.Ca=e.W.size,o?(n.Bb=e.Bb,n.mm=e.mm):(n.Ab=e.Ab,n.Ul=e.Ul),i.Ef=su;var r=Kh.K();i.location=e.Wa(su,r),Kh.v(r),n.angle=e.Vl(),null!==this.Ux&&this.Ux(t,e,i,n,o)}},ze.prototype.setNoTargetPortProperties=function(t,e,i){null!==e&&(e.Ca=Gu,e.Ab=tu,e.Bb=tu),null!==t&&null!==this.g&&(t.location=this.g.R.ca),null!==this.Ux&&this.Ux(null,null,t,e,i)},ze.prototype.doMouseDown=function(){this.sa&&this.doMouseMove()},ze.prototype.doMouseMove=function(){if(this.sa){var t=this.g;if(null!==t){if(this.Hf=this.findTargetPort(this.Rd),null!==this.Hf&&this.Hf.U instanceof js){var e=this.Hf.U;this.Rd?this.copyPortProperties(e,this.Hf,this.Wd,this.$n,!0):this.copyPortProperties(e,this.Hf,this.Vd,this.Zn,!1)}else this.Rd?this.setNoTargetPortProperties(this.Wd,this.$n,!0):this.setNoTargetPortProperties(this.Vd,this.Zn,!1);(t.oe||t.pe)&&t.iA(t.R.ef)}}},ze.prototype.findValidLinkablePort=function(t,e){if(null===t)return null;var i=t.U;if(!(i instanceof js))return null;for(;null!==t;){var n=e?t.uG:t.VE;if(!0===n&&(null!==t.Ud||t instanceof js)&&(e?this.isValidTo(i,t):this.isValidFrom(i,t)))return t;if(!1===n)break;t=t.Q}return null},ze.prototype.findTargetPort=function(t){var e=this.g,i=e.R.ca,n=this.RF;0>=n&&(n=.1);for(var o=this,r=e.wn(i,n,function(e){return o.findValidLinkablePort(e,t)},null,!0),n=1/0,e=null,r=r.i;r.next();){var s=r.value,a=s.U;if(a instanceof js){var l=s.Wa(su,Kh.K()),h=i.x-l.x,u=i.y-l.y;Kh.v(l),l=h*h+u*u,l<n&&(h=this.qy.ka(s),null!==h?h&&(e=s,n=l):t&&this.isValidLink(this.Sg,this.Tg,a,s)||!t&&this.isValidLink(a,s,this.Ug,this.Vg)?(this.qy.add(s,!0),e=s,n=l):this.qy.add(s,!1))}}return null!==e&&(i=e.U)instanceof js&&(null===i.layer||i.layer.Ct)?e:null},ze.prototype.isValidFrom=function(t,e){if(null===t||null===e)return this.$p;if(null!==this.g&&this.g.$a===this&&(null!==t.layer&&!t.layer.Ct||!0!==e.VE))return!1;var i=e.pA;if(1/0>i){if(null!==this.lc&&t===this.Sg&&e===this.Tg)return!0;var n=e.Ud;if(null===n&&(n=""),t.nx(n).count>=i)return!1}return!0},ze.prototype.isValidTo=function(t,e){if(null===t||null===e)return this.$p;if(null!==this.g&&this.g.$a===this&&(null!==t.layer&&!t.layer.Ct||!0!==e.uG))return!1;var i=e.RJ;if(1/0>i){if(null!==this.lc&&t===this.Ug&&e===this.Vg)return!0;var n=e.Ud;if(null===n&&(n=""),t.Ng(n).count>=i)return!1}return!0},ze.prototype.isInSameNode=function(t,e){if(null===t||null===e)return!1;if(t===e)return!0;var i=t.U,n=e.U;return null!==i&&i===n},ze.prototype.isLinked=function(t,e){if(null===t||null===e)return!1;var i=t.U;if(!(i instanceof js))return!1;var n=t.Ud;null===n&&(n="");var o=e.U;if(!(o instanceof js))return!1;var r=e.Ud;for(null===r&&(r=""),o=o.Ng(r);o.next();)if(r=o.value,r.Y===i&&r.Og===n)return!0;return!1},ze.prototype.isValidLink=function(t,e,i,n){if(!this.isValidFrom(t,e)||!this.isValidTo(i,n)||!(null===e||null===n||(e.XH&&n.QJ||!this.isInSameNode(e,n))&&(e.WH&&n.PJ||!this.isLinked(e,n)))||null!==this.lc&&(null!==t&&this.isLabelDependentOnLink(t,this.lc)||null!==i&&this.isLabelDependentOnLink(i,this.lc))||null!==t&&null!==i&&(null===t.data&&null!==i.data||null!==t.data&&null===i.data)||!this.isValidCycle(t,i,this.lc))return!1;if(null!==t){var o=t.Jx;if(null!==o&&!o(t,e,i,n,this.lc))return!1}return!(null!==i&&null!==(o=i.Jx)&&!o(t,e,i,n,this.lc))&&(null===(o=this.Jx)||o(t,e,i,n,this.lc))},ze.prototype.isLabelDependentOnLink=function(t,e){if(null===t)return!1;var i=t.Wb;if(null===i)return!1;if(i===e)return!0;var n=new p(js);return n.add(t),qe(this,i,e,n)},ze.prototype.isValidCycle=function(t,e,i){if(void 0===i&&(i=null),null===t||null===e)return this.$p;var n=null!==this.g?this.g.XJ:ed;if(n!==ed){if(n===rd){if(null!==i&&!i.Nc)return!0;for(n=e.ge;n.next();){var o=n.value;if(o!==i&&o.Nc&&o.Z===e)return!1}return!Ge(this,t,e,i,!0)}if(n===sd){if(null!==i&&!i.Nc)return!0;for(n=t.ge;n.next();)if((o=n.value)!==i&&o.Nc&&o.Y===t)return!1;return!Ge(this,t,e,i,!0)}if(n===id)return t===e?t=!0:(n=new p(js),n.add(e),t=_e(this,n,t,e,i)),!t;if(n===nd)return!Ge(this,t,e,i,!1);if(n===od)return t===e?t=!0:(n=new p(js),n.add(e),t=Ue(this,n,t,e,i)),!t}return!0},Kh.defineProperty(ze,{Jx:"linkValidation"},function(){return this.rl},function(t){null!==t&&Kh.j(t,"function",ze,"linkValidation"),this.rl=t}),Kh.defineProperty(ze,{Ux:"portTargeted"},function(){return this.zD},function(t){null!==t&&Kh.j(t,"function",ze,"portTargeted"),this.zD=t}),Kh.Ka(Ke,ze),Kh.ga("LinkingTool",Ke);var Ec;Ke.Either=Ec=Kh.p(Ke,"Either",0);var Ic;Ke.ForwardsOnly=Ic=Kh.p(Ke,"ForwardsOnly",0);var Pc;Ke.BackwardsOnly=Pc=Kh.p(Ke,"BackwardsOnly",0),Kh.defineProperty(Ke,{jH:"archetypeLinkData"},function(){return this.XB},function(t){null!==t&&Kh.G(t,Object,Ke,"archetypeLinkData"),t instanceof Eo&&Kh.G(t,Ws,Ke,"archetypeLinkData"),this.XB=t}),Kh.defineProperty(Ke,{qE:"archetypeLabelNodeData"},function(){return this.WB},function(t){null!==t&&Kh.G(t,Object,Ke,"archetypeLabelNodeData"),t instanceof Eo&&Kh.G(t,js,Ke,"archetypeLabelNodeData"),this.WB=t}),Kh.defineProperty(Ke,{direction:"direction"},function(){return this.aa},function(t){Kh.mb(t,Ke,Ke,"direction"),this.aa=t}),Kh.defineProperty(Ke,{pG:"startObject"},function(){return this.JD},function(t){null!==t&&Kh.G(t,Eo,Ke,"startObject"),this.JD=t}),Ke.prototype.canStart=function(){if(!this.isEnabled)return!1;var t=this.g;if(null===t||t.hb||t.Bf||!t.Ct)return!1;var e=t.$;return!(!(e instanceof Qt||e instanceof ie)||!t.R.left||t.$a!==this&&!this.isBeyondDragSize())&&null!==this.findLinkablePort()},Ke.prototype.findLinkablePort=function(){var t=this.g;if(null===t)return null;var e=this.pG;if(null===e&&(e=t.Le(t.Bc.ca,null,null)),null===e||!(e.U instanceof js))return null;if((t=this.direction)===Ec||t===Ic){var i=this.findValidLinkablePort(e,!1);if(null!==i)return this.Rd=!0,i}return t!==Ec&&t!==Pc||null===(i=this.findValidLinkablePort(e,!0))?null:(this.Rd=!1,i)},Ke.prototype.doActivate=function(){var t=this.g;if(null!==t){var e=this.findLinkablePort();null!==e&&(this.Hb(this.name),t.cf=!0,t.ec="pointer",this.Rd?(null===this.Wd||this.Wd.location.I()||(this.Wd.location=t.R.ca),this.Tg=e,e=this.Tg.U,e instanceof js&&(this.Sg=e),this.copyPortProperties(this.Sg,this.Tg,this.Vd,this.Zn,!1)):(null===this.Vd||this.Vd.location.I()||(this.Vd.location=t.R.ca),this.Vg=e,e=this.Vg.U,e instanceof js&&(this.Ug=e),this.copyPortProperties(this.Ug,this.Vg,this.Wd,this.$n,!0)),t.add(this.Vd),t.add(this.Wd),null!==this.Zg&&(null!==this.Vd&&(this.Zg.Y=this.Vd),null!==this.Wd&&(this.Zg.Z=this.Wd),this.Zg.$b(),t.add(this.Zg)),this.sa=!0)}},Ke.prototype.doDeactivate=function(){this.sa=!1;var t=this.g;null!==t&&(t.remove(this.Zg),t.remove(this.Vd),t.remove(this.Wd),t.cf=!1,t.ec="",this.Mk())},Ke.prototype.doStop=function(){ze.prototype.doStop.call(this),this.pG=null},Ke.prototype.doMouseUp=function(){if(this.sa){var t=this.g;if(null===t)return;var e=this.Kf=null,i=null,n=null,o=null,r=this.Hf=this.findTargetPort(this.Rd);if(null!==r){var s=r.U;s instanceof js&&(this.Rd?(null!==this.Sg&&(e=this.Sg,i=this.Tg),n=s,o=r):(e=s,i=r,null!==this.Ug&&(n=this.Ug,o=this.Vg)))}else this.Rd?null!==this.Sg&&this.$p&&(e=this.Sg,i=this.Tg):null!==this.Ug&&this.$p&&(n=this.Ug,o=this.Vg);null!==e||null!==n?(s=this.insertLink(e,i,n,o),null!==s?(null===r&&(this.Rd?s.Lp=t.R.ca:s.Kp=t.R.ca),t.yf&&t.select(s),this.Kf=this.name,t.Aa("LinkDrawn",s)):(t.$.vE(),this.doNoLink(e,i,n,o))):this.Rd?this.doNoLink(this.Sg,this.Tg,null,null):this.doNoLink(null,null,this.Ug,this.Vg)}this.stopTool()},Ke.prototype.insertLink=function(t,e,i,n){var o=this.g;if(null===o)return null;var r=o.$;if(r instanceof ie){var s=t;if(e=i,o.Td||(s=i,e=t),null!==s&&null!==e)return r.ti(e.data,r.pb(s.data)),e.xn()}else if(r instanceof Qt)if(s="",null!==t&&(null===e&&(e=t),null===(s=e.Ud)&&(s="")),e="",null!==i&&(null===n&&(n=i),null===(e=n.Ud)&&(e="")),(n=this.jH)instanceof Ws){if(xr(n),null!==(r=n.copy()))return r.Y=t,r.Og=s,r.Z=i,r.Hh=e,o.add(r),t=this.qE,t instanceof js&&(xr(t),null!==(t=t.copy())&&(t.Wb=r,o.add(t))),r}else if(null!==n&&(n=r.Zw(n),Kh.Pa(n)))return null!==t&&r.jB(n,r.pb(t.data)),r.kB(n,s),null!==i&&r.pB(n,r.pb(i.data)),r.qB(n,e),r.xt(n),t=this.qE,null===t||t instanceof js||(t=r.copyNodeData(t),Kh.Pa(t)&&(r.Gl(t),void 0!==(t=r.pb(t))&&r.lE(n,t))),r=o.Xf(n);return null},Ke.prototype.doNoLink=function(){},Kh.Ka($e,ze),Kh.ga("RelinkingTool",$e),$e.prototype.updateAdornments=function(t){if(null!==t&&t instanceof Ws){var e="RelinkFrom",i=null;if(t.ib&&null!==this.g&&!this.g.hb){var n=t.Ju;null!==n&&t.canRelinkFrom()&&t.W.I()&&t.isVisible()&&n.W.I()&&n.xj()&&null===(i=t.Pp(e))&&(i=this.makeAdornment(n,!1),t.Fl(e,i))}null===i&&t.Bj(e),e="RelinkTo",i=null,t.ib&&null!==this.g&&!this.g.hb&&null!==(n=t.Ju)&&t.canRelinkTo()&&t.W.I()&&t.isVisible()&&n.W.I()&&n.xj()&&null===(i=t.Pp(e))&&(i=this.makeAdornment(n,!0),t.Fl(e,i)),null===i&&t.Bj(e)}},$e.prototype.makeAdornment=function(t,e){var i=new Ns;i.type=tp;var n=e?this.OJ:this.VH;return null!==n&&i.add(n.copy()),i.sb=t,i},Kh.defineProperty($e,{VH:"fromHandleArchetype"},function(){return this.JC},function(t){null!==t&&Kh.G(t,Eo,$e,"fromHandleArchetype"),this.JC=t}),Kh.defineProperty($e,{OJ:"toHandleArchetype"},function(){return this.WD},function(t){null!==t&&Kh.G(t,Eo,$e,"toHandleArchetype"),this.WD=t}),Kh.u($e,{handle:"handle"},function(){return this.hc}),$e.prototype.canStart=function(){if(!this.isEnabled)return!1;var t=this.g;if(null===t||t.hb||t.Bf||!t.kn)return!1;var e=t.$;return!(!(e instanceof Qt||e instanceof ie)||!t.R.left)&&(e=this.findToolHandleAt(t.Bc.ca,"RelinkFrom"),null===e&&(e=this.findToolHandleAt(t.Bc.ca,"RelinkTo")),null!==e)},$e.prototype.doActivate=function(){var t=this.g;if(null!==t){if(null===this.lc){var e=this.findToolHandleAt(t.Bc.ca,"RelinkFrom");if(null===e&&(e=this.findToolHandleAt(t.Bc.ca,"RelinkTo")),null===e)return;var i=e.U;if(!(i instanceof Ns&&i.xf instanceof Ws))return;this.hc=e,this.Rd=null===i||"RelinkTo"===i.vd,this.lc=i.xf}this.Hb(this.name),t.cf=!0,t.ec="pointer",this.Tg=this.lc.Cc,this.Sg=this.lc.Y,this.Vg=this.lc.cd,this.Ug=this.lc.Z,this.tD.set(this.lc.W),null!==this.lc&&0<this.lc.qa&&(null===this.lc.Y&&(null!==this.Zn&&(this.Zn.Ca=qu),null!==this.Vd&&(this.Vd.location=this.lc.l(0))),null===this.lc.Z&&(null!==this.$n&&(this.$n.Ca=qu),null!==this.Wd&&(this.Wd.location=this.lc.l(this.lc.qa-1)))),this.copyPortProperties(this.Sg,this.Tg,this.Vd,this.Zn,!1),this.copyPortProperties(this.Ug,this.Vg,this.Wd,this.$n,!0),t.add(this.Vd),t.add(this.Wd),null!==this.Zg&&(null!==this.Vd&&(this.Zg.Y=this.Vd),null!==this.Wd&&(this.Zg.Z=this.Wd),this.copyLinkProperties(this.lc,this.Zg),this.Zg.$b(),t.add(this.Zg)),this.sa=!0}},$e.prototype.copyLinkProperties=function(t,e){if(null!==t&&null!==e){e.zt=t.zt,e.eA=t.eA;var i=t.af;i!==Gp&&i!==qp||(i=Hp),e.af=i,e.bx=t.bx,e.ey=t.ey,e.uq=t.uq,e.Ab=t.Ab,e.Ul=t.Ul,e.Wt=t.Wt,e.Xt=t.Xt,e.Bb=t.Bb,e.mm=t.mm,e.Qu=t.Qu,e.Ru=t.Ru,e.points=t.points}},$e.prototype.doDeactivate=function(){this.sa=!1;var t=this.g;null!==t&&(t.remove(this.Zg),t.remove(this.Vd),t.remove(this.Wd),t.cf=!1,t.ec="",this.Mk())},$e.prototype.doStop=function(){ze.prototype.doStop.call(this),this.hc=null},$e.prototype.doMouseUp=function(){if(this.sa){var t=this.g;if(null===t)return;this.Kf=null;var e=this.Sg,i=this.Tg,n=this.Ug,o=this.Vg,r=this.lc;if(this.Hf=this.findTargetPort(this.Rd),null!==this.Hf){var s=this.Hf.U;s instanceof js&&(this.Rd?(n=s,o=this.Hf):(e=s,i=this.Hf))}else this.$p?this.Rd?o=n=null:i=e=null:r=null;null!==r?(this.reconnectLink(r,this.Rd?n:e,this.Rd?o:i,this.Rd),null===this.Hf&&(this.Rd?r.Lp=t.R.ca:r.Kp=t.R.ca,r.$b()),t.yf&&(r.ib=!0),this.Kf=this.name,t.Aa("LinkRelinked",r,this.Rd?this.Vg:this.Tg)):this.doNoRelink(this.lc,this.Rd),ua(this.lc,this.tD)}this.stopTool()},$e.prototype.reconnectLink=function(t,e,i,n){return null!==this.g&&(i=null!==i&&null!==i.Ud?i.Ud:"",n?(t.Z=e,t.Hh=i):(t.Y=e,t.Og=i),!0)},$e.prototype.doNoRelink=function(){},Kh.Ka(Ye,pe),Kh.ga("LinkReshapingTool",Ye);var Dc;Ye.None=Dc=Kh.p(Ye,"None",0);var Oc;Ye.Horizontal=Oc=Kh.p(Ye,"Horizontal",1);var Lc;Ye.Vertical=Lc=Kh.p(Ye,"Vertical",2);var Nc;Ye.All=Nc=Kh.p(Ye,"All",3),Ye.prototype.getReshapingBehavior=Ye.prototype.$E=function(t){return t&&t.zz?t.zz:Dc},Ye.prototype.setReshapingBehavior=Ye.prototype.Lu=function(t,e){Kh.G(t,Eo,Ye,"setReshapingBehavior:obj"),Kh.mb(e,Ye,Ye,"setReshapingBehavior:behavior"),t.zz=e},Ye.prototype.updateAdornments=function(t){if(null!==t&&t instanceof Ws){if(t.ib&&null!==this.g&&!this.g.hb){var e=t.path;if(null!==e&&t.canReshape()&&t.W.I()&&t.isVisible()&&e.W.I()&&e.xj()){var i=t.Pp(this.name);if(null!==i&&i.nD===t.qa&&i.eE===t.Fu||null!==(i=this.makeAdornment(e))&&(i.nD=t.qa,i.eE=t.Fu,t.Fl(this.name,i)),null!==i)return void(i.location=t.position)}}t.Bj(this.name)}},Ye.prototype.makeAdornment=function(t){var e=t.U,i=e.qa,n=e.ac,o=null;if(null!==e.points&&1<i){o=new Ns,o.type=tp;var i=e.Qt,r=e.Fx,s=n?1:0;if(e.Fu&&e.af!==zp)for(var a=i+s;a<r-s;a++){var l=this.makeResegmentHandle(t,a);null!==l&&(l.Oe=a,l.gB=.5,l.pA=999,o.add(l))}for(a=i+1;a<r;a++)if(null!==(l=this.makeHandle(t,a))){if(l.Oe=a,a!==i)if(a===i+1&&n){var s=e.l(i),h=e.l(i+1);W(s.x,h.x)&&W(s.y,h.y)&&(h=e.l(i-1)),W(s.x,h.x)?(this.Lu(l,Lc),l.cursor="n-resize"):W(s.y,h.y)&&(this.Lu(l,Oc),l.cursor="w-resize")}else a===r-1&&n?(s=e.l(r-1),h=e.l(r),W(s.x,h.x)&&W(s.y,h.y)&&(s=e.l(r+1)),W(s.x,h.x)?(this.Lu(l,Lc),l.cursor="n-resize"):W(s.y,h.y)&&(this.Lu(l,Oc),l.cursor="w-resize")):a!==r&&(this.Lu(l,Nc),l.cursor="move");o.add(l)}o.sb=t}return o},Ye.prototype.makeHandle=function(){var t=this.$t;return null===t?null:t.copy()},Kh.defineProperty(Ye,{$t:"handleArchetype"},function(){return this.el},function(t){null!==t&&Kh.G(t,Eo,Ye,"handleArchetype"),this.el=t}),Ye.prototype.makeResegmentHandle=function(){var t=this.XI;return null===t?null:t.copy()},Kh.defineProperty(Ye,{XI:"midHandleArchetype"},function(){return this.gD},function(t){null!==t&&Kh.G(t,Eo,Ye,"midHandleArchetype"),this.gD=t}),Kh.u(Ye,{handle:"handle"},function(){return this.hc}),Kh.u(Ye,{At:"adornedLink"},function(){return this.Gy}),Ye.prototype.canStart=function(){if(!this.isEnabled)return!1;var t=this.g;return!(null===t||t.hb||!t.Rw||!t.R.left)&&null!==this.findToolHandleAt(t.Bc.ca,this.name)},Ye.prototype.doActivate=function(){var t=this.g;if(null!==t&&(this.hc=this.findToolHandleAt(t.Bc.ca,this.name),null!==this.hc)){var e=this.hc.U.xf;if(e instanceof Ws){if(this.Gy=e,t.cf=!0,this.Hb(this.name),e.Fu&&999===this.hc.pA){var i=e.points.copy(),n=this.hc.Wa(su);if(i.Qd(this.hc.Oe+1,n),e.ac&&i.Qd(this.hc.Oe+1,n),e.points=i,e.de(),this.hc=this.findToolHandleAt(t.Bc.ca,this.name),null===this.hc)return void this.doDeactivate()}this.cp=e.l(this.hc.Oe),this.jw=e.points.copy(),this.sa=!0}}},Ye.prototype.doDeactivate=function(){this.Mk(),this.Gy=this.hc=null;var t=this.g;null!==t&&(t.cf=!1),this.sa=!1},Ye.prototype.doCancel=function(){var t=this.At;null!==t&&(t.points=this.jw),this.stopTool()},Ye.prototype.doMouseMove=function(){var t=this.g;this.sa&&null!==t&&(t=this.computeReshape(t.R.ca),this.reshape(t))},Ye.prototype.doMouseUp=function(){var t=this.g;if(this.sa&&null!==t){var e=this.computeReshape(t.R.ca);if(this.reshape(e),null!==(e=this.At)&&e.Fu){var i=this.handle.Oe,n=e.l(i-1),o=e.l(i),r=e.l(i+1);if(e.ac){if(i>e.Qt+1&&i<e.Fx-1){var s=e.l(i-2);if(Math.abs(n.x-o.x)<this.Eh&&Math.abs(n.y-o.y)<this.Eh&&(Je(this,s,n,o,r,!0)||Je(this,s,n,o,r,!1))){var a=e.points.copy();Je(this,s,n,o,r,!0)?(a.kg(i-2,new w(s.x,(r.y+s.y)/2)),a.kg(i+1,new w(r.x,(r.y+s.y)/2))):(a.kg(i-2,new w((r.x+s.x)/2,s.y)),a.kg(i+1,new w((r.x+s.x)/2,r.y))),a.bd(i),a.bd(i-1),e.points=a,e.de()}else s=e.l(i+2),Math.abs(o.x-r.x)<this.Eh&&Math.abs(o.y-r.y)<this.Eh&&(Je(this,n,o,r,s,!0)||Je(this,n,o,r,s,!1))&&(a=e.points.copy(),Je(this,n,o,r,s,!0)?(a.kg(i-1,new w(n.x,(n.y+s.y)/2)),a.kg(i+2,new w(s.x,(n.y+s.y)/2))):(a.kg(i-1,new w((n.x+s.x)/2,n.y)),a.kg(i+2,new w((n.x+s.x)/2,s.y))),a.bd(i+1),a.bd(i),e.points=a,e.de())}}else s=Kh.K(),st(n.x,n.y,r.x,r.y,o.x,o.y,s)&&s.zf(o)<this.Eh*this.Eh&&(a=e.points.copy(),a.bd(i),e.points=a,e.de()),Kh.v(s)}t.sc(),this.Kf=this.name,t.Aa("LinkReshaped",this.At,this.jw)}this.stopTool()},Kh.defineProperty(Ye,{Eh:"resegmentingDistance"},function(){return this.AD},function(t){Kh.j(t,"number",Ye,"resegmentingDistance"),this.AD=t}),Ye.prototype.reshape=function(t){var e=this.At;e.hm();var i=this.handle.Oe,n=this.$E(this.handle);if(e.ac)if(i===e.Qt+1)i=e.Qt+1,n===Lc?(e.ba(i,e.l(i-1).x,t.y),e.ba(i+1,e.l(i+2).x,t.y)):n===Oc&&(e.ba(i,t.x,e.l(i-1).y),e.ba(i+1,t.x,e.l(i+2).y));else if(i===e.Fx-1)i=e.Fx-1,n===Lc?(e.ba(i-1,e.l(i-2).x,t.y),e.ba(i,e.l(i+1).x,t.y)):n===Oc&&(e.ba(i-1,t.x,e.l(i-2).y),e.ba(i,t.x,e.l(i+1).y));else{var n=i,o=e.l(n),r=e.l(n-1),s=e.l(n+1);W(r.x,o.x)&&W(o.y,s.y)?(W(r.x,e.l(n-2).x)&&!W(r.y,e.l(n-2).y)?(e.w(n,t.x,r.y),i++,n++):e.ba(n-1,t.x,r.y),W(s.y,e.l(n+2).y)&&!W(s.x,e.l(n+2).x)?e.w(n+1,s.x,t.y):e.ba(n+1,s.x,t.y)):W(r.y,o.y)&&W(o.x,s.x)?(W(r.y,e.l(n-2).y)&&!W(r.x,e.l(n-2).x)?(e.w(n,r.x,t.y),i++,n++):e.ba(n-1,r.x,t.y),W(s.x,e.l(n+2).x)&&!W(s.y,e.l(n+2).y)?e.w(n+1,t.x,s.y):e.ba(n+1,t.x,s.y)):W(r.x,o.x)&&W(o.x,s.x)?(W(r.x,e.l(n-2).x)&&!W(r.y,e.l(n-2).y)?(e.w(n,t.x,r.y),i++,n++):e.ba(n-1,t.x,r.y),W(s.x,e.l(n+2).x)&&!W(s.y,e.l(n+2).y)?e.w(n+1,t.x,s.y):e.ba(n+1,t.x,s.y)):W(r.y,o.y)&&W(o.y,s.y)&&(W(r.y,e.l(n-2).y)&&!W(r.x,e.l(n-2).x)?(e.w(n,r.x,t.y),i++,n++):e.ba(n-1,r.x,t.y),W(s.y,e.l(n+2).y)&&!W(s.x,e.l(n+2).x)?e.w(n+1,s.x,t.y):e.ba(n+1,s.x,t.y)),e.ba(i,t.x,t.y)}else e.ba(i,t.x,t.y),o=e.Y,r=e.Cc,null!==o&&null!==(n=o.findVisibleNode())&&n!==o&&(o=n,r=o.port),1===i&&e.computeSpot(!0,r).Sd()&&(n=r.Wa(su,Kh.K()),o=e.getLinkPointFromPoint(o,r,n,t,!0,Kh.K()),e.ba(0,o.x,o.y),Kh.v(n),Kh.v(o)),o=e.Z,r=e.cd,null!==o&&null!==(n=o.findVisibleNode())&&n!==o&&(o=n,r=o.port),i===e.qa-2&&e.computeSpot(!1,r).Sd()&&(n=r.Wa(su,Kh.K()),o=e.getLinkPointFromPoint(o,r,n,t,!1,Kh.K()),e.ba(e.qa-1,o.x,o.y),Kh.v(n),Kh.v(o));e.kj()},Ye.prototype.computeReshape=function(t){var e=this.At,i=this.handle.Oe;switch(this.$E(this.handle)){case Nc:return t;case Lc:return e=e.l(i),new w(e.x,t.y);case Oc:return e=e.l(i),new w(t.x,e.y);default:case Dc:return e.l(i)}},Kh.u(Ye,{zL:"originalPoint"},function(){return this.cp}),Kh.u(Ye,{AL:"originalPoints"},function(){return this.jw}),Kh.Ka(Xe,pe),Kh.ga("ResizingTool",Xe),Xe.prototype.updateAdornments=function(t){if(!(null===t||t instanceof Ws)){if(t.ib&&null!==this.g&&!this.g.hb){var e=t.aG;if(null!==e&&t.canResize()&&t.W.I()&&t.isVisible()&&e.W.I()&&e.xj()){var i=t.Pp(this.name);if(null!==i&&i.sb===e||(i=this.makeAdornment(e)),null!==i){var n=e.Vl();i.angle=n;var o=e.Wa(i.Ef,Kh.K()),r=e.pj();if(i.location=o,Kh.v(o),null!==(o=i.placeholder)){var e=e.Ja,s=Kh.lm();s.m(e.width*r,e.height*r),o.Ca=s,Kh.Bk(s)}return this.updateResizeHandles(i,n),void t.Fl(this.name,i)}}}t.Bj(this.name)}},Xe.prototype.makeAdornment=function(t){var e=null,e=t.U.$F;if(null===e){e=new Ns,e.type=Yd,e.Ef=su;var i=new ja;i.qf=!0,e.add(i),e.add(this.makeHandle(t,iu)),e.add(this.makeHandle(t,ou)),e.add(this.makeHandle(t,uu)),e.add(this.makeHandle(t,lu)),e.add(this.makeHandle(t,cu)),e.add(this.makeHandle(t,pu)),e.add(this.makeHandle(t,fu)),e.add(this.makeHandle(t,du))}else if(xr(e),null===(e=e.copy()))return null;return e.sb=t,e},Xe.prototype.makeHandle=function(t,e){var i=this.$t;return null===i?null:(i=i.copy(),i.alignment=e,i)},Xe.prototype.updateResizeHandles=function(t,e){if(null!==t)if(!t.alignment.Xc()&&("pointer"===t.cursor||0<t.cursor.indexOf("resize")))t:{var i=t.alignment;i.Sd()&&(i=su);var n=e;if(0>=i.x)n=0>=i.y?n+225:1<=i.y?n+135:n+180;else if(1<=i.x)0>=i.y?n+=315:1<=i.y&&(n+=45);else if(0>=i.y)n+=270;else{if(!(1<=i.y))break t;n+=90}0>n?n+=360:360<=n&&(n-=360),t.cursor=22.5>n?"e-resize":67.5>n?"se-resize":112.5>n?"s-resize":157.5>n?"sw-resize":202.5>n?"w-resize":247.5>n?"nw-resize":292.5>n?"n-resize":337.5>n?"ne-resize":"e-resize"}else if(t instanceof ir)for(i=t.elements;i.next();)this.updateResizeHandles(i.value,e)},Kh.defineProperty(Xe,{$t:"handleArchetype"},function(){return this.el},function(t){null!==t&&Kh.G(t,Eo,Xe,"handleArchetype"),this.el=t}),Kh.u(Xe,{handle:"handle"},function(){return this.hc}),Kh.defineProperty(Xe,{sb:"adornedObject"},function(){return this.Gc},function(t){null!==t&&Kh.G(t,Eo,Xe,"adornedObject"),this.Gc=t}),Xe.prototype.canStart=function(){if(!this.isEnabled)return!1;var t=this.g;return!(null===t||t.hb||!t.Dt||!t.R.left)&&null!==this.findToolHandleAt(t.Bc.ca,this.name)},Xe.prototype.doActivate=function(){var t=this.g;null!==t&&(this.hc=this.findToolHandleAt(t.Bc.ca,this.name),null!==this.hc&&(this.Gc=this.hc.U.sb,this.cp.set(this.sb.Wa(this.handle.alignment.MF())),this.uD.set(this.Gc.U.location),this.pD.set(this.Gc.Ca),this.az=this.computeCellSize(),this.cz=this.computeMinSize(),this.bz=this.computeMaxSize(),t.cf=!0,this.mD=t.Oa.isEnabled,t.Oa.isEnabled=!1,this.Hb(this.name),this.sa=!0))},Xe.prototype.doDeactivate=function(){var t=this.g;null!==t&&(this.Mk(),this.Gc=this.hc=null,this.sa=t.cf=!1,t.Oa.isEnabled=this.mD)},Xe.prototype.doCancel=function(){null!==this.sb&&(this.sb.Ca=this.NF,this.sb.U.location=this.gJ),this.stopTool()},Xe.prototype.doMouseMove=function(){var t=this.g;if(this.sa&&null!==t){var e=this.cz,i=this.bz,n=this.az,o=this.sb.YE(t.R.ca,Kh.K()),r=this.computeReshape(),e=this.computeResize(o,this.handle.alignment,e,i,n,r);this.resize(e),t.cg(),Kh.v(o)}},Xe.prototype.doMouseUp=function(){var t=this.g;if(this.sa&&null!==t){var e=this.cz,i=this.bz,n=this.az,o=this.sb.YE(t.R.ca,Kh.K()),r=this.computeReshape(),e=this.computeResize(o,this.handle.alignment,e,i,n,r);this.resize(e),Kh.v(o),t.sc(),this.Kf=this.name,t.Aa("PartResized",this.sb,this.NF)}this.stopTool()},Xe.prototype.resize=function(t){var e=this.g;if(null!==e){var i=this.sb,n=i.U;i.Ca=t.size,n.Je(),t=this.sb.Wa(this.handle.alignment.MF()),n instanceof Pa?(i=new c(us),i.add(n),e.moveParts(i,this.cp.copy().Ej(t),!0)):n.location=n.location.copy().Ej(t).add(this.cp)}},Xe.prototype.computeResize=function(t,e,i,n,o,r){e.Sd()&&(e=su);var s=this.sb.Ja,a=s.x,l=s.y,h=s.x+s.width,u=s.y+s.height,c=1;if(!r){var c=s.width,d=s.height;0>=c&&(c=1),0>=d&&(d=1),c=d/c}return d=Kh.K(),yt(t.x,t.y,a,l,o.width,o.height,d),t=s.copy(),0>=e.x?0>=e.y?(t.x=Math.max(d.x,h-n.width),t.x=Math.min(t.x,h-i.width),t.width=Math.max(h-t.x,i.width),t.y=Math.max(d.y,u-n.height),t.y=Math.min(t.y,u-i.height),t.height=Math.max(u-t.y,i.height),r||(e=t.height/t.width,c<e?(t.height=c*t.width,t.y=u-t.height):(t.width=t.height/c,t.x=h-t.width))):1<=e.y?(t.x=Math.max(d.x,h-n.width),t.x=Math.min(t.x,h-i.width),t.width=Math.max(h-t.x,i.width),t.height=Math.max(Math.min(d.y-l,n.height),i.height),r||(e=t.height/t.width,c<e?t.height=c*t.width:(t.width=t.height/c,t.x=h-t.width))):(t.x=Math.max(d.x,h-n.width),t.x=Math.min(t.x,h-i.width),t.width=h-t.x,r||(t.height=c*t.width,t.y=l+.5*(u-l-t.height))):1<=e.x?0>=e.y?(t.width=Math.max(Math.min(d.x-a,n.width),i.width),t.y=Math.max(d.y,u-n.height),t.y=Math.min(t.y,u-i.height),t.height=Math.max(u-t.y,i.height),r||(e=t.height/t.width,c<e?(t.height=c*t.width,t.y=u-t.height):t.width=t.height/c)):1<=e.y?(t.width=Math.max(Math.min(d.x-a,n.width),i.width),t.height=Math.max(Math.min(d.y-l,n.height),i.height),r||(e=t.height/t.width,c<e?t.height=c*t.width:t.width=t.height/c)):(t.width=Math.max(Math.min(d.x-a,n.width),i.width),r||(t.height=c*t.width,t.y=l+.5*(u-l-t.height))):0>=e.y?(t.y=Math.max(d.y,u-n.height),t.y=Math.min(t.y,u-i.height),t.height=u-t.y,r||(t.width=t.height/c,t.x=a+.5*(h-a-t.width))):1<=e.y&&(t.height=Math.max(Math.min(d.y-l,n.height),i.height),r||(t.width=t.height/c,t.x=a+.5*(h-a-t.width))),Kh.v(d),t},Xe.prototype.computeReshape=function(){var t=Nd;return this.sb instanceof Pr&&(t=Nr(this.sb)),!(t===Bd||t===Vd||null!==this.g&&this.g.R.shift)},Xe.prototype.computeMinSize=function(){var t=this.sb.si.copy(),e=this.si;return!isNaN(e.width)&&e.width>t.width&&(t.width=e.width),!isNaN(e.height)&&e.height>t.height&&(t.height=e.height),t},Xe.prototype.computeMaxSize=function(){var t=this.sb.Ff.copy(),e=this.Ff;return!isNaN(e.width)&&e.width<t.width&&(t.width=e.width),!isNaN(e.height)&&e.height<t.height&&(t.height=e.height),t},Xe.prototype.computeCellSize=function(){var t=new k(NaN,NaN),e=this.sb.U;if(null!==e){var i=e.rJ;!isNaN(i.width)&&0<i.width&&(t.width=i.width),!isNaN(i.height)&&0<i.height&&(t.height=i.height)}return i=this.Dp,isNaN(t.width)&&!isNaN(i.width)&&0<i.width&&(t.width=i.width),isNaN(t.height)&&!isNaN(i.height)&&0<i.height&&(t.height=i.height),e=this.g,(isNaN(t.width)||isNaN(t.height))&&e&&(i=e.eb.te,null!==i&&i.hu&&(i=i.fF,isNaN(t.width)&&!isNaN(i.width)&&0<i.width&&(t.width=i.width),isNaN(t.height)&&!isNaN(i.height)&&0<i.height&&(t.height=i.height)),null!==(e=e.Cn)&&e.visible&&this.hu&&(i=e.ux,isNaN(t.width)&&!isNaN(i.width)&&0<i.width&&(t.width=i.width),isNaN(t.height)&&!isNaN(i.height)&&0<i.height&&(t.height=i.height))),(isNaN(t.width)||0===t.width||1/0===t.width)&&(t.width=1),(isNaN(t.height)||0===t.height||1/0===t.height)&&(t.height=1),t},Kh.defineProperty(Xe,{si:"minSize"},function(){return this.Yh},function(t){if(Kh.G(t,k,Xe,"minSize"),!this.Yh.L(t)){var e=t.width;isNaN(e)&&(e=0),t=t.height,isNaN(t)&&(t=0),this.Yh.m(e,t)}}),Kh.defineProperty(Xe,{Ff:"maxSize"},function(){return this.Xh},function(t){if(Kh.G(t,k,Xe,"maxSize"),!this.Xh.L(t)){var e=t.width;isNaN(e)&&(e=1/0),t=t.height,isNaN(t)&&(t=1/0),this.Xh.m(e,t)}}),Kh.defineProperty(Xe,{Dp:"cellSize"},function(){return this.Kj},function(t){Kh.G(t,k,Xe,"cellSize"),this.Kj.L(t)||this.Kj.assign(t)}),Kh.defineProperty(Xe,{hu:"isGridSnapEnabled"},function(){return this.Jr},function(t){Kh.j(t,"boolean",Xe,"isGridSnapEnabled"),this.Jr=t}),Kh.u(Xe,{NF:"originalDesiredSize"},function(){return this.pD}),Kh.u(Xe,{gJ:"originalLocation"},function(){return this.uD}),Kh.Ka(Qe,pe),Kh.ga("RotatingTool",Qe),Qe.prototype.updateAdornments=function(t){if(null!==t){if(t instanceof Ws){var e=t.dB;if(e===t||e===t.path||e.qf)return}if(t.ib&&null!==this.g&&!this.g.hb&&null!==(e=t.dB)&&t.canRotate()&&t.W.I()&&t.isVisible()&&e.W.I()&&e.xj()){var i=t.Pp(this.name);if(null!==i&&i.sb===e||(i=this.makeAdornment(e)),null!==i){i.angle=e.Vl();var n=null,o=null;e===t||e===t.bg?(n=t.bg,o=t.Ef):(n=e,o=su);for(var r=n.Ja,o=Kh.xb(r.width*o.x+o.offsetX,r.height*o.y+o.offsetY);null!==n&&n!==e;)n.transform.nb(o),n=n.Q;var n=o.y,r=Math.max(o.x-e.Ja.width,0),s=Kh.K();return i.location=e.Wa(new N(1,0,50+r,n),s),Kh.v(s),Kh.v(o),void t.Fl(this.name,i)}}t.Bj(this.name)}},Qe.prototype.makeAdornment=function(t){var e=null,e=t.U.uJ;if(null===e){e=new Ns,e.type=$d,e.Ef=su;var i=this.$t;null!==i&&e.add(i.copy())}else if(xr(e),null===(e=e.copy()))return null;return e.sb=t,e},Kh.defineProperty(Qe,{$t:"handleArchetype"},function(){return this.el},function(t){null!==t&&Kh.G(t,Eo,Qe,"handleArchetype"),this.el=t}),Kh.u(Qe,{handle:"handle"},function(){return this.hc}),Kh.defineProperty(Qe,{sb:"adornedObject"},function(){return this.Gc},function(t){null!==t&&Kh.G(t,Eo,Qe,"adornedObject"),this.Gc=t}),Qe.prototype.canStart=function(){if(!this.isEnabled)return!1;var t=this.g;return!(null===t||t.hb||!t.Sw||!t.R.left)&&null!==this.findToolHandleAt(t.Bc.ca,this.name)},Qe.prototype.doActivate=function(){var t=this.g;if(null!==t&&(this.hc=this.findToolHandleAt(t.Bc.ca,this.name),null!==this.hc)){this.Gc=this.hc.U.sb;var e=this.Gc.U,i=e.bg;this.BD=this.Gc===e||this.Gc===i?i.Wa(e.Ef):this.Gc.Wa(su),this.iw=this.Gc.angle,t.cf=!0,t.gA=!0,this.Hb(this.name),this.sa=!0}},Qe.prototype.doDeactivate=function(){var t=this.g;null!==t&&(this.Mk(),this.Gc=this.hc=null,this.sa=t.cf=!1)},Qe.prototype.doCancel=function(){var t=this.g;null!==t&&(t.gA=!1),this.rotate(this.iw),this.stopTool()},Qe.prototype.doMouseMove=function(){var t=this.g;this.sa&&null!==t&&(t=this.computeRotate(t.R.ca),this.rotate(t))},Qe.prototype.doMouseUp=function(){var t=this.g;if(this.sa&&null!==t){t.gA=!1;var e=this.computeRotate(t.R.ca);this.rotate(e),t.sc(),this.Kf=this.name,t.Aa("PartRotated",this.Gc,this.iw)}this.stopTool()},Qe.prototype.rotate=function(t){null!==this.Gc&&(this.Gc.angle=t)},Qe.prototype.computeRotate=function(t){t=this.BD.Pb(t);var e=this.Gc.Q;null!==e&&(t-=e.Vl(),360<=t?t-=360:0>t&&(t+=360));var e=Math.min(Math.abs(this.HJ),180),i=Math.min(Math.abs(this.GJ),e/2);return(null===this.g||!this.g.R.shift)&&0<e&&0<i&&(t%e<i?t=Math.floor(t/e)*e:t%e>e-i&&(t=(Math.floor(t/e)+1)*e)),360<=t?t-=360:0>t&&(t+=360),t},Kh.defineProperty(Qe,{HJ:"snapAngleMultiple"},function(){return this.GD},function(t){Kh.j(t,"number",Qe,"snapAngleMultiple"),this.GD=t}),Kh.defineProperty(Qe,{GJ:"snapAngleEpsilon"},function(){return this.FD},function(t){Kh.j(t,"number",Qe,"snapAngleEpsilon"),this.FD=t}),Kh.u(Qe,{yL:"originalAngle"},function(){return this.iw}),Kh.Ka(Ze,pe),Kh.ga("ClickSelectingTool",Ze),Ze.prototype.canStart=function(){return!(!this.isEnabled||null===this.g||this.isBeyondDragSize())},Ze.prototype.doMouseUp=function(){this.sa&&(this.standardMouseSelect(),!this.standardMouseClick()&&null!==this.g&&this.g.R.vj&&this.g.eb.doToolTip()),this.stopTool()},Kh.Ka(ti,pe),Kh.ga("ActionTool",ti),ti.prototype.canStart=function(){if(!this.isEnabled)return!1;var t=this.g;if(null===t)return!1;var e=t.R,i=t.Le(e.ca,function(t){for(;null!==t.Q&&!t.wx;)t=t.Q;return t});return null!==i&&(!!i.wx&&(this.ho=i,t.to=t.Le(e.ca,null,null),!0))},ti.prototype.doMouseDown=function(){if(this.sa){var t=this.g.R,e=this.ho;null!==e&&(t.Re=e,null!==e.hE&&e.hE(t,e))}else this.canStart()&&this.doActivate()},ti.prototype.doMouseMove=function(){if(this.sa){var t=this.g.R,e=this.ho;null!==e&&(t.Re=e,null!==e.iE&&e.iE(t,e))}},ti.prototype.doMouseUp=function(){if(this.sa){var t=this.g,e=t.R,i=this.ho;if(null===i)return;e.Re=i,null!==i.jE&&i.jE(e,i),this.isBeyondDragSize()||fe(i,e,t)}this.stopTool()},ti.prototype.doCancel=function(){var t=this.g;if(null!==t){var t=t.R,e=this.ho;if(null===e)return;t.Re=e,null!==e.gE&&e.gE(t,e)}this.stopTool()},ti.prototype.doStop=function(){this.ho=null},Kh.Ka(ei,pe),Kh.ga("ClickCreatingTool",ei),ei.prototype.canStart=function(){if(!this.isEnabled||null===this.Uz)return!1;var t=this.g;if(null===t||t.hb||t.Bf||!t.Ap||!t.R.left||this.isBeyondDragSize())return!1;if(this.uI){if(1===t.R.Ge&&(this.IC=t.R.ef.copy()),2!==t.R.Ge||this.isBeyondDragSize(this.IC))return!1}else if(1!==t.R.Ge)return!1;return t.$a===this||null===t.Pt(t.R.ca,!0)},ei.prototype.doMouseUp=function(){var t=this.g;this.sa&&null!==t&&this.insertPart(t.R.ca),this.stopTool()},ei.prototype.insertPart=function(t){var e=this.g;if(null===e)return null;var i=this.Uz;if(null===i)return null;this.Hb(this.name);var n=null;return i instanceof us?i.ee()&&(xr(i),null!==(n=i.copy())&&e.add(n)):null!==i&&(i=e.$.copyNodeData(i),Kh.Pa(i)&&(e.$.Gl(i),n=e.xh(i))),null!==n&&(n.location=t,e.yf&&e.select(n)),e.sc(),this.Kf=this.name,e.Aa("PartCreated",n),this.Mk(),n},Kh.defineProperty(ei,{Uz:"archetypeNodeData"},function(){return this.um},function(t){null!==t&&Kh.G(t,Object,ei,"archetypeNodeData"),this.um=t}),Kh.defineProperty(ei,{uI:"isDoubleClick"},function(){return this.UC},function(t){Kh.j(t,"boolean",ei,"isDoubleClick"),this.UC=t}),Kh.ga("HTMLInfo",ii),Kh.defineProperty(ii,{KA:"mainElement"},function(){return this.eD},function(t){null!==t&&Kh.G(t,HTMLElement,ii,"mainElement"),this.eD=t}),Kh.defineProperty(ii,{show:"show"},function(){return this.Fz},function(t){this.Fz!==t&&(null!==t&&Kh.j(t,"function",ii,"show"),this.Fz=t)}),Kh.defineProperty(ii,{Dn:"hide"},function(){return this.jz},function(t){this.jz!==t&&(null!==t&&Kh.j(t,"function",ii,"hide"),this.jz=t)}),Kh.defineProperty(ii,{FB:"valueFunction"},function(){return this.bE},function(t){this.bE=t}),Kh.Ka(oi,pe),Kh.ga("ContextMenuTool",oi),oi.prototype.canStart=function(){if(!this.isEnabled)return!1;var t=this.g;return!(null===t||this.isBeyondDragSize()||!t.R.right)&&!!(null!==this.Am&&t.R.vj||null!==this.findObjectWithContextMenu())},oi.prototype.doStart=function(){var t=this.g;null!==t&&this.kD.set(t.Bc.ca)},oi.prototype.doStop=function(){this.hideContextMenu(),this.ax=null},oi.prototype.findObjectWithContextMenu=function(t){void 0===t&&(t=null);var e=this.g;if(null===e)return null;var i=e.R,n=null;if(t instanceof Vi||(n=t instanceof Eo?t:e.Le(i.ca,null,function(t){return!t.layer.Mc})),null!==n){for(t=n;null!==t;){if(null!==t.contextMenu)return t;t=t.Q}if(null!==this.Am&&e.R.vj)return n.U}else if(null!==e.contextMenu)return e;return null},oi.prototype.doActivate=function(){},oi.prototype.doMouseDown=function(){pe.prototype.doMouseDown.call(this),null!==this.g&&this.g.eb.df.contains(this)&&ai(this)},oi.prototype.doMouseUp=function(){ai(this)},oi.prototype.doMouseMove=function(){this.sa&&null!==this.g&&this.g.eb.doMouseMove()},oi.prototype.showContextMenu=function(t,e){null!==e&&Kh.G(e,Eo,oi,"showContextMenu:obj");var i=this.g;if(null!==i){if(t!==this.Nl&&this.hideContextMenu(),t instanceof Ns){if(t.ag="Tool",t.fm=!1,t.scale=1/i.scale,t.vd=this.name,null!==t.placeholder&&(t.placeholder.scale=i.scale),i.add(t),null!==e){var i=null,n=e.Tl();null!==n&&(i=n.data),t.sb=e,t.data=i}else t.data=i.$;t.Je(),this.positionContextMenu(t,e)}else t instanceof ii&&t.show(e,i,this);this.Nl=t}},oi.prototype.positionContextMenu=function(t){if(null===t.placeholder){var e=this.g;if(null!==e){var i=e.R.ca.copy(),n=t.za,o=e.qb;e.R.vj&&(i.x-=n.width),i.x+n.width>o.right&&(i.x-=n.width+5),i.x<o.x&&(i.x=o.x),i.y+n.height>o.bottom&&(i.y-=n.height+5),i.y<o.y&&(i.y=o.y),t.position=i}}},oi.prototype.hideContextMenu=function(){var t=this.g;if(null!==t){var e=this.Nl;null!==e&&(e instanceof Ns?(t.remove(e),null!==this.Ny&&this.Ny.Bj(e.vd),e.data=null,e.sb=null):e instanceof ii&&(null!==e.Dn?e.Dn(t,this):null!==e.KA&&(e.KA.style.display="none")),this.Nl=null,this.standardMouseOver())}},oi.prototype.showDefaultContextMenu=function(){var t=this.g;if(null!==t){null===this.Py&&(this.Py=hi(this)),Kh.Gt.innerHTML="",Kh.Ft.addEventListener("click",this.Mz,!1);var e=this,i=Kh.createElement("ul");i.className="goCXul",Kh.Gt.appendChild(i),i.innerHTML="";for(var n=this.Py.i;n.next();){var o=n.value,r=o.visible;if("function"==typeof o.xE&&("function"!=typeof r||r(t))){r=Kh.createElement("li"),r.className="goCXli";var s=Kh.createElement("a");s.className="goCXa",s.href="#",s.KG=o.xE,s.addEventListener("click",function(i){return this.KG(t),e.stopTool(),i.preventDefault(),!1},!1),s.textContent=o.text,r.appendChild(s),i.appendChild(r)}}Kh.Gt.style.display="block",Kh.Ft.style.display="block"}},oi.prototype.hideDefaultContextMenu=function(){null!==this.Nl&&this.Nl===this.Am&&(Kh.Gt.style.display="none",Kh.Ft.style.display="none",Kh.Ft.removeEventListener("click",this.Mz,!1),this.Nl=null)},Kh.defineProperty(oi,{Nl:"currentContextMenu"},function(){return this.kC},function(t){this.kC=t,this.Ny=t instanceof Ns?t.xf:null}),Kh.defineProperty(oi,{UK:"defaultTouchContextMenu"},function(){return this.Am},function(t){this.Am=t}),Kh.defineProperty(oi,{ax:"currentObject"},function(){return this.nC},function(t){null!==t&&Kh.G(t,Eo,oi,"currentObject"),this.nC=t}),Kh.u(oi,{uL:"mouseDownPoint"},function(){return this.kD}),Kh.Ka(ui,pe),Kh.ga("DragSelectingTool",ui),ui.prototype.canStart=function(){if(!this.isEnabled)return!1;var t=this.g;if(null===t||!t.yf)return!1;var e=t.R;return!(!e.left||t.$a!==this&&(!this.isBeyondDragSize()||e.timestamp-t.Bc.timestamp<this.EE||null!==t.Pt(e.ca,!0)))},ui.prototype.doActivate=function(){var t=this.g;null!==t&&(this.sa=!0,t.cf=!0,t.wb=!0,t.add(this.th),this.doMouseMove())},ui.prototype.doDeactivate=function(){var t=this.g;null!==t&&(so(t),t.remove(this.th),t.wb=!1,this.sa=t.cf=!1)},ui.prototype.doMouseMove=function(){var t=this.g;if(null!==t&&this.sa&&null!==this.th){var e=this.computeBoxBounds(),i=this.th.xd("SHAPE");null===i&&(i=this.th.Ld()),i.Ca=e.size,this.th.position=e.position,(t.oe||t.pe)&&t.iA(t.R.ef)}},ui.prototype.doMouseUp=function(){if(this.sa){var t=this.g;t.remove(this.th);try{t.ec="wait",this.selectInRect(this.computeBoxBounds())}finally{t.ec=""}}this.stopTool()},ui.prototype.computeBoxBounds=function(){var t=this.g;return null===t?new S(0,0,0,0):new S(t.Bc.ca,t.R.ca)},ui.prototype.selectInRect=function(t){var e=this.g;if(null!==e){var i=e.R;if(e.Aa("ChangingSelection"),t=e.zk(t,null,function(t){return t instanceof us&&t.canSelect()},this.CI),Kh.Gk?i.su:i.control)if(i.shift)for(t=t.i;t.next();)i=t.value,i.ib&&(i.ib=!1);else for(t=t.i;t.next();)i=t.value,i.ib=!i.ib;else{if(!i.shift){for(var i=new c(us),n=e.selection.i;n.next();){var o=n.value;t.contains(o)||i.add(o)}for(i=i.i;i.next();)i.value.ib=!1}for(t=t.i;t.next();)i=t.value,i.ib||(i.ib=!0)}e.Aa("ChangedSelection")}},Kh.defineProperty(ui,{EE:"delay"},function(){return this.zo},function(t){Kh.j(t,"number",ui,"delay"),this.zo=t}),Kh.defineProperty(ui,{CI:"isPartialInclusion"},function(){return this.ZC},function(t){Kh.j(t,"boolean",ui,"isPartialInclusion"),this.ZC=t}),Kh.defineProperty(ui,{th:"box"},function(){return this.wm},function(t){null!==t&&Kh.G(t,us,ui,"box"),this.wm=t}),Kh.Ka(ci,pe),Kh.ga("PanningTool",ci),ci.prototype.canStart=function(){if(!this.isEnabled)return!1;var t=this.g;return!(null===t||!t.oe&&!t.pe||!t.R.left||t.$a!==this&&!this.isBeyondDragSize())},ci.prototype.doActivate=function(){var t=this.g;null!==t&&(this.Jj?(t.R.bubbles=!0,e.document.addEventListener("scroll",this.LD,!1)):(t.ec="move",t.cf=!0,this.xz=t.position.copy()),this.sa=!0)},ci.prototype.doDeactivate=function(){var t=this.g;null!==t&&(t.ec="",this.sa=t.cf=!1)},ci.prototype.doCancel=function(){var t=this.g;null!==t&&(t.position=this.xz,t.cf=!1),this.stopTool()},ci.prototype.doMouseMove=function(){this.move()},ci.prototype.doMouseUp=function(){this.move(),this.stopTool()},ci.prototype.move=function(){var t=this.g;if(this.sa&&t)if(this.Jj)t.R.bubbles=!0;else{var e=t.position,i=t.Bc.ca,n=t.R.ca,o=e.x+i.x-n.x,i=e.y+i.y-n.y;t.oe||(o=e.x),t.pe||(i=e.y),t.position=new w(o,i)}},Kh.defineProperty(ci,{bubbles:"bubbles"},function(){return this.Jj},function(t){Kh.j(t,"boolean",ci,"bubbles"),this.Jj=t}),Kh.u(ci,{BL:"originalPosition"},function(){return this.xz}),Kh.ga("TextEditingTool",di),Kh.Ka(di,pe);var jc;di.LostFocus=jc=Kh.p(di,"LostFocus",0);var Rc;di.MouseDown=Rc=Kh.p(di,"MouseDown",1);var Fc;di.Tab=Fc=Kh.p(di,"Tab",2);var Ac;di.Enter=Ac=Kh.p(di,"Enter",3),di.SingleClick=Kh.p(di,"SingleClick",0);var Bc;di.SingleClickSelected=Bc=Kh.p(di,"SingleClickSelected",1);var Vc;di.DoubleClick=Vc=Kh.p(di,"DoubleClick",2);var Hc;di.StateNone=Hc=Kh.p(di,"StateNone",0);var zc;di.StateActive=zc=Kh.p(di,"StateActive",1);var qc;di.StateEditing=qc=Kh.p(di,"StateEditing",2);var Gc;di.StateValidating=Gc=Kh.p(di,"StateValidating",3);var _c;di.StateInvalid=_c=Kh.p(di,"StateInvalid",4);var Uc;di.StateValidated=Uc=Kh.p(di,"StateValidated",5),Kh.defineProperty(di,{$g:"textBlock"},function(){return this.Kz},function(t){null!==t&&Kh.G(t,Br,di,"textBlock"),this.Kz=t}),Kh.defineProperty(di,{lj:"currentTextEditor"},function(){return this.pC},function(t){this.pC=t}),Kh.defineProperty(di,{JH:"defaultTextEditor"},function(){return this.xC},function(t){this.xC=t}),Kh.defineProperty(di,{qG:"starting"},function(){return this.KD},function(t){Kh.mb(t,di,di,"starting"),this.KD=t}),di.prototype.canStart=function(){if(!this.isEnabled)return!1;var t=this.g;if(null===t||t.hb||!t.R.left||this.isBeyondDragSize())return!1;var e=t.Le(t.R.ca);return!!(null!==e&&e instanceof Br&&e.jA&&e.U.canEdit())&&!(null===(e=e.U)||this.qG===Bc&&!e.ib||this.qG===Vc&&2>t.R.Ge)},di.prototype.doStart=function(){this.sa||null===this.$g||this.doActivate()},di.prototype.doActivate=function(){if(!this.sa){var t=this.g;if(null!==t){var e=this.$g;if(null===e&&(e=t.Le(t.R.ca)),null!==e&&e instanceof Br&&(this.$g=e,null!==e.U)){this.sa=!0,this.Sa=zc;var i=this.JH;null!==e.tG&&(i=e.tG),this.lk=this.$g.copy();var n=new S(this.$g.Wa(iu),this.$g.Wa(uu));t.eG(n),i instanceof ii?i.show(e,t,this):(i.style.position="absolute",i.style.zIndex="100",i.textEditingTool=this,"function"==typeof i.onActivate&&i.onActivate(),t.nj.appendChild(i),"function"==typeof i.focus&&i.focus(),"function"==typeof i.select&&this.iy&&(i.select(),i.setSelectionRange(0,9999))),this.lj=i}}}},di.prototype.doCancel=function(){null!==this.vl&&this.lj instanceof HTMLElement&&(this.lj.style.border=this.vl,this.vl=null),this.stopTool()},di.prototype.doMouseUp=function(){!this.sa&&this.canStart()&&this.doActivate()},di.prototype.doMouseDown=function(){this.sa&&this.acceptText(Rc)},di.prototype.acceptText=function(t){switch(t){case Rc:this.Sa===Uc?this.lj instanceof HTMLElement&&this.lj.focus():this.Sa!==zc&&this.Sa!==_c&&this.Sa!==qc||(this.Sa=Gc,fi(this));break;case jc:case Ac:case Fc:if(Ac===t&&!0===this.Kz.Bx)break;this.Sa!==zc&&this.Sa!==_c&&this.Sa!==qc||(this.Sa=Gc,fi(this))}},di.prototype.doDeactivate=function(){var t=this.g;if(null!==t){if(this.Sa=Hc,this.$g=null,null!==this.lj){var e=this.lj;e instanceof ii?e.Dn(t,this):("function"==typeof e.onDeactivate&&e.onDeactivate(),null!==e&&t.nj.removeChild(e))}this.sa=!1}},di.prototype.doFocus=function(){yi(this)},di.prototype.doBlur=function(){gi(this)},di.prototype.isValidText=function(t,e,i){Kh.G(t,Br,di,"isValidText:textblock");var n=this.vB;return!(null!==n&&!n(t,e,i))&&!(null!==(n=t.vB)&&!n(t,e,i))},Kh.defineProperty(di,{vB:"textValidation"},function(){return this.Bl},function(t){null!==t&&Kh.j(t,"function",di,"textValidation"),this.Bl=t}),Kh.defineProperty(di,{HF:"minimumEditorScale"},function(){return this.hD},function(t){null!==t&&Kh.j(t,"number",di,"minimumEditorScale"),this.hD=t}),Kh.defineProperty(di,{iy:"selectsTextOnActivate"},function(){return this.DD},function(t){null!==t&&Kh.j(t,"boolean",di,"selectsTextOnActivate"),this.DD=t}),Kh.defineProperty(di,{state:"state"},function(){return this.Sa},function(t){this.Sa!==t&&(Kh.mb(t,di,di,"starting"),this.Sa=t)}),di.prototype.measureTemporaryTextBlock=di.prototype.UI=function(t){var e=this.lk;return e.text=t,No(e,this.$g.To,1/0),e},Kh.Ka(vi,pe),Kh.ga("ToolManager",vi);var Kc;vi.WheelScroll=Kc=Kh.p(vi,"WheelScroll",0);var $c;vi.WheelZoom=$c=Kh.p(vi,"WheelZoom",1),vi.WheelNone=Kh.p(vi,"WheelNone",2);var Wc;vi.GestureZoom=Wc=Kh.p(vi,"GestureZoom",3);var Yc;vi.GestureCancel=Yc=Kh.p(vi,"GestureCancel",4);var Jc;vi.GestureNone=Jc=Kh.p(vi,"GestureNone",5),Kh.defineProperty(vi,{vu:"mouseWheelBehavior"},function(){return this.lD},function(t){Kh.mb(t,vi,vi,"mouseWheelBehavior"),this.lD=t}),Kh.defineProperty(vi,{Tp:"gestureBehavior"},function(){return this.KC},function(t){Kh.mb(t,vi,vi,"gestureBehavior"),this.KC=t}),vi.prototype.initializeStandardTools=function(){this.bH=new ti,this.TF=new $e,this.LI=new Ye,this.cG=new Xe,this.wJ=new Qe,this.DF=new Ke,this.te=new ye,this.OH=new ui,this.hJ=new ci,this.bA=new oi,this.uB=new di,this.pH=new ei,this.qH=new Ze},vi.prototype.updateAdornments=function(t){var e=this.Ol;if(e instanceof Ns&&this.rv===t){var i=e.sb;(null!==t?i.U===t:null===i)?this.showToolTip(e,i):this.hideToolTip()}},vi.prototype.doMouseDown=function(){var t=this.g;if(null!==t){var e=t.R;if(e.vj&&this.Tp===Yc&&(e.bubbles=!1),e.ju){if(this.cancelWaitAfter(),this.Tp===Jc)return void(e.bubbles=!0);if(this.Tp===Yc)return;if(t.$a.canStartMultiTouch())return void t.$a.standardPinchZoomStart()}var i=t.ia;i.Xz&&0!==i.Ih&&Kh.trace("WARNING: In ToolManager.doMouseDown: UndoManager.transactionLevel is not zero");for(var i=this.df.length,n=0;n<i;n++){var o=this.df.da(n);if(null===o.g&&o.Rc(this.g),o.canStart())return t.doFocus(),t.$a=o,void(t.$a===o&&(o.sa||o.doActivate(),o.doMouseDown()))}1===t.R.button&&(this.vu===Kc?this.vu=$c:this.vu===$c&&(this.vu=Kc)),this.doActivate(),this.standardWaitAfter(this.iF,e)}},vi.prototype.doMouseMove=function(){var t=this.g;if(null!==t){var e=t.R;if(e.ju){if(this.Tp===Jc)return void(e.bubbles=!0);if(this.Tp===Yc)return;if(t.$a.canStartMultiTouch())return void t.$a.standardPinchZoomMove()}if(this.sa)for(var i=this.dg.length,n=0;n<i;n++){var o=this.dg.da(n);if(null===o.g&&o.Rc(this.g),o.canStart())return t.doFocus(),t.$a=o,void(t.$a===o&&(o.sa||o.doActivate(),o.doMouseMove()))}mi(this,t),null===e.event||"mousemove"!==e.event.type&&e.event.cancelable||(e.bubbles=!0)}},vi.prototype.doCurrentObjectChanged=function(t,e){var i=this.Ol;null===i||null!==e&&i instanceof Ns&&(e===i||e.am(i))||this.hideToolTip()},vi.prototype.doWaitAfter=function(t){var e=this.g;null!==e&&e.Fb&&(this.doMouseHover(),this.sa||this.doToolTip(),t.vj&&!e.R.Dc&&(t=t.copy(),t.button=2,t.buttons=2,e.R=t,e.jt=!0,e.doMouseUp()))},vi.prototype.doMouseHover=function(){var t=this.g;if(null!==t){var e=t.R;null===e.Re&&(e.Re=t.Le(e.ca,null,null));var i=e.Re;if(null!==i)for(e.Dc=!1;null!==i&&(null===(t=this.sa?i.PA:i.QA)||(t(e,i),!e.Dc));)i=i.Q;else null!==(i=this.sa?t.PA:t.QA)&&i(e)}},vi.prototype.doToolTip=function(){var t=this.g;if(null!==t){var e=t.R;if(null===e.Re&&(e.Re=t.Le(e.ca,null,null)),null!==(e=e.Re)){if(!((t=this.Ol)instanceof Ns)||e!==t&&!e.am(t)){for(;null!==e;){if(null!==(t=e.xB))return void this.showToolTip(t,e);e=e.Q}this.hideToolTip()}}else t=t.xB,null!==t?this.showToolTip(t,null):this.hideToolTip()}},vi.prototype.showToolTip=function(t,e){null!==e&&Kh.G(e,Eo,vi,"showToolTip:obj");var i=this.g;if(null!==i){if(t!==this.Ol&&this.hideToolTip(),t instanceof Ns){if(t.ag="Tool",t.fm=!1,t.scale=1/i.scale,t.vd="ToolTip",null!==t.placeholder&&(t.placeholder.scale=i.scale),i.add(t),null!==e){var i=null,n=e.Tl();null!==n&&(i=n.data),t.sb=e,t.data=i}else t.data=i.$;t.Je(),this.positionToolTip(t,e)}else t instanceof ii&&t!==this.Ol&&t.show(e,i,this);if(this.Ol=t,-1!==this.gn&&(Kh.clearTimeout(this.gn),this.gn=-1),0<(i=this.SJ)&&1/0!==i){var o=this;this.gn=Kh.setTimeout(function(){o.hideToolTip()},i)}}},vi.prototype.positionToolTip=function(t){if(null===t.placeholder){var e=this.g;if(null!==e){var i=e.R.ca.copy(),n=t.za,o=e.qb;e.R.vj&&(i.x-=n.width),i.x+n.width>o.right&&(i.x-=n.width+5),i.x<o.x&&(i.x=o.x),i.y=i.y+20+n.height>o.bottom?i.y-(n.height+5):i.y+20,i.y<o.y&&(i.y=o.y),t.position=i}}},vi.prototype.hideToolTip=function(){-1!==this.gn&&(Kh.clearTimeout(this.gn),this.gn=-1);var t=this.g;if(null!==t){var e=this.Ol;null!==e&&(e instanceof Ns?(t.remove(e),null!==this.rv&&this.rv.Bj(e.vd),e.data=null,e.sb=null):e instanceof ii&&null!==e.Dn&&e.Dn(t,this),this.Ol=null)}},Kh.defineProperty(vi,{Ol:"currentToolTip"},function(){return this.qC},function(t){this.qC=t,this.rv=null!==t&&t instanceof Ns?t.xf:null}),vi.prototype.doMouseUp=function(){this.cancelWaitAfter();var t=this.g;if(null!==t){if(this.sa)for(var e=this.eg.length,i=0;i<e;i++){var n=this.eg.da(i);if(null===n.g&&n.Rc(this.g),n.canStart())return t.doFocus(),t.$a=n,void(t.$a===n&&(n.sa||n.doActivate(),n.doMouseUp()))}t.doFocus(),this.doDeactivate()}},vi.prototype.doMouseWheel=function(){this.standardMouseWheel()},vi.prototype.doKeyDown=function(){var t=this.g;null!==t&&t.ob.doKeyDown()},vi.prototype.doKeyUp=function(){var t=this.g;null!==t&&t.ob.doKeyUp()},vi.prototype.doCancel=function(){null!==Mc&&Mc.doCancel(),pe.prototype.doCancel.call(this)},vi.prototype.findTool=function(t){Kh.j(t,"string",vi,"findTool:name");for(var e=this.df.length,i=0;i<e;i++){var n=this.df.da(i);if(n.name===t)return n}for(e=this.dg.length,i=0;i<e;i++)if(n=this.dg.da(i),n.name===t)return n;for(e=this.eg.length,i=0;i<e;i++)if(n=this.eg.da(i),n.name===t)return n;return null},vi.prototype.replaceTool=function(t,e){Kh.j(t,"string",vi,"replaceTool:name"),null!==e&&(Kh.G(e,pe,vi,"replaceTool:newtool"),e.g&&e.g!==this.g&&Kh.k("Cannot share tools between Diagrams: "+e.toString()),e.Rc(this.g));for(var i=this.df.length,n=0;n<i;n++){var o=this.df.da(n);if(o.name===t)return null!==e?this.df.kg(n,e):this.df.bd(n),o}for(i=this.dg.length,n=0;n<i;n++)if(o=this.dg.da(n),o.name===t)return null!==e?this.dg.kg(n,e):this.dg.bd(n),o;for(i=this.eg.length,n=0;n<i;n++)if(o=this.eg.da(n),o.name===t)return null!==e?this.eg.kg(n,e):this.eg.bd(n),o;return null},Kh.u(vi,{df:"mouseDownTools"},function(){return this.PG}),Kh.u(vi,{dg:"mouseMoveTools"},function(){return this.QG}),Kh.u(vi,{eg:"mouseUpTools"},function(){return this.RG}),Kh.defineProperty(vi,{mI:"hoverDelay"},function(){return this.NC},function(t){Kh.j(t,"number",vi,"hoverDelay"),this.NC=t}),Kh.defineProperty(vi,{iF:"holdDelay"},function(){return this.MC},function(t){Kh.j(t,"number",vi,"holdDelay"),this.MC=t}),Kh.defineProperty(vi,{PH:"dragSize"},function(){return this.CC},function(t){Kh.G(t,k,vi,"dragSize"),this.CC=t.S()}),Kh.defineProperty(vi,{SJ:"toolTipDuration"},function(){return this.XD},function(t){Kh.j(t,"number",vi,"toolTipDuration"),this.XD=t}),Kh.defineProperty(vi,{bH:"actionTool"},function(){return this.findTool("Action")},function(t){bi(this,"Action",t,this.df)}),Kh.defineProperty(vi,{TF:"relinkingTool"},function(){return this.findTool("Relinking")},function(t){bi(this,"Relinking",t,this.df)}),Kh.defineProperty(vi,{LI:"linkReshapingTool"},function(){return this.findTool("LinkReshaping")},function(t){bi(this,"LinkReshaping",t,this.df)}),Kh.defineProperty(vi,{cG:"resizingTool"},function(){return this.findTool("Resizing")},function(t){bi(this,"Resizing",t,this.df)}),Kh.defineProperty(vi,{wJ:"rotatingTool"},function(){return this.findTool("Rotating")},function(t){bi(this,"Rotating",t,this.df)}),Kh.defineProperty(vi,{DF:"linkingTool"},function(){return this.findTool("Linking")},function(t){bi(this,"Linking",t,this.dg)}),Kh.defineProperty(vi,{te:"draggingTool"},function(){return this.findTool("Dragging")},function(t){bi(this,"Dragging",t,this.dg)}),Kh.defineProperty(vi,{OH:"dragSelectingTool"},function(){return this.findTool("DragSelecting")},function(t){bi(this,"DragSelecting",t,this.dg)}),Kh.defineProperty(vi,{hJ:"panningTool"},function(){return this.findTool("Panning")},function(t){bi(this,"Panning",t,this.dg)}),Kh.defineProperty(vi,{bA:"contextMenuTool"},function(){return this.findTool("ContextMenu")},function(t){bi(this,"ContextMenu",t,this.eg)}),Kh.defineProperty(vi,{uB:"textEditingTool"},function(){return this.findTool("TextEditing")},function(t){bi(this,"TextEditing",t,this.eg)}),Kh.defineProperty(vi,{pH:"clickCreatingTool"},function(){return this.findTool("ClickCreating")},function(t){bi(this,"ClickCreating",t,this.eg)}),Kh.defineProperty(vi,{qH:"clickSelectingTool"},function(){return this.findTool("ClickSelecting")},function(t){bi(this,"ClickSelecting",t,this.eg)}),Kh.ga("AnimationManager",wi),wi.prototype.Rc=function(t){this.fa=t},Kh.u(wi,{yK:"animationReasons"},function(){return this.ev}),wi.prototype.canStart=function(){return!0},wi.prototype.prepareAutomaticAnimation=wi.prototype.Tn=function(t){this.gf&&(this.jl||this.fa.Gn)&&(this.ev.add(t),this.canStart(t)&&(this.Xj&&this.Gh(),this.qc=!0))},wi.prototype.stopAnimation=wi.prototype.Gh=function(){!0===this.qc&&(this.qc=!1,this.sm=0,this.ko&&this.fa.Ne()),this.Xj&&this.gf&&Pi(this)},Kh.defineProperty(wi,{isEnabled:"isEnabled"},function(){return this.gf},function(t){Kh.j(t,"boolean",wi,"isEnabled"),this.gf=t}),Kh.defineProperty(wi,{duration:"duration"},function(){return this.Yy},function(t){Kh.j(t,"number",wi,"duration"),1>t&&Kh.Fa(t,">= 1",wi,"duration"),this.Yy=t}),Kh.u(wi,{pf:"isAnimating"},function(){return this.Xj}),Kh.u(wi,{DI:"isTicking"},function(){return this.Po}),Kh.defineProperty(wi,{uF:"isInitial"},function(){return this.jl},function(t){Kh.j(t,"boolean",wi,"isInitial"),this.jl=t});var Xc={opacity:function(t,e,i,n,o,r){t.opacity=n(o,e,i-e,r)},position:function(t,e,i,n,o,r){o!==r?t.my(n(o,e.x,i.x-e.x,r),n(o,e.y,i.y-e.y,r)):t.position=new w(n(o,e.x,i.x-e.x,r),n(o,e.y,i.y-e.y,r))},"position:node":function(t,e,i,n,o,r){var s=t.W,a=i.W;i=a.x+a.width/2-s.width/2,s=a.y+a.height/2-s.height/2,o!==r?t.my(n(o,e.x,i-e.x,r),n(o,e.y,s-e.y,r)):t.position=new w(n(o,e.x,i-e.x,r),n(o,e.y,s-e.y,r))},"position:placeholder":function(t,e,i,n,o,r){o!==r?t.my(n(o,e.x,i.x-e.x,r),n(o,e.y,i.y-e.y,r)):t.position=new w(n(o,e.x,i.x-e.x,r),n(o,e.y,i.y-e.y,r))},scale:function(t,e,i,n,o,r){t.scale=n(o,e,i-e,r)},visible:function(t,e,i,n,o,r){t.visible=o!==r?e:i}};Kh.ga("Layer",Ri),Ri.prototype.Rc=function(t){this.fa=t},Ri.prototype.toString=function(t){void 0===t&&(t=0);var e='Layer "'+this.name+'"';if(0>=t)return e;for(var i=0,n=0,o=0,r=0,s=0,a=this.zb.i;a.next();){var l=a.value;l instanceof Pa?o++:l instanceof js?n++:l instanceof Ws?r++:l instanceof Ns?s++:i++}if(a="",0<i&&(a+=i+" Parts "),0<n&&(a+=n+" Nodes "),0<o&&(a+=o+" Groups "),0<r&&(a+=r+" Links "),0<s&&(a+=s+" Adornments "),1<t)for(t=this.zb.i;t.next();)i=t.value,a+="\n    "+i.toString(),n=i.data,null!==n&&Kh.Od(n)&&(a+=" #"+Kh.Od(n)),i instanceof js?a+=" "+xc(n):i instanceof Ws&&(a+=" "+xc(i.Y)+" "+xc(i.Z));return e+" "+this.zb.count+": "+a},Ri.prototype.findObjectAt=Ri.prototype.Le=function(t,e,i){if(void 0===e&&(e=null),void 0===i&&(i=null),!1===this.wl)return null;var n=!1;null!==this.g&&this.g.qb.Ia(t)&&(n=!0);for(var o=Kh.K(),r=this.zb.n,s=r.length;s--;){var a=r[s];if((!0!==n||!1!==Es(a))&&a.isVisible()&&(o.assign(t),C(o,a.rh),null!==(a=a.Le(o,e,i))&&(null!==e&&(a=e(a)),null!==a&&(null===i||i(a)))))return Kh.v(o),a}return Kh.v(o),null},Ri.prototype.findObjectsAt=Ri.prototype.Ot=function(t,e,i,n){if(void 0===e&&(e=null),void 0===i&&(i=null),n instanceof c||n instanceof p||(n=new p(Eo)),!1===this.wl)return n;var o=!1;null!==this.g&&this.g.qb.Ia(t)&&(o=!0);for(var r=Kh.K(),s=this.zb.n,a=s.length;a--;){var l=s[a];if((!0!==o||!1!==Es(l))&&l.isVisible()){r.assign(t),C(r,l.rh);var h=l;l.Ot(r,e,i,n)&&(null!==e&&(h=e(h)),null===h||null!==i&&!i(h)||(n instanceof p&&n.add(h),n instanceof c&&n.add(h)))}}return Kh.v(r),n},Ri.prototype.findObjectsIn=Ri.prototype.zk=function(t,e,i,n,o){if(void 0===e&&(e=null),void 0===i&&(i=null),void 0===n&&(n=!1),o instanceof c||o instanceof p||(o=new p(Eo)),!1===this.wl)return o;var r=!1;null!==this.g&&this.g.qb.wk(t)&&(r=!0);for(var s=this.zb.n,a=s.length;a--;){var l=s[a];if((!0!==r||!1!==Es(l))&&l.isVisible()){var h=l;l.zk(t,e,i,n,o)&&(null!==e&&(h=e(h)),null===h||null!==i&&!i(h)||(o instanceof p&&o.add(h),o instanceof c&&o.add(h)))}}return o},Ri.prototype.mA=function(t,e,i,n,o,r,s){if(!1===this.wl)return o;for(var a=this.zb.n,l=a.length;l--;){var h=a[l];if((!0!==s||!1!==Es(h))&&r(h)&&h.isVisible()){var u=h;h.zk(t,e,i,n,o)&&(null!==e&&(u=e(u)),null===u||null!==i&&!i(u)||(o instanceof p&&o.add(u),o instanceof c&&o.add(u)))}}return o},Ri.prototype.findObjectsNear=Ri.prototype.wn=function(t,e,i,n,o,r){if(void 0===i&&(i=null),void 0===n&&(n=null),void 0===o&&(o=!0),!1!==o&&!0!==o&&((o instanceof c||o instanceof p)&&(r=o),o=!0),r instanceof c||r instanceof p||(r=new p(Eo)),!1===this.wl)return r;var s=!1;null!==this.g&&this.g.qb.Ia(t)&&(s=!0);for(var a=Kh.K(),l=Kh.K(),h=this.zb.n,u=h.length;u--;){var d=h[u];if((!0!==s||!1!==Es(d))&&d.isVisible()){a.assign(t),C(a,d.rh),l.m(t.x+e,t.y),C(l,d.rh);var f=d;d.wn(a,l,i,n,o,r)&&(null!==i&&(f=i(f)),null===f||null!==n&&!n(f)||(r instanceof p&&r.add(f),r instanceof c&&r.add(f)))}}return Kh.v(a),Kh.v(l),r},_h=Ri.prototype,_h.Gf=function(t,e){if(this.visible){var i;i=void 0===e?t.qb:e;for(var n=this.zb.n,o=n.length,r=0;r<o;r++){var s=n[r];if(s.dD=r,!(s instanceof Ws&&!1===s.Lf)){if(s instanceof Ns){var a=s;if(null!==a.xf)continue}if(P(s.W,i))for(s.Gf(!0),ds(s),s=s.Pw;s.next();)a=s.value,No(a,1/0,1/0),a.jc(),a.Gf(!0);else s.Gf(!1),null!==s.Pw&&0<s.Pw.count&&ds(s)}}}},_h.ue=function(t,e,i){if(this.visible&&0!==this.yc&&(void 0===i&&(i=!0),i||!this.Mc)){i=this.zb.n;var n=i.length;if(0!==n){1!==this.yc&&(t.globalAlpha=this.yc);var o=this.kw;o.length=0;for(var r=e.scale,s=0;s<n;s++){var a=i[s];if(Es(a)){if(a instanceof Ws){var l=a;if(l.ac&&o.push(l),!1===l.Lf)continue}l=a.W,1<l.width*r||1<l.height*r?a.ue(t,e):Cs(a,t)}}t.globalAlpha=1}}},_h.h=function(t,e,i,n,o){var r=this.g;null!==r&&r.ad(yc,t,this,e,i,n,o)},_h.Wp=function(t,e,i){var n=this.zb;if(e.Uv=this,t>=n.count)t=n.count;else if(n.da(t)===e)return-1;return n.Qd(t,e),e.au(i),n=this.g,null!==n&&(i?n.oa():n.Wp(e)),Ai(this,t,e),t},_h.of=function(t,e,i){if(!i&&e.layer!==this&&null!==e.layer)return e.layer.of(t,e,i);var n=this.zb;if(0>t||t>=n.length){if(0>(t=n.indexOf(e)))return-1}else if(n.da(t)!==e&&0>(t=n.indexOf(e)))return-1;return e.bu(i),n.bd(t),n=this.g,null!==n&&(i?n.oa():n.of(e)),e.Uv=null,t},_h.clear=function(){for(var t=this.zb.gc(),e=t.length,i=0;i<e;i++)t[i].Gf(!1),this.of(-1,t[i],!1)},Kh.u(Ri,{Kk:"parts"},function(){return this.zb.i}),Kh.u(Ri,{EL:"partsBackwards"},function(){return this.zb.Hn}),Kh.u(Ri,{g:"diagram"},function(){return this.fa}),Kh.defineProperty(Ri,{name:"name"},function(){return this.Sb},function(t){Kh.j(t,"string",Ri,"name");var e=this.Sb;if(e!==t){var i=this.g;if(null!==i)for(""===e&&Kh.k("Cannot rename default Layer to: "+t),i=i.Hx;i.next();)i.value.name===t&&Kh.k("Layer.name is already present in this diagram: "+t);for(this.Sb=t,this.h("name",e,t),t=this.zb.i;t.next();)t.value.ag=this.Sb}}),Kh.defineProperty(Ri,{opacity:"opacity"},function(){return this.yc},function(t){var e=this.yc;e!==t&&(Kh.j(t,"number",Ri,"opacity"),(0>t||1<t)&&Kh.Fa(t,"0 <= value <= 1",Ri,"opacity"),this.yc=t,this.h("opacity",e,t),null!==(t=this.g)&&t.oa())}),Kh.defineProperty(Ri,{Mc:"isTemporary"},function(){return this.nz},function(t){var e=this.nz;e!==t&&(Kh.j(t,"boolean",Ri,"isTemporary"),this.nz=t,this.h("isTemporary",e,t))}),Kh.defineProperty(Ri,{visible:"visible"},function(){return this.Pz},function(t){var e=this.Pz;if(e!==t){for(Kh.j(t,"boolean",Ri,"visible"),this.Pz=t,this.h("visible",e,t),e=this.zb.i;e.next();)e.value.yd(t);t=this.g,null!==t&&t.oa()}}),Kh.defineProperty(Ri,{Wg:"pickable"},function(){return this.wl},function(t){var e=this.wl;e!==t&&(Kh.j(t,"boolean",Ri,"pickable"),this.wl=t,this.h("pickable",e,t))}),Kh.defineProperty(Ri,{nF:"isBoundsIncluded"},function(){return this.kz},function(t){this.kz!==t&&(this.kz=t,null!==this.g&&this.g.sc())}),Kh.defineProperty(Ri,{tk:"allowCopy"},function(){return this.Nk},function(t){var e=this.Nk;e!==t&&(Kh.j(t,"boolean",Ri,"allowCopy"),this.Nk=t,this.h("allowCopy",e,t))}),Kh.defineProperty(Ri,{jn:"allowDelete"},function(){return this.Ok},function(t){var e=this.Ok;e!==t&&(Kh.j(t,"boolean",Ri,"allowDelete"),this.Ok=t,this.h("allowDelete",e,t))}),Kh.defineProperty(Ri,{Tw:"allowTextEdit"},function(){return this.Xk},function(t){var e=this.Xk;e!==t&&(Kh.j(t,"boolean",Ri,"allowTextEdit"),this.Xk=t,this.h("allowTextEdit",e,t))}),Kh.defineProperty(Ri,{Qw:"allowGroup"},function(){return this.Pk},function(t){var e=this.Pk;e!==t&&(Kh.j(t,"boolean",Ri,"allowGroup"),this.Pk=t,this.h("allowGroup",e,t))}),Kh.defineProperty(Ri,{Uw:"allowUngroup"},function(){return this.Yk},function(t){var e=this.Yk;e!==t&&(Kh.j(t,"boolean",Ri,"allowUngroup"),this.Yk=t,this.h("allowUngroup",e,t))}),Kh.defineProperty(Ri,{Ct:"allowLink"},function(){return this.Qk},function(t){var e=this.Qk;e!==t&&(Kh.j(t,"boolean",Ri,"allowLink"),this.Qk=t,this.h("allowLink",e,t))}),Kh.defineProperty(Ri,{kn:"allowRelink"},function(){return this.Sk},function(t){var e=this.Sk;e!==t&&(Kh.j(t,"boolean",Ri,"allowRelink"),this.Sk=t,this.h("allowRelink",e,t))}),Kh.defineProperty(Ri,{Il:"allowMove"},function(){return this.Rk},function(t){var e=this.Rk;e!==t&&(Kh.j(t,"boolean",Ri,"allowMove"),this.Rk=t,this.h("allowMove",e,t))}),Kh.defineProperty(Ri,{Rw:"allowReshape"},function(){return this.Tk},function(t){var e=this.Tk;e!==t&&(Kh.j(t,"boolean",Ri,"allowReshape"),this.Tk=t,this.h("allowReshape",e,t))}),Kh.defineProperty(Ri,{Dt:"allowResize"},function(){return this.Uk},function(t){var e=this.Uk;e!==t&&(Kh.j(t,"boolean",Ri,"allowResize"),this.Uk=t,this.h("allowResize",e,t))}),Kh.defineProperty(Ri,{Sw:"allowRotate"},function(){return this.Vk},function(t){var e=this.Vk;e!==t&&(Kh.j(t,"boolean",Ri,"allowRotate"),this.Vk=t,this.h("allowRotate",e,t))}),Kh.defineProperty(Ri,{yf:"allowSelect"},function(){return this.Wk},function(t){var e=this.Wk;e!==t&&(Kh.j(t,"boolean",Ri,"allowSelect"),this.Wk=t,this.h("allowSelect",e,t))}),Kh.ga("Diagram",Vi),Vi.prototype.clear=Vi.prototype.clear=function(){var t=null;null!==this.rd&&(t=this.rd.U),this.$.clear();for(var e=this.cc.length,i=0;i<e;i++)this.cc.n[i].clear();this.wg.clear(),this.bl.clear(),this.bp.clear(),this.Cl.clear(),this.Vo.clear(),this.zb.clear(),this.Ei.clear(),this.Lj.clear(),this.Hm.clear(),this.zw.Qa(),this.zw.clear(),this.zw.freeze(),this.Iv.Qa(),this.Iv.clear(),this.Iv.freeze(),Cc=this.to=null,kc="",this.vv=new S(NaN,NaN,NaN,NaN).freeze(),null!==t&&(this.add(t),this.zb.remove(t)),this.oa()},Vi.prototype.reset=Vi.prototype.reset=function(){this.Tc=!0,this.clear(),this.cc=new c(Ri),this.ZF(),this.YF(),this.jb=new w(NaN,NaN).freeze(),this.ub=1,this.Kv=new w(NaN,NaN).freeze(),this.Lv=NaN,this.bw=1e-4,this.$v=100,this.Mw=new w(NaN,NaN).freeze(),this.Cv=new S(NaN,NaN,NaN,NaN).freeze(),this.uw=new O(0,0,0,0).freeze(),this.vw=ad,this.rw=this.pw=null,this.vm=Qc,this.qo=eu,this.hl=Qc,this.Jo=eu,this.Mv=this.Jv=iu,this.Mq=250,this.gv=new O(16,16,16,16).freeze(),this.Rv=!0,this.Hw=hd,this.Jw=ed,this.ir="auto",this.Di=this.ej=this.Ui=this.ew=this.Vi=this.Wi=this.Xi=this.Ci=this.Ii=this.Ai=null,this.Ni=!1,this.Ok=this.Nk=this.Xu=this.gf=!0,this.Zu=this.Yu=!1,this.cv=this.$u=this.Hv=this.Gv=this.dv=this.bv=this.Wk=this.Vk=this.Uk=this.Tk=this.Rk=this.Sk=this.Qk=this.av=this.Yk=this.Pk=this.Xk=!0,this.xw=this.tw=16,this.jf=new O(5).freeze(),this.aw=999999999,this.ke=null,this.Sv=!1,Hi(this),this.rd=null,this.eb=new vi,this.eb.initializeStandardTools(),this.$a=this.Ht=this.eb,this.ob=new le,this.dj=!0,_i(this),this.Tb=new Ra,this.dj=!1,this.$=new Qt,this.gh=!1,this.Eo=!0,this.Tc=this.Tf=!1,this.oa(),this.ih=this.zi=null,to(this),this.nv=""},Vi.prototype.ic=function(t){t.Ee===Vi?this.Kl=t:Kh.Fj(this,t)},Vi.prototype.toString=function(t){void 0===t&&(t=0);var e="";if(this.nj&&this.nj.id&&(e=this.nj.id),e='Diagram "'+e+'"',0>=t)return e;for(var i=this.cc.i;i.next();)e+="\n  "+i.value.toString(t-1);return e},Vi.fromDiv=function(t){var i=t;return"string"==typeof t&&(i=e.document.getElementById(t)),i instanceof HTMLDivElement&&i.fa instanceof Vi?i.fa:null},Kh.defineProperty(Vi,{nj:"div"},function(){return this.Nb},function(t){if(null!==t&&Kh.G(t,HTMLDivElement,Vi,"div"),this.Nb!==t){Sp=[];var i=this.Nb;null!==i?(i.fa=void 0,i.innerHTML="",null!==this.Fb&&(this.Fb.removeEventListener("touchstart",this.AB,!1),this.Fb.removeEventListener("touchmove",this.zB,!1),this.Fb.removeEventListener("touchend",this.yB,!1),this.Fb.Kd.fa=null),i=this.eb,null!==i&&(i.df.each(function(t){t.cancelWaitAfter()}),i.dg.each(function(t){t.cancelWaitAfter()}),i.eg.each(function(t){t.cancelWaitAfter()})),i.cancelWaitAfter(),this.$a.doCancel(),this.ff=this.Fb=null,e.removeEventListener("resize",this.GB,!1),e.removeEventListener("mousemove",this.On,!0),e.removeEventListener("mousedown",this.Nn,!0),e.removeEventListener("mouseup",this.Qn,!0),e.removeEventListener("mousewheel",this.Rg,!0),e.removeEventListener("DOMMouseScroll",this.Rg,!0),e.removeEventListener("mouseout",this.Pn,!0)):this.gh=!1,this.Nb=null,null!==t&&((i=t.fa)&&(i.nj=null),co(this,t),this.Wx())}}),Vi.prototype.computePixelRatio=function(){if(null!==this.kk)return this.kk;var t=this.ff;return(e.devicePixelRatio||1)/(t.ua.webkitBackingStorePixelRatio||t.ua.mozBackingStorePixelRatio||t.ua.msBackingStorePixelRatio||t.ua.oBackingStorePixelRatio||t.ua.backingStorePixelRatio||1)},Vi.prototype.doMouseMove=function(){this.$a.doMouseMove()},Vi.prototype.doMouseDown=function(){this.$a.doMouseDown()},Vi.prototype.doMouseUp=function(){this.$a.doMouseUp()},Vi.prototype.doMouseWheel=function(){this.$a.doMouseWheel()},Vi.prototype.doKeyDown=function(){this.$a.doKeyDown()},Vi.prototype.doKeyUp=function(){this.$a.doKeyUp()},Vi.prototype.doFocus=function(){this.focus()},Vi.prototype.focus=Vi.prototype.focus=function(){this.Fb&&this.Fb.focus()},Vi.prototype.diagramScroll=Vi.prototype.NH=function(t){if(this.Cz&&null!==this.Fb){this.sw=!0;var e,i=this.se,n=this.qb,o=this.gy,r=i.x-o.left,s=i.y-o.top,a=i.width+o.left+o.right,l=i.height+o.top+o.bottom,h=i.right+o.right,o=i.bottom+o.bottom,u=n.x,i=n.y,c=n.width,d=n.height,p=n.right,f=n.bottom,n=this.scale;if(e=t.scrollLeft,this.Mr)switch(this.Az){case"negative":e=e+t.scrollWidth-t.clientWidth;break;case"reverse":e=t.scrollWidth-e-t.clientWidth}var y=e;c<a||d<l?(e=Kh.xb(this.position.x,this.position.y),this.oe&&this.Dz!==y&&(e.x=y/n+r,this.Dz=y),this.pe&&this.Ez!==t.scrollTop&&(e.y=t.scrollTop/n+s,this.Ez=t.scrollTop),this.position=e,Kh.v(e),this.Em=this.sw=!1):(e=Kh.K(),t.VG&&this.oe&&(r<u&&(this.position=e.m(y+r,this.position.y)),h>p&&(this.position=e.m(-(this.ww.scrollWidth-this.Jb)+y-this.Jb/n+h,this.position.y))),t.WG&&this.pe&&(s<i&&(this.position=e.m(this.position.x,t.scrollTop+s)),o>f&&(this.position=e.m(this.position.x,-(this.ww.scrollHeight-this.Mb)+t.scrollTop-this.Mb/n+o))),Kh.v(e),mn(this),this.Em=this.sw=!1,i=this.se,n=this.qb,h=i.right,p=n.right,o=i.bottom,f=n.bottom,r=i.x,u=n.x,s=i.y,i=n.y,c>=a&&r>=u&&h<=p&&(this.Ts.style.width="1px"),d>=l&&s>=i&&o<=f&&(this.Ts.style.height="1px"))}},Vi.prototype.computeBounds=Vi.prototype.uh=function(){return 0<this.wg.count&&cn(this),Wi(this)},Vi.prototype.computePartsBounds=function(t,e){void 0===e&&(e=!1);for(var i=null,n=t.i;n.next();){var o=n.value;!e&&o instanceof Ws||(o.Je(),null===i?i=o.W.copy():i.Jh(o.W))}return null===i?new S(NaN,NaN,0,0):i},Vi.prototype.zoomToFit=Vi.prototype.zoomToFit=function(){this.scale=Ji(this,Zc)},Vi.prototype.zoomToRect=function(t,e){void 0===e&&(e=Zc);var i=t.width,n=t.height;if(!(0===i||0===n||isNaN(i)&&isNaN(n))){var o=1;if(e===Zc||e===td)if(isNaN(i))o=this.qb.height*this.scale/n;else if(isNaN(n))o=this.qb.width*this.scale/i;else var o=this.Jb,r=this.Mb,o=e===td?r/n>o/i?(r-(this.Vj?this.Hd:0))/n:(o-(this.fl?this.Hd:0))/i:Math.min(r/n,o/i);this.scale=o,this.position=new w(t.x,t.y)}},Kh.defineProperty(Vi,{CA:null},function(){return this.Tc},function(t){this.Tc=t}),Vi.prototype.alignDocument=function(t,e){this.Wj&&Yn(this,this.uh());var i=this.se,n=this.qb;this.position=new w(i.x+(t.x*i.width+t.offsetX)-(e.x*n.width-e.offsetX),i.y+(t.y*i.height+t.offsetY)-(e.y*n.height-e.offsetY))},Vi.prototype.findPartAt=Vi.prototype.Pt=function(t,e){var i=e?Qi(this,t,function(t){return t.U},function(t){return t.canSelect()}):Qi(this,t,function(t){return t.U});return i instanceof us?i:null},Vi.prototype.findObjectAt=Vi.prototype.Le=function(t,e,i){void 0===e&&(e=null),void 0===i&&(i=null),cn(this);for(var n=this.cc.Hn;n.next();){var o=n.value;if(o.visible&&null!==(o=o.Le(t,e,i)))return o}return null},Vi.prototype.findObjectsAt=Vi.prototype.Ot=function(t,e,i,n){void 0===e&&(e=null),void 0===i&&(i=null),n instanceof c||n instanceof p||(n=new p(Eo)),cn(this);for(var o=this.cc.Hn;o.next();){var r=o.value;r.visible&&r.Ot(t,e,i,n)}return n},Vi.prototype.findObjectsIn=Vi.prototype.zk=function(t,e,i,n,o){void 0===e&&(e=null),void 0===i&&(i=null),void 0===n&&(n=!1),o instanceof c||o instanceof p||(o=new p(Eo)),cn(this);for(var r=this.cc.Hn;r.next();){var s=r.value;s.visible&&s.zk(t,e,i,n,o)}return o},Vi.prototype.mA=function(t,e,i,n,o,r){var s=new p(Eo);cn(this);for(var a=this.cc.Hn;a.next();){var l=a.value;l.visible&&l.mA(t,e,i,n,s,o,r)}return s},Vi.prototype.findObjectsNear=Vi.prototype.wn=function(t,e,i,n,o,r){void 0===i&&(i=null),void 0===n&&(n=null),void 0===o&&(o=!0),!1!==o&&!0!==o&&((o instanceof c||o instanceof p)&&(r=o),o=!0),r instanceof c||r instanceof p||(r=new p(Eo)),cn(this);for(var s=this.cc.Hn;s.next();){var a=s.value;a.visible&&a.wn(t,e,i,n,o,r)}return r},Vi.prototype.acceptEvent=function(t){var e=this.Vc;return this.Vc=this.Rb,this.Rb=e,Zi(this,this,t,e,t instanceof MouseEvent),e},Vi.prototype.FI=function(t){if(!this.fa.isEnabled)return!1;var e=this.fa.Rb;switch(Zi(this.fa,this.fa,t,e,!1),e.key=String.fromCharCode(t.which),e.Sl=!0,t.which){case 8:e.key="Backspace";break;case 33:e.key="PageUp";break;case 34:e.key="PageDown";break;case 35:e.key="End";break;case 36:e.key="Home";break;case 37:e.key="Left";break;case 38:e.key="Up";break;case 39:e.key="Right";break;case 40:e.key="Down";break;case 45:e.key="Insert";break;case 46:e.key="Del";break;case 48:e.key="0";break;case 187:case 61:case 107:e.key="Add";break;case 189:case 173:case 109:e.key="Subtract";break;case 27:e.key="Esc"}return this.fa.doKeyDown(),on(e,t)},Vi.prototype.GI=function(t){if(!this.fa.isEnabled)return!1;var e=this.fa.Rb;switch(Zi(this.fa,this.fa,t,e,!1),e.key=String.fromCharCode(t.which),e.up=!0,t.which){case 8:e.key="Backspace";break;case 33:e.key="PageUp";break;case 34:e.key="PageDown";break;case 35:e.key="End";break;case 36:e.key="Home";break;case 37:e.key="Left";break;case 38:e.key="Up";break;case 39:e.key="Right";break;case 40:e.key="Down";break;case 45:e.key="Insert";break;case 46:e.key="Del"}return this.fa.doKeyUp(),on(e,t)},Vi.prototype.zr=function(t){var e=this.Fb;if(null===e)return new w(0,0);var i=this.Jb,n=this.Mb,e=e.getBoundingClientRect(),i=t.clientX-i/e.width*e.left;return t=t.clientY-n/e.height*e.top,null!==this.jd?(t=new w(i,t),C(t,this.jd),t):new w(i,t)},Vi.prototype.invalidateDocumentBounds=Vi.prototype.sc=function(){this.Wj||(this.Wj=!0,this.Ne(!0))},Vi.prototype.redraw=Vi.prototype.Wx=function(){this.Tc||this.$d||(this.oa(),vn(this),mn(this),this.sc(),this.cg())},Vi.prototype.isUpdateRequested=function(){return this.Tf},Vi.prototype.delayInitialization=function(t){void 0===t&&(t=null);var e=this.Oa,i=e.isEnabled;e.Gh(),e.isEnabled=!1,hn(this),this.gh=!1,e.isEnabled=i,null!==t&&Kh.setTimeout(t,1)},Vi.prototype.requestUpdate=Vi.prototype.Ne=function(t){if(void 0===t&&(t=!1),!0!==this.Tf&&!(this.Tc||!1===t&&this.$d)){this.Tf=!0;var e=this;requestAnimationFrame(function(){e.Tf&&e.cg()})}},Vi.prototype.maybeUpdate=Vi.prototype.cg=function(){this.Eo&&!this.Tf||(this.Eo&&(this.Eo=!1),hn(this))},Kh.u(Vi,{Gn:null},function(){return this.gh}),Vi.prototype.EB=function(t,e){for(t.reset();t.next();){var i=t.value;!i.ee()||i instanceof Pa||(i.bm()?(No(i,1/0,1/0),i.jc()):e.add(i))}for(t.reset();t.next();)(i=t.value)instanceof Pa&&i.isVisible()&&dn(this,i);for(t.reset();t.next();)(i=t.value)instanceof Ws&&i.isVisible()&&(i.bm()?(No(i,1/0,1/0),i.jc()):e.add(i));for(t.reset();t.next();)(i=t.value)instanceof Ns&&i.isVisible()&&(i.bm()?(No(i,1/0,1/0),i.jc()):e.add(i))},Vi.prototype.Gf=function(t,e,i,n){var o=this.Oa;if(this.il||o.pf)for(o=0;o<e;o++)t[o].Gf(i,n)},Vi.prototype.ue=function(t,e){void 0===e&&(e=null),null===this.Nb&&Kh.k("No div specified");var i=this.Fb;null===i&&Kh.k("No canvas specified");var n=this.Oa;if(!n.qc&&(bn(this),"0"!==this.Nb.style.opacity)){var o=t!==this.ff,r=this.cc.n,s=r.length,a=this;if(this.Gf(r,s,a),o)t.Fe(!0),mn(this);else if(!this.Ce&&null===e&&!n.Xj)return;var s=this.jb,l=this.ub,h=Math.round(s.x*l)/l,u=Math.round(s.y*l)/l,n=this.jd;for(n.reset(),1!==l&&n.scale(l),0===s.x&&0===s.y||n.translate(-h,-u),l=this.Ed,Kh.En?(i.width=i.width,t.Fe(!0),t.scale(l,l)):(t.setTransform(1,0,0,1,0,0),t.scale(l,l),t.clearRect(0,0,this.Jb,this.Mb)),t.setTransform(1,0,0,1,0,0),t.scale(l,l),t.transform(n.m11,n.m12,n.m21,n.m22,n.dx,n.dy),i=null!==e?function(i){var n=e;if(i.visible&&0!==i.yc){var o=i.zb.n,r=o.length;if(0!==r){1!==i.yc&&(t.globalAlpha=i.yc),i=i.kw,i.length=0;for(var s=a.scale,l=0;l<r;l++){var h=o[l];if(Es(h)&&!n.contains(h)){if(h instanceof Ws){var u=h;if(u.ac&&i.push(u),!1===u.Lf)continue}u=h.W,1<u.width*s||1<u.height*s?h.ue(t,a):Cs(h,t)}}t.globalAlpha=1}}}:function(e){e.ue(t,a)},yn(this,t),s=r.length,h=0;h<s;h++)t.setTransform(1,0,0,1,0,0),t.scale(l,l),t.transform(n.m11,n.m12,n.m21,n.m22,n.dx,n.dy),i(r[h]);this.gl?this.gl.nm(this)&&this.xv():this.zr=function(){return new w(0,0)},o?(this.ff.Fe(!0),mn(this)):this.Ce=this.il=!1}},Vi.prototype.getRenderingHint=Vi.prototype.qj=function(t){return this.hk[t]},Vi.prototype.setRenderingHint=Vi.prototype.EJ=function(t,e){this.hk[t]=e,this.Wx()},Vi.prototype.resetRenderingHints=Vi.prototype.ZF=function(){this.hk=new o,this.hk.drawShadows=!0,this.hk.textGreeking=!0,this.hk.viewportOptimizations=!Kh.sF,this.hk.temporaryPixelRatio=!0,this.hk.pictureRatioOptimization=!0},Vi.prototype.getInputOption=Vi.prototype.Yt=function(t){return this.Mo[t]},Vi.prototype.setInputOption=function(t,e){this.Mo[t]=e},Vi.prototype.resetInputOptions=Vi.prototype.YF=function(){this.Mo=new o,this.Mo.extraTouchArea=10,this.Mo.extraTouchThreshold=10,this.Mo.hasGestureZoom=!0},Vi.prototype.setProperties=function(t){Kh.Ku(this,t)},Vi.prototype.oa=function(t){if(void 0===t&&(t=null),null===t)this.Ce=!0,this.Ne();else{var e=this.qb;null!==t&&t.I()&&e.Zf(t)&&(this.Ce=!0,this.Ne())}for(e=this.lw.i;e.next();)e.value.oa(t)},Vi.prototype.lF=function(t,e){if(!0!==this.Ce){this.Ce=!0;var i=!0===this.qj("temporaryPixelRatio");if(!0===this.qj("viewportOptimizations")&&this.fB!==ld&&this.gy.kx(0,0,0,0)&&e.width===t.width&&e.height===t.height){var n=this.scale,o=Kh.If(),r=Math.max(t.x,e.x),s=Math.max(t.y,e.y),a=Math.min(t.x+t.width,e.x+e.width),l=Math.min(t.y+t.height,e.y+e.height);if(o.x=r,o.y=s,o.width=Math.max(0,a-r)*n,o.height=Math.max(0,l-s)*n,0<o.width&&0<o.height){if(!this.$d&&(this.Tf=!1,null!==this.Nb)){this.$d=!0,gn(this),this.se.I()||Yn(this,this.uh());var h=this.Fb;if(null!==h){var u=this.Ed,s=this.Jb*u,a=this.Mb*u,r=this.scale*u,n=Math.round(Math.round(e.x*r)-Math.round(t.x*r)),r=Math.round(Math.round(e.y*r)-Math.round(t.y*r)),l=this.Xy,c=this.GC;l.width!==s&&(l.width=s),l.height!==a&&(l.height=a),c.clearRect(0,0,s,a);var l=190*this.Ed,d=70*this.Ed,p=Math.max(n,0),f=Math.max(r,0),y=Math.floor(s-p),g=Math.floor(a-f);c.ky(!1),c.drawImage(h.Kd,p,f,y,g,0,0,y,g),this.gl.nm(this)&&c.clearRect(0,0,l,d);var h=Kh.cb(),c=Kh.cb(),g=Math.abs(n),y=Math.abs(r),v=0===p?0:s-g,p=Kh.xb(v,0),g=Kh.xb(g+v,a);c.push(new S(Math.min(p.x,g.x),Math.min(p.y,g.y),Math.abs(p.x-g.x),Math.abs(p.y-g.y)));var m=this.jd;m.reset(),m.scale(u,u),1!==this.ub&&m.scale(this.ub),u=this.jb,(0!==u.x||0!==u.y)&&isFinite(u.x)&&isFinite(u.y)&&m.translate(-u.x,-u.y),C(p,m),C(g,m),h.push(new S(Math.min(p.x,g.x),Math.min(p.y,g.y),Math.abs(p.x-g.x),Math.abs(p.y-g.y))),v=0===f?0:a-y,p.m(0,v),g.m(s,y+v),c.push(new S(Math.min(p.x,g.x),Math.min(p.y,g.y),Math.abs(p.x-g.x),Math.abs(p.y-g.y))),C(p,m),C(g,m),h.push(new S(Math.min(p.x,g.x),Math.min(p.y,g.y),Math.abs(p.x-g.x),Math.abs(p.y-g.y))),this.gl.nm(this)&&(s=0<n?0:-n,a=0<r?0:-r,p.m(s,a),g.m(l+s,d+a),c.push(new S(Math.min(p.x,g.x),Math.min(p.y,g.y),Math.abs(p.x-g.x),Math.abs(p.y-g.y))),C(p,m),C(g,m),h.push(new S(Math.min(p.x,g.x),Math.min(p.y,g.y),Math.abs(p.x-g.x),Math.abs(p.y-g.y)))),Kh.v(p),Kh.v(g),ln(this,!1),pn(this,h,c,n,r),Kh.ta(h),Kh.ta(c),this.$d=!1}}}else this.cg();Kh.Db(o),i&&(this.kk=1,this.cg(),this.kk=null,this.Xx())}else i?(this.kk=1,this.cg(),this.kk=null,this.Xx()):this.cg()}},Vi.prototype.add=Vi.prototype.add=function(t){Kh.G(t,us,Vi,"add:part");var e=t.g;if(e!==this){null!==e&&Kh.k("Cannot add part "+t.toString()+" to "+this.toString()+". It is already a part of "+e.toString()),this.Eq&&(t.pl="Tool");var i=t.ag,e=this.Nt(i);null===e&&(e=this.Nt("")),null===e&&Kh.k('Cannot add a Part when unable find a Layer named "'+i+'" and there is no default Layer'),t.layer!==e&&(i=e.Wp(99999999,t,t.g===this),0<=i&&this.ad(gc,"parts",e,null,t,null,i),e.Mc||this.sc(),t.J(Ip),null!==(i=t.Gx)&&i(t,null,e))}},Vi.prototype.Wp=function(t){if(t instanceof js){if(this.bp.add(t),t instanceof Pa){var e=t.Da;null===e?this.Cl.add(t):e.Zo.add(t),e=t.Tb,null!==e&&(e.g=this)}}else t instanceof Ws?this.Vo.add(t):t instanceof Ns||this.zb.add(t);var i=this;cr(t,function(t){Nn(i,t)}),(t instanceof Ns||t instanceof Pa&&null!==t.Lb)&&t.H(),e=t.data,null!==e&&(t instanceof Ns||(t instanceof Ws?this.Lj.add(e,t):this.Ei.add(e,t)),cr(t,function(t){On(i,t)})),!0!==Jo(t)&&!0!==Ss(t)||this.wg.add(t),xs(t,!0,this),Ls(t)?(t.W.I()&&this.oa(gs(t,t.W)),this.sc()):t.isVisible()&&t.W.I()&&this.oa(gs(t,t.W)),this.Ne()},Vi.prototype.of=function(t){if(t.Et(),t instanceof js){if(this.bp.remove(t),t instanceof Pa){var e=t.Da;null===e?this.Cl.remove(t):e.Zo.remove(t),e=t.Tb,null!==e&&(e.g=null)}}else t instanceof Ws?this.Vo.remove(t):t instanceof Ns||this.zb.remove(t);var i=this;cr(t,function(t){Rn(i,t)}),e=t.data,null!==e&&(t instanceof Ns||(t instanceof Ws?this.Lj.remove(e):this.Ei.remove(e)),cr(t,function(t){Ln(i,t)})),this.wg.remove(t),Ls(t)?(t.W.I()&&this.oa(gs(t,t.W)),this.sc()):t.isVisible()&&t.W.I()&&this.oa(gs(t,t.W)),this.Ne()},Vi.prototype.remove=Vi.prototype.remove=function(t){Kh.G(t,us,Vi,"remove:part"),Cn(this,t,!0)},Vi.prototype.removeParts=Vi.prototype.bB=function(t,e){if(Kh.isArray(t))for(var i=Kh.Za(t),n=0;n<i;n++){var o=Kh.Ba(t,n);e&&!o.canDelete()||this.remove(o)}else for(o=new p(us),o.Kc(t),i=o.i;i.next();)o=i.value,e&&!o.canDelete()||this.remove(o)},Vi.prototype.copyParts=Vi.prototype.Jp=function(t,e,i){return this.ob.Jp(t,e,i)},Vi.prototype.moveParts=Vi.prototype.moveParts=function(t,e,i){Kh.G(e,w,Vi,"moveParts:offset");var n=this.eb;if(null!==n){n=n.te,null===n&&(n=new ye,n.Rc(this));var o=new b(us);if(null!==t)t=t.i;else{for(t=this.Kk;t.next();)me(n,o,t.value,i);for(t=this.ig;t.next();)me(n,o,t.value,i);t=this.links}for(;t.next();)me(n,o,t.value,i);n.moveParts(o,e,i)}},Vi.prototype.addLayer=Vi.prototype.wt=function(t){kn(this,t,null),t.Rc(this);var e=this.cc,i=e.count-1;if(!t.Mc)for(;0<=i&&e.da(i).Mc;)i--;e.Qd(i+1,t),null!==this.me&&this.ad(gc,"layers",this,null,t,null,i+1),this.oa(),this.sc()},Vi.prototype.addLayerBefore=Vi.prototype.eH=function(t,e){kn(this,t,e),t.Rc(this);var i=this.cc,n=i.indexOf(t);0<=n&&(i.remove(t),null!==this.me&&this.ad(vc,"layers",this,t,null,n,null));for(var o=i.count,r=0;r<o;r++)if(i.da(r)===e){i.Qd(r,t);break}null!==this.me&&this.ad(gc,"layers",this,null,t,null,r),this.oa(),0>n&&this.sc()},Vi.prototype.addLayerAfter=function(t,e){kn(this,t,e),t.Rc(this);var i=this.cc,n=i.indexOf(t);0<=n&&(i.remove(t),null!==this.me&&this.ad(vc,"layers",this,t,null,n,null));for(var o=i.count,r=0;r<o;r++)if(i.da(r)===e){i.Qd(r+1,t);break}null!==this.me&&this.ad(gc,"layers",this,null,t,null,r+1),this.oa(),0>n&&this.sc()},Vi.prototype.removeLayer=function(t){if(Kh.G(t,Ri,Vi,"removeLayer:layer"),t.g!==this&&Kh.k("Cannot remove a Layer from another Diagram: "+t+" of "+t.g),""!==t.name){var e=this.cc,i=e.indexOf(t);if(e.remove(t)){for(e=t.zb.copy().i;e.next();){var n=e.value,o=n.ag;n.ag=o!==t.name?o:""}null!==this.me&&this.ad(vc,"layers",this,t,null,i,null),this.oa(),this.sc()}}},Vi.prototype.findLayer=Vi.prototype.Nt=function(t){for(var e=this.Hx;e.next();){var i=e.value;if(i.name===t)return i}return null},Vi.prototype.addModelChangedListener=Vi.prototype.gH=function(t){Kh.j(t,"function",Vi,"addModelChangedListener:listener"),null===this.ih&&(this.ih=new c("function")),this.ih.add(t),this.$.hn(t)},Vi.prototype.removeModelChangedListener=function(t){Kh.j(t,"function",Vi,"removeModelChangedListener:listener"),null!==this.ih&&(this.ih.remove(t),0===this.ih.count&&(this.ih=null)),this.$.Cu(t)},Vi.prototype.addChangedListener=Vi.prototype.hn=function(t){Kh.j(t,"function",Vi,"addChangedListener:listener"),null===this.zi&&(this.zi=new c("function")),this.zi.add(t)},Vi.prototype.removeChangedListener=Vi.prototype.Cu=function(t){Kh.j(t,"function",Vi,"removeChangedListener:listener"),null!==this.zi&&(this.zi.remove(t),0===this.zi.count&&(this.zi=null))},Vi.prototype.Ww=function(t){if(this.wb||this.ia.gF(t),t.Ac!==fc&&(this.ri=!0),null!==this.zi){var e=this.zi,i=e.length;if(1===i)(e=e.da(0))(t);else if(0!==i)for(var n=e.gc(),o=0;o<i;o++)(e=n[o])(t)}},Vi.prototype.raiseChangedEvent=Vi.prototype.ad=function(t,e,i,n,o,r,s){void 0===r&&(r=null),void 0===s&&(s=null);var a=new Lt;a.g=this,a.Ac=t,a.propertyName=e,a.object=i,a.oldValue=n,a.Aj=r,a.newValue=o,a.zj=s,this.Ww(a)},Vi.prototype.raiseChanged=Vi.prototype.h=function(t,e,i,n,o){this.ad(yc,t,this,e,i,n,o)},Kh.u(Vi,{Oa:"animationManager"},function(){return this.UB}),Kh.u(Vi,{ia:"undoManager"},function(){return this.me.ia}),Kh.defineProperty(Vi,{wb:"skipsUndoManager"},function(){return this.dj},function(t){Kh.j(t,"boolean",Vi,"skipsUndoManager"),this.dj=t,this.me.dj=t}),Kh.defineProperty(Vi,{gA:"delaysLayout"},function(){return this.Sy},function(t){this.Sy=t}),Vi.prototype.nn=function(t,e){if(null!==t&&t.g===this){var i=this.Pe;try{this.Pe=!0;var n,o=t.Ac;if(o===yc){var r=t.object,s=t.propertyName,a=t.ka(e);if(Kh.La(r,s,a),r instanceof Eo){var l,h=r.U;null!==h&&h.de()}this.ri=!0}else if(o===gc){var u=t.object,c=t.zj,r=t.newValue;if(u instanceof ir){if("number"==typeof c&&r instanceof Eo){l=r;var d=u;e?d.of(c):d.Qd(c,l),h=u.U,null!==h&&h.de()}else if("number"==typeof c&&r instanceof Er){var p=r,d=u;e?p.xe?d.XF(c):d.VF(c):(n=p.xe?d.Nd(p.index):d.Md(p.index),n.Ip(p))}}else if(u instanceof Ri){var f=!0===t.Aj;if("number"==typeof c&&r instanceof us){var h=r,y=u;e?(h.ib=!1,h.Pg=!1,h.de(),y.of(f?c:-1,h,f)):y.Wp(c,h,f)}}else if(u instanceof Vi){if("number"==typeof c&&r instanceof Ri){var g=r;e?this.cc.bd(c):(o=g,o.Rc(this),this.cc.Qd(c,o))}}else Kh.k("unknown ChangedEvent.Insert object: "+t.toString());this.ri=!0}else o===vc?(u=t.object,c=t.Aj,r=t.oldValue,u instanceof ir?"number"==typeof c&&r instanceof Eo?(d=u,e?d.Qd(c,r):d.of(c)):"number"==typeof c&&r instanceof Er&&(p=r,d=u,e?(n=p.xe?d.Nd(p.index):d.Md(p.index),n.Ip(p)):p.xe?d.XF(c):d.VF(c)):u instanceof Ri?(f=!0===t.zj,"number"==typeof c&&r instanceof us&&(h=r,y=u,e?y.Wp(c,h,f):(h.ib=!1,h.Pg=!1,h.de(),y.of(f?c:-1,h,f)))):u instanceof Vi?"number"==typeof c&&r instanceof Ri&&(g=r,e?(o=g,o.Rc(this),this.cc.Qd(c,o)):this.cc.bd(c)):Kh.k("unknown ChangedEvent.Remove object: "+t.toString()),this.ri=!0):o!==fc&&Kh.k("unknown ChangedEvent: "+t.toString())}finally{this.Pe=i}}},Vi.prototype.startTransaction=Vi.prototype.Hb=function(t){return this.ia.Hb(t)},Vi.prototype.commitTransaction=Vi.prototype.Wc=function(t){return this.ia.Wc(t)},Vi.prototype.rollbackTransaction=Vi.prototype.lq=function(){return this.ia.lq()},Vi.prototype.commit=function(t,e){this.ia.Hb(e);try{t(this)}finally{this.ia.Wc(e)}},Vi.prototype.updateAllTargetBindings=Vi.prototype.CG=function(t){void 0===t&&(t="");for(var e=this.Kk;e.next();)e.value.Ib(t);for(e=this.ig;e.next();)e.value.Ib(t);for(e=this.links;e.next();)e.value.Ib(t)},Vi.prototype.updateAllRelationshipsFromData=Vi.prototype.WJ=function(){for(var t=this.$,e=new p,i=t.hg,n=0;n<i.length;n++){var o=i[n];e.add(o)}var r=[];for(this.ig.each(function(t){null===t.data||e.contains(t.data)||r.push(t.data)}),this.Kk.each(function(t){null===t.data||e.contains(t.data)||r.push(t.data)}),r.forEach(function(e){$t(t,e,!1)}),n=0;n<i.length;n++){var o=i[n],s=this.xh(o);null===s&&Kt(t,o,!1)}if(t instanceof Qt){for(var a=new p,i=t.Qg,n=0;n<i.length;n++)o=i[n],a.add(o);var l=[];for(this.links.each(function(t){null===t.data||a.contains(t.data)||l.push(t.data)}),l.forEach(function(e){te(t,e,!1)}),n=0;n<i.length;n++)o=i[n],null===(s=this.Xf(o))&&Zt(t,o,!1)}for(n=this.Kk;n.next();)s=n.value,s.updateRelationshipsFromData();for(n=this.ig;n.next();)n.value.updateRelationshipsFromData();for(n=this.links;n.next();)s=n.value,s.updateRelationshipsFromData()},Vi.prototype.zu=function(t,e,i,n,o){t.L(e)||(void 0===o&&(o=!1),o||vn(this),mn(this),n=this.Tb,null===n||!n.Dx||this.Kl!==Qc||o||t.width===e.width&&t.height===e.height||n.J(),n=this.$a,!0===this.kl&&n instanceof vi&&(this.R.ca=this.BB(this.R.ef),mi(n,this)),this.Tc||this.lF(t,e),Mn(this),this.ph.scale=i,this.ph.position.x=t.x,this.ph.position.y=t.y,this.ph.bounds.set(t),this.ph.isScroll=o,this.Aa("ViewportBoundsChanged",this.ph,t),this.FA&&this.links.each(function(t){t.Zl&&t.W.Zf(e)&&t.$b()}))},Vi.prototype.clearSelection=Vi.prototype.Xw=function(){var t=0<this.selection.count;t&&this.Aa("ChangingSelection"),Tn(this),t&&this.Aa("ChangedSelection")},Vi.prototype.select=Vi.prototype.select=function(t){null!==t&&(Kh.G(t,us,Vi,"select:part"),t.layer.g===this&&(!t.ib||1<this.selection.count)&&(this.Aa("ChangingSelection"),Tn(this),t.ib=!0,this.Aa("ChangedSelection")))},Vi.prototype.selectCollection=Vi.prototype.hG=function(t){if(this.Aa("ChangingSelection"),Tn(this),Kh.isArray(t))for(var e=Kh.Za(t),i=0;i<e;i++){var n=Kh.Ba(t,i);n instanceof us||Kh.k("Diagram.selectCollection given something that is not a Part: "+n),n.ib=!0}else for(t=t.i;t.next();)n=t.value,n instanceof us||Kh.k("Diagram.selectCollection given something that is not a Part: "+n),n.ib=!0;this.Aa("ChangedSelection")},Vi.prototype.clearHighlighteds=Vi.prototype.oH=function(){var t=this.Yl;if(0<t.count){for(var e=t.gc(),i=e.length,n=0;n<i;n++)e[n].Pg=!1;t.Qa(),t.clear(),t.freeze()}},Vi.prototype.highlight=function(t){null!==t&&t.layer.g===this&&(Kh.G(t,us,Vi,"highlight:part"),!t.Pg||1<this.Yl.count)&&(this.oH(),t.Pg=!0)},Vi.prototype.highlightCollection=function(t){for(var e=new p(us).Kc(t),i=this.Yl.copy().Zx(e).i;i.next();)t=i.value,t.Pg=!1;for(e=e.i;e.next();)t=e.value,t instanceof us||Kh.k("Diagram.highlightCollection given something that is not a Part: "+t),t.Pg=!0},Vi.prototype.scroll=Vi.prototype.scroll=function(t,e,i){void 0===i&&(i=1);var n="up"===e||"down"===e,o=0;if("pixel"===t)o=i;else if("line"===t)o=i*(n?this.Iu:this.Hu);else if("page"===t)t=n?this.qb.height:this.qb.width,0!==(t*=this.scale)&&(o=Math.max(t-(n?this.Iu:this.Hu),0),o*=i);else{if("document"===t)return o=this.se,n=this.qb,i=Kh.K(),"up"===e?this.position=i.m(n.x,o.y):"left"===e?this.position=i.m(o.x,n.y):"down"===e?this.position=i.m(n.x,o.bottom-n.height):"right"===e&&(this.position=i.m(o.right-n.width,n.y)),void Kh.v(i);Kh.k("scrolling unit must be 'pixel', 'line', 'page', or 'document', not: "+t)}o/=this.scale,i=this.position.copy(),"up"===e?i.y=this.position.y-o:"down"===e?i.y=this.position.y+o:"left"===e?i.x=this.position.x-o:"right"===e?i.x=this.position.x+o:Kh.k("scrolling direction must be 'up', 'down', 'left', or 'right', not: "+e),this.position=i},Vi.prototype.scrollToRect=Vi.prototype.eG=function(t){var e=this.qb;e.wk(t)||(t=t.Ll,t.x-=e.width/2,t.y-=e.height/2,this.position=t)},Vi.prototype.centerRect=Vi.prototype.uE=function(t){var e=this.qb;t=t.Ll,t.x-=e.width/2,t.y-=e.height/2,this.position=t},Vi.prototype.transformDocToView=Vi.prototype.zG=function(t){var e=this.jd;e.reset(),1!==this.ub&&e.scale(this.ub);var i=this.jb;return(0!==i.x||0!==i.y)&&isFinite(i.x)&&isFinite(i.y)&&e.translate(-i.x,-i.y),t.copy().transform(this.jd)},Vi.prototype.transformViewToDoc=Vi.prototype.BB=function(t){var e=this.jd;e.reset(),1!==this.ub&&e.scale(this.ub);var i=this.jb;return(0!==i.x||0!==i.y)&&isFinite(i.x)&&isFinite(i.y)&&e.translate(-i.x,-i.y),C(t.copy(),this.jd)};var Qc;Vi.None=Qc=Kh.p(Vi,"None",0);var Zc;Vi.Uniform=Zc=Kh.p(Vi,"Uniform",1);var td;Vi.UniformToFill=td=Kh.p(Vi,"UniformToFill",2);var ed;Vi.CycleAll=ed=Kh.p(Vi,"CycleAll",10);var id;Vi.CycleNotDirected=id=Kh.p(Vi,"CycleNotDirected",11);var nd;Vi.CycleNotDirectedFast=nd=Kh.p(Vi,"CycleNotDirectedFast",12);var od;Vi.CycleNotUndirected=od=Kh.p(Vi,"CycleNotUndirected",13);var rd;Vi.CycleDestinationTree=rd=Kh.p(Vi,"CycleDestinationTree",14);var sd;Vi.CycleSourceTree=sd=Kh.p(Vi,"CycleSourceTree",15);var ad;Vi.DocumentScroll=ad=Kh.p(Vi,"DocumentScroll",1);var ld;Vi.InfiniteScroll=ld=Kh.p(Vi,"InfiniteScroll",2);var hd;Vi.TreeParentCollapsed=hd=Kh.p(Vi,"TreeParentCollapsed",21);var ud;Vi.AllParentsCollapsed=ud=Kh.p(Vi,"AllParentsCollapsed",22);var cd;Vi.AnyParentsCollapsed=cd=Kh.p(Vi,"AnyParentsCollapsed",23),Kh.defineProperty(Vi,{XJ:"validCycle"},function(){return this.Jw},function(t){var e=this.Jw;e!==t&&(Kh.mb(t,Vi,Vi,"validCycle"),this.Jw=t,this.h("validCycle",e,t))}),Kh.u(Vi,{Hx:"layers"},function(){return this.cc.i}),Kh.defineProperty(Vi,{Bf:"isModelReadOnly"},function(){var t=this.me;return null!==t&&t.hb},function(t){var e=this.me;null!==e&&(e.hb=t)}),Kh.defineProperty(Vi,{hb:"isReadOnly"},function(){return this.Ni},function(t){var e=this.Ni;e!==t&&(Kh.j(t,"boolean",Vi,"isReadOnly"),this.Ni=t,this.h("isReadOnly",e,t))}),Kh.defineProperty(Vi,{isEnabled:"isEnabled"},function(){return this.gf},function(t){var e=this.gf;e!==t&&(Kh.j(t,"boolean",Vi,"isEnabled"),this.gf=t,this.h("isEnabled",e,t))}),Kh.defineProperty(Vi,{Sz:"allowClipboard"},function(){return this.Xu},function(t){var e=this.Xu;e!==t&&(Kh.j(t,"boolean",Vi,"allowClipboard"),this.Xu=t,this.h("allowClipboard",e,t))}),Kh.defineProperty(Vi,{tk:"allowCopy"},function(){return this.Nk},function(t){var e=this.Nk;e!==t&&(Kh.j(t,"boolean",Vi,"allowCopy"),this.Nk=t,this.h("allowCopy",e,t))}),Kh.defineProperty(Vi,{jn:"allowDelete"},function(){return this.Ok},function(t){var e=this.Ok;e!==t&&(Kh.j(t,"boolean",Vi,"allowDelete"),this.Ok=t,this.h("allowDelete",e,t))}),Kh.defineProperty(Vi,{Bt:"allowDragOut"},function(){return this.Yu},function(t){var e=this.Yu;e!==t&&(Kh.j(t,"boolean",Vi,"allowDragOut"),this.Yu=t,this.h("allowDragOut",e,t))}),Kh.defineProperty(Vi,{nE:"allowDrop"},function(){return this.Zu},function(t){var e=this.Zu;e!==t&&(Kh.j(t,"boolean",Vi,"allowDrop"),this.Zu=t,this.h("allowDrop",e,t))}),Kh.defineProperty(Vi,{Tw:"allowTextEdit"},function(){return this.Xk},function(t){var e=this.Xk;e!==t&&(Kh.j(t,"boolean",Vi,"allowTextEdit"),this.Xk=t,this.h("allowTextEdit",e,t))}),Kh.defineProperty(Vi,{Qw:"allowGroup"},function(){return this.Pk},function(t){var e=this.Pk;e!==t&&(Kh.j(t,"boolean",Vi,"allowGroup"),this.Pk=t,this.h("allowGroup",e,t))}),Kh.defineProperty(Vi,{Uw:"allowUngroup"},function(){return this.Yk},function(t){var e=this.Yk;e!==t&&(Kh.j(t,"boolean",Vi,"allowUngroup"),this.Yk=t,this.h("allowUngroup",e,t))}),Kh.defineProperty(Vi,{Ap:"allowInsert"},function(){return this.av},function(t){var e=this.av;e!==t&&(Kh.j(t,"boolean",Vi,"allowInsert"),this.av=t,this.h("allowInsert",e,t))}),Kh.defineProperty(Vi,{Ct:"allowLink"},function(){return this.Qk},function(t){var e=this.Qk;e!==t&&(Kh.j(t,"boolean",Vi,"allowLink"),this.Qk=t,this.h("allowLink",e,t))}),Kh.defineProperty(Vi,{kn:"allowRelink"},function(){return this.Sk},function(t){var e=this.Sk;e!==t&&(Kh.j(t,"boolean",Vi,"allowRelink"),this.Sk=t,this.h("allowRelink",e,t))}),Kh.defineProperty(Vi,{Il:"allowMove"},function(){return this.Rk},function(t){var e=this.Rk;e!==t&&(Kh.j(t,"boolean",Vi,"allowMove"),this.Rk=t,this.h("allowMove",e,t))}),Kh.defineProperty(Vi,{Rw:"allowReshape"},function(){return this.Tk},function(t){var e=this.Tk;e!==t&&(Kh.j(t,"boolean",Vi,"allowReshape"),this.Tk=t,this.h("allowReshape",e,t))}),Kh.defineProperty(Vi,{Dt:"allowResize"},function(){return this.Uk},function(t){var e=this.Uk;e!==t&&(Kh.j(t,"boolean",Vi,"allowResize"),this.Uk=t,this.h("allowResize",e,t))}),Kh.defineProperty(Vi,{Sw:"allowRotate"},function(){return this.Vk},function(t){var e=this.Vk;e!==t&&(Kh.j(t,"boolean",Vi,"allowRotate"),this.Vk=t,this.h("allowRotate",e,t))}),Kh.defineProperty(Vi,{yf:"allowSelect"},function(){return this.Wk},function(t){var e=this.Wk;e!==t&&(Kh.j(t,"boolean",Vi,"allowSelect"),this.Wk=t,this.h("allowSelect",e,t))}),Kh.defineProperty(Vi,{oE:"allowUndo"},function(){return this.bv},function(t){var e=this.bv;e!==t&&(Kh.j(t,"boolean",Vi,"allowUndo"),this.bv=t,this.h("allowUndo",e,t))}),Kh.defineProperty(Vi,{Vw:"allowZoom"},function(){return this.dv},function(t){var e=this.dv;e!==t&&(Kh.j(t,"boolean",Vi,"allowZoom"),this.dv=t,this.h("allowZoom",e,t))}),Kh.defineProperty(Vi,{xA:"hasVerticalScrollbar"},function(){return this.Hv},function(t){var e=this.Hv;e!==t&&(Kh.j(t,"boolean",Vi,"hasVerticalScrollbar"),this.Hv=t,vn(this),this.oa(),this.h("hasVerticalScrollbar",e,t),Yi(this,!1))}),Kh.defineProperty(Vi,{wA:"hasHorizontalScrollbar"},function(){return this.Gv},function(t){var e=this.Gv;e!==t&&(Kh.j(t,"boolean",Vi,"hasHorizontalScrollbar"),this.Gv=t,vn(this),this.oa(),this.h("hasHorizontalScrollbar",e,t),Yi(this,!1))}),Kh.defineProperty(Vi,{oe:"allowHorizontalScroll"},function(){return this.$u},function(t){var e=this.$u;e!==t&&(Kh.j(t,"boolean",Vi,"allowHorizontalScroll"),this.$u=t,this.h("allowHorizontalScroll",e,t),Yi(this,!1))}),Kh.defineProperty(Vi,{pe:"allowVerticalScroll"},function(){return this.cv},function(t){var e=this.cv;e!==t&&(Kh.j(t,"boolean",Vi,"allowVerticalScroll"),this.cv=t,this.h("allowVerticalScroll",e,t),Yi(this,!1))}),Kh.defineProperty(Vi,{Hu:"scrollHorizontalLineChange"},function(){return this.tw},function(t){var e=this.tw;e!==t&&(Kh.j(t,"number",Vi,"scrollHorizontalLineChange"),0>t&&Kh.Fa(t,">= 0",Vi,"scrollHorizontalLineChange"),this.tw=t,this.h("scrollHorizontalLineChange",e,t))}),Kh.defineProperty(Vi,{Iu:"scrollVerticalLineChange"},function(){return this.xw},function(t){var e=this.xw;e!==t&&(Kh.j(t,"number",Vi,"scrollVerticalLineChange"),0>t&&Kh.Fa(t,">= 0",Vi,"scrollVerticalLineChange"),this.xw=t,this.h("scrollVerticalLineChange",e,t))}),Kh.defineProperty(Vi,{R:"lastInput"},function(){return this.Rb},function(t){this.Rb=t}),Kh.defineProperty(Vi,{Bc:"firstInput"},function(){return this.Li},function(t){this.Li=t}),Kh.defineProperty(Vi,{ec:"currentCursor"},function(){return this.nv},function(t){""===t&&(t=this.ir);var e=this.nv;if(e!==t){Kh.j(t,"string",Vi,"currentCursor");var i=this.Fb,n=this.Nb;null!==i&&(this.nv=t,i.style.cursor=t,n.style.cursor=t,i.style.cursor===e&&(i.style.cursor="-webkit-"+t,n.style.cursor="-webkit-"+t,i.style.cursor===e&&(i.style.cursor="-moz-"+t,n.style.cursor="-moz-"+t,i.style.cursor===e&&(i.style.cursor=t,n.style.cursor=t))))}}),Kh.defineProperty(Vi,{LK:"defaultCursor"},function(){return this.ir},function(t){""===t&&(t="auto");var e=this.ir;e!==t&&(Kh.j(t,"string",Vi,"defaultCursor"),this.ir=t,this.h("defaultCursor",e,t))}),Kh.defineProperty(Vi,{click:"click"},function(){return this.Ai},function(t){var e=this.Ai;e!==t&&(null!==t&&Kh.j(t,"function",Vi,"click"),this.Ai=t,this.h("click",e,t))}),Kh.defineProperty(Vi,{Jt:"doubleClick"},function(){return this.Ii},function(t){var e=this.Ii;e!==t&&(null!==t&&Kh.j(t,"function",Vi,"doubleClick"),this.Ii=t,this.h("doubleClick",e,t))}),Kh.defineProperty(Vi,{aA:"contextClick"},function(){return this.Ci},function(t){var e=this.Ci;e!==t&&(null!==t&&Kh.j(t,"function",Vi,"contextClick"),this.Ci=t,this.h("contextClick",e,t))}),Kh.defineProperty(Vi,{RA:"mouseOver"},function(){return this.Xi},function(t){var e=this.Xi;e!==t&&(null!==t&&Kh.j(t,"function",Vi,"mouseOver"),this.Xi=t,this.h("mouseOver",e,t))}),Kh.defineProperty(Vi,{QA:"mouseHover"},function(){return this.Wi},function(t){var e=this.Wi;e!==t&&(null!==t&&Kh.j(t,"function",Vi,"mouseHover"),this.Wi=t,this.h("mouseHover",e,t))}),Kh.defineProperty(Vi,{PA:"mouseHold"},function(){return this.Vi},function(t){var e=this.Vi;e!==t&&(null!==t&&Kh.j(t,"function",Vi,"mouseHold"),this.Vi=t,this.h("mouseHold",e,t))}),Kh.defineProperty(Vi,{bJ:"mouseDragOver"},function(){return this.ew},function(t){var e=this.ew;e!==t&&(null!==t&&Kh.j(t,"function",Vi,"mouseDragOver"),this.ew=t,this.h("mouseDragOver",e,t))}),Kh.defineProperty(Vi,{OA:"mouseDrop"},function(){return this.Ui},function(t){var e=this.Ui;e!==t&&(null!==t&&Kh.j(t,"function",Vi,"mouseDrop"),this.Ui=t,this.h("mouseDrop",e,t))}),Kh.defineProperty(Vi,{xB:"toolTip"},function(){return this.ej},function(t){var e=this.ej;e!==t&&(this.ej=t,this.h("toolTip",e,t))}),Kh.defineProperty(Vi,{contextMenu:"contextMenu"},function(){return this.Di},function(t){var e=this.Di;e!==t&&(this.Di=t,this.h("contextMenu",e,t))}),Kh.defineProperty(Vi,{ob:"commandHandler"},function(){return this.Ly},function(t){var e=this.Ly;e!==t&&(Kh.G(t,le,Vi,"commandHandler"),null!==t.g&&Kh.k("Cannot share CommandHandlers between Diagrams: "+t.toString()),null!==e&&e.Rc(null),this.Ly=t,t.Rc(this))}),Kh.defineProperty(Vi,{eb:"toolManager"},function(){return this.Lz},function(t){var e=this.Lz;e!==t&&(Kh.G(t,vi,Vi,"toolManager"),null!==t.g&&Kh.k("Cannot share ToolManagers between Diagrams: "+t.toString()),null!==e&&e.Rc(null),this.Lz=t,t.Rc(this))}),Kh.defineProperty(Vi,{Ht:"defaultTool"},function(){return this.Ry},function(t){var e=this.Ry;e!==t&&(Kh.G(t,pe,Vi,"defaultTool"),this.Ry=t,this.$a===e&&(this.$a=t))}),Kh.defineProperty(Vi,{$a:"currentTool"},function(){return this.Oy},function(t){var e=this.Oy;null!==e&&(e.sa&&e.doDeactivate(),e.cancelWaitAfter(),e.doStop()),null===t&&(t=this.Ht),null!==t&&(Kh.G(t,pe,Vi,"currentTool"),this.Oy=t,t.Rc(this),t.doStart())}),Kh.u(Vi,{selection:"selection"},function(){return this.zw}),Kh.defineProperty(Vi,{TI:"maxSelectionCount"},function(){return this.aw},function(t){var e=this.aw;if(e!==t)if(Kh.j(t,"number",Vi,"maxSelectionCount"),0<=t&&!isNaN(t)){if(this.aw=t,this.h("maxSelectionCount",e,t),!this.ia.ab&&0<(t=this.selection.count-t)){this.Aa("ChangingSelection");for(var e=this.selection.gc(),i=0;i<t;i++)e[i].ib=!1;this.Aa("ChangedSelection")}}else Kh.Fa(t,">= 0",Vi,"maxSelectionCount")}),Kh.defineProperty(Vi,{eJ:"nodeSelectionAdornmentTemplate"},function(){return this.fw},function(t){var e=this.fw;e!==t&&(Kh.G(t,Ns,Vi,"nodeSelectionAdornmentTemplate"),this.fw=t,this.h("nodeSelectionAdornmentTemplate",e,t))}),Kh.defineProperty(Vi,{hI:"groupSelectionAdornmentTemplate"},function(){return this.Ev},function(t){var e=this.Ev;e!==t&&(Kh.G(t,Ns,Vi,"groupSelectionAdornmentTemplate"),this.Ev=t,this.h("groupSelectionAdornmentTemplate",e,t))}),Kh.defineProperty(Vi,{MI:"linkSelectionAdornmentTemplate"},function(){return this.Wv},function(t){var e=this.Wv;e!==t&&(Kh.G(t,Ns,Vi,"linkSelectionAdornmentTemplate"),this.Wv=t,this.h("linkSelectionAdornmentTemplate",e,t))}),Kh.u(Vi,{Yl:"highlighteds"},function(){return this.Iv}),Kh.defineProperty(Vi,{ri:"isModified"},function(){var t=this.ia;return t.isEnabled?null!==t.mj||this.Ov&&this.fh!==t.rj:this.Ov},function(t){if(this.Ov!==t){Kh.j(t,"boolean",Vi,"isModified"),this.Ov=t;var e=this.ia;!t&&e.isEnabled&&(this.fh=e.rj),t||En(this)}}),Kh.defineProperty(Vi,{$:"model"},function(){return this.me},function(t){var e=this.me;if(e!==t){Kh.G(t,Nt,Vi,"model"),this.$a.doCancel(),null!==e&&e.ia!==t.ia&&e.ia.tF&&Kh.k("Do not replace a Diagram.model while a transaction is in progress."),this.Oa.Gh(),this.Xw(),this.gh=!1,this.Eo=!0,this.fh=-2,this.Tf=!1;var i=this.$d;this.$d=!0,this.Oa.Tn("Model"),null!==e&&(null!==this.ih&&this.ih.each(function(t){e.Cu(t)}),e.Cu(this.jD),e instanceof Qt&&Un(this,e.Qg),Un(this,e.hg)),this.me=t,t.hn(this.iD),An(this,t.hg),t instanceof Qt&&qn(this,t.Qg),t.Cu(this.iD),t.hn(this.jD),null!==this.ih&&this.ih.each(function(e){t.hn(e)}),this.$d=i,this.Tc||this.oa(),null!==e&&(t.ia.isEnabled=e.ia.isEnabled)}}),Kh.defineProperty(Vi,{Ta:null},function(){return this.aD},function(t){this.aD=t}),Kh.u(Vi,{Kx:null},function(){return this.OG}),Kh.defineProperty(Vi,{Pe:"skipsModelSourceBindings"},function(){return this.ED},function(t){this.ED=t}),Kh.defineProperty(Vi,{Ou:null},function(){return this.Gz},function(t){this.Gz=t}),Vi.prototype.rebuildParts=Vi.prototype.em=function(){for(var t=this.UA.i;t.next();){var e=t.value,i=t.key;(!e.ee()||e instanceof Pa)&&Kh.k('Invalid node template in Diagram.nodeTemplateMap: template for "'+i+'" must be a Node or a simple Part, not a Group or Link: '+e)}for(t=this.vA.i;t.next();)e=t.value,i=t.key,e instanceof Pa||Kh.k('Invalid group template in Diagram.groupTemplateMap: template for "'+i+'" must be a Group, not a normal Node or Link: '+e);for(t=this.IA.i;t.next();)e=t.value,i=t.key,e instanceof Ws||Kh.k('Invalid link template in Diagram.linkTemplateMap: template for "'+i+'" must be a Link, not a normal Node or simple Part: '+e);for(t=Kh.cb(),e=this.selection.i;e.next();)(i=e.value.data)&&t.push(i);for(var e=Kh.cb(),n=this.Yl.i;n.next();)(i=n.value.data)&&e.push(i);for(i=Kh.cb(),n=this.ig.i;n.next();){var o=n.value;null!==o.data&&(i.push(o.data),i.push(o.location))}for(n=this.links.i;n.next();)o=n.value,null!==o.data&&(i.push(o.data),i.push(o.location));for(n=this.Kk.i;n.next();)o=n.value,null!==o.data&&(i.push(o.data),i.push(o.location));for(n=this.$,n instanceof Qt&&Un(this,n.Qg),Un(this,n.hg),An(this,n.hg),n instanceof Qt&&qn(this,n.Qg),n=0;n<t.length;n++)null!==(o=this.xh(t[n]))&&(o.ib=!0);for(n=0;n<e.length;n++)null!==(o=this.xh(e[n]))&&(o.Pg=!0);for(n=0;n<i.length;n+=2)null!==(o=this.xh(i[n]))&&(o.location=i[n+1]);Kh.ta(t),Kh.ta(e),Kh.ta(i)},Vi.prototype.rA=function(t){return this.$.rA(t)};var dd=!1,pd=!1;Vi.prototype.sx=function(t){var e=this.$,i="";return e instanceof Qt?i=e.sx(t):e instanceof ie&&(i=e.bI(t)),i};var fd=!1;Vi.prototype.findPartForKey=Vi.prototype.UH=function(t){if(null===t||void 0===t)return null;var e=this.$.ve(t);return null!==e?this.Ei.ka(e):this.$ instanceof Qt&&null!==(e=this.$.Qp(t))?this.Lj.ka(e):null},Vi.prototype.findNodeForKey=Vi.prototype.Ke=function(t){return null===t||void 0===t?null:null===(t=this.$.ve(t))?null:(t=this.Ei.ka(t),t instanceof js?t:null)},Vi.prototype.findPartForData=Vi.prototype.xh=function(t){if(null===t)return null;var e=this.Ei.ka(t);return null!==e?e:e=this.Lj.ka(t)},Vi.prototype.findNodeForData=Vi.prototype.ox=function(t){return null===t?null:(t=this.Ei.ka(t),t instanceof js?t:null)},Vi.prototype.findLinkForData=Vi.prototype.Xf=function(t){return null===t?null:this.Lj.ka(t)},Vi.prototype.findNodesByExample=function(t){for(var e=new p(js),i=this.bp.i;i.next();){var n=i.value,o=n.data;if(null!==o)for(var r=0;r<arguments.length;r++){var s=arguments[r];if(Kh.Pa(s)&&$n(this,o,s)){e.add(n);break}}}return e.i},Vi.prototype.findLinksByExample=function(t){for(var e=new p(Ws),i=this.Vo.i;i.next();){var n=i.value,o=n.data;if(null!==o)for(var r=0;r<arguments.length;r++){var s=arguments[r];if(Kh.Pa(s)&&$n(this,o,s)){e.add(n);break}}}return e.i},Kh.defineProperty(Vi,{vL:"nodeTemplate"},function(){return this.Yi.ka("")},function(t){var e=this.Yi.ka("");e!==t&&(Kh.G(t,us,Vi,"nodeTemplate"),this.Yi.add("",t),this.h("nodeTemplate",e,t),this.ia.ab||this.em())}),Kh.defineProperty(Vi,{UA:"nodeTemplateMap"},function(){return this.Yi},function(t){var e=this.Yi;e!==t&&(Kh.G(t,b,Vi,"nodeTemplateMap"),this.Yi=t,this.h("nodeTemplateMap",e,t),this.ia.ab||this.em())}),Kh.defineProperty(Vi,{ZK:"groupTemplate"},function(){return this.dl.ka("")},function(t){var e=this.dl.ka("");e!==t&&(Kh.G(t,Pa,Vi,"groupTemplate"),this.dl.add("",t),this.h("groupTemplate",e,t),this.ia.ab||this.em())}),Kh.defineProperty(Vi,{vA:"groupTemplateMap"},function(){return this.dl},function(t){var e=this.dl;e!==t&&(Kh.G(t,b,Vi,"groupTemplateMap"),this.dl=t,this.h("groupTemplateMap",e,t),this.ia.ab||this.em())}),Kh.defineProperty(Vi,{kL:"linkTemplate"},function(){return this.ak.ka("")},function(t){var e=this.ak.ka("");e!==t&&(Kh.G(t,Ws,Vi,"linkTemplate"),this.ak.add("",t),this.h("linkTemplate",e,t),this.ia.ab||this.em())}),Kh.defineProperty(Vi,{IA:"linkTemplateMap"},function(){return this.ak},function(t){var e=this.ak;e!==t&&(Kh.G(t,b,Vi,"linkTemplateMap"),this.ak=t,this.h("linkTemplateMap",e,t),this.ia.ab||this.em())}),Kh.defineProperty(Vi,{zI:null},function(){return this.kl},function(t){this.kl=t}),Kh.defineProperty(Vi,{cf:"isMouseCaptured"},function(){return this.YC},function(t){var i=this.Fb;null!==i&&(t?(this.R.bubbles=!1,i.removeEventListener("mousemove",this.On,!1),i.removeEventListener("mousedown",this.Nn,!1),i.removeEventListener("mouseup",this.Qn,!1),i.removeEventListener("mousewheel",this.Rg,!1),i.removeEventListener("DOMMouseScroll",this.Rg,!1),i.removeEventListener("mouseout",this.Pn,!1),e.addEventListener("mousemove",this.On,!0),e.addEventListener("mousedown",this.Nn,!0),e.addEventListener("mouseup",this.Qn,!0),e.addEventListener("mousewheel",this.Rg,!0),e.addEventListener("DOMMouseScroll",this.Rg,!0),e.addEventListener("mouseout",this.Pn,!0),e.addEventListener("selectstart",this.preventDefault,!1)):(e.removeEventListener("mousemove",this.On,!0),e.removeEventListener("mousedown",this.Nn,!0),e.removeEventListener("mouseup",this.Qn,!0),e.removeEventListener("mousewheel",this.Rg,!0),e.removeEventListener("DOMMouseScroll",this.Rg,!0),e.removeEventListener("mouseout",this.Pn,!0),e.removeEventListener("selectstart",this.preventDefault,!1),i.addEventListener("mousemove",this.On,!1),i.addEventListener("mousedown",this.Nn,!1),i.addEventListener("mouseup",this.Qn,!1),i.addEventListener("mousewheel",this.Rg,!1),i.addEventListener("DOMMouseScroll",this.Rg,!1),i.addEventListener("mouseout",this.Pn,!1)),this.YC=t)}),Kh.defineProperty(Vi,{position:"position"},function(){return this.jb},function(t){var e=this.jb;if(!e.L(t)){Kh.G(t,w,Vi,"position");var i=this.qb.copy();if(t=t.copy(),!this.Tc&&null!==this.Fb){this.Tc=!0;var n=this.scale;Xi(this,t,this.se,this.Jb/n,this.Mb/n,this.qo,!1),this.Tc=!1}this.jb=t.S(),t=this.Oa,t.qc&&Li(t,e,this.jb),this.Tc||this.zu(i,this.qb,this.ub,this.ub,!1)}}),Kh.defineProperty(Vi,{pI:"initialPosition"},function(){return this.Kv},function(t){this.Kv.L(t)||(Kh.G(t,w,Vi,"initialPosition"),this.Kv=t.S())}),Kh.defineProperty(Vi,{qI:"initialScale"},function(){return this.Lv},function(t){this.Lv!==t&&(Kh.j(t,"number",Vi,"initialScale"),this.Lv=t)}),Kh.defineProperty(Vi,{Cn:"grid"},function(){return null===this.rd&&Ui(this),this.rd},function(t){var e=this.rd;if(e!==t){null===e&&(Ui(this),e=this.rd),Kh.G(t,ir,Vi,"grid"),t.type!==ep&&Kh.k("Diagram.grid must be a Panel of type Panel.Grid");var i=e.Q;null!==i&&i.remove(e),this.rd=t,t.name="GRID",null!==i&&i.add(t),Mn(this),this.oa(),this.h("grid",e,t)}}),Kh.u(Vi,{qb:"viewportBounds"},function(){var t=this.cE;if(null===this.Fb)return t;var e=this.jb,i=this.ub;return t.m(e.x,e.y,Math.max(this.Jb,0)/i,Math.max(this.Mb,0)/i),t}),Kh.defineProperty(Vi,{UE:"fixedBounds"},function(){return this.Cv},function(t){var e=this.Cv;e.L(t)||(Kh.G(t,S,Vi,"fixedBounds"),-1/0!==t.width&&1/0!==t.height&&-1/0!==t.height||Kh.k("fixedBounds width/height must not be Infinity"),this.Cv=t=t.S(),this.sc(),this.h("fixedBounds",e,t))}),Kh.defineProperty(Vi,{gy:"scrollMargin"},function(){return this.uw},function(t){"number"==typeof t?t=new O(t):Kh.G(t,O,Vi,"scrollMargin");var e=this.uw;e.L(t)||(this.uw=t=t.S(),this.sc(),this.h("scrollMargin",e,t))}),Kh.defineProperty(Vi,{fB:"scrollMode"},function(){return this.vw},function(t){var e=this.vw;e!==t&&(Kh.mb(t,Vi,Vi,"scrollMode"),this.vw=t,t===ad&&Yi(this,!1),this.h("scrollMode",e,t))}),Kh.defineProperty(Vi,{SF:"positionComputation"},function(){return this.pw},function(t){var e=this.pw;e!==t&&(null!==t&&Kh.j(t,"function",Vi,"positionComputation"),this.pw=t,Yi(this,!1),this.h("positionComputation",e,t))}),Kh.defineProperty(Vi,{dG:"scaleComputation"},function(){return this.rw},function(t){var e=this.rw;e!==t&&(null!==t&&Kh.j(t,"function",Vi,"scaleComputation"),this.rw=t,Sn(this,this.scale,this.scale),this.h("scaleComputation",e,t))}),Kh.u(Vi,{se:"documentBounds"},function(){return this.vv}),Kh.defineProperty(Vi,{FA:"isVirtualized"},function(){return this.Sv},function(t){var e=this.Sv;e!==t&&(Kh.j(t,"boolean",Vi,"isVirtualized"),this.Sv=t,this.h("isVirtualized",e,t))}),Kh.defineProperty(Vi,{scale:"scale"},function(){return this.ub},function(t){var e=this.ub;Kh.wd(t,Vi,"scale"),e!==t&&Sn(this,e,t)}),Kh.defineProperty(Vi,{Kl:"autoScale"},function(){return this.vm},function(t){var e=this.vm;e!==t&&(Kh.mb(t,Vi,Vi,"autoScale"),this.vm=t,this.h("autoScale",e,t),t!==Qc&&Yi(this,!1))}),Kh.defineProperty(Vi,{bL:"initialAutoScale"},function(){return this.hl},function(t){var e=this.hl;e!==t&&(Kh.mb(t,Vi,Vi,"initialAutoScale"),this.hl=t,this.h("initialAutoScale",e,t))}),Kh.defineProperty(Vi,{rI:"initialViewportSpot"},function(){return this.Mv},function(t){var e=this.Mv;e!==t&&(Kh.G(t,N,Vi,"initialViewportSpot"),t.Yc()||Kh.k("initialViewportSpot must be a specific Spot: "+t),this.Mv=t,this.h("initialViewportSpot",e,t))}),Kh.defineProperty(Vi,{oI:"initialDocumentSpot"},function(){return this.Jv},function(t){var e=this.Jv;e!==t&&(Kh.G(t,N,Vi,"initialDocumentSpot"),t.Yc()||Kh.k("initialViewportSpot must be a specific Spot: "+t),this.Jv=t,this.h("initialDocumentSpot",e,t))}),Kh.defineProperty(Vi,{Ah:"minScale"},function(){return this.bw},function(t){Kh.wd(t,Vi,"minScale");var e=this.bw;e!==t&&(0<t?(this.bw=t,this.h("minScale",e,t),t>this.scale&&(this.scale=t)):Kh.Fa(t,"> 0",Vi,"minScale"))}),Kh.defineProperty(Vi,{zh:"maxScale"},function(){return this.$v},function(t){Kh.wd(t,Vi,"maxScale");var e=this.$v;e!==t&&(0<t?(this.$v=t,this.h("maxScale",e,t),t<this.scale&&(this.scale=t)):Kh.Fa(t,"> 0",Vi,"maxScale"))}),Kh.defineProperty(Vi,{om:"zoomPoint"},function(){return this.Mw},function(t){this.Mw.L(t)||(Kh.G(t,w,Vi,"zoomPoint"),this.Mw=t=t.S())}),Kh.defineProperty(Vi,{$z:"contentAlignment"},function(){return this.qo},function(t){var e=this.qo;e.L(t)||(Kh.G(t,N,Vi,"contentAlignment"),this.qo=t=t.S(),this.h("contentAlignment",e,t),Yi(this,!1))}),Kh.defineProperty(Vi,{cL:"initialContentAlignment"},function(){return this.Jo},function(t){var e=this.Jo;e.L(t)||(Kh.G(t,N,Vi,"initialContentAlignment"),this.Jo=t=t.S(),this.h("initialContentAlignment",e,t))}),Kh.defineProperty(Vi,{padding:"padding"},function(){return this.jf},function(t){"number"==typeof t?t=new O(t):Kh.G(t,O,Vi,"padding");var e=this.jf;e.L(t)||(this.jf=t=t.S(),this.sc(),this.h("padding",e,t))}),Kh.u(Vi,{ig:"nodes"},function(){return this.bp.i}),Kh.u(Vi,{links:"links"},function(){return this.Vo.i}),Kh.u(Vi,{Kk:"parts"},function(){return this.zb.i}),Vi.prototype.findTopLevelNodesAndLinks=function(){for(var t=new p(us),e=this.bp.i;e.next();){var i=e.value;i.Zp&&t.add(i)}for(e=this.Vo.i;e.next();)i=e.value,i.Zp&&t.add(i);return t.i},Vi.prototype.findTopLevelGroups=function(){return this.Cl.i},Kh.defineProperty(Vi,{Tb:"layout"},function(){return this.ke},function(t){var e=this.ke;e!==t&&(Kh.G(t,Ra,Vi,"layout"),null!==e&&(e.g=null,e.group=null),this.ke=t,t.g=this,t.group=null,this.tm=!0,this.h("layout",e,t),this.Ne())}),Vi.prototype.layoutDiagram=function(t){cn(this),t&&Jn(this,!0),Qn(this,!1)},Kh.defineProperty(Vi,{Td:"isTreePathToChildren"},function(){return this.Rv},function(t){var e=this.Rv;if(e!==t&&(Kh.j(t,"boolean",Vi,"isTreePathToChildren"),this.Rv=t,this.h("isTreePathToChildren",e,t),!this.ia.ab))for(t=this.ig;t.next();)zs(t.value)}),Vi.prototype.findTreeRoots=function(){for(var t=new c(js),e=this.ig;e.next();){var i=e.value;i.Zp&&null===i.xn()&&t.add(i)}return t.i},Kh.defineProperty(Vi,{CB:"treeCollapsePolicy"},function(){return this.Hw},function(t){var e=this.Hw;e!==t&&(t!==hd&&t!==ud&&t!==cd&&Kh.k("Unknown Diagram.treeCollapsePolicy: "+t),this.Hw=t,this.h("treeCollapsePolicy",e,t))}),Kh.defineProperty(Vi,{yh:null},function(){return this.QC},function(t){this.QC=t}),Vi.prototype.addDiagramListener=Vi.prototype.Nw=function(t,e){Kh.j(t,"string",Vi,"addDiagramListener:name"),Kh.j(e,"function",Vi,"addDiagramListener:listener");var i=io(this,t);null!==i&&i.add(e)},Vi.prototype.removeDiagramListener=Vi.prototype.aB=function(t,e){Kh.j(t,"string",Vi,"removeDiagramListener:name"),Kh.j(e,"function",Vi,"addDiagramListener:listener");var i=io(this,t);null!==i&&i.remove(e)},Vi.prototype.raiseDiagramEvent=Vi.prototype.Aa=function(t,e,i){var n=io(this,t),o=new Ot;if(o.g=this,t=eo(this,t),null!==t&&(o.name=t),void 0!==e&&(o.tB=e),void 0!==i&&(o.WA=i),1===(e=n.length))(n=n.da(0))(o);else if(0!==e)for(i=n.gc(),t=0;t<e;t++)(n=i[t])(o);return o.cancel},Vi.prototype.isUnoccupied=Vi.prototype.aq=function(t,e){return void 0===e&&(e=null),no(this,!1,null,e).aq(t.x,t.y,t.width,t.height)},Vi.prototype.computeOccupiedArea=function(){return this.FA?this.qb.copy():this.Wj?Wi(this):this.se.copy()},Vi.invalidatePositionArray=Vi.prototype.BA=function(t){null!==this.Gd&&!this.Gd.cu&&(void 0===t&&(t=null),null===t||t.Vz&&!t.Af)&&(this.Gd.cu=!0)},Vi.prototype.simulatedMouseMove=function(t,e,i){if(null!==Mc){var n=Mc.g;i instanceof Vi||(i=null);var o=Tc;return i!==o&&(null!==o&&o!==n&&null!==o.eb.te&&(so(o),Mc.yx=!1,o.eb.te.doSimulatedDragLeave()),Tc=i,null!==i&&i!==n&&null!==i.eb.te&&(we(),o=i.eb.te,Sc.contains(o)||Sc.add(o),i.eb.te.doSimulatedDragEnter())),null!==i&&i!==n&&i.nE&&!i.hb&&i.Ap?(n=i.eb.te,null!==n&&(null!==t?e=i.zr(t):null===e&&(e=new w),i.Rb.ca=e,i.Rb.Sl=!1,i.Rb.up=!1,n.doSimulatedDragOver()),!0):!1}return!1},Vi.prototype.simulatedMouseUp=function(t,e,i,n){if(null!==Mc){null===n&&(n=e),e=Tc;var o=Mc.g;if(n!==e){if(null!==e&&e!==o&&null!==e.eb.te)return so(e),Mc.yx=!1,e.eb.te.doSimulatedDragLeave(),!1;Tc=n,null!==n&&null!==n.eb.te&&(we(),e=n.eb.te,Sc.contains(e)||Sc.add(e),n.eb.te.doSimulatedDragEnter())}if(null===n)return Mc.doCancel(),!0;if(n!==this)return null!==t&&(i=n.zr(t)),n.Rb.ca=i,n.Rb.Sl=!1,n.Rb.up=!0,t=n.eb.te,null!==t&&t.doSimulatedDrop(),t=Mc,null!==t&&(n=t.mayCopy(),t.Kf=n?"Copy":"Move",t.stopTool()),!0}return!1},Kh.defineProperty(Vi,{BK:"autoScrollInterval"},function(){return this.Mq},function(t){var e=this.Mq;Kh.wd(t,Vi,"scale"),e!==t&&(this.Mq=t,this.h("autoScrollInterval",e,t))}),Kh.defineProperty(Vi,{tE:"autoScrollRegion"},function(){return this.gv},function(t){"number"==typeof t?t=new O(t):Kh.G(t,O,Vi,"autoScrollRegion");var e=this.gv;e.L(t)||(this.gv=t=t.S(),this.sc(),this.h("autoScrollRegion",e,t))}),Vi.prototype.doAutoScroll=Vi.prototype.iA=function(t){this.fv.assign(t),ao(this,this.fv).Lc(this.position)?so(this):ro(this)},Vi.prototype.makeSvg=Vi.prototype.makeSVG=function(t){return void 0===t&&(t=new o),t.context="svg",t=lo(this,t),null!==t?t.jm:null},Vi.prototype.makeImage=function(t){void 0===t&&(t=new o);var e=(t.document||document).createElement("img");return e.src=this.NI(t),e},Vi.prototype.makeImageData=Vi.prototype.NI=function(t){void 0===t&&(t=new o);var e=lo(this,t);if(null!==e){var i=t.returnType,i=void 0===i?"string":i.toLowerCase();switch(i){case"imagedata":return e.xk.getImageData(0,0,e.width,e.height);case"blob":if(e=e.Kd,"function"!=typeof(i=t.callback)){Kh.k('Error: Diagram.makeImageData called with "returnType: toBlob", but no "callback" function property defined.');break}if("function"==typeof e.toBlob)return e.toBlob(i,t.type,t.details),"toBlob";if("function"==typeof e.msToBlob)return i(e.msToBlob()),"msToBlob";i(null);break;default:return e.toDataURL(t.type,t.details)}}return""};var yd=!1;Vi.inherit=function(t,e){Kh.j(t,"function",Vi,"inherit"),Kh.j(e,"function",Vi,"inherit"),e.XG&&Kh.k("Cannot inherit from "+Kh.mf(e)),Kh.Ka(t,e)},ho.prototype.nm=function(t){return t.ff.setTransform(t.Ed,0,0,t.Ed,0,0),null===this.Ji&&uo(this),0<this.Ji&&this!==this.MD},ho.prototype.t=function(){this.MD=null},Kh.Ka(po,Vi),Kh.ga("Palette",po),Kh.Ka(fo,Vi),Kh.ga("Overview",fo),fo.prototype.computePixelRatio=function(){return 1},fo.prototype.ue=function(){if(null===this.Nb&&Kh.k("No div specified"),null===this.Fb&&Kh.k("No canvas specified"),this.Ce){var t=this.gk;if(null!==t&&!t.Oa.pf){bn(this);var e=t.Cn;(null!==e&&e.visible&&isNaN(e.width)||isNaN(e.height))&&Mn(t);var i=this.Fb,e=this.ff,n=this.Iz,o=this.YG;n.width=i.width,n.height=i.height,e.Fe(!0),e.setTransform(1,0,0,1,0,0),e.clearRect(0,0,i.width,i.height),n=this.jd,n.reset(),1!==this.scale&&n.scale(this.scale),0===this.position.x&&0===this.position.y||n.translate(-this.position.x,-this.position.y),e.scale(this.Ed,this.Ed),e.transform(n.m11,n.m12,n.m21,n.m22,n.dx,n.dy);for(var n=this.yv,r=this.qb,s=t.cc.n,a=s.length,t=0;t<a;t++){var l=s[t],h=e,u=r,c=n;if(l.visible&&0!==l.yc&&(void 0===c&&(c=!0),c||!l.Mc)){1!==l.yc&&(h.globalAlpha=l.yc);for(var c=this.scale,l=l.zb.n,d=l.length,p=0;p<d;p++){var f=l[p],y=f.W;y.Zf(u)&&(1<y.width*c||1<y.height*c?f.ue(h,this):Cs(f,h))}h.globalAlpha=1}}for(o.drawImage(i.Kd,0,0),i=this.cc.n,o=i.length,t=0;t<o;t++)i[t].ue(e,this);this.Ce=this.il=!1}}},Kh.defineProperty(fo,{VA:"observed"},function(){return this.gk},function(t){var e=this.gk;null!==t&&Kh.G(t,Vi,fo,"observed"),t instanceof fo&&Kh.k("Overview.observed Diagram may not be an Overview itself: "+t),e!==t&&(null!==e&&(this.remove(this.th),e.aB("ViewportBoundsChanged",this.LF),e.aB("DocumentBoundsChanged",this.KF),e.lw.remove(this)),this.gk=t,null!==t&&(t.Nw("ViewportBoundsChanged",this.LF),t.Nw("DocumentBoundsChanged",this.KF),t.lw.add(this),this.add(this.th),go(this)),this.sc(),this.h("observed",e,t))}),Kh.defineProperty(fo,{th:"box"},function(){return this.wm},function(t){var e=this.wm;e!==t&&(this.wm=t,this.remove(e),this.add(this.wm),go(this),this.h("box",e,t))}),Kh.defineProperty(fo,{WK:"drawsTemporaryLayers"},function(){return this.yv},function(t){this.yv!==t&&(this.yv=t,this.Wx())}),fo.prototype.uh=function(){var t=this.gk;return null===t?Fu:t.se},fo.prototype.lF=function(){!0!==this.Ce&&(this.Ce=!0,yo(this))},fo.prototype.zu=function(t,e,i,n,o){this.Tc||(mn(this),this.oa(),vn(this),this.sc(),go(this),this.ph.scale=i,this.ph.position.x=t.x,this.ph.position.y=t.y,this.ph.bounds.set(t),this.ph.isScroll=o,this.Aa("ViewportBoundsChanged",this.ph,t))},Kh.Ka(vo,ye),vo.prototype.canStart=function(){if(!this.isEnabled)return!1;var t=this.g;if(null===t||!t.Il||!t.yf)return!1;var e=t.VA;if(null===e)return!1;if(null===this.findDraggablePart()){var i=e.qb;this.ul=new w(i.width/2,i.height/2),t=t.Bc.ca,e.position=new w(t.x-this.ul.x,t.y-this.ul.y)}return!0},vo.prototype.doActivate=function(){this.ul=null,ye.prototype.doActivate.call(this)},vo.prototype.moveParts=function(){var t=this.g,e=t.VA;if(null!==e){var i=t.th;if(null!==i){if(null===this.ul){var n=t.Bc.ca,i=i.location;this.ul=new w(n.x-i.x,n.y-i.y)}t=t.R.ca,e.position=new w(t.x-this.ul.x,t.y-this.ul.y)}}},Kh.Ka(mo,Xe),mo.prototype.resize=function(t){var e=this.g.VA;if(null!==e){var i=e.qb.copy();e.position=t.position,(i.width!==t.width||i.height!==t.height)&&0<t.width&&0<t.height&&(e.scale=Math.min(i.width/t.width,i.height/t.height))}},Kh.ga("Brush",wo);var gd;wo.Solid=gd=Kh.p(wo,"Solid",0);var vd;wo.Linear=vd=Kh.p(wo,"Linear",1);var md;wo.Radial=md=Kh.p(wo,"Radial",2);var bd;wo.Pattern=bd=Kh.p(wo,"Pattern",4);var wd;wo.Lab=wd=Kh.p(wo,"Lab",5);var xd;wo.HSL=xd=Kh.p(wo,"HSL",6),wo.prototype.copy=function(){var t=new wo;return t.na=this.na,t.oo=this.oo,t.mp=this.mp.S(),t.Co=this.Co.S(),t.Cw=this.Cw,t.zv=this.zv,null!==this.dh&&(t.dh=this.dh.copy()),t.nw=this.nw,t},_h=wo.prototype,_h.Ha=function(){return this.freeze(),Object.freeze(this),this},_h.freeze=function(){return this.P=!0,null!==this.dh&&this.dh.freeze(),this},_h.Qa=function(){return Object.isFrozen(this)&&Kh.k("cannot thaw constant: "+this),this.P=!1,null!==this.dh&&this.dh.Qa(),this},_h.ic=function(t){t.Ee===wo?this.type=t:Kh.Fj(this,t)},_h.toString=function(){var t="Brush(";if(this.type===gd)t+=this.color;else if(t=this.type===vd?t+"Linear ":this.type===md?t+"Radial ":this.type===bd?t+"Pattern ":t+"(unknown) ",t+=this.start+" "+this.end,null!==this.uk)for(var e=this.uk.i;e.next();)t+=" "+e.key+":"+e.value;return t+")"},wo.prototype.addColorStop=wo.prototype.addColorStop=function(t,e){this.P&&Kh.ma(this),("number"!=typeof t||!isFinite(t)||1<t||0>t)&&Kh.Fa(t,"0 <= loc <= 1",wo,"addColorStop:loc"),Kh.j(e,"string",wo,"addColorStop:color"),null===this.dh&&(this.dh=new b("number","string")),this.dh.add(t,e),this.na===gd&&(this.type=vd),this.eh=null},Kh.defineProperty(wo,{type:"type"},function(){return this.na},function(t){this.P&&Kh.ma(this,t),Kh.mb(t,wo,wo,"type"),this.na=t,this.start.Sd()&&(t===vd?this.start=nu:t===md&&(this.start=su)),this.end.Sd()&&(t===vd?this.end=hu:t===md&&(this.end=su)),this.eh=null}),Kh.defineProperty(wo,{color:"color"},function(){return this.oo},function(t){this.P&&Kh.ma(this,t),this.oo=t,this.eh=null}),Kh.defineProperty(wo,{start:"start"},function(){return this.mp},function(t){this.P&&Kh.ma(this,t),Kh.G(t,N,wo,"start"),this.mp=t.S(),this.eh=null}),Kh.defineProperty(wo,{end:"end"},function(){return this.Co},function(t){this.P&&Kh.ma(this,t),Kh.G(t,N,wo,"end"),this.Co=t.S(),this.eh=null}),Kh.defineProperty(wo,{Pu:"startRadius"},function(){return this.Cw},function(t){this.P&&Kh.ma(this,t),Kh.wd(t,wo,"startRadius"),0>t&&Kh.Fa(t,">= zero",wo,"startRadius"),this.Cw=t,this.eh=null}),Kh.defineProperty(wo,{Kt:"endRadius"},function(){return this.zv},function(t){this.P&&Kh.ma(this,t),Kh.wd(t,wo,"endRadius"),0>t&&Kh.Fa(t,">= zero",wo,"endRadius"),this.zv=t,this.eh=null}),Kh.defineProperty(wo,{uk:"colorStops"},function(){return this.dh},function(t){this.P&&Kh.ma(this,t),this.dh=t,this.eh=null}),Kh.defineProperty(wo,{pattern:"pattern"},function(){return this.nw},function(t){this.P&&Kh.ma(this,t),this.nw=t,this.eh=null}),wo.randomColor=function(t,e){void 0===t&&(t=128),void 0===e&&(e=Math.max(t,255));var i=Math.abs(e-t),n=Math.floor(t+Math.random()*i).toString(16),o=Math.floor(t+Math.random()*i).toString(16),i=Math.floor(t+Math.random()*i).toString(16);return 2>n.length&&(n="0"+n),2>o.length&&(o="0"+o),2>i.length&&(i="0"+i),"#"+n+o+i};var Cd,kd=new U(null).xk;wo.isValidColor=Cd=function(t){if("black"===t)return!0;if(""===t)return!1;kd.fillStyle="#000000";var e=kd.fillStyle;return kd.fillStyle=t,kd.fillStyle!==e||(kd.fillStyle="#FFFFFF",e=kd.fillStyle,kd.fillStyle=t,kd.fillStyle!==e)};var Sd=new bo,Md=new bo,Td=new bo,Ed=new bo;wo.lighten=function(t){return Id(t)},wo.prototype.lightenBy=function(t,e){this.P&&Kh.ma(this);var i=void 0===t||"number"!=typeof t?.2:t,n=void 0===e?wd:e;if(this.type===gd)Co(this.color),this.color=xo(i,n);else if((this.type===vd||this.type===md)&&null!==this.uk)for(var o=this.uk.i;o.next();)Co(o.value),this.addColorStop(o.key,xo(i,n));return this};var Id;wo.lightenBy=Id=function(t,e,i){return e=void 0===e||"number"!=typeof e?.2:e,i=void 0===i?wd:i,Co(t),xo(e,i)},wo.darken=function(t){return Pd(t)},wo.prototype.darkenBy=function(t,e){this.P&&Kh.ma(this);var i=void 0===t||"number"!=typeof t?.2:t,n=void 0===e?wd:e;if(this.type===gd)Co(this.color),this.color=xo(-i,n);else if((this.type===vd||this.type===md)&&null!==this.uk)for(var o=this.uk.i;o.next();)Co(o.value),this.addColorStop(o.key,xo(-i,n));return this};var Pd;wo.darkenBy=Pd=function(t,e,i){return e=void 0===e||"number"!=typeof e?.2:e,i=void 0===i?wd:i,Co(t),xo(-e,i)};var Dd=216/24389,Od=24389/27,Ld=[95.047,100,108.883];Kh.ni(Eo),Kh.ga("GraphObject",Eo),Eo.prototype.cloneProtected=function(t){t.O=6144|this.O,t.yc=this.yc,t.Sb=this.Sb,t.Eb=this.Eb,t.bc=this.bc,t.jb.assign(this.jb),t.Te=this.Te.S(),t.Yh=this.Yh.S(),t.Xh=this.Xh.S(),t.Si=this.Si.copy(),t.ub=this.ub,t.mg=this.mg,t.Gg=this.Gg,t.Om=this.Om.S(),t.sd.assign(this.sd),t.oc.assign(this.oc),t.Uc.assign(this.Uc),t.Ds=this.Ds,null!==this.V&&(t.V=this.V.copy()),t.ie=this.ie.S(),t.qm=this.qm.S(),t.Qs=this.Qs,t.bj=this.bj,t.Tq=this.Tq,t.Bi=this.Bi,t.ft=this.ft,t.Us=this.Us,t.Zm=this.Zm,t.$m=this.$m.S(),t.an=this.an,t.br=this.br,null!==this.ja&&(t.ja=this.ja.copy()),t.vc=this.vc,t.mo=this.mo,null!==this.al&&(t.al=Kh.Ml(this.al)),null!==this.pg&&(t.pg=this.pg.copy()),t.en=this.en},Eo.prototype.addCopyProperty=Eo.prototype.dH=function(t){var e=this.al;if(Kh.isArray(e)){for(var i=0;i<e.length;i++)if(e[i]===t)return}else this.al=e=[];e.push(t)},Eo.prototype.oi=function(t){t.Es=null,t.Vm=null,t.H()},Eo.prototype.clone=function(){var t=new this.constructor;if(this.cloneProtected(t),null!==this.al)for(var e=0;e<this.al.length;e++){var i=this.al[e];t[i]=this[i]}return t},Eo.prototype.copy=function(){return this.clone()},Eo.prototype.ic=function(t){t.Ee===Ws?0===t.name.indexOf("Orient")?this.pq=t:Kh.k("Unknown Link enum value for GraphObject.segmentOrientation property: "+t):t.Ee===Eo?this.stretch=t:Kh.Fj(this,t)},Eo.prototype.toString=function(){return Kh.mf(Object.getPrototypeOf(this))+"#"+Kh.Od(this)};var Nd;Eo.None=Nd=Kh.p(Eo,"None",0);var jd;Eo.Default=jd=Kh.p(Eo,"Default",0);var Rd;Eo.Vertical=Rd=Kh.p(Eo,"Vertical",4);var Fd;Eo.Horizontal=Fd=Kh.p(Eo,"Horizontal",5);var Ad;Eo.Fill=Ad=Kh.p(Eo,"Fill",3);var Bd;Eo.Uniform=Bd=Kh.p(Eo,"Uniform",1);var Vd;Eo.UniformToFill=Vd=Kh.p(Eo,"UniformToFill",2);var Hd;Eo.FlipVertical=Hd=Kh.p(Eo,"FlipVertical",1);var zd;Eo.FlipHorizontal=zd=Kh.p(Eo,"FlipHorizontal",2);var qd;Eo.FlipBoth=qd=Kh.p(Eo,"FlipBoth",3),Eo.prototype.Pd=function(){if(null===this.V){var t=new Ia;t.Tj=tu,t.pk=tu,t.Rj=10,t.nk=10,t.Qj=Rp,t.mk=Rp,t.Sj=0,t.ok=0,this.V=t}},Eo.prototype.raiseChangedEvent=Eo.prototype.ad=function(t,e,i,n,o,r,s){var a=this.U;if(null!==a&&(a.Un(t,e,i,n,o,r,s),_o(this)&&i===this&&t===yc&&Do(this,a,e),i===a&&0!=(16777216&a.O)&&null!==a.data))for(t=this.xa.n,i=t.length,n=0;n<i;n++)(o=t[n])instanceof ir&&cr(o,function(t){null!==t.data&&0!=(16777216&t.O)&&t.Ib(e)})},Eo.prototype.mx=function(t){return this.mo===t?this:null},Eo.prototype.raiseChanged=Eo.prototype.h=function(t,e,i){this.ad(yc,t,this,e,i)},Eo.prototype.SE=function(t,e,i){if(!1===this.Wg)return!1;var n=this.Ja;e=t.zf(e);var o=!1;return i&&(o=Yh(t.x,t.y,0,0,0,n.height)<e||Yh(t.x,t.y,0,n.height,n.width,n.height)<e||Yh(t.x,t.y,n.width,n.height,n.width,0)<e||Yh(t.x,t.y,n.width,0,0,0)<e),i||(o=Yh(t.x,t.y,0,0,0,n.height)<e&&Yh(t.x,t.y,0,n.height,n.width,n.height)<e&&Yh(t.x,t.y,n.width,n.height,n.width,0)<e&&Yh(t.x,t.y,n.width,0,0,0)<e),o},Eo.prototype.ah=function(){return!0},Eo.prototype.containsPoint=Eo.prototype.Ia=function(t){var e=Kh.K();e.assign(t),this.transform.nb(e);var i=this.W;if(!i.I())return Kh.v(e),!1;var n=this.g;if(null!==n&&n.ll){var o=n.Yt("extraTouchThreshold"),r=n.Yt("extraTouchArea"),s=r/2,a=this.Ja,n=this.pj()*n.scale,l=1/n;if(a.width*n<o&&a.height*n<o)return t=Qh(i.x-s*l,i.y-s*l,i.width+r*l,i.height+r*l,e.x,e.y),Kh.v(e),t}return(this instanceof Ns||this instanceof Pr?Qh(i.x-5,i.y-5,i.width+10,i.height+10,e.x,e.y):i.Ia(e))?(o=!1,o=!(this.pg&&!this.pg.Ia(e))&&(!(null===this.bc||!i.Ia(e))||(!(null===this.Eb||!this.Uc.Ia(t))||this.vk(t))),Kh.v(e),o):(Kh.v(e),!1)},Eo.prototype.vk=function(t){var e=this.Ja;return Qh(0,0,e.width,e.height,t.x,t.y)},Eo.prototype.containsRect=Eo.prototype.wk=function(t){if(0===this.angle)return this.W.wk(t);var e=this.Ja,e=Kh.lg(0,0,e.width,e.height),i=this.transform,n=!1,o=Kh.xb(t.x,t.y);return e.Ia(i.pi(o))&&(o.m(t.x,t.bottom),e.Ia(i.pi(o))&&(o.m(t.right,t.bottom),e.Ia(i.pi(o))&&(o.m(t.right,t.y),e.Ia(i.pi(o))&&(n=!0)))),Kh.v(o),Kh.Db(e),n},Eo.prototype.containedInRect=Eo.prototype.qn=function(t,e){if(void 0===e)return t.wk(this.W);var i=this.Ja,n=!1,o=Kh.xb(0,0);return t.Ia(e.nb(o))&&(o.m(0,i.height),t.Ia(e.nb(o))&&(o.m(i.width,i.height),t.Ia(e.nb(o))&&(o.m(i.width,0),t.Ia(e.nb(o))&&(n=!0)))),Kh.v(o),n},Eo.prototype.intersectsRect=Eo.prototype.Zf=function(t,e){if(void 0===e&&(e=this.transform,0===this.angle))return t.Zf(this.W);var i=this.Ja,n=e,o=Kh.xb(0,0),r=Kh.xb(0,i.height),s=Kh.xb(i.width,i.height),a=Kh.xb(i.width,0),l=!1;if(t.Ia(n.nb(o))||t.Ia(n.nb(r))||t.Ia(n.nb(s))||t.Ia(n.nb(a)))l=!0;else{var i=Kh.lg(0,0,i.width,i.height),h=Kh.xb(t.x,t.y);i.Ia(n.pi(h))?l=!0:(h.m(t.x,t.bottom),i.Ia(n.pi(h))?l=!0:(h.m(t.right,t.bottom),i.Ia(n.pi(h))?l=!0:(h.m(t.right,t.y),i.Ia(n.pi(h))&&(l=!0)))),Kh.v(h),Kh.Db(i),!l&&(ut(t,o,r)||ut(t,r,s)||ut(t,s,a)||ut(t,a,o))&&(l=!0)}return Kh.v(o),Kh.v(r),Kh.v(s),Kh.v(a),l},Eo.prototype.getDocumentPoint=Eo.prototype.Wa=function(t,e){if(void 0===e&&(e=new w),t instanceof N){t.Sd()&&Kh.k("getDocumentPoint:s Spot must be specific: "+t.toString());var i=this.Ja;e.m(t.x*i.width+t.offsetX,t.y*i.height+t.offsetY)}else e.set(t);return this.rh.nb(e),e},Eo.prototype.getDocumentAngle=Eo.prototype.Vl=function(){var t;return t=this.rh,1===t.m11&&0===t.m12?t=0:0>(t=180*Math.atan2(t.m12,t.m11)/Math.PI)&&(t+=360),t},Eo.prototype.getDocumentScale=Eo.prototype.pj=function(){if(0!=(4096&this.O)==!1)return this.Ao;var t=this.ub;return null!==this.Q?t*this.Q.pj():t},Eo.prototype.getLocalPoint=Eo.prototype.YE=function(t,e){return void 0===e&&(e=new w),e.assign(t),this.rh.pi(e),e},Eo.prototype.getNearestIntersectionPoint=Eo.prototype.ZE=function(t,e,i){return this.An(t.x,t.y,e.x,e.y,i)},_h=Eo.prototype,_h.An=function(t,e,i,n,o){var r=this.transform,s=1/(r.m11*r.m22-r.m12*r.m21),a=r.m22*s,l=-r.m12*s,h=-r.m21*s,u=r.m11*s,c=s*(r.m21*r.dy-r.m22*r.dx),d=s*(r.m12*r.dx-r.m11*r.dy);return null!==this.ln?(r=this.W,lt(r.left,r.top,r.right,r.bottom,t,e,i,n,o)):(s=t*a+e*h+c,t=t*l+e*u+d,e=i*a+n*h+c,i=i*l+n*u+d,o.m(0,0),n=this.Ja,i=lt(0,0,n.width,n.height,s,t,e,i,o),o.transform(r),i)},_h.Mn=function(){},_h.tj=function(){return!1},_h.jc=function(t,e,i,n,o){this.Mi();var r=Kh.If();if(r.assign(this.oc),this.oc.Qa(),!1===Jo(this)){var s=this.oc;s.x=t,s.y=e,s.width=i,s.height=n}else this.jj(t,e,i,n);this.oc.freeze(),this.pg=void 0===o?null:o,i=!1,void 0!==o?i=!0:null!==this.Q&&(o=this.Q.Uc,n=this.za,null!==this.ln&&(n=this.oc),i=e+n.height,n=t+n.width,i=!(0<=t+.05&&n<=o.width+.05&&0<=e+.05&&i<=o.height+.05),this instanceof Br&&(t=this.Uc,this.Zv>t.height||this.vf.We>t.width))&&(i=!0),this.O=i?256|this.O:-257&this.O,this.oc.I()||Kh.k("Non-real actualBounds has been set. Object "+this+", actualBounds: "+this.oc.toString()),this.Px(r,this.oc),Xo(this,!1),Kh.Db(r)},_h.jj=function(){},_h.Px=function(t,e){var i=this.U;null!==i&&null!==i.g&&(i.Ju!==this&&i.aG!==this&&i.dB!==this||Ts(i,!0),this.oa(),T(t,e)||(i.Fk(),this.vs(i)))},_h.vs=function(t){null!==this.Ud&&(Ts(t,!0),t instanceof js&&As(t,this))},Kh.defineProperty(Eo,{tq:"shadowVisible"},function(){return this.en},function(t){var e=this.en;e!==t&&(this.en=t,this.oa(),this.h("shadowVisible",e,t))}),Eo.prototype.ue=function(t,e){if(this.visible){var i=this.oc;if(0!==i.width&&0!==i.height&&!isNaN(i.x)&&!isNaN(i.y)){var n=this.opacity,o=1;if(1!==n){if(0===n)return;o=t.globalAlpha,t.globalAlpha=o*n}if(t instanceof A){t:if(this.visible){var r=null,s=t.Ex;if(this instanceof ir&&(this.type===Qd||this.type===Zd))Ro(this,t,e);else{var a=this.oc;if(0!==a.width&&0!==a.height&&!isNaN(a.x)&&!isNaN(a.y)){var l=this.transform,h=this.Q;0!=(4096&this.O)==!0&&Ao(this);var i=0!=(256&this.O),u=!1;if(this instanceof Br&&(t.font=this.font),i){if(u=h.ah()?h.Ja:h.W,null!==this.pg)var c=this.pg,d=c.x,p=c.y,f=c.width,c=c.height;else d=Math.max(a.x,u.x),p=Math.max(a.y,u.y),f=Math.min(a.right,u.right)-d,c=Math.min(a.bottom,u.bottom)-p;if(d>a.width+a.x||a.x>u.width+u.x||p>a.height+a.y||a.y>u.height+u.y)break t;u=!0,_(t,1,0,0,1,0,0),t.save(),t.beginPath(),t.rect(d,p,f,c),t.clip()}if(this.tj()){var y=this;if(!y.isVisible())break t}t.wh.Ub=[1,0,0,1,0,0],this instanceof Br&&1<this.HA&&_(t,1,0,0,1,0,0),d=!1,this.tj()&&this.cm&&e.qj("drawShadows")&&(p=this.dn,t.rB(p.x*e.scale*e.Ed,p.y*e.scale*e.Ed,y.Fg),t.Yn(),t.shadowColor=y.cn),y=!1,this.U&&e.qj("drawShadows")&&(y=this.U.cm),!0===this.tq?(t.Yn(),!1===d&&y&&(_(t,1,0,0,1,0,0),t.bb(),d=!0)):!1===this.tq&&t.Xn(),null!==this.bc&&(Fo(this,t,this.bc,!0,!0),!1===d&&y&&(_(t,1,0,0,1,0,0),t.bb(),d=!0),this.bc instanceof wo&&this.bc.type===md?(t.beginPath(),t.rect(a.x,a.y,a.width,a.height),t.Mg(this.bc)):t.fillRect(a.x,a.y,a.width,a.height)),this instanceof ir?_(t,l.m11,l.m12,l.m21,l.m22,l.dx,l.dy):t.wh.Ub=[l.m11,l.m12,l.m21,l.m22,l.dx,l.dy],null!==this.Eb&&(!1===d&&y&&(_(t,1,0,0,1,0,0),t.bb(),d=!0),f=this.Ja,l=a=0,p=f.width,f=f.height,c=0,this instanceof Pr&&(f=this.Ua.gb,a=f.x,l=f.y,p=f.width,f=f.height,c=this.ji),Fo(this,t,this.Eb,!0,!1),this.Eb instanceof wo&&this.Eb.type===md?(t.beginPath(),t.rect(a-c/2,l-c/2,p+c,f+c),t.Mg(this.Eb)):t.fillRect(a-c/2,l-c/2,p+c,f+c)),y&&(null!==this.Eb||null!==this.bc||null!==h&&0!=(512&h.O)||null!==h&&(h.type===Jd||h.type===Yd)&&h.Ld()!==this)?(Go(this,!0),null===this.tq&&t.Xn()):Go(this,!1),this.yk(t,e),y&&0!=(512&this.O)==!0&&t.Yn(),this.tj()&&y&&t.Xn(),i&&(t.restore(),u&&t.nf.pop()),this instanceof ir&&(r=t.nf.pop()),!0===d&&t.nf.pop(),this instanceof Br&&1<this.HA&&(r=t.nf.pop()),null!==t.KE&&(null===r&&(s===t.Ex?(_(t,1,0,0,1,0,0),r=t.nf.pop()):r=t.Ex),t.KE(this,r))}}}}else{if(this instanceof ir&&(this.type===Qd||this.type===Zd))return Ro(this,t,e),void(1!==n&&(t.globalAlpha=o));if(this instanceof Ws&&this.ru(!1),r=this.transform,s=this.Q,0!=(4096&this.O)==!0&&Ao(this),h=0!=(256&this.O),t.Gp&&(h=!1),this instanceof Br&&(t.font=this.font),h){if(u=s.ah()?s.Ja:s.W,null!==this.pg?(d=this.pg,a=d.x,l=d.y,y=d.width,d=d.height):(a=Math.max(i.x,u.x),l=Math.max(i.y,u.y),y=Math.min(i.right,u.right)-a,d=Math.min(i.bottom,u.bottom)-l),a>i.width+i.x||i.x>u.width+u.x||l>i.height+i.y||i.y>u.height+u.y)return void(1!==n&&(t.globalAlpha=o));t.save(),t.beginPath(),t.rect(a,l,y,d),t.clip()}if(this.tj()){if(!this.isVisible())return void(1!==n&&(t.globalAlpha=o));this.cm&&e.qj("drawShadows")&&(u=this.dn,t.rB(u.x*e.scale*e.Ed,u.y*e.scale*e.Ed,this.Fg),t.Yn(),t.shadowColor=this.cn)}u=!1,this.U&&e.qj("drawShadows")&&(u=this.U.cm),!0===this.tq?t.Yn():!1===this.tq&&t.Xn(),null!==this.bc&&(Fo(this,t,this.bc,!0,!0),this.bc instanceof wo&&this.bc.type===md?(t.beginPath(),t.rect(i.x,i.y,i.width,i.height),t.Mg(this.bc)):t.fillRect(i.x,i.y,i.width,i.height)),r.iu()||t.transform(r.m11,r.m12,r.m21,r.m22,r.dx,r.dy),null!==this.Eb&&(y=this.Ja,a=i=0,l=y.width,y=y.height,d=0,this instanceof Pr&&(y=this.Ua.gb,i=y.x,a=y.y,l=y.width,y=y.height,d=this.ji),Fo(this,t,this.Eb,!0,!1),this.Eb instanceof wo&&this.Eb.type===md?(t.beginPath(),t.rect(i-d/2,a-d/2,l+d,y+d),t.Mg(this.Eb)):t.fillRect(i-d/2,a-d/2,l+d,y+d)),u&&(null!==this.Eb||null!==this.bc||null!==s&&0!=(512&s.O)||null!==s&&(s.type===Jd||s.type===Yd)&&s.Ld()!==this)?(Go(this,!0),null===this.tq&&t.Xn()):Go(this,!1),this.yk(t,e),u&&0!=(512&this.O)==!0&&t.Yn(),this.tj()&&u&&t.Xn(),h?(t.restore(),this instanceof ir?t.Fe(!0):t.Fe(!1)):r.iu()||(s=1/(r.m11*r.m22-r.m12*r.m21),t.transform(r.m22*s,-r.m12*s,-r.m21*s,r.m11*s,s*(r.m21*r.dy-r.m22*r.dx),s*(r.m12*r.dx-r.m11*r.dy)))}1!==n&&(t.globalAlpha=o)}}},Eo.prototype.yk=function(){},Eo.prototype.isContainedBy=Eo.prototype.am=function(t){if(t instanceof ir)t:{if(this!==t&&null!==t)for(var e=this.Q;null!==e;){if(e===t){t=!0;break t}e=e.Q}t=!1}else t=!1;return t},Eo.prototype.isVisibleObject=Eo.prototype.xj=function(){if(!this.visible)return!1;var t=this.Q;return null===t||t.xj()},Eo.prototype.isEnabledObject=Eo.prototype.fu=function(){for(var t=this instanceof ir?this:this.Q;null!==t&&t.isEnabled;)t=t.Q;return null===t},Kh.defineProperty(Eo,{LE:"enabledChanged"},function(){return null!==this.ja?this.ja.sr:null},function(t){Io(this);var e=this.ja.sr;e!==t&&(null!==t&&Kh.j(t,"function",Eo,"enabledChanged"),this.ja.sr=t,this.h("enabledChanged",e,t))}),_h=Eo.prototype,_h.H=function(t){if(void 0===t&&(t=!1),!0!==Wo(this)){Yo(this,!0),Xo(this,!0);var e=this.Q;null===e||t||e.H()}},_h.Yp=function(){!0!==Wo(this)&&(Yo(this,!0),Xo(this,!0))},_h.Mi=function(){0!=(2048&this.O)==!1&&(Ko(this,!0),$o(this,!0))},_h.AA=function(){$o(this,!0)},_h.oa=function(){var t=this.U;null!==t&&t.oa()},Kh.defineProperty(Eo,{pq:"segmentOrientation"},function(){return this.an},function(t){var e=this.an;e!==t&&(this.an=t,this.H(),this.h("segmentOrientation",e,t),t===Hp&&(this.angle=0))}),Kh.defineProperty(Eo,{Oe:"segmentIndex"},function(){return this.Us},function(t){t=Math.round(t);var e=this.Us;e!==t&&(this.Us=t,this.H(),this.h("segmentIndex",e,t))}),Kh.defineProperty(Eo,{gB:"segmentFraction"},function(){return this.Zm},function(t){isNaN(t)?t=0:0>t?t=0:1<t&&(t=1);var e=this.Zm;e!==t&&(this.Zm=t,this.H(),this.h("segmentFraction",e,t))}),Kh.defineProperty(Eo,{hB:"segmentOffset"},function(){return this.$m},function(t){var e=this.$m;e.L(t)||(this.$m=t=t.S(),this.H(),this.h("segmentOffset",e,t))}),Kh.defineProperty(Eo,{stretch:"stretch"},function(){return this.Gg},function(t){var e=this.Gg;e!==t&&(this.Gg=t,this.H(),this.h("stretch",e,t))}),Kh.defineProperty(Eo,{name:"name"},function(){return this.Sb},function(t){var e=this.Sb;e!==t&&(this.Sb=t,null!==this.U&&(this.U.Qm=null),this.h("name",e,t))}),Kh.defineProperty(Eo,{opacity:"opacity"},function(){return this.yc},function(t){var e=this.yc;e!==t&&(Kh.j(t,"number",Eo,"opacity"),(0>t||1<t)&&Kh.Fa(t,"0 <= value <= 1",Eo,"opacity"),this.yc=t,this.h("opacity",e,t),t=this.g,e=this.U,null!==t&&null!==e&&t.oa(gs(e,e.W)))}),Kh.defineProperty(Eo,{visible:"visible"},function(){return 0!=(1&this.O)},function(t){var e=0!=(1&this.O);e!==t&&(this.O^=1,this.h("visible",e,t),e=this.Q,null!==e?e.H():this.tj()&&this.yd(t),this.oa(),Zo(this))}),Kh.defineProperty(Eo,{Wg:"pickable"},function(){return 0!=(2&this.O)},function(t){var e=0!=(2&this.O);e!==t&&(this.O^=2,this.h("pickable",e,t))}),Kh.defineProperty(Eo,{WH:"fromLinkableDuplicates"},function(){return 0!=(4&this.O)},function(t){var e=0!=(4&this.O);e!==t&&(this.O^=4,this.h("fromLinkableDuplicates",e,t))}),Kh.defineProperty(Eo,{XH:"fromLinkableSelfNode"},function(){return 0!=(8&this.O)},function(t){var e=0!=(8&this.O);e!==t&&(this.O^=8,this.h("fromLinkableSelfNode",e,t))}),Kh.defineProperty(Eo,{PJ:"toLinkableDuplicates"},function(){return 0!=(16&this.O)},function(t){var e=0!=(16&this.O);e!==t&&(this.O^=16,this.h("toLinkableDuplicates",e,t))}),Kh.defineProperty(Eo,{QJ:"toLinkableSelfNode"},function(){return 0!=(32&this.O)},function(t){var e=0!=(32&this.O);e!==t&&(this.O^=32,this.h("toLinkableSelfNode",e,t))}),Kh.defineProperty(Eo,{qf:"isPanelMain"},function(){return 0!=(64&this.O)},function(t){var e=0!=(64&this.O);e!==t&&(this.O^=64,this.H(),this.h("isPanelMain",e,t))}),Kh.defineProperty(Eo,{wx:"isActionable"},function(){return 0!=(128&this.O)},function(t){var e=0!=(128&this.O);e!==t&&(this.O^=128,this.h("isActionable",e,t))}),Kh.defineProperty(Eo,{ln:"areaBackground"},function(){return this.bc},function(t){var e=this.bc;e!==t&&(t instanceof wo&&t.freeze(),this.bc=t,this.oa(),this.h("areaBackground",e,t))}),Kh.defineProperty(Eo,{background:"background"},function(){return this.Eb},function(t){var e=this.Eb;e!==t&&(t instanceof wo&&t.freeze(),this.Eb=t,this.oa(),this.h("background",e,t))}),Kh.u(Eo,{U:"part"},function(){if(this.tj())return this;if(null!==this.Vm)return this.Vm;var t;for(t=this.Q;t;){if(t instanceof us)return this.Vm=t;t=t.Q}return null}),Kh.u(Eo,{Q:"panel"},function(){return this.nh}),Eo.prototype.gm=function(t){this.nh=t},Kh.u(Eo,{layer:"layer"},function(){var t=this.U;return null!==t?t.layer:null},{configurable:!0}),Kh.u(Eo,{g:"diagram"},function(){var t=this.U;return null!==t?t.g:null},{configurable:!0}),Kh.defineProperty(Eo,{position:"position"},function(){return this.jb},function(t){var e=t.x,i=t.y,n=this.jb,o=n.x,r=n.y;(o===e||isNaN(o)&&isNaN(e))&&(r===i||isNaN(r)&&isNaN(i))?this.oB():(t=t.S(),this.nB(t,n)&&this.h("position",n,t))}),Eo.prototype.oB=function(){},Eo.prototype.nB=function(t){return this.jb=t,Vo(this),this.Mi(),!0},Eo.prototype.my=function(t,e){this.jb.m(t,e),this.Mi()},Kh.u(Eo,{W:"actualBounds"},function(){return this.oc}),Kh.defineProperty(Eo,{scale:"scale"},function(){return this.ub},function(t){var e=this.ub;e!==t&&(0>=t&&Kh.k("GraphObject.scale for "+this+" must be greater than zero, not: "+t),this.ub=t,this.Mi(),this.H(),this.h("scale",e,t))}),Kh.defineProperty(Eo,{angle:"angle"},function(){return this.mg},function(t){var e=this.mg;e!==t&&(t%=360,0>t&&(t+=360),e!==t&&(this.mg=t,Zo(this),this.H(),this.Mi(),this.h("angle",e,t)))}),Kh.defineProperty(Eo,{Ca:"desiredSize"},function(){return this.Te},function(t){var e=t.width,i=t.height,n=this.Te,o=n.width,r=n.height;(o===e||isNaN(o)&&isNaN(e))&&(r===i||isNaN(r)&&isNaN(i))||(this.Te=t=t.S(),this.H(),this instanceof Pr&&this.Me(),this.h("desiredSize",n,t),_o(this)&&null!==(t=this.U)&&(Do(this,t,"width"),Do(this,t,"height")))}),Kh.defineProperty(Eo,{width:"width"},function(){return this.Te.width},function(t){var e=this.Te.width;e===t||isNaN(e)&&isNaN(t)||(e=this.Te,this.Te=t=new k(t,this.Te.height).freeze(),this.H(),this instanceof Pr&&this.Me(),this.h("desiredSize",e,t),_o(this)&&null!==(t=this.U)&&Do(this,t,"width"))}),Kh.defineProperty(Eo,{height:"height"},function(){return this.Te.height},function(t){var e=this.Te.height;e===t||isNaN(e)&&isNaN(t)||(e=this.Te,this.Te=t=new k(this.Te.width,t).freeze(),this.H(),this instanceof Pr&&this.Me(),this.h("desiredSize",e,t),_o(this)&&null!==(t=this.U)&&Do(this,t,"height"))}),Kh.defineProperty(Eo,{si:"minSize"},function(){return this.Yh},function(t){var e=this.Yh;e.L(t)||(t=t.copy(),isNaN(t.width)&&(t.width=0),isNaN(t.height)&&(t.height=0),t.freeze(),this.Yh=t,this.H(),this.h("minSize",e,t))}),Kh.defineProperty(Eo,{Ff:"maxSize"},function(){return this.Xh},function(t){var e=this.Xh;e.L(t)||(t=t.copy(),isNaN(t.width)&&(t.width=1/0),isNaN(t.height)&&(t.height=1/0),t.freeze(),this.Xh=t,this.H(),this.h("maxSize",e,t))}),Kh.u(Eo,{za:"measuredBounds"},function(){return this.sd}),Kh.u(Eo,{Ja:"naturalBounds"},function(){return this.Uc},{configurable:!0}),Kh.defineProperty(Eo,{margin:"margin"},function(){return this.Om},function(t){"number"==typeof t&&(t=new O(t));var e=this.Om;e.L(t)||(this.Om=t=t.S(),this.H(),this.h("margin",e,t))}),Kh.u(Eo,{transform:null},function(){return 0!=(2048&this.O)==!0&&Ao(this),this.jd}),Kh.u(Eo,{rh:null},function(){return 0!=(4096&this.O)==!0&&Ao(this),this.rm}),Kh.defineProperty(Eo,{alignment:"alignment"},function(){return this.ie},function(t){var e=this.ie;e.L(t)||(t.Sd()&&!t.Xc()&&Kh.k("GraphObject.alignment for "+this+" must be a real Spot or Spot.Default, not: "+t),this.ie=t=t.S(),Vo(this),this.h("alignment",e,t))}),Kh.defineProperty(Eo,{column:"column"},function(){return this.Tq},function(t){t=Math.round(t);var e=this.Tq;e!==t&&(0>t&&Kh.Fa(t,">= 0",Eo,"column"),this.Tq=t,this.H(),this.h("column",e,t))}),Kh.defineProperty(Eo,{vH:"columnSpan"},function(){return this.Bi},function(t){t=Math.round(t);var e=this.Bi;e!==t&&(1>t&&Kh.Fa(t,">= 1",Eo,"columnSpan"),this.Bi=t,this.H(),this.h("columnSpan",e,t))}),Kh.defineProperty(Eo,{Vb:"row"},function(){return this.Qs},function(t){t=Math.round(t);var e=this.Qs;e!==t&&(0>t&&Kh.Fa(t,">= 0",Eo,"row"),this.Qs=t,this.H(),this.h("row",e,t))}),Kh.defineProperty(Eo,{rowSpan:"rowSpan"},function(){return this.bj},function(t){t=Math.round(t);var e=this.bj;e!==t&&(1>t&&Kh.Fa(t,">= 1",Eo,"rowSpan"),this.bj=t,this.H(),this.h("rowSpan",e,t))}),Kh.defineProperty(Eo,{ny:"spanAllocation"},function(){return this.ft},function(t){var e=this.ft;e!==t&&(null!==t&&Kh.j(t,"function",Eo,"spanAllocation"),this.ft=t,this.H(),this.h("spanAllocation",e,t))}),Kh.defineProperty(Eo,{qh:"alignmentFocus"},function(){return this.qm},function(t){var e=this.qm;e.L(t)||(!t.Sd()||t.Xc()||t.L(tu)&&this instanceof js||Kh.k("GraphObject.alignmentFocus must be a real Spot or Spot.Default, not: "+t),this.qm=t=t.S(),this.H(),this.h("alignmentFocus",e,t))}),Kh.defineProperty(Eo,{Ud:"portId"},function(){return this.Ds},function(t){var e=this.Ds;if(e!==t){var i=this.U;if(null===i||i instanceof js||(Kh.k("Cannot set portID on a Link: "+t),i=null),null!==e&&null!==i&&Gs(i,this),this.Ds=t,null!==t&&i){i.Ek=!0,null===i.ne&&qs(i);var n=this.Ud;null!==n&&i.ne.add(n,this)}this.h("portId",e,t)}}),Kh.defineProperty(Eo,{Bb:"toSpot"},function(){return null!==this.V?this.V.pk:tu},function(t){this.Pd();var e=this.V.pk;e.L(t)||(t=t.S(),this.V.pk=t,this.h("toSpot",e,t),Qo(this))}),Kh.defineProperty(Eo,{mm:"toEndSegmentLength"},function(){return null!==this.V?this.V.nk:10},function(t){this.Pd();var e=this.V.nk;e!==t&&(0>t&&Kh.Fa(t,">= 0",Eo,"toEndSegmentLength"),this.V.nk=t,this.h("toEndSegmentLength",e,t),Qo(this))}),Kh.defineProperty(Eo,{Qu:"toEndSegmentDirection"},function(){return null!==this.V?this.V.mk:Rp},function(t){this.Pd();var e=this.V.mk;e!==t&&(Kh.It("GraphObject.toEndSegmentDirection","2.0"),this.V.mk=t,this.h("toEndSegmentDirection",e,t),Qo(this))}),Kh.defineProperty(Eo,{Ru:"toShortLength"},function(){return null!==this.V?this.V.ok:0},function(t){this.Pd();var e=this.V.ok;e!==t&&(this.V.ok=t,this.h("toShortLength",e,t),Qo(this))}),Kh.defineProperty(Eo,{uG:"toLinkable"},function(){return null!==this.V?this.V.nt:null},function(t){this.Pd();var e=this.V.nt;e!==t&&(this.V.nt=t,this.h("toLinkable",e,t))}),Kh.defineProperty(Eo,{RJ:"toMaxLinks"},function(){return null!==this.V?this.V.ot:1/0},function(t){this.Pd();var e=this.V.ot;e!==t&&(0>t&&Kh.Fa(t,">= 0",Eo,"toMaxLinks"),this.V.ot=t,this.h("toMaxLinks",e,t))}),Kh.defineProperty(Eo,{Ab:"fromSpot"},function(){return null!==this.V?this.V.Tj:tu},function(t){this.Pd();var e=this.V.Tj;e.L(t)||(t=t.S(),this.V.Tj=t,this.h("fromSpot",e,t),Qo(this))}),Kh.defineProperty(Eo,{Ul:"fromEndSegmentLength"},function(){return null!==this.V?this.V.Rj:10},function(t){this.Pd();var e=this.V.Rj;e!==t&&(0>t&&Kh.Fa(t,">= 0",Eo,"fromEndSegmentLength"),this.V.Rj=t,this.h("fromEndSegmentLength",e,t),Qo(this))}),Kh.defineProperty(Eo,{Wt:"fromEndSegmentDirection"},function(){return null!==this.V?this.V.Qj:Rp},function(t){this.Pd();var e=this.V.Qj;e!==t&&(Kh.It("GraphObject.fromEndSegmentDirection","2.0"),this.V.Qj=t,this.h("fromEndSegmentDirection",e,t),Qo(this))}),Kh.defineProperty(Eo,{Xt:"fromShortLength"},function(){return null!==this.V?this.V.Sj:0},function(t){this.Pd();var e=this.V.Sj;e!==t&&(this.V.Sj=t,this.h("fromShortLength",e,t),Qo(this))}),Kh.defineProperty(Eo,{VE:"fromLinkable"},function(){return null!==this.V?this.V.vr:null},function(t){this.Pd();var e=this.V.vr;e!==t&&(this.V.vr=t,this.h("fromLinkable",e,t))}),Kh.defineProperty(Eo,{pA:"fromMaxLinks"},function(){return null!==this.V?this.V.wr:1/0},function(t){this.Pd();var e=this.V.wr;e!==t&&(0>t&&Kh.Fa(t,">= 0",Eo,"fromMaxLinks"),this.V.wr=t,this.h("fromMaxLinks",e,t))}),Kh.defineProperty(Eo,{cursor:"cursor"},function(){return this.br},function(t){var e=this.br;e!==t&&(Kh.j(t,"string",Eo,"cursor"),this.br=t,this.h("cursor",e,t))}),Kh.defineProperty(Eo,{click:"click"},function(){return null!==this.ja?this.ja.Ai:null},function(t){Io(this);var e=this.ja.Ai;e!==t&&(null!==t&&Kh.j(t,"function",Eo,"click"),this.ja.Ai=t,this.h("click",e,t))}),Kh.defineProperty(Eo,{Jt:"doubleClick"},function(){return null!==this.ja?this.ja.Ii:null},function(t){Io(this);var e=this.ja.Ii;e!==t&&(null!==t&&Kh.j(t,"function",Eo,"doubleClick"),this.ja.Ii=t,this.h("doubleClick",e,t))}),Kh.defineProperty(Eo,{aA:"contextClick"},function(){return null!==this.ja?this.ja.Ci:null},function(t){Io(this);var e=this.ja.Ci;e!==t&&(null!==t&&Kh.j(t,"function",Eo,"contextClick"),this.ja.Ci=t,this.h("contextClick",e,t))}),Kh.defineProperty(Eo,{tu:"mouseEnter"},function(){return null!==this.ja?this.ja.ns:null},function(t){Io(this);var e=this.ja.ns;e!==t&&(null!==t&&Kh.j(t,"function",Eo,"mouseEnter"),this.ja.ns=t,this.h("mouseEnter",e,t))}),Kh.defineProperty(Eo,{uu:"mouseLeave"},function(){return null!==this.ja?this.ja.os:null},function(t){Io(this);var e=this.ja.os;e!==t&&(null!==t&&Kh.j(t,"function",Eo,"mouseLeave"),this.ja.os=t,this.h("mouseLeave",e,t))}),Kh.defineProperty(Eo,{RA:"mouseOver"},function(){return null!==this.ja?this.ja.Xi:null},function(t){Io(this);var e=this.ja.Xi;e!==t&&(null!==t&&Kh.j(t,"function",Eo,"mouseOver"),this.ja.Xi=t,this.h("mouseOver",e,t))}),Kh.defineProperty(Eo,{QA:"mouseHover"},function(){return null!==this.ja?this.ja.Wi:null},function(t){Io(this);var e=this.ja.Wi;e!==t&&(null!==t&&Kh.j(t,"function",Eo,"mouseHover"),this.ja.Wi=t,this.h("mouseHover",e,t))}),Kh.defineProperty(Eo,{PA:"mouseHold"},function(){return null!==this.ja?this.ja.Vi:null},function(t){Io(this);var e=this.ja.Vi;e!==t&&(null!==t&&Kh.j(t,"function",Eo,"mouseHold"),this.ja.Vi=t,this.h("mouseHold",e,t))}),Kh.defineProperty(Eo,{$I:"mouseDragEnter"},function(){return null!==this.ja?this.ja.ls:null},function(t){Io(this);var e=this.ja.ls;e!==t&&(null!==t&&Kh.j(t,"function",Eo,"mouseDragEnter"),this.ja.ls=t,this.h("mouseDragEnter",e,t))}),Kh.defineProperty(Eo,{aJ:"mouseDragLeave"},function(){return null!==this.ja?this.ja.ms:null},function(t){Io(this);var e=this.ja.ms;e!==t&&(null!==t&&Kh.j(t,"function",Eo,"mouseDragLeave"),this.ja.ms=t,this.h("mouseDragLeave",e,t))}),Kh.defineProperty(Eo,{OA:"mouseDrop"},function(){return null!==this.ja?this.ja.Ui:null},function(t){Io(this);var e=this.ja.Ui;e!==t&&(null!==t&&Kh.j(t,"function",Eo,"mouseDrop"),this.ja.Ui=t,this.h("mouseDrop",e,t))}),Kh.defineProperty(Eo,{hE:"actionDown"},function(){return null!==this.ja?this.ja.Bq:null},function(t){Io(this);var e=this.ja.Bq;e!==t&&(null!==t&&Kh.j(t,"function",Eo,"actionDown"),this.ja.Bq=t,this.h("actionDown",e,t))}),Kh.defineProperty(Eo,{iE:"actionMove"},function(){return null!==this.ja?this.ja.Cq:null},function(t){Io(this);var e=this.ja.Cq;e!==t&&(null!==t&&Kh.j(t,"function",Eo,"actionMove"),this.ja.Cq=t,this.h("actionMove",e,t))}),Kh.defineProperty(Eo,{jE:"actionUp"},function(){return null!==this.ja?this.ja.Dq:null},function(t){Io(this);var e=this.ja.Dq;e!==t&&(null!==t&&Kh.j(t,"function",Eo,"actionUp"),this.ja.Dq=t,this.h("actionUp",e,t))}),Kh.defineProperty(Eo,{gE:"actionCancel"},function(){return null!==this.ja?this.ja.Aq:null},function(t){Io(this);var e=this.ja.Aq;e!==t&&(null!==t&&Kh.j(t,"function",Eo,"actionCancel"),this.ja.Aq=t,this.h("actionCancel",e,t))}),Kh.defineProperty(Eo,{xB:"toolTip"},function(){return null!==this.ja?this.ja.ej:null},function(t){Io(this);var e=this.ja.ej;e!==t&&(this.ja.ej=t,this.h("toolTip",e,t))}),Kh.defineProperty(Eo,{contextMenu:"contextMenu"},function(){return null!==this.ja?this.ja.Di:null},function(t){Io(this);var e=this.ja.Di;e!==t&&(this.ja.Di=t,this.h("contextMenu",e,t))}),Eo.prototype.bind=Eo.prototype.bind=function(t){t.Hg=this;var e=this.Tl();null!==e&&wr(e)&&Kh.k("Cannot add a Binding to a template that has already been copied: "+t),null===this.vc&&(this.vc=new c(ne)),this.vc.add(t)},Eo.prototype.findTemplateBinder=Eo.prototype.Tl=function(){for(var t=this instanceof ir?this:this.Q;null!==t;){if(null!==t.Zk)return t;t=t.Q}return null},Eo.prototype.setProperties=function(t){Kh.Ku(this,t)};var Gd;Eo.make=Gd=function(t,e){var i=arguments,n=null,o=null;if("function"==typeof t)o=t;else if("string"==typeof t){var r=_d.ka(t);"function"==typeof r?(i=Kh.Ml(arguments),n=r(i),Kh.Pa(n)||Kh.k('GraphObject.make invoked object builder "'+t+'", but it did not return an Object')):o=Uh[t]}if(null===n&&(void 0!==o&&null!==o&&o.constructor||Kh.k("GraphObject.make requires a class function or GoJS class name or name of an object builder, not: "+t),n=new o),r=1,n instanceof Vi&&1<i.length){var s=n,o=i[1];("string"==typeof o||o instanceof HTMLDivElement)&&(co(s,o),r++)}for(;r<i.length;r++)o=i[r],void 0===o?Kh.k("Undefined value at argument "+r+" for object being constructed by GraphObject.make: "+n):tr(n,o);return n};var _d=new b("string","function");Eo.getBuilders=function(){var t,e=new b("string","function");for(t in _d)if(t!==t.toLowerCase()){var i=_d.ka(t);"function"==typeof i&&e.add(t,i)}return e.freeze(),e};var Ud;Eo.defineBuilder=Ud=function(t,e){Kh.j(t,"string",Eo,"defineBuilder:name"),Kh.j(e,"function",Eo,"defineBuilder:func");var i=t.toLowerCase();""!==t&&"none"!==i&&t!==i||Kh.k("Shape.defineFigureGenerator name must not be empty or None or all-lower-case: "+t),_d.add(t,e)};var Kd;Eo.takeBuilderArgument=Kd=function(t,e,i){void 0===i&&(i=null);var n=t[1];if("function"==typeof i?i(n):"string"==typeof n)return t.splice(1,1),n;if(void 0===e)throw Error("no "+("function"==typeof i?"satisfactory":"string")+" argument for GraphObject builder "+t[0]);return e},Ud("Button",function(){var t=new wo(vd);t.addColorStop(0,"white"),t.addColorStop(1,"lightgray");var e=new wo(vd);return e.addColorStop(0,"white"),e.addColorStop(1,"dodgerblue"),t=Gd(ir,Jd,{wx:!0,LE:function(t,e){var i=t.xd("ButtonBorder");null!==i&&(i.fill=e?t._buttonFillNormal:t._buttonFillDisabled)},_buttonFillNormal:t,_buttonStrokeNormal:"gray",_buttonFillOver:e,_buttonStrokeOver:"blue",_buttonFillDisabled:"darkgray"},Gd(Pr,{name:"ButtonBorder",Cb:"Rectangle",A:new N(0,0,2.761423749153968,2.761423749153968),B:new N(1,1,-2.761423749153968,-2.761423749153968),fill:t,stroke:"gray"})),t.tu=function(t,e){if(e.fu()){var i=e.xd("ButtonBorder");if(i instanceof Pr){var n=e._buttonFillOver;e._buttonFillNormal=i.fill,i.fill=n,n=e._buttonStrokeOver,e._buttonStrokeNormal=i.stroke,i.stroke=n}}},t.uu=function(t,e){if(e.fu()){var i=e.xd("ButtonBorder");i instanceof Pr&&(i.fill=e._buttonFillNormal,i.stroke=e._buttonStrokeNormal)}},t}),Ud("TreeExpanderButton",function(){var t=Gd("Button",{_treeExpandedFigure:"MinusLine",_treeCollapsedFigure:"PlusLine"},Gd(Pr,{name:"ButtonIcon",Cb:"MinusLine",Ca:_u},new ne("figure","isTreeExpanded",function(t,e){var i=e.Q;return t?i._treeExpandedFigure:i._treeCollapsedFigure}).Ox()),{visible:!1},new ne("visible","isTreeLeaf",function(t){return!t}).Ox());return t.click=function(t,e){var i=e.U;if(i instanceof Ns&&(i=i.xf),i instanceof js){var n=i.g;if(null!==n){if(n=n.ob,i.tc){if(!n.canCollapseTree(i))return}else if(!n.canExpandTree(i))return;t.Dc=!0,i.tc?n.collapseTree(i):n.expandTree(i)}}},t}),Ud("SubGraphExpanderButton",function(){var t=Gd("Button",{_subGraphExpandedFigure:"MinusLine",_subGraphCollapsedFigure:"PlusLine"},Gd(Pr,{name:"ButtonIcon",Cb:"MinusLine",Ca:_u},new ne("figure","isSubGraphExpanded",function(t,e){var i=e.Q;return t?i._subGraphExpandedFigure:i._subGraphCollapsedFigure}).Ox()));return t.click=function(t,e){var i=e.U;if(i instanceof Ns&&(i=i.xf),i instanceof Pa){var n=i.g;if(null!==n){if(n=n.ob,i.Zc){if(!n.canCollapseSubGraph(i))return}else if(!n.canExpandSubGraph(i))return;t.Dc=!0,i.Zc?n.collapseSubGraph(i):n.expandSubGraph(i)}}},t}),Ud("ContextMenuButton",function(){var t=Gd("Button");t.stretch=Fd;var e=t.xd("ButtonBorder");return e instanceof Pr&&(e.Cb="Rectangle",e.A=new N(0,0,2,3),e.B=new N(1,1,-2,-2)),t}),Ud("PanelExpanderButton",function(t){var e=Kd(t,"COLLAPSIBLE"),i=Gd("Button",{_buttonExpandedFigure:"TriangleUp",_buttonCollapsedFigure:"TriangleDown"},Gd(Pr,"TriangleUp",{name:"ButtonIcon",Ca:new k(6,4)},new ne("figure","visible",function(t){return t?i._buttonExpandedFigure:i._buttonCollapsedFigure}).Ox(e)));return t=i.xd("ButtonBorder"),t instanceof Pr&&(t.stroke=null,t.fill="transparent"),i.click=function(t,i){var n=i.g;if(null!==n&&!n.hb){var o=i.Tl();null===o&&(o=i.U),null!==o&&null!==(o=o.xd(e))&&(n.Hb("Collapse/Expand Panel"),o.visible=!o.visible,n.Wc("Collapse/Expand Panel"))}},i}),Ud("CheckBoxButton",function(t){var e=Kd(t);return t=Gd("Button",{"ButtonBorder.fill":"white","ButtonBorder.stroke":"gray",width:14,height:14},Gd(Pr,{name:"ButtonIcon",YH:"M0 4 L3 9 9 0",lb:2,stretch:Ad,qA:Bd,visible:!1},""!==e?new ne("visible",e).OI():[])),t.click=function(t,i){var n=t.g;if(!(null===n||n.hb||""!==e&&n.$.hb)){t.Dc=!0;var o=i.xd("ButtonIcon");n.Hb("checkbox"),o.visible=!o.visible,"function"==typeof i._doClick&&i._doClick(t,i),n.Wc("checkbox")}},t}),Ud("CheckBox",function(t){t=Kd(t),t=Gd("CheckBoxButton",t,{name:"Button",margin:new O(0,1,0,0)});var e=Gd(ir,"Horizontal",t,{wx:!0,margin:1,_buttonFillNormal:t._buttonFillNormal,_buttonStrokeNormal:t._buttonStrokeNormal,_buttonFillOver:t._buttonFillOver,_buttonStrokeOver:t._buttonStrokeOver,_buttonFillDisabled:t._buttonFillDisabled,tu:t.tu,uu:t.uu,click:t.click,_buttonClick:t.click});return t.tu=null,t.uu=null,t.click=null,e}),er.prototype.copy=function(){var t=new er;return t.Ai=this.Ai,t.Ii=this.Ii,t.Ci=this.Ci,t.ns=this.ns,t.os=this.os,t.Xi=this.Xi,t.Wi=this.Wi,t.Vi=this.Vi,t.ls=this.ls,t.ms=this.ms,t.Ui=this.Ui,t.Bq=this.Bq,t.Cq=this.Cq,t.Dq=this.Dq,t.Aq=this.Aq,t.ej=this.ej,t.Di=this.Di,t.sr=this.sr,t},Kh.Ka(ir,Eo),Kh.ni(ir),Kh.ga("Panel",ir),ir.prototype.cloneProtected=function(t){if(Eo.prototype.cloneProtected.call(this,t),t.na=this.na,t.jf=this.jf.S(),t.fr=this.fr.S(),t.Gi=this.Gi,t.na===Xd){t.Mj=this.Mj.S(),t.Ph=this.Ph,t.Fi=this.Fi,t.zm=this.zm,t.Oh=this.Oh,t.Nh=this.Nh,t.ym=this.ym;var e=[];if(0<this.ae.length)for(var i=this.ae,n=i.length,o=0;o<n;o++)if(void 0!==i[o]){var r=i[o].copy();r.gm(t),e[o]=r}if(t.ae=e,e=[],0<this.Xd.length)for(i=this.Xd,n=i.length,o=0;o<n;o++)void 0!==i[o]&&(r=i[o].copy(),r.gm(t),e[o]=r);t.Xd=e,t.Ym=this.Ym,t.xm=this.xm,t.fj=this.fj,t.Qi=this.Qi}t.yp=this.yp,t.Er=this.Er.S(),t.Fr=this.Fr.S(),t.Br=this.Br,t.Ar=this.Ar,t.Dr=this.Dr,t.Cr=this.Cr,t.Dm=this.Dm,t.Uj=this.Uj,t.Zd=this.Zd,t.Zk=this.Zk,t.Tr=this.Tr,t.$j=this.$j,t.yg=this.yg,t.Qo=this.Qo,t.gj.assign(this.gj),t.Ij=this.Ij,null!==this.Rs&&(t.Rs=this.Rs)},ir.prototype.oi=function(t){Eo.prototype.oi.call(this,t),t.xa=this.xa;for(var e=t.xa.n,i=e.length,n=0;n<i;n++)e[n].nh=t;t.zl=null},ir.prototype.copy=function(){var t=Eo.prototype.copy.call(this);if(null!==t){for(var e=this.xa.n,i=e.length,n=0;n<i;n++){var o=e[n].copy(),r=t;o.gm(r),o.Vm=null;var s=r.xa,a=s.count;if(s.Qd(a,o),null!==(s=r.U)){s.Qm=null,null!==o.Ud&&s instanceof js&&(s.Ek=!0);var l=r.g;null!==l&&l.ia.ab||s.ad(gc,"elements",r,null,o,null,a)}}return t}return null},ir.prototype.ic=function(t){t.Ee===ir?this.type=t:Eo.prototype.ic.call(this,t)},ir.prototype.toString=function(){return"Panel("+this.type+")#"+Kh.Od(this)};var $d;ir.Position=$d=Kh.p(ir,"Position",0),ir.Horizontal=Kh.p(ir,"Horizontal",1);var Wd;ir.Vertical=Wd=Kh.p(ir,"Vertical",2);var Yd;ir.Spot=Yd=Kh.p(ir,"Spot",3);var Jd;ir.Auto=Jd=Kh.p(ir,"Auto",4);var Xd;ir.Table=Xd=Kh.p(ir,"Table",5),ir.Viewbox=Kh.p(ir,"Viewbox",6);var Qd;ir.TableRow=Qd=Kh.p(ir,"TableRow",7);var Zd;ir.TableColumn=Zd=Kh.p(ir,"TableColumn",8);var tp;ir.Link=tp=Kh.p(ir,"Link",9);var ep;ir.Grid=ep=Kh.p(ir,"Grid",10);var ip;ir.Graduated=ip=Kh.p(ir,"Graduated",11),Kh.defineProperty(ir,{type:"type"},function(){return this.na},function(t){var e=this.na;e!==t&&(e!==Qd&&e!==Zd||Kh.k("Cannot change Panel.type when it is already a TableRow or a TableColumn: "+t),this.na=t,this.na===ep?this.Fn=!0:this.na===Xd&&nr(this),this.H(),this.h("type",e,t))}),Kh.u(ir,{elements:"elements"},function(){return this.xa.i}),Kh.u(ir,{Ja:"naturalBounds"},function(){return this.Uc}),Kh.defineProperty(ir,{padding:"padding"},function(){return this.jf},function(t){"number"==typeof t?(0>t&&Kh.Fa(t,">= 0",ir,"padding"),t=new O(t)):(Kh.G(t,O,ir,"padding"),0>t.left&&Kh.Fa(t.left,">= 0",ir,"padding:value.left"),0>t.right&&Kh.Fa(t.right,">= 0",ir,"padding:value.right"),0>t.top&&Kh.Fa(t.top,">= 0",ir,"padding:value.top"),0>t.bottom&&Kh.Fa(t.bottom,">= 0",ir,"padding:value.bottom"));var e=this.jf;e.L(t)||(this.jf=t=t.S(),this.H(),this.h("padding",e,t))}),Kh.defineProperty(ir,{Ql:"defaultAlignment"},function(){return this.fr},function(t){var e=this.fr;e.L(t)||(this.fr=t=t.S(),this.H(),this.h("defaultAlignment",e,t))}),Kh.defineProperty(ir,{be:"defaultStretch"},function(){return this.Gi},function(t){var e=this.Gi;e!==t&&(Kh.mb(t,Eo,ir,"defaultStretch"),this.Gi=t,this.H(),this.h("defaultStretch",e,t))}),Kh.defineProperty(ir,{RK:"defaultSeparatorPadding"},function(){return void 0===this.Mj?Au:this.Mj},function(t){if(void 0!==this.Mj){"number"==typeof t&&(t=new O(t));var e=this.Mj;e.L(t)||(this.Mj=t=t.S(),this.H(),this.h("defaultSeparatorPadding",e,t))}}),Kh.defineProperty(ir,{PK:"defaultRowSeparatorStroke"},function(){return void 0===this.Fi?null:this.Fi},function(t){var e=this.Fi;e!==t&&(null===t||"string"==typeof t||t instanceof wo)&&(t instanceof wo&&t.freeze(),this.Fi=t,this.oa(),this.h("defaultRowSeparatorStroke",e,t))}),Kh.defineProperty(ir,{QK:"defaultRowSeparatorStrokeWidth"},function(){return void 0===this.Ph?1:this.Ph},function(t){if(void 0!==this.Ph){var e=this.Ph;e!==t&&isFinite(t)&&0<=t&&(this.Ph=t,this.H(),this.h("defaultRowSeparatorStrokeWidth",e,t))}}),Kh.defineProperty(ir,{OK:"defaultRowSeparatorDashArray"},function(){return void 0===this.zm?null:this.zm},function(t){if(void 0!==this.zm){var e=this.zm;if(e!==t){if(null===t||Array.isArray(t)||Kh.Bd(t,"Array",ir,"defaultRowSeparatorDashArray:value"),null!==t){for(var i=t.length,n=0,o=0;o<i;o++){var r=t[o];"number"==typeof r&&0<=r&&isFinite(r)||Kh.k("defaultRowSeparatorDashArray value "+r+" at index "+o+" must be a positive number or zero."),n+=r}if(0===n){if(null===e)return;t=null}}this.zm=t,this.oa(),this.h("defaultRowSeparatorDashArray",e,t)}}}),Kh.defineProperty(ir,{JK:"defaultColumnSeparatorStroke"},function(){return void 0===this.Nh?null:this.Nh},function(t){if(void 0!==this.Nh){var e=this.Nh;e!==t&&(null===t||"string"==typeof t||t instanceof wo)&&(t instanceof wo&&t.freeze(),this.Nh=t,this.oa(),this.h("defaultColumnSeparatorStroke",e,t))}}),Kh.defineProperty(ir,{KK:"defaultColumnSeparatorStrokeWidth"},function(){return void 0===this.Oh?1:this.Oh},function(t){if(void 0!==this.Oh){var e=this.Oh;e!==t&&isFinite(t)&&0<=t&&(this.Oh=t,this.H(),this.h("defaultColumnSeparatorStrokeWidth",e,t))}}),Kh.defineProperty(ir,{IK:"defaultColumnSeparatorDashArray"},function(){return void 0===this.ym?null:this.ym},function(t){if(void 0!==this.ym){var e=this.ym;if(e!==t){if(null===t||Array.isArray(t)||Kh.Bd(t,"Array",ir,"defaultColumnSeparatorDashArray:value"),null!==t){for(var i=t.length,n=0,o=0;o<i;o++){var r=t[o];"number"==typeof r&&0<=r&&isFinite(r)||Kh.k("defaultColumnSeparatorDashArray value "+r+" at index "+o+" must be a positive number or zero."),n+=r}if(0===n){if(null===e)return;t=null}}this.ym=t,this.oa(),this.h("defaultColumnSeparatorDashArray",e,t)}}}),Kh.defineProperty(ir,{ZL:"viewboxStretch"},function(){return this.yp},function(t){var e=this.yp;e!==t&&(Kh.mb(t,Eo,ir,"viewboxStretch"),this.yp=t,this.H(),this.h("viewboxStretch",e,t))}),Kh.defineProperty(ir,{ux:"gridCellSize"},function(){return this.Er},function(t){var e=this.Er;if(!e.L(t)){Kh.G(t,k,ir,"gridCellSize"),t.I()&&0!==t.width&&0!==t.height||Kh.k("Invalid Panel.gridCellSize: "+t),this.Er=t.S();var i=this.g;null!==i&&this===i.Cn&&Mn(i),this.oa(),this.h("gridCellSize",e,t)}}),Kh.defineProperty(ir,{eF:"gridOrigin"},function(){return this.Fr},function(t){var e=this.Fr;if(!e.L(t)){Kh.G(t,w,ir,"gridOrigin"),t.I()||Kh.k("Invalid Panel.gridOrigin: "+t),this.Fr=t.S();var i=this.g;null!==i&&this===i.Cn&&Mn(i),this.oa(),this.h("gridOrigin",e,t)}}),Kh.defineProperty(ir,{Dk:"graduatedMin"},function(){return this.Br},function(t){Kh.wd(t,ir,"graduatedMin");var e=this.Br;e!==t&&(this.Br=t,this.H(),this.h("graduatedMin",e,t),_o(this)&&null!==(t=this.U)&&Do(this,t,"graduatedRange"))}),Kh.defineProperty(ir,{tA:"graduatedMax"},function(){return this.Ar},function(t){Kh.wd(t,ir,"graduatedMax");var e=this.Ar;e!==t&&(this.Ar=t,this.H(),this.h("graduatedMax",e,t),_o(this)&&null!==(t=this.U)&&Do(this,t,"graduatedRange"))}),Kh.u(ir,{Zt:"graduatedRange"},function(){return this.tA-this.Dk}),Kh.defineProperty(ir,{uA:"graduatedTickUnit"},function(){return this.Dr},function(t){Kh.wd(t,ir,"graduatedTickUnit");var e=this.Dr;e!==t&&0<t&&(this.Dr=t,this.H(),this.h("graduatedTickUnit",e,t))}),Kh.defineProperty(ir,{dF:"graduatedTickBase"},function(){return this.Cr},function(t){Kh.wd(t,ir,"graduatedTickBase");var e=this.Cr;e!==t&&(this.Cr=t,this.H(),this.h("graduatedTickBase",e,t))}),_h=ir.prototype,_h.vs=function(t){Eo.prototype.vs.call(this,t);for(var e=this.xa.n,i=e.length,n=0;n<i;n++)e[n].vs(t)},_h.yk=function(t,e){if(this.na===ep){var i=this.pj()*e.scale;0>=i&&(i=1);var n=this.ux,o=n.width,n=n.height,r=this.Ja,s=r.width,r=r.height,a=Math.ceil(s/o),l=Math.ceil(r/n),h=this.eF;t.save(),t.beginPath(),t.rect(0,0,s,r),t.clip();for(var u=[],c=this.xa.n,d=c.length,p=0;p<d;p++){var f=c[p],y=[];if(u.push(y),f.visible)for(var f=lr(f.Cb),g=p+1;g<d;g++){var v=c[g];v.visible&&lr(v.Cb)===f&&2<=(v=v.interval)&&y.push(v)}}for(c=this.xa.n,d=c.length,p=0;p<d;p++){var m=c[p];if(m.visible&&(y=m.interval,!(2>o*y*i))){if(f=m.opacity,g=1,1!==f){if(0===f)continue;g=t.globalAlpha,t.globalAlpha=g*f}var v=u[p],b=!1,w=!0,x=m.rG;if(null!==x&&(b=!0,w=t.kA(x,m.wf)),"LineV"===m.Cb&&null!==m.stroke){t.lineWidth=m.lb,Fo(this,t,m.stroke,!1,!1),t.beginPath();for(var C=Math.floor(-h.x/o),k=C;k<=C+a;k++){var S=k*o+h.x;0<=S&&S<=s&&ar(k,y,v)&&(b&&!w?Po(t,S,0,S,r,x,m.wf):(t.moveTo(S,0),t.lineTo(S,r)))}t.stroke()}else if("LineH"===m.Cb&&null!==m.stroke){for(t.lineWidth=m.lb,Fo(this,t,m.stroke,!1,!1),t.beginPath(),k=C=Math.floor(-h.y/n);k<=C+l;k++)0<=(S=k*n+h.y)&&S<=r&&ar(k,y,v)&&(b&&!w?Po(t,0,S,s,S,x,m.wf):(t.moveTo(0,S),t.lineTo(s,S)));t.stroke()}else if("BarV"===m.Cb&&null!==m.fill)for(Fo(this,t,m.fill,!0,!1),m=m.width,isNaN(m)&&(m=o),k=C=Math.floor(-h.x/o);k<=C+a;k++)0<=(S=k*o+h.x)&&S<=s&&ar(k,y,v)&&t.fillRect(S,0,m,r);else if("BarH"===m.Cb&&null!==m.fill)for(Fo(this,t,m.fill,!0,!1),m=m.height,isNaN(m)&&(m=n),k=C=Math.floor(-h.y/n);k<=C+l;k++)0<=(S=k*n+h.y)&&S<=r&&ar(k,y,v)&&t.fillRect(0,S,s,m);b&&t.hA(),1!==f&&(t.globalAlpha=g)}}t.restore(),t.Fe(!1)}else if(this.na===ip){for(o=this.Ja,i=o.width,o=o.height,t.save(),t.beginPath(),t.rect(-1,-1,i+1,o+1),t.clip(),i=this.Ld(),i.ue(t,e),o=this.pj()*e.scale,0>=o&&(o=1),n=i.W,s=this.xa.n,r=this.Dm,a=s.length,l=0;l<a;l++)if(d=s[l],h=r[l],u=h.length,d.visible&&d!==i&&0!==h.length)if(d instanceof Pr){if(!(2>this.uA*d.interval*i.lf.St/this.Zt*o))for(p=d.za,y=d.lb*d.scale,f=d.qh,f.Sd()&&(f=nu),c=0;c<u;c++)g=d,v=h[c][0],b=n,C=h[c][1],k=p,m=y,w=f,x=g.jd,x.reset(),x.translate(v.x+b.x,v.y+b.y),x.rotate(C+g.angle,0,0),x.translate(-k.width*w.x+w.offsetX+m/2,-k.height*w.y+w.offsetY+m/2),x.scale(g.scale,g.scale),Ko(g,!1),g.rm.set(g.jd),g.Ao=g.scale,$o(g,!1),d.ue(t,e),d.jd.reset()}else if(d instanceof Br)for(null===this.lk&&(this.lk=new Br),p=this.lk,or(d,p),c=0;c<u;c++)v=h[c],3<v.length&&(f=v[6],p.Jd=v[2],p.mg=v[3],p.le=v[4],p.vf=v[5],p.Uc=v[8],p.jc(f.x,f.y,f.width,f.height),d=p,y=n,g=v[7],v=v[8],b=d.jd,b.reset(),b.translate(f.x+y.x,f.y+y.y),b.translate(-g.x,-g.y),Bo(d,b,v.x,v.y,v.width,v.height),Ko(d,!1),d.rm.set(d.jd),d.Ao=d.scale,$o(d,!1),p.ue(t,e));t.restore(),t.Fe(!0)}else{for(this.na===Xd&&(t.lineCap="butt",sr(this,t,!0,this.ae,!0),sr(this,t,!1,this.Xd,!0),rr(this,t,!0,this.ae),rr(this,t,!1,this.Xd),sr(this,t,!0,this.ae,!1),sr(this,t,!1,this.Xd,!1)),(i=this.du)&&t.save(),o=this.Ld(),n=this.xa.n,s=n.length,r=0;r<s;r++)a=n[r],i&&a===o&&(t.Gp=!0),a.ue(t,e),i&&a===o&&(t.Gp=!1);i&&(t.restore(),t.Fe(!0))}},_h.An=function(t,e,i,n,o){var r=this.ah(),s=this.transform,a=1/(s.m11*s.m22-s.m12*s.m21),l=s.m22*a,h=-s.m12*a,u=-s.m21*a,c=s.m11*a,d=a*(s.m21*s.dy-s.m22*s.dx),p=a*(s.m12*s.dx-s.m11*s.dy);if(null!==this.ln)return s=this.W,lt(s.left,s.top,s.right,s.bottom,t,e,i,n,o);if(null!==this.background)r=t*l+e*u+d,a=t*h+e*c+p,t=i*l+n*u+d,l=i*h+n*c+p,o.m(0,0),i=this.Ja,i=lt(0,0,i.width,i.height,r,a,t,l,o),o.transform(s);else{r||(l=1,u=h=0,c=1,p=d=0),a=t*l+e*u+d,t=t*h+e*c+p,l=i*l+n*u+d,n=i*h+n*c+p,o.m(l,n),h=(l-a)*(l-a)+(n-t)*(n-t),i=!1,c=this.xa.n,p=c.length,u=Kh.K(),d=null,e=1/0;var f=null;this.du&&(f=Kh.K(),d=this.Ld(),(i=d.An(a,t,l,n,f))&&(e=(a-f.x)*(a-f.x)+(t-f.y)*(t-f.y)));for(var y=0;y<p;y++){var g=c[y];g.visible&&g!==d&&g.An(a,t,l,n,u)&&(i=!0,(g=(a-u.x)*(a-u.x)+(t-u.y)*(t-u.y))<h&&(h=g,o.set(u)))}this.du&&(e>h&&o.set(f),Kh.v(f)),Kh.v(u),r&&o.transform(s)}return i},_h.H=function(t){Eo.prototype.H.call(this,t),this.na!==Jd&&this.na!==tp||null!==(t=this.Ld())&&t.H(!0),t=this.xa.n;for(var e=t.length,i=0;i<e;i++){var n=t[i];if(!n.Ca.I()){var o=Ho(n,!1);(n instanceof ja||n instanceof ir||n instanceof Br||o!==Nd)&&n.H(!0)}}},_h.Yp=function(){if(!1===Wo(this)){Yo(this,!0),Xo(this,!0);for(var t=this.xa.n,e=t.length,i=0;i<e;i++)t[i].Yp()}},_h.Mi=function(){if(0!=(2048&this.O)==!1){Ko(this,!0),$o(this,!0);for(var t=this.xa.n,e=t.length,i=0;i<e;i++)t[i].AA()}},_h.AA=function(){$o(this,!0);for(var t=this.xa.n,e=t.length,i=0;i<e;i++)t[i].AA()},_h.Mn=function(t,e,i,n){var o=this.gj;o.width=0,o.height=0;var r=this.Ca,s=this.si;void 0===i&&(i=s.width,n=s.height),i=Math.max(i,s.width),n=Math.max(n,s.height);var a=this.Ff;isNaN(r.width)||(t=Math.min(r.width,a.width)),isNaN(r.height)||(e=Math.min(r.height,a.height)),t=Math.max(i,t),e=Math.max(n,e);var l=this.padding;t=Math.max(t-l.left-l.right,0),e=Math.max(e-l.top-l.bottom,0);var h=this.xa.n;if(0!==h.length){var u=this.na.Sb;switch(u){case"Position":var d=t,p=e,f=i,y=n,g=h.length;o.x=0,o.y=0,o.width=0,o.height=0;for(var v=hr(this),m=0;m<g;m++){var b=h[m];if(b.visible||b===v){var x=b.margin,C=x.right+x.left,k=x.top+x.bottom;No(b,d,p,f,y);var T=b.za,E=Math.max(T.width+C,0),I=Math.max(T.height+k,0),P=b.position.x,O=b.position.y;if(isFinite(P)||(P=0),isFinite(O)||(O=0),b instanceof Pr){var L=b;if(L.pF)var N=L.lb/2,P=P-N,O=O-N}D(o,P,O,E,I)}}break;case"Vertical":for(var j=t,R=i,F=h.length,A=Kh.cb(),B=hr(this),V=0;V<F;V++){var H=h[V];if(H.visible||H===B){var z=Ho(H,!1);if(z!==Nd&&z!==Rd)A.push(H);else{var q=H.margin,G=q.right+q.left,_=q.top+q.bottom;No(H,j,1/0,R,0);var U=H.za,K=Math.max(U.width+G,0),$=Math.max(U.height+_,0);o.width=Math.max(o.width,K),o.height+=$}}}var W=A.length;if(0!==W){for(this.Ca.width?j=Math.min(this.Ca.width,this.Ff.width):0!==o.width&&(j=Math.min(o.width,this.Ff.width)),V=0;V<W;V++)H=A[V],(H.visible||H===B)&&(q=H.margin,G=q.right+q.left,_=q.top+q.bottom,No(H,j,1/0,R,0),U=H.za,K=Math.max(U.width+G,0),$=Math.max(U.height+_,0),o.width=Math.max(o.width,K),o.height+=$);Kh.ta(A)}break;case"Horizontal":for(var J=e,X=n,Q=h.length,Z=Kh.cb(),tt=hr(this),et=0;et<Q;et++){var it=h[et];if(it.visible||it===tt){var nt=Ho(it,!1);if(nt!==Nd&&nt!==Fd)Z.push(it);else{var ot=it.margin,rt=ot.right+ot.left,st=ot.top+ot.bottom;No(it,1/0,J,0,X);var at=it.za,lt=Math.max(at.width+rt,0),ht=Math.max(at.height+st,0);o.width+=lt,o.height=Math.max(o.height,ht)}}}var ut=Z.length;if(0!==ut){for(this.Ca.height?J=Math.min(this.Ca.height,this.Ff.height):0!==o.height&&(J=Math.min(o.height,this.Ff.height)),et=0;et<ut;et++)it=Z[et],(it.visible||it===tt)&&(ot=it.margin,rt=ot.right+ot.left,st=ot.top+ot.bottom,No(it,1/0,J,0,X),at=it.za,lt=Math.max(at.width+rt,0),ht=Math.max(at.height+st,0),o.width+=lt,o.height=Math.max(o.height,ht));Kh.ta(Z)}break;case"Spot":t:{var ct=t,dt=e,pt=i,ft=n,yt=h.length,gt=this.Ld(),vt=gt.margin,mt=0,bt=0,wt=vt.right+vt.left,xt=vt.top+vt.bottom;No(gt,ct,dt,pt,ft);for(var Ct=gt.za,kt=Ct.width,St=Ct.height,Mt=Math.max(kt+wt,0),Tt=Math.max(St+xt,0),Et=this.du,It=Kh.lg(-vt.left,-vt.top,Mt,Tt),Pt=!0,Dt=hr(this),Ot=0;Ot<yt;Ot++){var Lt=h[Ot];if(Lt!==gt&&(Lt.visible||Lt===Dt)){vt=Lt.margin,mt=vt.right+vt.left,bt=vt.top+vt.bottom,No(Lt,ct,dt,0,0);var Ct=Lt.za,Mt=Math.max(Ct.width+mt,0),Tt=Math.max(Ct.height+bt,0),Nt=Lt.alignment;Nt.Xc()&&(Nt=this.Ql),Nt.Yc()||(Nt=su);var jt=Lt.qh;jt.Xc()&&(jt=su);var Rt=null;Lt instanceof ir&&""!==Lt.Ij&&(Lt.jc(0,0,Ct.width,Ct.height),(Rt=Lt.xd(Lt.Ij))===Lt&&(Rt=null));var Ft,At;if(null!==Rt){for(var Bt=Rt.Ja,Vt=Rt.margin,Ht=Kh.xb(jt.x*Bt.width+jt.offsetX-Vt.left,jt.y*Bt.height+jt.offsetY-Vt.top);Rt!==Lt;)Rt.transform.nb(Ht),Rt=Rt.Q;Ft=Nt.x*kt+Nt.offsetX-Ht.x,At=Nt.y*St+Nt.offsetY-Ht.y,Kh.v(Ht)}else Ft=Nt.x*kt+Nt.offsetX-(jt.x*Ct.width-jt.offsetX)-vt.left,At=Nt.y*St+Nt.offsetY-(jt.y*Ct.height-jt.offsetY)-vt.top;Pt?(Pt=!1,o.x=Ft,o.y=At,o.width=Mt,o.height=Tt):D(o,Ft,At,Mt,Tt)}}Pt?o.assign(It):Et?o.jF(It.x,It.y,It.width,It.height):D(o,It.x,It.y,It.width,It.height),Kh.Db(It);var zt=gt.stretch;switch(zt===jd&&(zt=Ho(gt,!1)),zt){case Nd:break t;case Ad:if(!isFinite(ct)&&!isFinite(dt))break t;break;case Fd:if(!isFinite(ct))break t;break;case Rd:if(!isFinite(dt))break t}for(Ct=gt.za,kt=Ct.width,St=Ct.height,Mt=Math.max(kt+wt,0),Tt=Math.max(St+xt,0),vt=gt.margin,It=Kh.lg(-vt.left,-vt.top,Mt,Tt),Ot=0;Ot<yt;Ot++)(Lt=h[Ot])===gt||!Lt.visible&&Lt!==Dt||(vt=Lt.margin,mt=vt.right+vt.left,bt=vt.top+vt.bottom,Ct=Lt.za,Mt=Math.max(Ct.width+mt,0),Tt=Math.max(Ct.height+bt,0),Nt=Lt.alignment,Nt.Xc()&&(Nt=this.Ql),Nt.Yc()||(Nt=su),jt=Lt.qh,jt.Xc()&&(jt=su),Pt?(Pt=!1,o.x=Nt.x*kt+Nt.offsetX-(jt.x*Ct.width-jt.offsetX)-vt.left,o.y=Nt.y*St+Nt.offsetY-(jt.y*Ct.height-jt.offsetY)-vt.top,o.width=Mt,o.height=Tt):D(o,Nt.x*kt+Nt.offsetX-(jt.x*Ct.width-jt.offsetX)-vt.left,Nt.y*St+Nt.offsetY-(jt.y*Ct.height-jt.offsetY)-vt.top,Mt,Tt));Pt?o.assign(It):Et?o.jF(It.x,It.y,It.width,It.height):D(o,It.x,It.y,It.width,It.height),Kh.Db(It)}break;case"Auto":var qt=t,Gt=e,_t=i,Ut=n,Kt=h.length,$t=this.Ld(),Wt=$t.margin,Yt=qt,Jt=Gt,Xt=Wt.right+Wt.left,Qt=Wt.top+Wt.bottom;No($t,qt,Gt,_t,Ut);var Zt=$t.za,te=0,ee=null;$t instanceof Pr&&(ee=$t,te=ee.lb*ee.scale);var ie=Math.max(Zt.width+Xt,0),ne=Math.max(Zt.height+Qt,0),oe=vr($t),re=oe.x*ie+oe.offsetX,se=oe.y*ne+oe.offsetY,ae=mr($t),le=ae.x*ie+ae.offsetX,he=ae.y*ne+ae.offsetY;isFinite(qt)&&(Yt=Math.max(Math.abs(re-le)-te,0)),isFinite(Gt)&&(Jt=Math.max(Math.abs(se-he)-te,0));var ue=Kh.lm();ue.m(0,0);for(var ce=hr(this),de=0;de<Kt;de++){var pe=h[de];if(pe!==$t&&(pe.visible||pe===ce)){var Wt=pe.margin,fe=Wt.right+Wt.left,ye=Wt.top+Wt.bottom;No(pe,Yt,Jt,0,0),Zt=pe.za,ie=Math.max(Zt.width+fe,0),ne=Math.max(Zt.height+ye,0),ue.m(Math.max(ie,ue.width),Math.max(ne,ue.height))}}if(1===Kt)o.width=ie,o.height=ne,Kh.Bk(ue);else{var oe=vr($t),ae=mr($t),ge=0,ve=0;ae.x!==oe.x&&ae.y!==oe.y&&(ge=ue.width/Math.abs(ae.x-oe.x),ve=ue.height/Math.abs(ae.y-oe.y)),Kh.Bk(ue),te=0,null!==ee&&(te=ee.lb*ee.scale,Nr(ee)===Bd&&(ge=ve=Math.max(ge,ve)));var ge=ge+(Math.abs(oe.offsetX)+Math.abs(ae.offsetX)+te),ve=ve+(Math.abs(oe.offsetY)+Math.abs(ae.offsetY)+te),me=$t.stretch;switch(me===jd&&(me=Ho($t,!1)),me){case Nd:Ut=_t=0;break;case Ad:isFinite(qt)&&(ge=qt),isFinite(Gt)&&(ve=Gt);break;case Fd:isFinite(qt)&&(ge=qt),Ut=0;break;case Rd:_t=0,isFinite(Gt)&&(ve=Gt)}$t.Yp(),No($t,ge,ve,_t,Ut),o.width=$t.za.width+Xt,o.height=$t.za.height+Qt}break;case"Table":for(var be=t,we=e,xe=i,Ce=n,ke=h.length,Se=Kh.cb(),Me=Kh.cb(),Te=0;Te<ke;Te++){var Ee=h[Te],Ie=Ee instanceof ir?Ee:null;if(null===Ie||Ie.type!==Qd&&Ie.type!==Zd||!Ee.visible)Se.push(Ee);else{Me.push(Ie);for(var Pe=Ie.xa.n,De=Pe.length,Oe=0;Oe<De;Oe++){var Le=Pe[Oe];Ie.type===Qd?Le.Vb=Ee.Vb:Ie.type===Zd&&(Le.column=Ee.column),Se.push(Le)}}}ke=Se.length,0===ke&&(this.Nd(0),this.Md(0));for(var Ne=[],Te=0;Te<ke;Te++)Ee=Se[Te],Yo(Ee,!0),Xo(Ee,!0),Ne[Ee.Vb]||(Ne[Ee.Vb]=[]),Ne[Ee.Vb][Ee.column]||(Ne[Ee.Vb][Ee.column]=[]),Ne[Ee.Vb][Ee.column].push(Ee);Kh.ta(Se);for(var je=Kh.cb(),Re=Kh.cb(),Fe=Kh.cb(),Ae={count:0},Be={count:0},Ve=be,He=we,ze=this.ae,ke=ze.length,Te=0;Te<ke;Te++){var qe=ze[Te];void 0!==qe&&(qe.Ya=0)}for(ze=this.Xd,ke=ze.length,Te=0;Te<ke;Te++)void 0!==(qe=ze[Te])&&(qe.Ya=0);for(var Ge=Ne.length,_e=0,Te=0;Te<Ge;Te++)Ne[Te]&&(_e=Math.max(_e,Ne[Te].length));for(var Ue=Math.min(this.fj,Ge-1),Ke=Math.min(this.Qi,_e-1),$e=0,Ge=Ne.length,We=hr(this),Te=0;Te<Ge;Te++)if(Ne[Te])for(var _e=Ne[Te].length,Ye=this.Nd(Te),Oe=Ye.Ya=0;Oe<_e;Oe++)if(Ne[Te][Oe]){var Je=this.Md(Oe);void 0===je[Oe]&&(Je.Ya=0,je[Oe]=!0);for(var Xe=Ne[Te][Oe],Qe=Xe.length,Ze=0;Ze<Qe;Ze++)if(Ee=Xe[Ze],Ee.visible||Ee===We){var ti=1<Ee.bj||1<Ee.Bi;ti&&(Te<Ue||Oe<Ke||Re.push(Ee));var ei=Ee.margin,ii=ei.right+ei.left,ni=ei.top+ei.bottom,oi=zo(Ee,Ye,Je,!1),ri=Ee.Ca,si=!isNaN(ri.height),ai=!isNaN(ri.width)&&si;if(ti||oi===Nd||ai||Te<Ue||Oe<Ke||(void 0!==Ae[Oe]||oi!==Ad&&oi!==Fd||(Ae[Oe]=-1,Ae.count++),void 0!==Be[Te]||oi!==Ad&&oi!==Rd||(Be[Te]=-1,Be.count++),Fe.push(Ee)),No(Ee,1/0,1/0,0,0),!(Te<Ue||Oe<Ke)){var li=Ee.za,hi=Math.max(li.width+ii,0),ui=Math.max(li.height+ni,0);if(1===Ee.bj&&(oi===Nd||oi===Fd)){var qe=this.Nd(Te),ci=qe.$e(),$e=Math.max(ui-qe.Ya,0);$e+ci>He&&($e=Math.max(He-ci,0));var di=0===qe.Ya;qe.Ya+=$e,He=Math.max(He-($e+(di?ci:0)),0)}1!==Ee.Bi||oi!==Nd&&oi!==Rd||(qe=this.Md(Oe),ci=qe.$e(),$e=Math.max(hi-qe.Ya,0),$e+ci>Ve&&($e=Math.max(Ve-ci,0)),di=0===qe.Ya,qe.Ya+=$e,Ve=Math.max(Ve-($e+(di?ci:0)),0)),ti&&Ee.Yp()}}}Kh.ta(je);for(var pi=0,fi=0,ke=this.Hp,Te=0;Te<ke;Te++){var yi=this.Xd[Te];void 0!==yi&&(pi+=yi.Ra,0!==yi.Ra&&(pi+=yi.$e()))}for(ke=this.oq,Te=0;Te<ke;Te++){var gi=this.ae[Te];void 0!==gi&&(fi+=gi.Ra,0!==gi.Ra&&(fi+=gi.$e()))}for(var Ve=Math.max(be-pi,0),vi=He=Math.max(we-fi,0),mi=Ve,ke=Fe.length,Te=0;Te<ke;Te++){var Ee=Fe[Te],Ye=this.Nd(Ee.Vb),Je=this.Md(Ee.column),bi=Ee.za,ei=Ee.margin,ii=ei.right+ei.left,ni=ei.top+ei.bottom;Ae[Ee.column]=0===Je.Ya&&void 0!==Ae[Ee.column]?Math.max(bi.width+ii,Ae[Ee.column]):null,Be[Ee.Vb]=0===Ye.Ya&&void 0!==Be[Ee.Vb]?Math.max(bi.height+ni,Be[Ee.Vb]):null}var wi,xi=0,Ci=0;for(wi in Be)"count"!==wi&&(xi+=Be[wi]);for(wi in Ae)"count"!==wi&&(Ci+=Ae[wi]);for(var ki=Kh.lm(),Te=0;Te<ke;Te++)if(Ee=Fe[Te],Ee.visible||Ee===We){var Ye=this.Nd(Ee.Vb),Je=this.Md(Ee.column),Si=0;isFinite(Je.width)?Si=Je.width:(Si=isFinite(Ve)&&null!==Ae[Ee.column]?0===Ci?Je.Ya+Ve:Ae[Ee.column]/Ci*mi:null!==Ae[Ee.column]?Ve:Je.Ya||Ve,Si=Math.max(0,Si-Je.$e()));var Mi=0;switch(isFinite(Ye.height)?Mi=Ye.height:(Mi=isFinite(He)&&null!==Be[Ee.Vb]?0===xi?Ye.Ya+He:Be[Ee.Vb]/xi*vi:null!==Be[Ee.Vb]?He:Ye.Ya||He,Mi=Math.max(0,Mi-Ye.$e())),ki.m(Math.max(Je.Bh,Math.min(Si,Je.he)),Math.max(Ye.Bh,Math.min(Mi,Ye.he))),oi=zo(Ee,Ye,Je,!1)){case Fd:ki.height=Math.max(ki.height,Ye.Ya+He);break;case Rd:ki.width=Math.max(ki.width,Je.Ya+Ve)}ei=Ee.margin,ii=ei.right+ei.left,ni=ei.top+ei.bottom,Ee.Yp(),No(Ee,ki.width,ki.height,Je.Bh,Ye.Bh),li=Ee.za,hi=Math.max(li.width+ii,0),ui=Math.max(li.height+ni,0),isFinite(Ve)&&(hi=Math.min(hi,ki.width)),isFinite(He)&&(ui=Math.min(ui,ki.height));var Ti=0,Ti=Ye.Ya;Ye.Ya=Math.max(Ye.Ya,ui),$e=Ye.Ya-Ti,He=Math.max(He-$e,0),Ti=Je.Ya,Je.Ya=Math.max(Je.Ya,hi),$e=Je.Ya-Ti,Ve=Math.max(Ve-$e,0)}Kh.ta(Fe);var Ei=Kh.lm(),ke=Re.length;if(0!==ke)for(var Ii=Kh.cb(),Pi=Kh.cb(),Te=0;Te<Ge;Te++)if(Ne[Te])for(_e=Ne[Te].length,Ye=this.Nd(Te),Ii[Te]=Ye.Ya,Oe=0;Oe<_e;Oe++)Ne[Te][Oe]&&(Je=this.Md(Oe),Pi[Oe]=Je.Ya);for(Te=0;Te<ke;Te++)if(Ee=Re[Te],Ee.visible||Ee===We){switch(Ye=this.Nd(Ee.Vb),Je=this.Md(Ee.column),ki.m(Math.max(Je.Bh,Math.min(be,Je.he)),Math.max(Ye.Bh,Math.min(we,Ye.he))),oi=zo(Ee,Ye,Je,!1)){case Ad:0!==Pi[Je.index]&&(ki.width=Math.min(ki.width,Pi[Je.index])),0!==Ii[Ye.index]&&(ki.height=Math.min(ki.height,Ii[Ye.index]));break;case Fd:0!==Pi[Je.index]&&(ki.width=Math.min(ki.width,Pi[Je.index]));break;case Rd:0!==Ii[Ye.index]&&(ki.height=Math.min(ki.height,Ii[Ye.index]))}isFinite(Je.width)&&(ki.width=Je.width),isFinite(Ye.height)&&(ki.height=Ye.height),Ei.m(0,0);for(var Di=1;Di<Ee.bj&&!(Ee.Vb+Di>=this.oq);Di++)qe=this.Nd(Ee.Vb+Di),$e=oi===Ad||oi===Rd?Math.max(qe.Bh,0===Ii[Ee.Vb+Di]?qe.he:Math.min(Ii[Ee.Vb+Di],qe.he)):Math.max(qe.Bh,isNaN(qe.kf)?qe.he:Math.min(qe.kf,qe.he)),Ei.height+=$e;for(Di=1;Di<Ee.Bi&&!(Ee.column+Di>=this.Hp);Di++)qe=this.Md(Ee.column+Di),$e=oi===Ad||oi===Fd?Math.max(qe.Bh,0===Pi[Ee.column+Di]?qe.he:Math.min(Pi[Ee.column+Di],qe.he)):Math.max(qe.Bh,isNaN(qe.kf)?qe.he:Math.min(qe.kf,qe.he)),Ei.width+=$e;ki.width+=Ei.width,ki.height+=Ei.height,ei=Ee.margin,ii=ei.right+ei.left,ni=ei.top+ei.bottom,No(Ee,ki.width,ki.height,xe,Ce);for(var li=Ee.za,hi=Math.max(li.width+ii,0),ui=Math.max(li.height+ni,0),Oi=0,Di=0;Di<Ee.bj&&!(Ee.Vb+Di>=this.oq);Di++)qe=this.Nd(Ee.Vb+Di),Oi+=qe.total||0;if(Oi<ui){var Li=ui-Oi,Ni=ui-Oi;if(null!==Ee.ny)for(var ji=Ee.ny,Di=0;Di<Ee.bj&&!(0>=Li)&&!(Ee.Vb+Di>=this.oq);Di++){var qe=this.Nd(Ee.Vb+Di),Ri=qe.Ra||0,Fi=ji(Ee,qe,Ni);qe.Ya=Math.min(qe.he,Ri+Fi),qe.Ra!==Ri&&(Li-=qe.Ra-Ri)}for(;0<Li&&(Ri=qe.Ra||0,isNaN(qe.height)&&qe.he>Ri&&(qe.Ya=Math.min(qe.he,Ri+Li),qe.Ra!==Ri&&(Li-=qe.Ra-Ri)),0!==qe.index);)qe=this.Nd(qe.index-1)}for(var Ai=0,Di=0;Di<Ee.Bi&&!(Ee.column+Di>=this.Hp);Di++)qe=this.Md(Ee.column+Di),Ai+=qe.total||0;if(Ai<hi){if(Li=hi-Ai,Ni=hi-Ai,null!==Ee.ny)for(ji=Ee.ny,Di=0;Di<Ee.Bi&&!(0>=Li)&&!(Ee.column+Di>=this.Hp);Di++)qe=this.Md(Ee.column+Di),Ri=qe.Ra||0,Fi=ji(Ee,qe,Ni),qe.Ya=Math.min(qe.he,Ri+Fi),qe.Ra!==Ri&&(Li-=qe.Ra-Ri);for(;0<Li&&(Ri=qe.Ra||0,isNaN(qe.width)&&qe.he>Ri&&(qe.Ya=Math.min(qe.he,Ri+Li),qe.Ra!==Ri&&(Li-=qe.Ra-Ri)),0!==qe.index);)qe=this.Md(qe.index-1)}}Kh.ta(Re),Kh.Bk(Ei),Kh.Bk(ki),void 0!==Ii&&Kh.ta(Ii),void 0!==Pi&&Kh.ta(Pi);for(var Bi=0,Vi=0,oi=Ho(this,!0),Hi=this.Ca,zi=this.Ff,qi=fi=pi=0,Gi=0,ke=this.Hp,Te=0;Te<ke;Te++)void 0!==this.Xd[Te]&&(qe=this.Md(Te),isFinite(qe.width)?(qi+=qe.width,qi+=qe.$e()):Ir(qe)===sp?(qi+=qe.Ra,qi+=qe.$e()):0!==qe.Ra&&(pi+=qe.Ra,pi+=qe.$e()));var Bi=isFinite(Hi.width)?Math.min(Hi.width,zi.width):oi!==Nd&&isFinite(be)?be:pi,Bi=Math.max(Bi,this.si.width),Bi=Math.max(Bi-qi,0),_i=Math.max(Bi/pi,1);for(isFinite(_i)||(_i=1),Te=0;Te<ke;Te++)void 0!==this.Xd[Te]&&(qe=this.Md(Te),isFinite(qe.width)||Ir(qe)===sp||(qe.Ya=qe.Ra*_i),qe.position=o.width,0!==qe.Ra&&(o.width+=qe.Ra,o.width+=qe.$e()));for(ke=this.oq,Te=0;Te<ke;Te++)void 0!==this.ae[Te]&&(qe=this.Nd(Te),isFinite(qe.height)?(Gi+=qe.height,Gi+=qe.$e()):Ir(qe)===sp?(Gi+=qe.Ra,Gi+=qe.$e()):0!==qe.Ra&&(fi+=qe.Ra,0!==qe.Ra&&(fi+=qe.$e())));var Vi=isFinite(Hi.height)?Math.min(Hi.height,zi.height):oi!==Nd&&isFinite(we)?we:fi,Vi=Math.max(Vi,this.si.height),Vi=Math.max(Vi-Gi,0),Ui=Math.max(Vi/fi,1);for(isFinite(Ui)||(Ui=1),Te=0;Te<ke;Te++)void 0!==this.ae[Te]&&(qe=this.Nd(Te),isFinite(qe.height)||Ir(qe)===sp||(qe.Ya=qe.Ra*Ui),qe.position=o.height,0!==qe.Ra&&(o.height+=qe.Ra,0!==qe.Ra&&(o.height+=qe.$e())));for(ke=Me.length,Te=0;Te<ke;Te++){var Ki=Me[Te];Ki.type===Qd?(Si=o.width,qe=this.Nd(Ki.Vb),Mi=qe.Ya):(qe=this.Md(Ki.column),Si=qe.Ya,Mi=o.height),Ki.sd.m(0,0,Si,Mi),Yo(Ki,!1),Ne[Ki.Vb]||(Ne[Ki.Vb]=[]),Ne[Ki.Vb][Ki.column]||(Ne[Ki.Vb][Ki.column]=[]),Ne[Ki.Vb][Ki.column].push(Ki)}Kh.ta(Me),this.Rs=Ne;break;case"Viewbox":var $i=t,Wi=e,Yi=i,Ji=n;1<h.length&&Kh.k("Viewbox Panel cannot contain more than one GraphObject.");var Xi=h[0];Xi.ub=1,Xi.Yp(),No(Xi,1/0,1/0,Yi,Ji);var Qi=Xi.za,Zi=Xi.margin,tn=Zi.right+Zi.left,en=Zi.top+Zi.bottom;if(isFinite($i)||isFinite(Wi)){var nn=Xi.scale,on=Qi.width,rn=Qi.height,sn=Math.max($i-tn,0),an=Math.max(Wi-en,0),ln=1;this.yp===Bd?0!==on&&0!==rn&&(ln=Math.min(sn/on,an/rn)):0!==on&&0!==rn&&(ln=Math.max(sn/on,an/rn)),0===ln&&(ln=1e-4),Xi.ub*=ln,nn!==Xi.scale&&(Yo(Xi,!0),No(Xi,1/0,1/0,Yi,Ji))}Qi=Xi.za,o.width=isFinite($i)?$i:Math.max(Qi.width+tn,0),o.height=isFinite(Wi)?Wi:Math.max(Qi.height+en,0);break;case"Link":var hn=h.length;if(this instanceof Ns||this instanceof Ws){var un=null;if(this instanceof Ws&&(un=this),this instanceof Ns&&(un=this.xf),un instanceof Ws){var cn=un;if(0===hn){var dn=this.Ja;M(dn,0,0);var pn=this.za;pn.m(0,0,0,0)}else{var fn=this instanceof Ns?null:un.path,yn=un.Vn,gn=this.gj;gn.assign(yn),gn.x=0,gn.y=0;var vn=cn.points,mn=un.qa;this.ru(!1);var bn=yn.width,wn=yn.height;this.Ti.m(yn.x,yn.y),null===this.bh&&(this.bh=new c(S)),this.bh.clear(),null!==fn&&(Lr(fn,bn,wn,this),pn=fn.za,gn.Jh(pn),this.bh.add(pn));for(var xn=Kh.Jf(),Cn=Kh.K(),kn=Kh.K(),Sn=0;Sn<hn;Sn++){var Mn=h[Sn];if(Mn!==fn)if(Mn.qf&&Mn instanceof Pr)Lr(Mn,bn,wn,this),pn=Mn.za,gn.Jh(pn),this.bh.add(pn);else if(2>mn)No(Mn,1/0,1/0),pn=Mn.za,gn.Jh(pn),this.bh.add(pn);else{var Tn=Mn.Oe,En=Mn.gB,In=Mn.qh;In.Sd()&&(In=su);var Pn=Mn.pq,Dn=Mn.hB,On=0,Ln=0,Nn=0;if(Tn<-mn||Tn>=mn){var jn=cn.GF,Rn=cn.FF;Pn!==Hp&&(Nn=cn.computeAngle(Mn,Pn,Rn),Mn.mg=Nn),On=jn.x-yn.x,Ln=jn.y-yn.y}else{var Fn,An;if(0<=Tn)Fn=vn.da(Tn),An=Tn<mn-1?vn.da(Tn+1):Fn;else{var Bn=mn+Tn;Fn=vn.da(Bn),An=0<Bn?vn.da(Bn-1):Fn}if(Fn.Lc(An)){var Vn,Hn;0<=Tn?(Vn=0<Tn?vn.da(Tn-1):Fn,Hn=Tn<mn-2?vn.da(Tn+2):An):(Vn=Bn<mn-1?vn.da(Bn+1):Fn,Hn=1<Bn?vn.da(Bn-2):An);var zn=Vn.zf(Fn),qn=An.zf(Hn),Rn=zn>qn+10?0<=Tn?Vn.Pb(Fn):Fn.Pb(Vn):qn>zn+10?0<=Tn?An.Pb(Hn):Hn.Pb(An):0<=Tn?Vn.Pb(Hn):Hn.Pb(Vn)}else Rn=0<=Tn?Fn.Pb(An):An.Pb(Fn);Pn!==Hp&&(Nn=cn.computeAngle(Mn,Pn,Rn),Mn.mg=Nn),On=Fn.x+(An.x-Fn.x)*En-yn.x,Ln=Fn.y+(An.y-Fn.y)*En-yn.y}No(Mn,1/0,1/0);var pn=Mn.za,dn=Mn.Ja,Gn=0;Mn instanceof Pr&&(Gn=Mn.lb);var _n=dn.width+Gn,Un=dn.height+Gn;xn.reset(),xn.translate(-pn.x,-pn.y),xn.scale(Mn.scale,Mn.scale),xn.rotate(Pn===Hp?Mn.angle:Rn,_n/2,Un/2),Pn!==Wp&&Pn!==Qp||xn.rotate(90,_n/2,Un/2),Pn!==Yp&&Pn!==Zp||xn.rotate(-90,_n/2,Un/2),Pn===tf&&(45<Rn&&135>Rn||225<Rn&&315>Rn)&&xn.rotate(-Rn,_n/2,Un/2);var Kn=new S(0,0,_n,Un);Cn.Wn(Kn,In),xn.nb(Cn);var $n=-Cn.x+Gn/2*Mn.scale,Wn=-Cn.y+Gn/2*Mn.scale;kn.assign(Dn),isNaN(kn.x)&&(kn.x=0<=Tn?_n/2+3:-(_n/2+3)),isNaN(kn.y)&&(kn.y=-(Un/2+3)),kn.rotate(Rn),On+=kn.x,Ln+=kn.y,Kn.set(pn),Kn.x=On+$n,Kn.y=Ln+Wn,this.bh.add(Kn),gn.Jh(Kn)}}if(this instanceof Ws)for(var Yn=this.Df;Yn.next();)No(Yn.value,1/0,1/0);this.gj=gn;var Jn=this.Ti;Jn.m(Jn.x+gn.x,Jn.y+gn.y),M(o,gn.width||0,gn.height||0),Kh.we(xn),Kh.v(Cn),Kh.v(kn)}}}break;case"Grid":break;case"Graduated":var Xn=t,Qn=e,Zn=i,to=n,eo=this.Ld();this.Bm=[];var io=eo.margin,no=io.right+io.left,oo=io.top+io.bottom;No(eo,Xn,Qn,Zn,to);var ro=eo.za,so=ro.height,ao=Math.max(ro.width+no,0),lo=Math.max(so+oo,0),ho=new S(-io.left,-io.top,ao,lo);this.Bm.push(ho),o.assign(ho);for(var uo=eo.lf,co=eo.lb,po=uo.qx,fo=uo.Rt,yo=uo.St,go=po.length,vo=0,mo=0,bo=Kh.cb(),wo=0;wo<go;wo++){for(var xo=po[wo],Co=[],mo=vo=0,ko=xo.length,So=0;So<ko;So+=2){var Mo=xo[So],To=xo[So+1];if(0!==So){var Eo=180*Math.atan2(To-mo,Mo-vo)/Math.PI;0>Eo&&(Eo+=360),Co.push(Eo)}vo=Mo,mo=To}bo.push(Co)}var Io;if(null===this.Uj){for(var Po=[],Do=this.xa.n,Lo=Do.length,jo=0;jo<Lo;jo++){var Ro=Do[jo],Fo=[];if(Po.push(Fo),Ro.visible)for(var Ao=Ro.interval,Bo=0;Bo<Lo;Bo++){var Vo=Do[Bo];if(Vo.visible&&Ro!==Vo&&!(Ro instanceof Pr&&!(Vo instanceof Pr)||Ro instanceof Br&&!(Vo instanceof Br))){var qo=Vo.interval;qo>Ao&&Fo.push(qo)}}}this.Uj=Po}Io=this.Uj;var Go=this.xa.n,_o=Go.length,Uo=0,Ko=0,$o=yo;this.Dm=[];for(var Wo=[],Jo=0;Jo<_o;Jo++){var Qo=Go[Jo],Wo=[];if(Qo.visible&&Qo!==eo){var Zo=Qo.interval,tr=this.uA;if(!(2>tr*Zo*yo/this.Zt)){var er=this.dF,nr=Io[Jo],rr=fo[0][0],sr=0,ar=0,Ko=yo*Qo.cF-1e-4,$o=yo*Qo.aF+1e-4,lr=tr*Zo;if(er<this.Dk)var ur=(this.Dk-er)/lr,ur=0==ur%1?ur:Math.floor(ur+1),er=er+ur*lr;else er>this.Dk+lr&&(ur=Math.floor((er-this.Dk)/lr),er-=ur*lr);for(;er<=this.tA;){var cr;t:{for(var dr=nr.length,pr=0;pr<dr;pr++)if(Y((er-this.dF)%(nr[pr]*this.uA),0)){cr=!1;break t}cr=!0}if(cr&&(Uo=(er-this.Dk)*yo/this.Zt,Uo>yo&&(Uo=yo),Ko<=Uo&&Uo<=$o)){for(var Eo=bo[sr][ar],fr=fo[sr][ar];sr<fo.length;){for(;Uo>rr&&ar<fo[sr].length-1;)ar++,Eo=bo[sr][ar],fr=fo[sr][ar],rr+=fr;if(Uo<=rr)break;sr++,ar=0,Eo=bo[sr][ar],fr=fo[sr][ar],rr+=fr}var yr=po[sr],gr=yr[2*ar],br=yr[2*ar+1],wr=(Uo-(rr-fr))/fr,xr=new w(gr+(yr[2*ar+2]-gr)*wr+co/2-uo.gb.x,br+(yr[2*ar+3]-br)*wr+co/2-uo.gb.y);xr.scale(eo.scale,eo.scale);var Cr=Eo,kr=bo[sr];if(1e-4>wr?0<ar?Cr=kr[ar-1]:Y(yr[0],yr[yr.length-2])&&Y(yr[1],yr[yr.length-1])&&(Cr=kr[kr.length-1]):.9999<wr&&(ar+1<kr.length?Cr=kr[ar+1]:Y(yr[0],yr[yr.length-2])&&Y(yr[1],yr[yr.length-1])&&(Cr=kr[0])),Eo!==Cr&&(180<Math.abs(Eo-Cr)&&(Eo<Cr?Eo+=360:Cr+=360),Eo=(Eo+Cr)/2%360),Qo instanceof Br){var Sr="",Sr=null!==Qo.bF?Qo.bF(er):(+er.toFixed(2)).toString();""!==Sr&&Wo.push([xr,Eo,Sr])}else Wo.push([xr,Eo])}er+=lr}}}this.Dm.push(Wo)}Kh.ta(bo);for(var Mr=this.Dm,Tr=h.length,Er=0;Er<Tr;Er++){var Dr=h[Er],Or=Mr[Er];if(Dr.visible&&Dr!==eo&&0!==Or.length){if(Dr instanceof Pr){var jr=Dr,Rr=Or,Fr=o,Ar=jr.qh;Ar.Sd()&&(Ar=nu);var Vr=jr.angle;jr.mg=0,No(jr,1/0,1/0),jr.mg=Vr;var Hr=jr.za,zr=Hr.width,qr=Hr.height,Gr=Kh.lg(0,0,zr,qr),_r=Kh.K();_r.Wn(Gr,Ar),Kh.Db(Gr);for(var Kr=-_r.x,$r=-_r.y,Wr=new S,Yr=Rr.length,Jr=0;Jr<Yr;Jr++)for(var Xr=Rr[Jr],Qr=Xr[0].x,Zr=Xr[0].y,ts=Xr[1],es=0;4>es;es++){switch(es){case 0:_r.m(Kr,$r);break;case 1:_r.m(Kr+zr,$r);break;case 2:_r.m(Kr,$r+qr);break;case 3:_r.m(Kr+zr,$r+qr)}_r.rotate(ts+jr.angle),_r.offset(Qr,Zr),0===Jr&&0===es?Wr.m(_r.x,_r.y,0,0):Wr.vi(_r),_r.offset(-Qr,-Zr),_r.rotate(-ts-jr.angle)}Kh.v(_r),this.Bm.push(Wr),D(Fr,Wr.x,Wr.y,Wr.width,Wr.height)}else if(Dr instanceof Br){var is=Dr,ns=Or,os=o;null===this.lk&&(this.lk=new Br);var rs=this.lk;or(is,rs);var ss=is.qh;ss.Sd()&&(ss=nu);for(var as=is.pq,ls=is.hB,hs=null,us=0,cs=0,ds=0,ps=0,fs=ns.length,ys=0;ys<fs;ys++){var gs=ns[ys],us=gs[0].x,cs=gs[0].y,ds=gs[1];as!==Hp&&(ps=Ws.computeAngle(as,ds),rs.mg=ps),rs.text=gs[2],No(rs,1/0,1/0);var vs=rs.za,ms=rs.Ja,bs=ms.width,ws=ms.height,xs=Kh.Jf();xs.reset(),xs.translate(-vs.x,-vs.y),xs.scale(rs.scale,rs.scale),xs.rotate(as===Hp?rs.angle:ds,bs/2,ws/2),as!==Wp&&as!==Qp||xs.rotate(90,bs/2,ws/2),as!==Yp&&as!==Zp||xs.rotate(-90,bs/2,ws/2),as===tf&&(45<ds&&135>ds||225<ds&&315>ds)&&xs.rotate(-ds,bs/2,ws/2);var Cs=Kh.lg(0,0,bs,ws),ks=Kh.K();ks.Wn(Cs,ss),xs.nb(ks);var Ss=-ks.x,Ms=-ks.y,Ts=Kh.K();Ts.assign(ls),isNaN(Ts.x)&&(Ts.x=bs/2+3),isNaN(Ts.y)&&(Ts.y=-(ws/2+3)),Ts.rotate(ds);var us=us+(Ts.x+Ss),cs=cs+(Ts.y+Ms),Es=new S(us,cs,vs.width,vs.height),Is=new S(vs.x,vs.y,vs.width,vs.height),Ps=new S(ms.x,ms.y,ms.width,ms.height),Ds=new Ur;Ds.Ip(rs.vf),gs.push(ps),gs.push(rs.le),gs.push(Ds),gs.push(Es),gs.push(Is),gs.push(Ps),0===ys?hs=Es.copy():hs.Jh(Es),Kh.v(Ts),Kh.v(ks),Kh.Db(Cs),Kh.we(xs)}this.Bm.push(hs),D(os,hs.x,hs.y,hs.width,hs.height)}Yo(Dr,!1)}}break;case"TableRow":case"TableColumn":Kh.k(this.toString()+" is not an element of a Table Panel. TableRow and TableColumn Panels can only be elements of a Table Panel.");break;default:Kh.k("Unknown panel type: "+u)}}var Os=o.width,Ls=o.height,js=this.padding,Rs=js.top+js.bottom,Os=Os+(js.left+js.right),Ls=Ls+Rs;isFinite(r.width)&&(Os=r.width),isFinite(r.height)&&(Ls=r.height),Os=Math.min(a.width,Os),Ls=Math.min(a.height,Ls),Os=Math.max(s.width,Os),Ls=Math.max(s.height,Ls),Os=Math.max(i,Os),Ls=Math.max(n,Ls),o.width=Os,o.height=Ls,M(this.Uc,Os,Ls),Oo(this,0,0,Os,Ls)},ir.prototype.findMainElement=ir.prototype.Ld=function(){if(null===this.zl){var t=this.xa.n,e=t.length;if(0===e)return null;for(var i=0;i<e;i++){var n=t[i];if(!0===n.qf)return this.zl=n}this.zl=t[0]}return this.zl},ir.prototype.jj=function(t,e,i,n){var o=this.gj,r=this.xa.n,s=Kh.lg(0,0,0,0);if(0===r.length){var a=this.W;a.x=t,a.y=e,a.width=i,a.height=n}else{if(!this.Ca.I()){var l=Ho(this,!0),h=this.sd,u=h.width,c=h.height,d=this.margin,p=d.left+d.right,f=d.top+d.bottom;switch(u===i&&c===n&&(l=Nd),l){case Nd:(u>i||c>n)&&(this.H(),No(this,u>i?i:u,c>n?n:c));break;case Ad:this.H(!0),No(this,i+p,n+f,0,0);break;case Fd:this.H(!0),No(this,i+p,c+f,0,0);break;case Rd:this.H(!0),No(this,u+p,n+f,0,0)}}a=this.W,a.x=t,a.y=e,a.width=i,a.height=n;var y=this.na.Sb;switch(y){case"Position":for(var g=r.length,v=o.x-this.padding.left,m=o.y-this.padding.top,b=0;b<g;b++){var x=r[b],C=x.za,k=x.margin,M=x.position.x,E=x.position.y;if(s.x=isNaN(M)?-v:M-v,s.y=isNaN(E)?-m:E-m,x instanceof Pr){var I=x;if(I.pF){var P=I.lb/2;s.x-=P,s.y-=P}}s.x+=k.left,s.y+=k.top,s.width=C.width,s.height=C.height,x.visible&&x.jc(s.x,s.y,s.width,s.height)}break;case"Vertical":for(var O=r.length,L=this.padding.left,N=this.wF,j=N?o.height:this.padding.top,R=0;R<O;R++){var F=L,A=r[R];if(A.visible){var B=A.za,V=A.margin,H=V.left+V.right,z=L+this.padding.right,q=B.width,G=Ho(A,!1);(isNaN(A.Ca.width)&&G===Ad||G===Fd)&&(q=Math.max(o.width-H-z,0));var _=q+H+z,U=A.alignment;U.Xc()&&(U=this.Ql),U.Yc()||(U=su),N&&(j-=B.height+V.bottom+V.top),A.jc(F+U.offsetX+V.left+(o.width*U.x-_*U.x),j+U.offsetY+V.top,q,B.height),N||(j+=B.height+V.bottom+V.top)}}break;case"Horizontal":for(var K=r.length,$=this.padding.top,W=this.wF,Y=W?o.width:this.padding.left,J=0;J<K;J++){var X=$,Q=r[J];if(Q.visible){var Z=Q.za,tt=Q.margin,et=tt.top+tt.bottom,it=$+this.padding.bottom,nt=Z.height,ot=Ho(Q,!1);(isNaN(Q.Ca.height)&&ot===Ad||ot===Rd)&&(nt=Math.max(o.height-et-it,0));var rt=nt+et+it,st=Q.alignment;st.Xc()&&(st=this.Ql),st.Yc()||(st=su),W&&(Y-=Z.width+tt.left+tt.right),Q.jc(Y+st.offsetX+tt.left,X+st.offsetY+tt.top+(o.height*st.y-rt*st.y),Z.width,nt),W||(Y+=Z.width+tt.left+tt.right)}}break;case"Spot":var at=r.length,lt=this.Ld(),ht=lt.za,ut=ht.width,ct=ht.height,dt=this.padding,pt=dt.left,ft=dt.top;s.x=pt-o.x,s.y=ft-o.y,lt.jc(s.x,s.y,ut,ct);for(var yt=0;yt<at;yt++){var gt=r[yt];if(gt!==lt){var vt=gt.za,mt=vt.width,bt=vt.height,wt=gt.alignment;wt.Xc()&&(wt=this.Ql),wt.Yc()||(wt=su);var xt=gt.qh;xt.Xc()&&(xt=su);var Ct=null;if(gt instanceof ir&&""!==gt.Ij&&(Ct=gt.xd(gt.Ij))===gt&&(Ct=null),null!==Ct){for(var kt=Ct.Ja,St=Kh.xb(xt.x*kt.width+xt.offsetX,xt.y*kt.height+xt.offsetY);Ct!==gt;)Ct.transform.nb(St),Ct=Ct.Q;s.x=wt.x*ut+wt.offsetX-St.x,s.y=wt.y*ct+wt.offsetY-St.y,Kh.v(St)}else s.x=wt.x*ut+wt.offsetX-(xt.x*mt-xt.offsetX),s.y=wt.y*ct+wt.offsetY-(xt.y*bt-xt.offsetY);s.x-=o.x,s.y-=o.y,gt.visible&&gt.jc(pt+s.x,ft+s.y,mt,bt)}}break;case"Auto":var Mt=r.length,Tt=this.Ld(),Et=Tt.za,It=Kh.If();It.m(0,0,1,1);var Pt=Tt.margin,Dt=Pt.left,Ot=Pt.top,Lt=this.padding,Nt=Lt.left,jt=Lt.top;s.x=Dt,s.y=Ot,s.width=Et.width,s.height=Et.height,Tt.jc(Nt+s.x,jt+s.y,s.width,s.height);var Rt=vr(Tt),Ft=mr(Tt),At=0+Rt.y*Et.height+Rt.offsetY,Bt=0+Ft.x*Et.width+Ft.offsetX,Vt=0+Ft.y*Et.height+Ft.offsetY;It.x=0+Rt.x*Et.width+Rt.offsetX,It.y=At,D(It,Bt,Vt,0,0),It.x+=Dt+Nt,It.y+=Ot+jt;for(var Ht=0;Ht<Mt;Ht++){var zt=r[Ht];if(zt!==Tt){var qt=zt.za,Pt=zt.margin,Gt=Math.max(qt.width+Pt.right+Pt.left,0),_t=Math.max(qt.height+Pt.top+Pt.bottom,0),Ut=zt.alignment;Ut.Xc()&&(Ut=this.Ql),Ut.Yc()||(Ut=su),s.x=It.width*Ut.x+Ut.offsetX-Gt*Ut.x+Pt.left+It.x,s.y=It.height*Ut.y+Ut.offsetY-_t*Ut.y+Pt.top+It.y,s.width=It.width,s.height=It.height,zt.visible&&(Qh(It.x,It.y,It.width,It.height,s.x,s.y,qt.width,qt.height)?zt.jc(s.x,s.y,qt.width,qt.height):zt.jc(s.x,s.y,qt.width,qt.height,new S(It.x,It.y,It.width,It.height)))}}Kh.Db(It);break;case"Table":for(var Kt=r.length,$t=this.padding,Wt=$t.left,Yt=$t.top,Jt=this.Rs,Xt=0,Qt=0,Zt=Jt.length,te=0,ee=0;ee<Zt;ee++)Jt[ee]&&(te=Math.max(te,Jt[ee].length));for(var ie=Math.min(this.fj,Zt-1);ie!==Zt&&(void 0===this.ae[ie]||0===this.ae[ie].Ra);)ie++;for(var ie=Math.min(ie,Zt-1),ne=-this.ae[ie].jb,oe=Math.min(this.Qi,te-1);oe!==te&&(void 0===this.Xd[oe]||0===this.Xd[oe].Ra);)oe++;for(var oe=Math.min(oe,te-1),re=-this.Xd[oe].jb,se=Kh.lm(),ee=0;ee<Zt;ee++)if(Jt[ee]){var te=Jt[ee].length,ae=this.Nd(ee),Qt=ae.jb+ne+Yt;0!==ae.Ra&&(Qt+=ae.yE());for(var le=0;le<te;le++)if(Jt[ee][le]){var he=this.Md(le),Xt=he.jb+re+Wt;0!==he.Ra&&(Xt+=he.yE());for(var ue=Jt[ee][le],ce=ue.length,de=0;de<ce;de++){var pe=ue[de],fe=pe.za,ye=pe instanceof ir?pe:null;if(null===ye||ye.type!==Qd&&ye.type!==Zd){se.m(0,0);for(var ge=1;ge<pe.rowSpan&&!(ee+ge>=this.oq);ge++){var ve=this.Nd(ee+ge);se.height+=ve.total}for(ge=1;ge<pe.vH&&!(le+ge>=this.Hp);ge++){var me=this.Md(le+ge);se.width+=me.total}var be=he.Ra+se.width,we=ae.Ra+se.height;s.x=Xt,s.y=Qt,s.width=be,s.height=we;var xe=Xt,Ce=Qt,ke=be,Se=we;Xt+be>o.width&&(ke=Math.max(o.width-Xt,0)),Qt+we>o.height&&(Se=Math.max(o.height-Qt,0));var Me=pe.alignment,Te=0,Ee=0,Ie=0,Pe=0;if(Me.Xc()){Me=this.Ql,Me.Yc()||(Me=su);var Te=Me.x,Ee=Me.y,Ie=Me.offsetX,Pe=Me.offsetY,De=he.alignment,Oe=ae.alignment;De.Yc()&&(Te=De.x,Ie=De.offsetX),Oe.Yc()&&(Ee=Oe.y,Pe=Oe.offsetY)}else Te=Me.x,Ee=Me.y,Ie=Me.offsetX,Pe=Me.offsetY;(isNaN(Te)||isNaN(Ee))&&(Ee=Te=.5,Pe=Ie=0);var Le=fe.width,Ne=fe.height,je=pe.margin,Re=je.left+je.right,Fe=je.top+je.bottom,Ae=zo(pe,ae,he,!1);!isNaN(pe.Ca.width)||Ae!==Ad&&Ae!==Fd||(Le=Math.max(be-Re,0)),!isNaN(pe.Ca.height)||Ae!==Ad&&Ae!==Rd||(Ne=Math.max(we-Fe,0));var Be=pe.Ff,Ve=pe.si,Le=Math.min(Be.width,Le),Ne=Math.min(Be.height,Ne),Le=Math.max(Ve.width,Le),Ne=Math.max(Ve.height,Ne),He=Ne+Fe;s.x+=s.width*Te-(Le+Re)*Te+Ie+je.left,s.y+=s.height*Ee-He*Ee+Pe+je.top,pe.visible&&(Qh(xe,Ce,ke,Se,s.x,s.y,fe.width,fe.height)?pe.jc(s.x,s.y,Le,Ne):pe.jc(s.x,s.y,Le,Ne,new S(xe,Ce,ke,Se)))}else{pe.Mi(),pe.oc.Qa();var ze=pe.oc,qe=Kh.lg(ze.x,ze.y,ze.width,ze.height);if(ze.x=ye.type===Qd?Wt:Xt,ze.y=ye.type===Zd?Yt:Qt,ze.width=fe.width,ze.height=fe.height,pe.oc.freeze(),Xo(pe,!1),!T(qe,ze)){var Ge=pe.U;null!==Ge&&(Ge.Fk(),pe.vs(Ge))}Kh.Db(qe)}}}}for(Kh.Bk(se),ee=0;ee<Kt;ee++)pe=r[ee],null===(ye=pe instanceof ir?pe:null)||ye.type!==Qd&&ye.type!==Zd||(ze=pe.oc,pe.Uc.Qa(),pe.Uc.m(0,0,ze.width,ze.height),pe.Uc.freeze());break;case"Viewbox":var _e=r[0],Ue=_e.za,Ke=_e.margin,$e=Ke.top+Ke.bottom,We=Math.max(Ue.width+(Ke.right+Ke.left),0),Ye=Math.max(Ue.height+$e,0),Je=_e.alignment;Je.Xc()&&(Je=this.Ql),Je.Yc()||(Je=su),s.x=o.width*Je.x-We*Je.x+Je.offsetX,s.y=o.height*Je.y-Ye*Je.y+Je.offsetY,s.width=Ue.width,s.height=Ue.height,_e.jc(s.x,s.y,s.width,s.height);break;case"Link":var Xe=r.length;if(this instanceof Ns||this instanceof Ws){var Qe=null;this instanceof Ws&&(Qe=this),this instanceof Ns&&(Qe=this.xf);var Ze=Qe,ti=this instanceof Ns?null:Ze.path;if(null!==this.bh){var ei=this.bh.n,ii=0;if(null!==ti&&ii<this.bh.count){var ni=ei[ii];ii++,ti.jc(ni.x-this.gj.x,ni.y-this.gj.y,ni.width,ni.height)}for(var oi=0;oi<Xe;oi++){var ri=r[oi];ri!==ti&&ii<this.bh.count&&(ni=ei[ii],ii++,ri.jc(ni.x-this.gj.x,ni.y-this.gj.y,ni.width,ni.height))}}var si=Ze.points,ai=si.count;if(2<=ai&&this instanceof Ws)for(var li=this.Df;li.next();){var hi=li.value,ui=ai,ci=si,di=hi.Oe,pi=hi.gB,fi=hi.qh,yi=hi.pq,gi=hi.hB,vi=0,mi=0,bi=0;if(di<-ui||di>=ui){var wi=this.GF,xi=this.FF;yi!==Hp&&(bi=this.computeAngle(hi,yi,xi),hi.angle=bi),vi=wi.x,mi=wi.y}else{var Ci=void 0,ki=void 0;if(0<=di)Ci=ci.n[di],ki=di<ui-1?ci.n[di+1]:Ci;else var Si=ui+di,Ci=ci.n[Si],ki=0<Si?ci.n[Si-1]:Ci;if(Ci.Lc(ki)){var Mi=void 0,Ti=void 0;0<=di?(Mi=0<di?ci.n[di-1]:Ci,Ti=di<ui-2?ci.n[di+2]:ki):(Mi=Si<ui-1?ci.n[Si+1]:Ci,Ti=1<Si?ci.n[Si-2]:ki);var Ei=Mi.zf(Ci),Ii=ki.zf(Ti),xi=Ei>Ii+10?0<=di?Mi.Pb(Ci):Ci.Pb(Mi):Ii>Ei+10?0<=di?ki.Pb(Ti):Ti.Pb(ki):0<=di?Mi.Pb(Ti):Ti.Pb(Mi)}else xi=0<=di?Ci.Pb(ki):ki.Pb(Ci);yi!==Hp&&(bi=this.computeAngle(hi,yi,xi),hi.angle=bi),vi=Ci.x+(ki.x-Ci.x)*pi,mi=Ci.y+(ki.y-Ci.y)*pi}if(fi.L(tu))hi.location=new w(vi,mi);else{fi.Sd()&&(fi=su);var Pi=Kh.Jf();Pi.reset(),Pi.scale(hi.scale,hi.scale),Pi.rotate(hi.angle,0,0);var Di=hi.Ja,Oi=Kh.lg(0,0,Di.width,Di.height),Li=Kh.K();Li.Wn(Oi,fi),Pi.nb(Li);var Ni=-Li.x,ji=-Li.y,Ri=gi.copy();isNaN(Ri.x)&&(Ri.x=0<=di?Li.x+3:-(Li.x+3)),isNaN(Ri.y)&&(Ri.y=-(Li.y+3)),Ri.rotate(xi),vi+=Ri.x,mi+=Ri.y,Pi.AG(Oi);var Ni=Ni+Oi.x,ji=ji+Oi.y,Fi=Kh.xb(vi+Ni,mi+ji);hi.move(Fi),Kh.v(Fi),Kh.v(Li),Kh.Db(Oi),Kh.we(Pi)}}this.ru(!1)}break;case"Grid":break;case"Graduated":if(null!==this.Bm){var Ai=this.Ld(),Bi=this.Dm,Vi=this.Bm,Hi=0,zi=Vi[Hi];Hi++,Ai.jc(zi.x-o.x,zi.y-o.y,zi.width,zi.height);for(var qi=r.length,Gi=0;Gi<qi;Gi++){var _i=r[Gi],Ui=Bi[Gi];_i.visible&&_i!==Ai&&0!==Ui.length&&(zi=Vi[Hi],Hi++,_i.jc(zi.x-o.x,zi.y-o.y,zi.width,zi.height))}this.Bm=null}break;case"TableRow":case"TableColumn":Kh.k(this.toString()+" is not an element of a Table Panel.TableRow and TableColumn panels can only be elements of a Table Panel.");break;default:Kh.k("Unknown panel type: "+y)}Kh.Db(s)}},ir.prototype.vk=function(t){var e=this.Ja,i=hr(this);if(Qh(0,0,e.width,e.height,t.x,t.y)){for(var e=this.xa.n,n=e.length,o=Kh.xb(0,0);n--;){var r=e[n];if((r.visible||r===i)&&(C(o.set(t),r.transform),r.Ia(o)))return Kh.v(o),!0}return Kh.v(o),null!==this.Eb||null!==this.bc}return!1},ir.prototype.mx=function(t){if(this.mo===t)return this;for(var e=this.xa.n,i=e.length,n=0;n<i;n++){var o=e[n].mx(t);if(null!==o)return o}return null},ir.prototype.walkVisualTree=ir.prototype.YJ=function(t){pr(this,this,t)},ir.prototype.findInVisualTree=ir.prototype.Mt=function(t){return fr(this,this,t)},ir.prototype.findObject=ir.prototype.xd=function(t){if(this.name===t)return this;for(var e=this.xa.n,i=e.length,n=0;n<i;n++){var o=e[n];if(o.name===t)return o;if(o instanceof ir)if(null===o.$j&&null===o.yg){if(null!==(o=o.xd(t)))return o}else if(Cr(o)&&null!==(o=o.xa.first())&&null!==(o=o.xd(t)))return o}return null},_h=ir.prototype,_h.ah=function(){return!(this.type===Qd||this.type===Zd)},_h.Le=function(t,e,i){if(!1===this.Wg)return null;if(void 0===e&&(e=null),void 0===i&&(i=null),Jo(this))return null;var n=this.Ja,o=1/this.pj(),r=this.ah(),s=r?t:C(Kh.xb(t.x,t.y),this.transform),a=this.g,l=10,h=5;if(null!==a&&(l=a.Yt("extraTouchArea"),h=l/2),Qh(-h*o,-h*o,n.width+l*o,n.height+l*o,s.x,s.y)){if(!this.Fn){var o=this.xa.n,u=o.length,a=Kh.K(),h=(l=this.du)?this.Ld():null;if(l&&(h.ah()?C(a.set(t),h.transform):a.set(t),!h.Ia(a)))return Kh.v(a),r||Kh.v(s),null;for(var c=hr(this);u--;){var d=o[u];if((d.visible||d===c)&&(d.ah()?C(a.set(t),d.transform):a.set(t),!l||d!==h)){var p=null;if(d instanceof ir?p=d.Le(a,e,i):!0===d.Wg&&d.Ia(a)&&(p=d),null!==p&&(null!==e&&(p=e(p)),null!==p&&(null===i||i(p))))return Kh.v(a),r||Kh.v(s),p}}Kh.v(a)}return null===this.background&&null===this.ln?(r||Kh.v(s),null):(t=Qh(0,0,n.width,n.height,s.x,s.y)?this:null,r||Kh.v(s),t)}return r||Kh.v(s),null},_h.Ot=function(t,e,i,n){if(!1===this.Wg)return!1;void 0===e&&(e=null),void 0===i&&(i=null),n instanceof c||n instanceof p||(n=new c(Eo));var o=this.Ja,r=this.ah(),s=r?t:C(Kh.xb(t.x,t.y),this.transform);if(Qh(0,0,o.width,o.height,s.x,s.y)){if(!this.Fn){for(var o=this.xa.n,a=o.length,l=Kh.K(),h=hr(this);a--;){var u=o[a];if(u.visible||u===h){u.ah()?C(l.set(t),u.transform):l.set(t);var d=u,u=u instanceof ir?u:null;(null!==u?u.Ot(l,e,i,n):d.Ia(l))&&!1!==d.Wg&&(null!==e&&(d=e(d)),null===d||null!==i&&!i(d)||n.add(d))}}Kh.v(l)}return r||Kh.v(s),null!==this.background||null!==this.ln}return r||Kh.v(s),!1},_h.zk=function(t,e,i,n,o,r){if(!1===this.Wg)return!1;void 0===e&&(e=null),void 0===i&&(i=null);var s=r;if(void 0===r&&(s=Kh.Jf(),s.reset()),s.multiply(this.transform),this.qn(t,s))return gr(this,e,i,o),void 0===r&&Kh.we(s),!0;if(this.Zf(t,s)){if(!this.Fn)for(var a=hr(this),l=this.xa.n,h=l.length;h--;){var u=l[h];if(u.visible||u===a){var c=u.W,d=this.Ja;c.x>d.width||c.y>d.height||0>c.x+c.width||0>c.y+c.height||(c=u,u=u instanceof ir?u:null,d=Kh.Jf(),d.set(s),(null!==u?u.zk(t,e,i,n,o,d):Lo(c,t,n,d))&&(null!==e&&(c=e(c)),null===c||null!==i&&!i(c)||o.add(c)),Kh.we(d))}}return void 0===r&&Kh.we(s),n}return void 0===r&&Kh.we(s),!1},_h.wn=function(t,e,i,n,o,r){if(!1===this.Wg)return!1;void 0===i&&(i=null),void 0===n&&(n=null);var s=this.Ja,a=this.ah(),l=a?t:C(Kh.xb(t.x,t.y),this.transform),h=a?e:C(Kh.xb(e.x,e.y),this.transform),u=l.zf(h),c=0<l.x&&l.x<s.width&&0<l.y&&l.y<s.height||Yh(l.x,l.y,0,0,0,s.height)<u||Yh(l.x,l.y,0,s.height,s.width,s.height)<u||Yh(l.x,l.y,s.width,s.height,s.width,0)<u||Yh(l.x,l.y,s.width,0,0,0)<u,s=0<l.x&&l.x<s.width&&0<l.y&&l.y<s.height&&Yh(l.x,l.y,0,0,0,s.height)<u&&Yh(l.x,l.y,0,s.height,s.width,s.height)<u&&Yh(l.x,l.y,s.width,s.height,s.width,0)<u&&Yh(l.x,l.y,s.width,0,0,0)<u;if(a||(Kh.v(l),Kh.v(h)),c){if(!this.Fn){for(var a=Kh.K(),l=Kh.K(),h=hr(this),u=this.xa.n,d=u.length;d--;){var p=u[d];if(p.visible||p===h){var f=p.W,y=this.Ja;f.x>y.width||f.y>y.height||0>f.x+f.width||0>f.y+f.height||(p.ah()?(f=p.transform,C(a.set(t),f),C(l.set(e),f)):(a.set(t),l.set(e)),f=p,p=p instanceof ir?p:null,null!==p?!p.wn(a,l,i,n,o,r):!f.SE(a,l,o))||(null!==i&&(f=i(f)),null===f||null!==n&&!n(f)||r.add(f))}}Kh.v(a),Kh.v(l)}return o?c:s}return!1},ir.prototype.add=ir.prototype.add=function(t){Kh.G(t,Eo,ir,"add:element"),this.Qd(this.xa.count,t)},ir.prototype.elt=ir.prototype.da=function(t){return this.xa.da(t)},ir.prototype.insertAt=ir.prototype.Qd=function(t,e){e instanceof us&&Kh.k("Cannot add a Part to a Panel: "+e+"; use a Panel instead"),(this===e||this.am(e))&&(this===e&&Kh.k("Cannot make a Panel contain itself: "+this.toString()),Kh.k("Cannot make a Panel indirectly contain itself: "+this.toString()+" already contains "+e.toString()));var i=e.Q;if(null!==i&&i!==this&&Kh.k("Cannot add a GraphObject that already belongs to another Panel to this Panel: "+e.toString()+", already contained by "+i.toString()+", cannot be shared by this Panel: "+this.toString()),this.na!==ep||e instanceof Pr||Kh.k("Can only add Shapes to a Grid Panel, not: "+e),this.na!==ip||e instanceof Pr||e instanceof Br||Kh.k("Can only add Shapes or TextBlocks to a Graduated Panel, not: "+e),e.gm(this),e.Vm=null,null!==this.bq){var n=e.data;null!==n&&"object"==typeof n&&(null===this.xg&&(this.xg=new b(Object,ir)),this.xg.add(n,e))}var o=this.xa,n=-1;if(i===this){for(var r=-1,s=this.xa.n,a=s.length,l=0;l<a;l++)if(s[l]===e){r=l;break}if(-1!==r){if(r===t||r+1>=o.count&&t>=o.count)return;o.bd(r),n=r}else Kh.k("element "+e.toString()+" has panel "+i.toString()+" but is not contained by it.")}(0>t||t>o.count)&&(t=o.count),o.Qd(t,e),(0===t||e.qf)&&(this.zl=null),this.H(),e.H(),null!==e.Ud?this.Ek=!0:e instanceof ir&&!0===e.Ek&&(this.Ek=!0),this.Uj=null,null!==(i=this.U)&&(i.Qm=null,i.ck=NaN,this.Ek&&i instanceof js&&(i.Ek=!0),i.Ek&&i instanceof js&&(i.ne=null),null!==(o=this.g)&&o.ia.ab||(-1!==n&&i.ad(vc,"elements",this,e,null,n,null),i.ad(gc,"elements",this,null,e,null,t),this.fu()||Tr(this,e,!1)))},Kh.defineProperty(ir,{Ek:null},function(){return 0!=(8388608&this.O)},function(t){0!=(8388608&this.O)!==t&&(this.O^=8388608)}),ir.prototype.remove=ir.prototype.remove=function(t){Kh.G(t,Eo,ir,"remove:element");for(var e=this.xa.n,i=e.length,n=-1,o=0;o<i;o++)if(e[o]===t){n=o;break}-1!==n&&this.of(n,!0)},ir.prototype.removeAt=ir.prototype.bd=function(t){0<=t&&this.of(t,!0)},ir.prototype.of=function(t,e){var i=this.xa,n=i.da(t);if(n.Vm=null,n.gm(null),null!==this.xg){var o=n.data;"object"==typeof o&&this.xg.remove(o)}i.bd(t),Yo(this,!1),this.H(),this.zl===n&&(this.zl=null),this.Uj=null;var r=this.U;null!==r&&(r.Qm=null,r.ck=NaN,r.de(),r instanceof js&&(n instanceof ir?ur(n,n,function(t,i){Gs(r,i,e)}):Gs(r,n,e)),null!==(i=this.g)&&i.ia.ab||r.ad(vc,"elements",this,n,null,t,null))},Kh.u(ir,{oq:"rowCount"},function(){return void 0===this.ae?0:this.ae.length}),ir.prototype.getRowDefinition=ir.prototype.Nd=function(t){0>t&&Kh.Fa(t,">= 0",ir,"getRowDefinition:idx"),t=Math.round(t);var e=this.ae;if(void 0===e[t]){var i=new Er;i.gm(this),i.xe=!0,i.index=t,e[t]=i}return e[t]},ir.prototype.removeRowDefinition=ir.prototype.XF=function(t){0>t&&Kh.Fa(t,">= 0",ir,"removeRowDefinition:idx"),t=Math.round(t);var e=this.ae;this.ad(vc,"coldefs",this,e[t],null,t,null),e[t]&&delete e[t],this.H()},Kh.u(ir,{Hp:"columnCount"},function(){return void 0===this.Xd?0:this.Xd.length}),ir.prototype.getColumnDefinition=ir.prototype.Md=function(t){0>t&&Kh.Fa(t,">= 0",ir,"getColumnDefinition:idx"),t=Math.round(t);var e=this.Xd;if(void 0===e[t]){var i=new Er;i.gm(this),i.xe=!1,i.index=t,e[t]=i}return e[t]},ir.prototype.removeColumnDefinition=ir.prototype.VF=function(t){0>t&&Kh.Fa(t,">= 0",ir,"removeColumnDefinition:idx"),t=Math.round(t);var e=this.Xd;this.ad(vc,"coldefs",this,e[t],null,t,null),e[t]&&delete e[t],this.H()},Kh.defineProperty(ir,{yJ:"rowSizing"},function(){return void 0===this.Ym?ap:this.Ym},function(t){if(void 0!==this.Ym){var e=this.Ym;e!==t&&(t!==ap&&t!==sp&&Kh.k("Panel.rowSizing must be RowColumnDefinition.ProportionalExtra or RowColumnDefinition.None, not: "+t),this.Ym=t,this.H(),this.h("rowSizing",e,t))}}),Kh.defineProperty(ir,{uH:"columnSizing"},function(){return void 0===this.xm?ap:this.xm},function(t){if(void 0!==this.xm){var e=this.xm;e!==t&&(t!==ap&&t!==sp&&Kh.k("Panel.columnSizing must be RowColumnDefinition.ProportionalExtra or RowColumnDefinition.None, not: "+t),this.xm=t,this.H(),this.h("columnSizing",e,t))}}),Kh.defineProperty(ir,{WL:"topIndex"},function(){return void 0===this.fj?0:this.fj},function(t){if(void 0!==this.fj){var e=this.fj;e!==t&&((!isFinite(t)||0>t)&&Kh.k("Panel.topIndex must be greater than zero and a real number, not: "+t),this.fj=t,this.H(),this.h("topIndex",e,t))}}),Kh.defineProperty(ir,{jL:"leftIndex"},function(){return void 0===this.Qi?0:this.Qi},function(t){if(void 0!==this.Qi){var e=this.Qi;e!==t&&((!isFinite(t)||0>t)&&Kh.k("Panel.leftIndex must be greater than zero and a real number, not: "+t),this.Qi=t,this.H(),this.h("leftIndex",e,t))}}),ir.prototype.findRowForLocalY=function(t){if(0>t||this.type!==Xd)return-1;for(var e=0,i=this.ae,n=i.length,o=this.fj;o<n;o++){var r=i[o];if(void 0!==r&&(e+=r.total,t<e))break}return o},ir.prototype.findColumnForLocalX=function(t){if(0>t||this.type!==Xd)return-1;for(var e=0,i=this.Xd,n=i.length,o=this.Qi;o<n;o++){var r=i[o];if(void 0!==r&&(e+=r.total,t<e))break}return o},ir.prototype.graduatedPointForValue=function(t,e){if(void 0===e&&(e=new w(NaN,NaN)),this.type!==ip)return e.m(NaN,NaN),e;t=Math.min(Math.max(t,this.Dk),this.tA);var i=(t-this.Dk)/this.Zt,n=this.Ld();return n.lf.cI(i,e),i=Kh.Jf(),i.set(n.transform),e.transform(i),Kh.we(i),e},ir.prototype.graduatedValueForPoint=function(t){if(this.type!==ip)return NaN;var e=this.Ld(),i=e.lf,n=Kh.Jf();return n.set(e.transform),n.vx(),t.transform(n),Kh.we(n),i.ZH(t)*this.Zt+this.Dk},Kh.defineProperty(ir,{data:"data"},function(){return this.Zd},function(t){var e=this.Zd;if(e!==t){var i=this instanceof us&&!(this instanceof Ns);i&&Kh.j(t,"object",ir,"data"),xr(this),this.Zd=t;var n=this.g;null!==n&&(i?this instanceof Ws?(null!==e&&n.Lj.remove(e),null!==t&&n.Lj.add(t,this)):this instanceof us&&(null!==e&&n.Ei.remove(e),null!==t&&n.Ei.add(t,this)):null!==(i=this.Q)&&null!==i.xg&&(null!==e&&i.xg.remove(e),null!==t&&i.xg.add(t,this))),this.h("data",e,t),null!==n&&n.ia.ab||null!==t&&this.Ib()}}),Kh.defineProperty(ir,{lu:"itemIndex"},function(){return this.Tr},function(t){var e=this.Tr;e!==t&&(this.Tr=t,this.h("itemIndex",e,t))}),ir.prototype.copyTemplate=function(){var t=this.copy();return t.YJ(function(t){t instanceof ir&&(t.Zk=null,t.Zd=null);var e=t.vc;null!==e&&(t.vc=null,e.each(function(e){t.bind(e.copy())}))}),t},ir.prototype.updateTargetBindings=ir.prototype.Ib=function(t){var e=this.Zk;if(null!==e)for(void 0===t&&(t=""),e=e.i;e.next();){var i=e.value,n=i.oG;if((""===t||""===n||n===t)&&(n=i.oy,null!==i.AH||""!==n)){var n=this.data,o=i.wq;if(null!==o)n=""===o?this:"/"===o?this:"."===o?this:".."===o?this:this.xd(o);else{var r=this.g;null!==r&&i.Cx&&(n=r.$.Hk)}if(null!==n){var r=this,s=i.km;if(-1!==s){if(null===(r=this.mx(s)))continue}else null!==i.Hg&&(r=i.Hg);if("/"===o?n=r.U:"."===o?n=r:".."===o&&(n=r.Q),0!==(o=i.kt)){if(!(r instanceof ir))continue;s=r,1===o?r=s.Md(i.sp):2===o&&(r=s.Nd(i.sp))}void 0!==r&&i.DG(r,n)}}}},Kh.defineProperty(ir,{bq:"itemArray"},function(){return this.$j},function(t){var e=this.$j;if(e!==t){var i=this.g;null!==i&&null!==e&&Ln(i,this),this.$j=t,null!==i&&null!==t&&On(i,this),this.h("itemArray",e,t),null!==i&&i.ia.ab||this.$A()}}),ir.prototype.rebuildItemElements=ir.prototype.$A=function(){var t=0;for(Cr(this)&&(t=1);this.xa.length>t;)this.of(this.xa.length-1,!1);if(null!==(t=this.bq))for(var e=Kh.Za(t),i=0;i<e;i++)kr(this,Kh.Ba(t,i),i)},ir.prototype.findItemPanelForData=ir.prototype.TH=function(t){return void 0===t||null===t||null===this.xg?null:(Kh.j(t,"object",ir,"findItemPanelForData"),this.xg.ka(t))},Kh.defineProperty(ir,{hL:"itemTemplate"},function(){return null===this.yg?null:this.yg.ka("")},function(t){if(null===this.yg){if(null===t)return;this.yg=new b("string",ir)}var e=this.yg.ka("");e!==t&&(Kh.G(t,ir,ir,"itemTemplate"),(t instanceof us||t.qf)&&Kh.k("Panel.itemTemplate must not be a Part or be Panel.isPanelMain: "+t),this.yg.add("",t),this.h("itemTemplate",e,t),null!==(t=this.g)&&t.ia.ab||this.$A())}),Kh.defineProperty(ir,{EI:"itemTemplateMap"},function(){return this.yg},function(t){var e=this.yg;if(e!==t){Kh.G(t,b,ir,"itemTemplateMap");for(var i=t.i;i.next();){var n=i.value;(n instanceof us||n.qf)&&Kh.k("Template in Panel.itemTemplateMap must not be a Part or be Panel.isPanelMain: "+n)}this.yg=t,this.h("itemTemplateMap",e,t),t=this.g,null!==t&&t.ia.ab||this.$A()}}),Kh.defineProperty(ir,{gL:"itemCategoryProperty"},function(){return this.Qo},function(t){var e=this.Qo;e!==t&&("string"!=typeof t&&"function"!=typeof t&&Kh.Bd(t,"string or function",ir,"itemCategoryProperty"),this.Qo=t,this.h("itemCategoryProperty",e,t))});var np=!1,op=null;Kh.defineProperty(ir,{Fn:"isAtomic"},function(){return 0!=(1048576&this.O)},function(t){var e=0!=(1048576&this.O);e!==t&&(Kh.j(t,"boolean",ir,"isAtomic"),this.O^=1048576,this.h("isAtomic",e,t))}),Kh.defineProperty(ir,{du:"isClipping"},function(){return 0!=(2097152&this.O)},function(t){var e=0!=(2097152&this.O);e!==t&&(Kh.j(t,"boolean",ir,"isClipping"),this.O^=2097152,this.H(),this.h("isClipping",e,t))}),Kh.defineProperty(ir,{wF:"isOpposite"},function(){return 0!=(33554432&this.O)},function(t){var e=0!=(33554432&this.O);e!==t&&(Kh.j(t,"boolean",ir,"isOpposite"),this.O^=33554432,this.H(),this.h("isOpposite",e,t))}),Kh.defineProperty(ir,{isEnabled:"isEnabled"},function(){return 0!=(4194304&this.O)},function(t){var e=0!=(4194304&this.O);if(e!==t){Kh.j(t,"boolean",ir,"isEnabled");var i=null===this.Q||this.Q.fu();this.O^=4194304,this.h("isEnabled",e,t),e=this.g,null!==e&&e.ia.ab||i&&Tr(this,this,t)}}),Kh.defineProperty(ir,{dK:"alignmentFocusName"},function(){return this.Ij},function(t){var e=this.Ij;e!==t&&(this.Ij=t,this.H(),this.h("alignmentFocusName",e,t))}),Kh.ga("RowColumnDefinition",Er),Er.prototype.copy=function(){var t=new Er;return t.Qv=this.Qv,t.wc=this.wc,t.kf=this.kf,t.ek=this.ek,t.dk=this.dk,t.ie=this.ie,t.Ra=this.Ra,t.jb=this.jb,t.Gg=this.Gg,t.ct=this.ct,t.ik=null===this.ik?null:this.ik.S(),t.Ys=this.Ys,t.Zs=this.Zs,t.ai=null,null!==this.ai&&(t.ai=Kh.Ml(this.ai)),t.Eb=this.Eb,t.ar=this.ar,t.vc=this.vc,t},Er.prototype.Ip=function(t){Kh.G(t,Er,Er,"copyFrom:pd"),t.xe?this.height=t.height:this.width=t.width,this.Bh=t.Bh,this.he=t.he,this.alignment=t.alignment,this.stretch=t.stretch,this.Nu=t.Nu,this.ik=null===t.ik?null:t.ik.S(),this.qq=t.qq,this.rq=t.rq,this.ai=null,t.ai&&(this.ai=Kh.Ml(t.ai)),this.background=t.background,this.fA=t.fA,this.vc=t.vc},Er.prototype.ic=function(t){t.Ee===Er?this.Nu=t:Kh.Fj(this,t)},Er.prototype.toString=function(){return"RowColumnDefinition "+(this.xe?"(Row ":"(Column ")+this.index+") #"+Kh.Od(this)};var rp;Er.Default=rp=Kh.p(Er,"Default",0);var sp;Er.None=sp=Kh.p(Er,"None",1);var ap;Er.ProportionalExtra=ap=Kh.p(Er,"ProportionalExtra",2),Er.prototype.gm=function(t){this.nh=t},Er.prototype.computeEffectiveSpacingTop=Er.prototype.yE=function(){var t=0;if(0!==this.index){var e=this.nh,i=this.qq;null===i&&null!==e&&(i=this.xe?e.Fi:e.Nh),null!==i&&(t=this.rq,isNaN(t)&&(t=null!==e?this.xe?e.Ph:e.Oh:0))}if(null===(e=this.iG)){if(null===(e=this.nh))return t;e=e.Mj}return t+(this.xe?e.top:e.left)},Er.prototype.computeEffectiveSpacing=Er.prototype.$e=function(){var t=0;if(0!==this.index){var e=this.nh,i=this.qq;null===i&&null!==e&&(i=this.xe?e.Fi:e.Nh),null!==i&&(t=this.rq,isNaN(t)&&(t=null!==e?this.xe?e.Ph:e.Oh:0))}if(null===(e=this.iG)){if(null===(e=this.nh))return t;e=e.Mj}return t+(this.xe?e.top+e.bottom:e.left+e.right)},Er.prototype.hd=function(t,e,i,n,o){var r=this.nh;if(null!==r&&(r.ad(yc,t,this,e,i,n,o),null!==this.vc&&null!==(e=r.g)&&!e.Pe&&null!==(r=r.Tl())&&null!==(e=r.data)))for(i=this.vc.i;i.next();)i.value.py(this,e,t,r)},Kh.u(Er,{Q:"panel"},function(){return this.nh}),Kh.defineProperty(Er,{xe:"isRow"},function(){return this.Qv},function(t){this.Qv=t}),Kh.defineProperty(Er,{index:"index"},function(){return this.wc},function(t){this.wc=t}),Kh.defineProperty(Er,{height:"height"},function(){return this.kf},function(t){var e=this.kf;e!==t&&(0>t&&Kh.Fa(t,">= 0",Er,"height"),this.kf=t,this.Ya=this.Ra,null!==this.Q&&this.Q.H(),this.hd("height",e,t))}),Kh.defineProperty(Er,{width:"width"},function(){return this.kf},function(t){var e=this.kf;e!==t&&(0>t&&Kh.Fa(t,">= 0",Er,"width"),this.kf=t,this.Ya=this.Ra,null!==this.Q&&this.Q.H(),this.hd("width",e,t))}),Kh.defineProperty(Er,{Bh:"minimum"},function(){return this.ek},function(t){var e=this.ek;e!==t&&((0>t||!isFinite(t))&&Kh.Fa(t,">= 0",Er,"minimum"),this.ek=t,this.Ya=this.Ra,null!==this.Q&&this.Q.H(),this.hd("minimum",e,t))}),Kh.defineProperty(Er,{he:"maximum"},function(){return this.dk},function(t){var e=this.dk;e!==t&&(0>t&&Kh.Fa(t,">= 0",Er,"maximum"),this.dk=t,this.Ya=this.Ra,null!==this.Q&&this.Q.H(),this.hd("maximum",e,t))}),Kh.defineProperty(Er,{alignment:"alignment"},function(){return this.ie},function(t){var e=this.ie;e.L(t)||(this.ie=t.S(),null!==this.Q&&this.Q.H(),this.hd("alignment",e,t))}),Kh.defineProperty(Er,{stretch:"stretch"},function(){return this.Gg},function(t){var e=this.Gg;e!==t&&(this.Gg=t,null!==this.Q&&this.Q.H(),this.hd("stretch",e,t))}),Kh.defineProperty(Er,{iG:"separatorPadding"},function(){return this.ik},function(t){"number"==typeof t&&(t=new O(t));var e=this.ik;null!==t&&null!==e&&e.L(t)||(null!==t&&(t=t.S()),this.ik=t,null!==this.Q&&this.Q.H(),this.hd("separatorPadding",e,t))}),Kh.defineProperty(Er,{qq:"separatorStroke"},function(){return this.Ys},function(t){var e=this.Ys;e!==t&&(null===t||"string"==typeof t||t instanceof wo)&&(t instanceof wo&&t.freeze(),this.Ys=t,null!==this.Q&&this.Q.H(),this.hd("separatorStroke",e,t))}),Kh.defineProperty(Er,{rq:"separatorStrokeWidth"},function(){return this.Zs},function(t){var e=this.Zs;e!==t&&(this.Zs=t,null!==this.Q&&this.Q.H(),this.hd("separatorStrokeWidth",e,t))}),Kh.defineProperty(Er,{KL:"separatorDashArray"},function(){return this.ai},function(t){var e=this.ai;if(e!==t){if(null===t||Array.isArray(t)||Kh.Bd(t,"Array",Er,"separatorDashArray:value"),null!==t){for(var i=t.length,n=0,o=0;o<i;o++){var r=t[o];"number"==typeof r&&0<=r&&isFinite(r)||Kh.k("separatorDashArray value "+r+" at index "+o+" must be a positive number or zero."),n+=r}if(0===n){if(null===e)return;t=null}}this.ai=t,null!==this.Q&&this.Q.oa(),this.hd("separatorDashArray",e,t)}}),Kh.defineProperty(Er,{background:"background"},function(){return this.Eb},function(t){var e=this.Eb;e!==t&&(null===t||"string"==typeof t||t instanceof wo)&&(t instanceof wo&&t.freeze(),this.Eb=t,null!==this.Q&&this.Q.oa(),this.hd("background",e,t))}),Kh.defineProperty(Er,{fA:"coversSeparators"},function(){return this.ar},function(t){var e=this.ar;e!==t&&(Kh.j(t,"boolean",Er,"coversSeparators"),this.ar=t,null!==this.Q&&this.Q.oa(),this.hd("coversSeparators",e,t))}),Kh.defineProperty(Er,{Nu:"sizing"},function(){return this.ct},function(t){var e=this.ct;e!==t&&(this.ct=t,null!==this.Q&&this.Q.H(),this.hd("sizing",e,t))}),Kh.defineProperty(Er,{Ya:"actual"},function(){return this.Ra},function(t){this.Ra=isNaN(this.kf)?Math.max(Math.min(this.dk,t),this.ek):Math.max(Math.min(this.dk,this.kf),this.ek)}),Kh.defineProperty(Er,{total:"total"},function(){return this.Ra+this.$e()},function(t){this.Ra=isNaN(this.kf)?Math.max(Math.min(this.dk,t),this.ek):Math.max(Math.min(this.dk,this.kf),this.ek),this.Ra=Math.max(0,this.Ra-this.$e())}),Kh.defineProperty(Er,{position:"position"},function(){return this.jb},function(t){this.jb=t}),Er.prototype.bind=Er.prototype.bind=function(t){t.Hg=this;var e=this.Q;if(null!==e){var i=e.Tl();null!==i&&wr(i)&&Kh.k("Cannot add a Binding to a RowColumnDefinition that is already frozen: "+t+" on "+e)}null===this.vc&&(this.vc=new c(ne)),this.vc.add(t)},Kh.Ka(Pr,Eo),Kh.ga("Shape",Pr),Pr.prototype.cloneProtected=function(t){Eo.prototype.cloneProtected.call(this,t),t.Ua=this.Ua,t.Do=this.Do,t.yr=this.yr,t.Sf=this.Sf,t.Dd=this.Dd,t.rc=this.rc,t.ji=this.ji,t.op=this.op,t.qp=this.qp,t.fn=this.fn,null!==this.pp&&(t.pp=Kh.Ml(this.pp)),t.wf=this.wf,t.hi=this.hi.S(),t.ii=this.ii.S(),t.zs=this.zs,t.As=this.As,t.Ir=this.Ir,t.Cs=this.Cs,t.vp=this.vp,t.Fo=this.Fo,t.vg=this.vg,t.ug=this.ug,t.tg=this.tg},Pr.prototype.ic=function(t){t===Nd||t===Bd||t===Vd||t===jd?this.qA=t:Eo.prototype.ic.call(this,t)},Pr.prototype.toString=function(){return"Shape("+("None"!==this.Cb?this.Cb:"None"!==this.xq?this.xq:this.oA)+")#"+Kh.Od(this)},Pr.prototype.yk=function(t,e){if(null!==this.rc||null!==this.Dd){null!==this.Dd&&Fo(this,t,this.Dd,!0,!1),null!==this.rc&&Fo(this,t,this.rc,!1,!1);var i=this.ji;if(0===i){var n=this.U;n instanceof Ns&&n.type===tp&&"Selection"===n.vd&&n.sb instanceof Pr&&n.xf.Ld()===n.sb&&(i=n.sb.lb)}t.lineWidth=i,t.lineJoin=this.qp,t.lineCap=this.op,t.miterLimit=this.fn;var o=!1;this.U&&e.qj("drawShadows")&&(o=this.U.cm);var r=!0;null!==this.rc&&null===this.Dd&&(r=!1);var n=!1,s=!0,a=this.rG;null!==a&&(n=!0,s=t.kA(a,this.wf));var l=this.Ua;if(null!==l){if(l.na===ic)t.beginPath(),n&&!s?Po(t,l.zc,l.Jc,l.yb,l.Gb,a,this.wf):(t.moveTo(l.zc,l.Jc),t.lineTo(l.yb,l.Gb)),null!==this.Dd&&t.Mg(this.Dd),0!==i&&null!==this.rc&&t.Dj();else if(l.na===nc){var h=l.zc,u=l.Jc,c=l.yb,d=l.Gb,l=Math.min(h,c),p=Math.min(u,d),h=Math.abs(c-h),u=Math.abs(d-u);if(null!==this.Dd&&(t.beginPath(),t.rect(l,p,h,u),t.Mg(this.Dd)),null!==this.rc){var f=c=0,y=0;r&&o&&(c=t.shadowOffsetX,f=t.shadowOffsetY,y=t.shadowBlur,t.shadowOffsetX=0,t.shadowOffsetY=0,t.shadowBlur=0),n&&!s?(s=Kh.cb(),s.push(l),s.push(p),s.push(l+h),s.push(p),s.push(l+h),s.push(p+u),s.push(l),s.push(p+u),s.push(l),s.push(p),t.beginPath(),Or(t,s,a,this.wf),t.Dj(),Kh.ta(s)):0!==i&&(t.beginPath(),t.rect(l,p,h,u),t.Dj()),r&&o&&(t.shadowOffsetX=c,t.shadowOffsetY=f,t.shadowBlur=y)}}else if(l.na===oc)h=l.zc,u=l.Jc,c=l.yb,d=l.Gb,l=Math.abs(c-h)/2,p=Math.abs(d-u)/2,h=Math.min(h,c)+l,u=Math.min(u,d)+p,t.beginPath(),t.moveTo(h,u-p),t.bezierCurveTo(h+ju*l,u-p,h+l,u-ju*p,h+l,u),t.bezierCurveTo(h+l,u+ju*p,h+ju*l,u+p,h,u+p),t.bezierCurveTo(h-ju*l,u+p,h-l,u+ju*p,h-l,u),t.bezierCurveTo(h-l,u-ju*p,h-ju*l,u-p,h,u-p),t.closePath(),null!==this.Dd&&t.Mg(this.Dd),n&&!s&&(s=Kh.cb(),Z(h,u-p,h+ju*l,u-p,h+l,u-ju*p,h+l,u,.5,s),Z(h+l,u,h+l,u+ju*p,h+ju*l,u+p,h,u+p,.5,s),Z(h,u+p,h-ju*l,u+p,h-l,u+ju*p,h-l,u,.5,s),Z(h-l,u,h-l,u-ju*p,h-ju*l,u-p,h,u-p,.5,s),t.beginPath(),Or(t,s,a,this.wf),Kh.ta(s)),0!==i&&null!==this.rc&&(r&&o?(c=t.shadowOffsetX,f=t.shadowOffsetY,y=t.shadowBlur,t.shadowOffsetX=0,t.shadowOffsetY=0,t.shadowBlur=0,t.Dj(),t.shadowOffsetX=c,t.shadowOffsetY=f,t.shadowBlur=y):t.Dj());else if(l.na===rc){for(p=l.Oj,u=p.length,d=0;d<u;d++){h=p.n[d],t.beginPath(),t.moveTo(h.ha,h.ea);for(var c=h.vb.n,f=c.length,g=null,y=0;y<f;y++){var v=c[y];switch(v.na){case lc:t.moveTo(v.C,v.D);break;case hc:t.lineTo(v.C,v.D);break;case uc:t.bezierCurveTo(v.Fd,v.Ye,v.oh,v.Eg,v.yb,v.Gb);break;case cc:t.quadraticCurveTo(v.Fd,v.Ye,v.yb,v.Gb);break;case dc:if(v.radiusX===v.radiusY)g=Math.PI/180,t.arc(v.Fd,v.Ye,v.radiusX,v.ze*g,(v.ze+v.sf)*g,0>v.sf);else{var g=It(v,h),m=g.length;if(0===m){t.lineTo(v.la,v.ra);break}for(var b=0;b<m;b++){var w=g[b];0===b&&t.lineTo(w[0],w[1]),t.bezierCurveTo(w[2],w[3],w[4],w[5],w[6],w[7])}}break;case pc:if(b=m=0,null!==g&&g.type===dc){if(g=It(g,h),0===(w=g.length)){t.lineTo(v.la,v.ra);break}g=g[w-1]||null,null!==g&&(m=g[6],b=g[7])}else m=null!==g?g.C:h.ha,b=null!==g?g.D:h.ea;if(g=Pt(v,h,m,b),0===(m=g.length)){t.lineTo(v.la,v.ra);break}for(b=0;b<m;b++)w=g[b],t.bezierCurveTo(w[2],w[3],w[4],w[5],w[6],w[7]);break;default:Kh.k("Segment not of valid type: "+v.na)}v.Sh&&t.closePath(),g=v}o?(y=f=c=0,h.Oo?(!0===h.Fm&&null!==this.Dd?(t.Mg(this.Dd),r=!0):r=!1,0!==i&&null!==this.rc&&(r&&(c=t.shadowOffsetX,f=t.shadowOffsetY,y=t.shadowBlur,t.shadowOffsetX=0,t.shadowOffsetY=0,t.shadowBlur=0),n&&!s||t.Dj(),r&&(t.shadowOffsetX=c,t.shadowOffsetY=f,t.shadowBlur=y))):(r&&(c=t.shadowOffsetX,f=t.shadowOffsetY,y=t.shadowBlur,t.shadowOffsetX=0,t.shadowOffsetY=0,t.shadowBlur=0),!0===h.Fm&&null!==this.Dd&&t.Mg(this.Dd),0!==i&&null!==this.rc&&(n&&!s||t.Dj()),r&&(t.shadowOffsetX=c,t.shadowOffsetY=f,t.shadowBlur=y))):(!0===h.Fm&&null!==this.Dd&&t.Mg(this.Dd),0===i||null===this.rc||n&&!s||t.Dj())}if(n&&!s)for(i=r,r=l.Oj,s=r.length,l=0;l<s;l++){for(p=r.n[l],t.beginPath(),u=Kh.cb(),u.push(p.ha),u.push(p.ea),d=p.ha,h=p.ea,c=d,f=h,y=p.vb.n,v=y.length,g=0;g<v;g++){switch(m=y[g],m.na){case lc:Or(t,u,a,this.wf),u.length=0,u.push(m.C),u.push(m.D),d=m.C,h=m.D,c=d,f=h;break;case hc:u.push(m.C),u.push(m.D),d=m.C,h=m.D;break;case uc:Z(d,h,m.Fd,m.Ye,m.oh,m.Eg,m.yb,m.Gb,.5,u),d=m.C,h=m.D;break;case cc:nt(d,h,m.Fd,m.Ye,m.yb,m.Gb,.5,u),d=m.C,h=m.D;break;case dc:if(b=It(m,p),0===(w=b.length)){u.push(m.la),u.push(m.ra),d=m.la,h=m.ra;break}for(var x=0;x<w;x++){var C=b[x];Z(d,h,C[2],C[3],C[4],C[5],C[6],C[7],.5,u),d=C[6],h=C[7]}break;case pc:if(b=Pt(m,p,d,h),0===(w=b.length)){u.push(m.la),u.push(m.ra),d=m.la,h=m.ra;break}for(x=0;x<w;x++)C=b[x],Z(d,h,C[2],C[3],C[4],C[5],C[6],C[7],.5,u),d=C[6],h=C[7];break;default:Kh.k("Segment not of valid type: "+m.na)}m.Sh&&(u.push(c),u.push(f),Or(t,u,a,this.wf))}Or(t,u,a,this.wf),Kh.ta(u),null!==this.rc&&(d=u=p=0,i&&o&&(p=t.shadowOffsetX,u=t.shadowOffsetY,d=t.shadowBlur,t.shadowOffsetX=0,t.shadowOffsetY=0,t.shadowBlur=0),t.Dj(),i&&o&&(t.shadowOffsetX=p,t.shadowOffsetY=u,t.shadowBlur=d))}}if(n&&t.hA(),null!==this.Rx){if(n=this.Rx,No(n,1/0,1/0),a=n.za,n.jc(0,0,a.width,a.height),i=this.lf,t.save(),t.beginPath(),a=Kh.cb(),i.type===ic)a.push(i.ha),a.push(i.ea),a.push(i.C),a.push(i.D),Dr(t,e,a,n);else if(i.type===rc)for(s=i.fc.i;s.next();){for(l=s.value,a.length=0,a.push(l.ha),a.push(l.ea),r=l.ha,p=l.ea,u=r,d=p,h=l.vb.n,c=h.length,f=0;f<c;f++){switch(y=h[f],y.na){case lc:Dr(t,e,a,n),a.length=0,a.push(y.C),a.push(y.D),r=y.C,p=y.D,u=r,d=p;break;case hc:a.push(y.C),a.push(y.D),r=y.C,p=y.D;break;case uc:Z(r,p,y.Fd,y.Ye,y.oh,y.Eg,y.yb,y.Gb,.5,a),r=y.C,p=y.D;break;case cc:nt(r,p,y.Fd,y.Ye,y.yb,y.Gb,.5,a),r=y.C,p=y.D;break;case dc:if(i=It(y,l),0===(o=i.length)){a.push(y.la),a.push(y.ra),r=y.la,p=y.ra;break}for(v=0;v<o;v++)g=i[v],Z(r,p,g[2],g[3],g[4],g[5],g[6],g[7],.5,a),r=g[6],p=g[7];break;case pc:if(i=Pt(y,l,r,p),0===(o=i.length)){a.push(y.la),a.push(y.ra),r=y.la,p=y.ra;break}for(v=0;v<o;v++)g=i[v],Z(r,p,g[2],g[3],g[4],g[5],g[6],g[7],.5,a),r=g[6],p=g[7];break;default:Kh.k("Segment not of valid type: "+y.na)}y.Sh&&(a.push(u),a.push(d),Dr(t,e,a,n))}Dr(t,e,a,n)}else if(i.type===nc)a.push(i.ha),a.push(i.ea),a.push(i.C),a.push(i.ea),a.push(i.C),a.push(i.D),a.push(i.ha),a.push(i.D),a.push(i.ha),a.push(i.ea),Dr(t,e,a,n);else if(i.type===oc){if(s=new Tt,s.ha=i.C,s.ea=(i.ea+i.D)/2,r=new Et(dc),r.ze=0,r.sf=360,r.la=(i.ha+i.C)/2,r.ra=(i.ea+i.D)/2,r.radiusX=Math.abs(i.ha-i.C)/2,r.radiusY=Math.abs(i.ea-i.D)/2,s.add(r),i=It(r,s),0===(o=i.length))a.push(r.la),a.push(r.ra);else for(r=s.ha,p=s.ea,v=0;v<o;v++)g=i[v],Z(r,p,g[2],g[3],g[4],g[5],g[6],g[7],.5,a),r=g[6],p=g[7];Dr(t,e,a,n)}Kh.ta(a),t.restore(),t.Fe(!1)}}}},Pr.prototype.getDocumentPoint=Pr.prototype.Wa=function(t,e){if(void 0===e&&(e=new w),t instanceof N){t.Sd()&&Kh.k("getDocumentPoint Spot must be a real, specific Spot, not: "+t.toString());var i=this.Ja,n=this.lb;e.m(t.x*(i.width+n)-n/2+i.x+t.offsetX,t.y*(i.height+n)-n/2+i.y+t.offsetY)}else e.set(t);return this.rh.nb(e),e},Pr.prototype.vk=function(t,e){var i=this.lf;if(null===i||null===this.fill&&null===this.stroke)return!1;var n=i.gb,o=this.lb/2;i.type!==ic||e||(o+=2);var r=Kh.If();if(r.assign(n),r.Yf(o+2,o+2),!r.Ia(t))return Kh.Db(r),!1;if(n=o+1e-4,i.type===ic)return null!==this.stroke&&(n=(i.C-i.ha)*(t.x-i.ha)+(i.D-i.ea)*(t.y-i.ea),!(0>(i.ha-i.C)*(t.x-i.C)+(i.ea-i.D)*(t.y-i.D)||0>n)&&(Kh.Db(r),J(i.ha,i.ea,i.C,i.D,o,t.x,t.y)));if(i.type===nc){var s=i.ha,a=i.ea,l=i.C,h=i.D;if(r.x=Math.min(s,l),r.y=Math.min(a,h),r.width=Math.abs(l-s),r.height=Math.abs(h-a),null===this.fill){if(r.Yf(-n,-n),r.Ia(t))return Kh.Db(r),!1;r.Yf(n,n)}return null!==this.stroke&&r.Yf(o,o),o=r.Ia(t),Kh.Db(r),o}if(i.type===oc){var s=i.ha,a=i.ea,l=i.C,h=i.D,i=Math.min(s,l),u=Math.min(a,h),s=Math.abs(l-s)/2,a=Math.abs(h-a)/2,i=t.x-(i+s),u=t.y-(u+a);if(null===this.fill){if(s-=n,a-=n,0>=s||0>=a||1>=i*i/(s*s)+u*u/(a*a))return Kh.Db(r),!1;s+=n,a+=n}return null!==this.stroke&&(s+=o,a+=o),Kh.Db(r),!(0>=s||0>=a)&&1>=i*i/(s*s)+u*u/(a*a)}return i.type===rc?(Kh.Db(r),null===this.fill?kt(i,t.x,t.y,o):i.Ia(t,o,1<this.lb,e)):(Kh.k("Unknown Geometry type: "+i.type),!1)},Pr.prototype.Mn=function(t,e,i,n){var o=this.Ca,r=this.ji;t=Math.max(t,0),e=Math.max(e,0);var s;if(null!==this.Sf)s=this.lf.gb;else{var a=this.Cb,l=Zu[a];if(void 0===l){var h=Tp[a];"string"==typeof h&&(h=Tp[h]),"function"==typeof h?(l=h(null,100,100),Zu[a]=l):Kh.k("Unsupported Figure: "+a)}s=l.gb}var a=s.width,l=s.height,h=s.width,u=s.height;switch(Ho(this,!0)){case Nd:n=i=0;break;case Ad:h=Math.max(t-r,0),u=Math.max(e-r,0);break;case Fd:h=Math.max(t-r,0),n=0;break;case Rd:i=0,u=Math.max(e-r,0)}switch(isFinite(o.width)&&(h=o.width),isFinite(o.height)&&(u=o.height),o=this.Ff,s=this.si,i=Math.max(i,s.width)-r,n=Math.max(n,s.height)-r,h=Math.min(o.width,h),u=Math.min(o.height,u),h=isFinite(h)?Math.max(i,h):Math.max(a,i),u=isFinite(u)?Math.max(n,u):Math.max(l,n),i=Nr(this)){case Nd:break;case Ad:a=h,l=u;break;case Bd:i=Math.min(h/a,u/l),isFinite(i)||(i=1),a*=i,l*=i;break;default:Kh.k(i+" is not a valid geometryStretch.")}null!==this.Sf?(a=Math.max(a,.01),l=Math.max(l,.01),s=null!==this.Sf?this.Sf:this.Ua,o=a,n=l,i=s.copy(),s=s.gb,o/=s.width,n/=s.height,isFinite(o)||(o=1),isFinite(n)||(n=1),1===o&&1===n||i.scale(o,n),this.Ua=i):null!==this.Ua&&Y(this.Ua.No,t-r)&&Y(this.Ua.Lo,e-r)||(this.Ua=Pr.makeGeometry(this,a,l)),s=this.Ua.gb,1/0===t||1/0===e?Oo(this,s.x-r/2,s.y-r/2,0===t&&0===a?0:s.width+r,0===e&&0===l?0:s.height+r):Oo(this,-r/2,-r/2,h+r,u+r)},Pr.prototype.jj=function(t,e,i,n){jo(this,t,e,i,n)},Pr.prototype.getNearestIntersectionPoint=Pr.prototype.ZE=function(t,e,i){return this.An(t.x,t.y,e.x,e.y,i)},Pr.prototype.An=function(t,e,i,n,o){var r=this.transform,s=1/(r.m11*r.m22-r.m12*r.m21),a=r.m22*s,l=-r.m12*s,h=-r.m21*s,u=r.m11*s,c=s*(r.m21*r.dy-r.m22*r.dx),d=s*(r.m12*r.dx-r.m11*r.dy),r=t*a+e*h+c,s=t*l+e*u+d,a=i*a+n*h+c,l=i*l+n*u+d,h=this.lb/2,c=this.Ua;if(null===c&&(No(this,1/0,1/0),c=this.Ua),d=c.gb,u=!1,c.type===ic)if(1.5>=this.lb)u=at(c.zc,c.Jc,c.yb,c.Gb,r,s,a,l,o);else{var p=0,f=0;if(c.zc===c.yb?(p=h,f=0):(e=(c.Gb-c.Jc)/(c.yb-c.zc),f=h/Math.sqrt(1+e*e),p=f*e),n=Kh.cb(),e=new w,at(c.zc+p,c.Jc+f,c.yb+p,c.Gb+f,r,s,a,l,e)&&n.push(e),e=new w,at(c.zc-p,c.Jc-f,c.yb-p,c.Gb-f,r,s,a,l,e)&&n.push(e),e=new w,at(c.zc+p,c.Jc+f,c.zc-p,c.Jc-f,r,s,a,l,e)&&n.push(e),e=new w,at(c.yb+p,c.Gb+f,c.yb-p,c.Gb-f,r,s,a,l,e)&&n.push(e),0===(e=n.length))return Kh.ta(n),!1;for(u=!0,f=1/0,p=0;p<e;p++){var a=n[p],y=(a.x-r)*(a.x-r)+(a.y-s)*(a.y-s);y<f&&(f=y,o.x=a.x,o.y=a.y)}Kh.ta(n)}else if(c.type===nc)e=d.x-h,u=lt(e,d.y-h,d.x+d.width+h,d.y+d.height+h,r,s,a,l,o);else if(c.type===oc)t:if(e=d.copy().Yf(h,h),0===e.width)u=at(e.x,e.y,e.x,e.y+e.height,r,s,a,l,o);else if(0===e.height)u=at(e.x,e.y,e.x+e.width,e.y,r,s,a,l,o);else{t=e.width/2;var g=e.height/2;if(n=e.x+t,e=e.y+g,i=9999,r!==a&&(i=(s-l)/(r-a)),9999>Math.abs(i)){if(u=s-e-i*(r-n),0>t*t*i*i+g*g-u*u){o.x=NaN,o.y=NaN,u=!1;break t}h=Math.sqrt(t*t*i*i+g*g-u*u),a=(-t*t*i*u+t*g*h)/(g*g+t*t*i*i)+n,t=(-t*t*i*u-t*g*h)/(g*g+t*t*i*i)+n,l=i*(a-n)+u+e,e=i*(t-n)+u+e,n=Math.abs((r-a)*(r-a))+Math.abs((s-l)*(s-l)),s=Math.abs((r-t)*(r-t))+Math.abs((s-e)*(s-e)),n<s?(o.x=a,o.y=l):(o.x=t,o.y=e)}else{if(a=g*g,l=r-n,0>(a-=a/(t*t)*l*l)){o.x=NaN,o.y=NaN,u=!1;break t}h=Math.sqrt(a),l=e+h,e-=h,n=Math.abs(l-s),s=Math.abs(e-s),n<s?(o.x=r,o.y=l):(o.x=r,o.y=e)}u=!0}else if(c.type===rc){var v=0,m=0,b=y=0,d=Kh.K(),p=a-r,f=l-s,f=p*p+f*f;for(o.x=a,o.y=l,p=0;p<c.fc.count;p++)for(var x=c.fc.n[p],C=x.vb,v=x.ha,m=x.ea,k=v,S=m,M=0;M<C.count;M++){var T=C.n[M],E=T.type,y=T.C,b=T.D,I=!1;switch(E){case lc:k=y,S=b;break;case hc:I=Rr(v,m,y,b,r,s,a,l,d);break;case uc:var I=T.uc,E=T.Qc,P=T.Ch,D=T.Dh,I=ot(v,m,I,E,P,D,y,b,r,s,a,l,.5,d);break;case cc:I=(v+2*T.uc)/3,E=(m+2*T.Qc)/3,P=(2*T.uc+y)/3,D=(2*T.uc+y)/3,I=ot(v,m,I,E,P,D,y,b,r,s,a,l,.5,d);break;case dc:case pc:if(E=T.type===dc?It(T,x):Pt(T,x,v,m),0===(P=E.length)){I=Rr(v,m,T.la,T.ra,r,s,a,l,d);break}for(b=0;b<P;b++)g=E[b],0===b&&Rr(v,m,g[0],g[1],r,s,a,l,d)&&(y=jr(r,s,d,f,o))<f&&(f=y,u=!0),ot(g[0],g[1],g[2],g[3],g[4],g[5],g[6],g[7],r,s,a,l,.5,d)&&(y=jr(r,s,d,f,o))<f&&(f=y,u=!0);y=g[6],b=g[7];break;default:Kh.k("Unknown Segment type: "+E)}v=y,m=b,I&&(y=jr(r,s,d,f,o))<f&&(f=y,u=!0),T.xx&&(y=k,b=S,Rr(v,m,y,b,r,s,a,l,d)&&(y=jr(r,s,d,f,o))<f&&(f=y,u=!0))}r=i-t,s=n-e,e=Math.sqrt(r*r+s*s),0!==e&&(r/=e,s/=e),o.x-=r*h,o.y-=s*h,Kh.v(d)}else Kh.k("Unknown Geometry type: "+c.type);return!!u&&(this.transform.nb(o),!0)},Pr.prototype.containedInRect=Pr.prototype.qn=function(t,e){if(void 0===e)return t.wk(this.W);var i=this.Ua;null===i&&(No(this,1/0,1/0),i=this.Ua);var i=i.gb,n=this.lb/2,o=!1,r=Kh.K();return r.m(i.x-n,i.y-n),t.Ia(e.nb(r))&&(r.m(i.x-n,i.bottom+n),t.Ia(e.nb(r))&&(r.m(i.right+n,i.bottom+n),t.Ia(e.nb(r))&&(r.m(i.right+n,i.y-n),t.Ia(e.nb(r))&&(o=!0)))),Kh.v(r),o},Pr.prototype.intersectsRect=Pr.prototype.Zf=function(t,e){if(this.qn(t,e)||void 0===e&&(e=this.transform,t.wk(this.W)))return!0;var i=Kh.Jf();i.set(e),i.vx();var n=t.left,o=t.right,r=t.top,s=t.bottom,a=Kh.K();if(a.m(n,r),i.nb(a),this.vk(a,!0))return Kh.v(a),!0;if(a.m(o,r),i.nb(a),this.vk(a,!0))return Kh.v(a),!0;if(a.m(n,s),i.nb(a),this.vk(a,!0))return Kh.v(a),!0;if(a.m(o,s),i.nb(a),this.vk(a,!0))return Kh.v(a),!0;var l=Kh.K(),h=Kh.K();i.set(e),i.IF(this.transform),i.vx(),l.x=o,l.y=r,l.transform(i),a.x=n,a.y=r,a.transform(i);var u=!1;return Fr(this,a,l,h)?u=!0:(a.x=o,a.y=s,a.transform(i),Fr(this,a,l,h)?u=!0:(l.x=n,l.y=s,l.transform(i),Fr(this,a,l,h)?u=!0:(a.x=n,a.y=r,a.transform(i),Fr(this,a,l,h)&&(u=!0)))),Kh.v(a),Kh.we(i),Kh.v(l),Kh.v(h),u},Pr.prototype.SE=function(t,e,i){function n(t,e){for(var i=t.length,n=0;n<i;n+=2)if(e.Op(t[n],t[n+1])>o)return!0;return!1}if(i&&null!==this.fill&&this.vk(t,!0))return!0;var o=t.zf(e);e=o,1.5<this.lb&&(o=this.lb/2+Math.sqrt(o),o*=o);var r=this.Ua;if(null===r&&(No(this,1/0,1/0),null===(r=this.Ua)))return!1;if(!i){var s=r.gb,a=s.x,l=s.y,h=s.x+s.width,s=s.y+s.height;if(Jh(t.x,t.y,a,l)<=o&&Jh(t.x,t.y,h,l)<=o&&Jh(t.x,t.y,a,s)<=o&&Jh(t.x,t.y,h,s)<=o)return!0}if(a=r.zc,l=r.Jc,h=r.yb,s=r.Gb,r.type===ic){if(i=Yh(t.x,t.y,a,l,h,s),r=(a-h)*(t.x-h)+(l-s)*(t.y-s),i<=(0<=(h-a)*(t.x-a)+(s-l)*(t.y-l)&&0<=r?o:e))return!0}else{if(r.type===nc)return e=!1,i&&(e=Yh(t.x,t.y,a,l,a,s)<=o||Yh(t.x,t.y,a,l,h,l)<=o||Yh(t.x,t.y,h,l,h,s)<=o||Yh(t.x,t.y,a,s,h,s)<=o),e;if(r.type===oc){e=t.x-(a+h)/2;var r=t.y-(l+s)/2,u=Math.abs(h-a)/2,c=Math.abs(s-l)/2;if(0===u||0===c)return(i=Yh(t.x,t.y,a,l,h,s))<=o;if(!i)return!(Jh(e,r,-u,0)>=o||Jh(e,r,0,-c)>=o||Jh(e,r,0,c)>=o||Jh(e,r,u,0)>=o);if((t=vt(u,c,e,r))*t<=o)return!0}else if(r.type===rc){if(s=r.gb,a=s.x,l=s.y,h=s.x+s.width,s=s.y+s.height,t.x>h&&t.x<a&&t.y>s&&t.y<l&&Yh(t.x,t.y,a,l,a,s)>o&&Yh(t.x,t.y,a,l,h,l)>o&&Yh(t.x,t.y,h,s,a,s)>o&&Yh(t.x,t.y,h,s,h,l)>o)return!1;if(e=Math.sqrt(o),!i){for(i=r.fc,e=0;e<i.count;e++){if(a=i.n[e],u=a.ha,c=a.ea,t.Op(u,c)>o)return!1;for(l=a.vb.n,h=l.length,s=0;s<h;s++){var d=l[s];switch(d.type){case lc:case hc:if(u=d.C,c=d.D,t.Op(u,c)>o)return!1;break;case uc:if(r=Kh.cb(),Z(u,c,d.uc,d.Qc,d.Ch,d.Dh,d.C,d.D,.8,r),u=n(r,t),Kh.ta(r),u)return!1;if(u=d.C,c=d.D,t.Op(u,c)>o)return!1;break;case cc:if(r=Kh.cb(),nt(u,c,d.uc,d.Qc,d.C,d.D,.8,r),u=n(r,t),Kh.ta(r),u)return!1;if(u=d.C,c=d.D,t.Op(u,c)>o)return!1;break;case dc:case pc:var p=d.type===dc?It(d,a):Pt(d,a,u,c),f=p.length;if(0===f){if(u=d.la,c=d.ra,t.Op(u,c)>o)return!1;break}for(d=null,r=Kh.cb(),e=0;e<f;e++)if(d=p[e],r.length=0,Z(d[0],d[1],d[2],d[3],d[4],d[5],d[6],d[7],.8,r),n(r,t))return Kh.ta(r),!1;Kh.ta(r),null!==d&&(u=d[6],c=d[7]);break;default:Kh.k("Unknown Segment type: "+d.type)}}}return!0}if(null===this.fill?kt(r,t.x,t.y,e):r.Ia(t,e,!0))return!0}}return!1},Kh.defineProperty(Pr,{lf:"geometry"},function(){return null!==this.Ua?this.Ua:this.Sf},function(t){var e=this.Ua;if(e!==t){this.Sf=this.Ua=null!==t?t.freeze():null;var i=this.U;null!==i&&(i.ck=NaN),this.H(),this.h("geometry",e,t),_o(this)&&null!==(t=this.U)&&Do(this,t,"geometryString")}}),Kh.defineProperty(Pr,{YH:"geometryString"},function(){return null===this.lf?"":this.lf.toString()},function(t){t=ac(t);var e=t.normalize();this.lf=t,this.position=t=Kh.xb(-e.x,-e.y),Kh.v(t)}),Kh.defineProperty(Pr,{pF:"isGeometryPositioned"},function(){return this.Ir},function(t){var e=this.Ir;e!==t&&(this.Ir=t,this.H(),this.h("isGeometryPositioned",e,t))}),Pr.prototype.Me=function(){this.Ua=null},Kh.defineProperty(Pr,{fill:"fill"},function(){return this.Dd},function(t){var e=this.Dd;e!==t&&(t instanceof wo&&t.freeze(),this.Dd=t,this.oa(),this.h("fill",e,t))}),Kh.defineProperty(Pr,{stroke:"stroke"},function(){return this.rc},function(t){var e=this.rc;e!==t&&(t instanceof wo&&t.freeze(),this.rc=t,this.oa(),this.h("stroke",e,t))}),Kh.defineProperty(Pr,{lb:"strokeWidth"},function(){return this.ji},function(t){var e=this.ji;if(e!==t)if(0<=t){this.ji=t,this.H();var i=this.U;null!==i&&(i.ck=NaN),this.h("strokeWidth",e,t)}else Kh.Fa(t,"value >= 0",Pr,"strokeWidth:value")}),Kh.defineProperty(Pr,{PL:"strokeCap"},function(){return this.op},function(t){var e=this.op;e!==t&&("string"!=typeof t||"butt"!==t&&"round"!==t&&"square"!==t?Kh.Fa(t,'"butt", "round", or "square"',Pr,"strokeCap"):(this.op=t,this.oa(),this.h("strokeCap",e,t)))}),Kh.defineProperty(Pr,{RL:"strokeJoin"},function(){return this.qp},function(t){var e=this.qp;e!==t&&("string"!=typeof t||"miter"!==t&&"bevel"!==t&&"round"!==t?Kh.Fa(t,'"miter", "bevel", or "round"',Pr,"strokeJoin"):(this.qp=t,this.oa(),this.h("strokeJoin",e,t)))}),Kh.defineProperty(Pr,{SL:"strokeMiterLimit"},function(){return this.fn},function(t){var e=this.fn;if(e!==t)if(1<=t){this.fn=t,this.oa();var i=this.U;null!==i&&(i.ck=NaN),this.h("strokeMiterLimit",e,t)}else Kh.Fa(t,"value >= 1",Pr,"strokeWidth:value")}),Kh.defineProperty(Pr,{rG:"strokeDashArray"},function(){return this.pp},function(t){var e=this.pp;if(e!==t){if(null===t||Array.isArray(t)||Kh.Bd(t,"Array",Pr,"strokeDashArray:value"),null!==t){for(var i=t.length,n=0,o=0;o<i;o++){var r=t[o];"number"==typeof r&&0<=r&&isFinite(r)||Kh.k("strokeDashArray:value "+r+" at index "+o+" must be a positive number or zero."),n+=r}if(0===n){if(null===e)return;t=null}}this.pp=t,this.oa(),this.h("strokeDashArray",e,t)}}),Kh.defineProperty(Pr,{QL:"strokeDashOffset"},function(){return this.wf},function(t){var e=this.wf;e!==t&&0<=t&&(this.wf=t,this.oa(),this.h("strokeDashOffset",e,t))}),Kh.defineProperty(Pr,{Cb:"figure"},function(){return this.Do},function(t){var e=this.Do;if(e!==t){var i=Tp[t];"function"==typeof i?i=t:(i=Tp[t.toLowerCase()])||Kh.k("Unknown Shape.figure: "+t),e!==i&&(t=this.U,null!==t&&(t.ck=NaN),this.Do=i,this.Sf=null,this.Me(),this.H(),this.h("figure",e,i))}}),Kh.defineProperty(Pr,{xq:"toArrow"},function(){return this.vp},function(t){var e=this.vp;if(!0===t?t="Standard":!1===t&&(t=""),e!==t){var i=hs(t);null===i?Kh.k("Unknown Shape.toArrow: "+t):e!==i&&(this.vp=i,this.Sf=null,this.Me(),this.H(),Ar(this),this.h("toArrow",e,i))}}),Kh.defineProperty(Pr,{oA:"fromArrow"},function(){return this.Fo},function(t){var e=this.Fo;if(!0===t?t="Standard":!1===t&&(t=""),e!==t){var i=hs(t);null===i?Kh.k("Unknown Shape.fromArrow: "+t):e!==i&&(this.Fo=i,this.Sf=null,this.Me(),this.H(),Ar(this),this.h("fromArrow",e,i))}}),Kh.defineProperty(Pr,{A:"spot1"},function(){return this.hi},function(t){Kh.G(t,N,Pr,"spot1");var e=this.hi;e.L(t)||(this.hi=t=t.S(),this.H(),this.h("spot1",e,t))}),Kh.defineProperty(Pr,{B:"spot2"},function(){return this.ii},function(t){Kh.G(t,N,Pr,"spot2");var e=this.ii;e.L(t)||(this.ii=t=t.S(),this.H(),this.h("spot2",e,t))}),Kh.defineProperty(Pr,{Fc:"parameter1"},function(){return this.zs},function(t){var e=this.zs;e!==t&&(this.zs=t,this.Me(),this.H(),this.h("parameter1",e,t))}),Kh.defineProperty(Pr,{Au:"parameter2"},function(){return this.As},function(t){var e=this.As;e!==t&&(this.As=t,this.Me(),this.H(),this.h("parameter2",e,t))}),Kh.u(Pr,{Ja:"naturalBounds"},function(){if(null!==this.Ua)return this.Uc.assign(this.Ua.gb),this.Uc;var t=this.Ca;return new S(0,0,t.width,t.height)}),Kh.defineProperty(Pr,{Rx:"pathPattern"},function(){return this.Cs},function(t){var e=this.Cs;e!==t&&(this.Cs=t,this.oa(),this.h("pathPattern",e,t))}),Kh.defineProperty(Pr,{FL:"pathObject"},function(){return this.Rx},function(t){this.Rx=t}),Kh.defineProperty(Pr,{qA:"geometryStretch"},function(){return this.yr},function(t){var e=this.yr;e!==t&&(Kh.mb(t,Eo,Pr,"geometryStretch"),this.yr=t,this.h("geometryStretch",e,t))}),Kh.defineProperty(Pr,{interval:"interval"},function(){return this.vg},function(t){var e=this.vg;if(t=Math.floor(t),e!==t&&0<=t){this.vg=t;var i=this.g;null!==i&&this.Q===i.Cn&&Mn(i),this.H(),i=this.Q,null!==i&&i.type===ip&&(i.Uj=null),this.h("interval",e,t)}}),Kh.defineProperty(Pr,{cF:"graduatedStart"},function(){return this.ug},function(t){var e=this.ug;e!==t&&(0>t?t=0:1<t&&(t=1),this.ug=t,this.H(),this.h("graduatedStart",e,t))}),Kh.defineProperty(Pr,{aF:"graduatedEnd"},function(){return this.tg},function(t){var e=this.tg;e!==t&&(0>t?t=0:1<t&&(t=1),this.tg=t,this.H(),this.h("graduatedEnd",e,t))}),Pr.makeGeometry=function(t,e,i){var n=null;if("None"!==t.xq)n=tc[t.xq];else if("None"!==t.oA)n=tc[t.oA];else{var o=Tp[t.Cb];"string"==typeof o&&(o=Tp[o]),void 0===o&&Kh.k("Unknown Shape.figure: "+t.Cb),n=o(t,e,i),n.No=e,n.Lo=i}return null===n&&"function"==typeof(o=Tp.Rectangle)&&(n=o(t,e,i)),n},Pr.getFigureGenerators=function(){var t,e=new b("string","function");for(t in Tp)if(t!==t.toLowerCase()){var i=Tp[t];"function"==typeof i&&e.add(t,i)}return e.freeze(),e},Pr.defineFigureGenerator=function(t,e){Kh.j(t,"string",Pr,"defineFigureGenerator:name"),"string"==typeof e?""!==e&&Tp[e]||Kh.k("Shape.defineFigureGenerator synonym must not be empty or None or not a defined figure name: "+e):Kh.j(e,"function",Pr,"defineFigureGenerator:func");var i=t.toLowerCase();""!==t&&"none"!==i&&t!==i||Kh.k("Shape.defineFigureGenerator name must not be empty or None or all-lower-case: "+t),Tp[t]=e,Tp[i]=t},Pr.getArrowheadGeometries=function(){var t,e=new b("string",mt);for(t in Ep)if(void 0===tc[t]){var i=ac(Ep[t],!1);tc[t]=i,i=t.toLowerCase(),i!==t&&(tc[i]=t)}for(t in tc)t!==t.toLowerCase()&&(i=tc[t])instanceof mt&&e.add(t,i);return e.freeze(),e},Pr.defineArrowheadGeometry=function(t,e){Kh.j(t,"string",Pr,"defineArrowheadGeometry:name");var i=null;"string"==typeof e?(Kh.j(e,"string",Pr,"defineArrowheadGeometry:pathstr"),i=ac(e,!1)):(Kh.G(e,mt,Pr,"defineArrowheadGeometry:pathstr"),i=e);var n=t.toLowerCase();""!==t&&"none"!==n&&t!==n||Kh.k("Shape.defineArrowheadGeometry name must not be empty or None or all-lower-case: "+t),tc[t]=i,tc[n]=t},Kh.Ka(Br,Eo),Kh.ga("TextBlock",Br);var lp=/[ \u200b\u00ad]/;Br.prototype.cloneProtected=function(t){Eo.prototype.cloneProtected.call(this,t),t.Jd=this.Jd,t.rc=this.rc,t.rg=this.rg,t.Al=this.Al,t.qg=this.qg,t.El=this.El,t.Gm=this.Gm,t.Zj=this.Zj,t.Yj=this.Yj,t.Zi=this.Zi,t.rk=this.rk,t.le=this.le,t.Zv=this.Zv,t.rz=this.rz,t.qz=this.qz,t.vf.Ip(this.vf),t.rr=this.rr,t.mt=this.mt,t.Bl=this.Bl,t.lt=this.lt,t.Rq=this.Rq,t.Ve=this.Ve,t.fi=this.fi,t.gi=this.gi,t.hh=this.hh,t.To=this.To,t.vg=this.vg,t.ug=this.ug,t.tg=this.tg,t.Cm=this.Cm},Br.prototype.ic=function(t){t.Ee===Br?this.FG=t:Eo.prototype.ic.call(this,t)},Br.prototype.toString=function(){return 22<this.Jd.length?'TextBlock("'+this.Jd.substring(0,20)+'"...)':'TextBlock("'+this.Jd+'")'};var hp=new o,up=0,cp=new o,dp=0,pp="...",fp="",yp=new U(null).xk;Br.getEllipsis=function(){return pp},Br.setEllipsis=function(t){pp=t,cp=new o,dp=0};var gp;Br.None=gp=Kh.p(Br,"None",0);var vp;Br.WrapFit=vp=Kh.p(Br,"WrapFit",1);var mp;Br.WrapDesiredSize=mp=Kh.p(Br,"WrapDesiredSize",2);var bp;Br.OverflowClip=bp=Kh.p(Br,"OverflowClip",0);var wp;Br.OverflowEllipsis=wp=Kh.p(Br,"OverflowEllipsis",1),Br.prototype.H=function(){Eo.prototype.H.call(this),this.qz=this.rz=null},Kh.defineProperty(Br,{font:"font"},function(){return this.rg},function(t){var e=this.rg;e!==t&&(this.rg=t,this.vf.Pj=null,this.H(),this.h("font",e,t))}),Br.isValidFont=function(t){var e=yp.font;if(t===e||"10px sans-serif"===t)return!0;yp.font="10px sans-serif";var i;yp.font=t;var n=yp.font;return"10px sans-serif"!==n?(yp.font=e,!0):(yp.font="19px serif",i=yp.font,yp.font=t,n=yp.font,yp.font=e,n!==i)},Kh.defineProperty(Br,{text:"text"},function(){return this.Jd},function(t){var e=this.Jd;t=null!==t&&void 0!==t?t.toString():"",e!==t&&(this.Jd=t,this.H(),this.h("text",e,t))}),Kh.defineProperty(Br,{textAlign:"textAlign"},function(){return this.Al},function(t){var e=this.Al;e!==t&&("start"===t||"end"===t||"left"===t||"right"===t||"center"===t?(this.Al=t,this.oa(),this.h("textAlign",e,t)):Kh.Fa(t,'"start", "end", "left", "right", or "center"',Br,"textAlign"))}),Kh.defineProperty(Br,{Tt:"flip"},function(){return this.qg},function(t){var e=this.qg;e!==t&&(Kh.mb(t,Eo,Br,"flip"),this.qg=t,this.oa(),this.h("flip",e,t))}),Kh.defineProperty(Br,{YL:"verticalAlignment"},function(){return this.El},function(t){var e=this.El;e.L(t)||(t.Sd()&&Kh.k("TextBlock.verticalAlignment for "+this+" must be a real Spot, not:"+t),this.El=t=t.S(),Vo(this),this.h("verticalAlignment",e,t))}),Kh.u(Br,{Ja:"naturalBounds"},function(){if(!this.Uc.I()){var t=Vr(this,this.Jd,this.vf,999999).width,e=_r(this,t,this.vf),i=this.Ca;isNaN(i.width)||(t=i.width),isNaN(i.height)||(e=i.height),M(this.Uc,t,e)}return this.Uc}),Kh.defineProperty(Br,{Bx:"isMultiline"},function(){return this.Gm},function(t){var e=this.Gm;e!==t&&(this.Gm=t,this.H(),this.h("isMultiline",e,t))}),Kh.defineProperty(Br,{fL:"isUnderline"},function(){return this.Zj},function(t){var e=this.Zj;e!==t&&(this.Zj=t,this.oa(),this.h("isUnderline",e,t))}),Kh.defineProperty(Br,{eL:"isStrikethrough"},function(){return this.Yj},function(t){var e=this.Yj;e!==t&&(this.Yj=t,this.oa(),this.h("isStrikethrough",e,t))}),Kh.defineProperty(Br,{FG:"wrap"},function(){return this.rk},function(t){var e=this.rk;e!==t&&(this.rk=t,this.H(),this.h("wrap",e,t))}),Kh.defineProperty(Br,{overflow:"overflow"},function(){return this.Zi},function(t){var e=this.Zi;e!==t&&(this.Zi=t,this.H(),this.h("overflow",e,t))}),Kh.defineProperty(Br,{stroke:"stroke"},function(){return this.rc},function(t){var e=this.rc;e!==t&&(t instanceof wo&&t.freeze(),this.rc=t,this.oa(),this.h("stroke",e,t))}),Kh.u(Br,{HA:"lineCount"},function(){return this.le}),Kh.defineProperty(Br,{jA:"editable"},function(){return this.rr},function(t){var e=this.rr;e!==t&&(this.rr=t,this.h("editable",e,t))}),Kh.defineProperty(Br,{tG:"textEditor"},function(){return this.mt},function(t){var e=this.mt;e!==t&&(this.mt=t,this.h("textEditor",e,t))}),Kh.defineProperty(Br,{lA:"errorFunction"},function(){return this.Ve},function(t){var e=this.Ve;e!==t&&(null!==t&&Kh.j(t,"function",Br,"errorFunction"),this.Ve=t,this.h("errorFunction",e,t))}),Kh.defineProperty(Br,{interval:"interval"},function(){return this.vg},function(t){var e=this.vg;if(t=Math.floor(t),e!==t&&0<=t){this.vg=t,this.H();var i=this.Q;null!==i&&i.type===ip&&(i.Uj=null),this.h("interval",e,t)}}),Kh.defineProperty(Br,{cF:"graduatedStart"},function(){return this.ug},function(t){var e=this.ug;e!==t&&(0>t?t=0:1<t&&(t=1),this.ug=t,this.H(),this.h("graduatedStart",e,t))}),Kh.defineProperty(Br,{aF:"graduatedEnd"},function(){return this.tg},function(t){var e=this.tg;e!==t&&(0>t?t=0:1<t&&(t=1),this.tg=t,this.H(),this.h("graduatedEnd",e,t))}),Kh.defineProperty(Br,{bF:"graduatedFunction"},function(){return this.Cm},function(t){var e=this.Cm;e!==t&&(null!==t&&Kh.j(t,"function",Br,"graduatedFunction"),this.Cm=t,this.H(),this.h("graduatedFunction",e,t))}),Br.prototype.yk=function(t,e){if(null!==this.rc&&0!==this.Jd.length&&null!==this.rg){var i=this.Ja.width,n=this.Ja.height,o=qr(this),r=t.textAlign=this.Al,s=e.Mr;"start"===r&&(r=s?"right":"left"),"end"===r&&(r=s?"left":"right"),Fo(this,t,this.rc,!0,!1),(this.Zj||this.Yj)&&Fo(this,t,this.rc,!1,!1);var a=0,s=!1,l=Kh.xb(0,0);this.rh.nb(l);var h=Kh.xb(0,o);this.rh.nb(h);var u=l.zf(h);switch(Kh.v(l),Kh.v(h),l=e.scale,8>u*l*l&&(s=!0),e.ff!==t&&(s=!1),!1===e.qj("textGreeking")&&(s=!1),u=this.fi,l=this.gi,this.Tt){case zd:t.translate(i,0),t.scale(-1,1);break;case Hd:t.translate(0,n),t.scale(1,-1);break;case qd:t.translate(i,n),t.scale(-1,-1)}var h=this.le,c=(u+o+l)*h;n>c&&(a=this.El,a=a.y*n-a.y*c+a.offsetY);for(var c=this.vf,d=0;d<h;d++){var p=c.tf[d],f=c.Se[d];p>i&&(p=i);var a=a+u,y=f,f=t,g=a,v=i,m=o,b=r,w=0;s?("left"===b?w=0:"right"===b?w=v-p:"center"===b&&(w=(v-p)/2),f.fillRect(0+w,g+.25*m,p,1)):("left"===b?w=0:"right"===b?w=v:"center"===b&&(w=v/2),f.fillText(y,0+w,g+m-.25*m),y=m/20|0,0===y&&(y=1),"right"===b?w-=p:"center"===b&&(w-=p/2),this.Zj&&(f.beginPath(),f.lineWidth=y,f.moveTo(0+w,g+m-.2*m),f.lineTo(0+w+p,g+m-.2*m),f.stroke()),this.Yj&&(f.beginPath(),f.lineWidth=y,g=g+m-m/2.2|0,0!=y%2&&(g+=.5),f.moveTo(0+w,g),f.lineTo(0+w+p,g),f.stroke())),a+=o+l}switch(this.Tt){case zd:t.scale(-1,1),t.translate(-i,0);break;case Hd:t.scale(1,-1),t.translate(0,-n);break;case qd:t.scale(-1,-1),t.translate(-i,-n)}}},Br.prototype.Mn=function(t,e,i,n){this.To=t;var o=this.vf;o.reset();var r=0,s=0;if(isNaN(this.Ca.width)){if(r=this.Jd.replace(/\r\n/g,"\n").replace(/\r/g,"\n"),0===r.length)r=0;else if(this.Bx){for(var a=s=0,l=!1;!l;){var h=r.indexOf("\n",a);-1===h&&(h=r.length,l=!0),a=zr(r.substr(a,h-a).replace(/^\s+|\s+$/g,""),this.rg),a>s&&(s=a),a=h+1}r=s}else s=r.indexOf("\n",0),0<=s&&(r=r.substr(0,s)),r=a=zr(r,this.rg);r=Math.min(r,t/this.scale),r=Math.max(8,r)}else r=this.Ca.width;if(null!==this.Q&&(r=Math.min(r,this.Q.Ff.width)),s=_r(this,r,o),h=s=isNaN(this.Ca.height)?Math.min(s,e/this.scale):this.Ca.height,0!==o.We&&1!==o.Se.length&&this.Zi===wp&&(e=this.rg,l=this.Zi===wp?Gr(e):0,a=this.fi+this.gi,a=Math.max(0,qr(this)+a),!((h=Math.min(this.RI-1,Math.max(Math.floor(h/a+.01)-1,0)))+1>=o.Se.length))){for(a=o.Se[h],t=Math.max(1,t-l);zr(a,e)>t&&1<a.length;)a=a.substr(0,a.length-1);a+=pp,t=zr(a,e),o.Se[h]=a,o.Se=o.Se.slice(0,h+1),o.tf[h]=t,o.tf=o.tf.slice(0,h+1),o.hj=o.Se.length,o.We=Math.max(o.We,t),this.le=o.hj}(this.FG===vp||isNaN(this.Ca.width))&&(r=o.We,isNaN(this.Ca.width)&&(r=Math.max(8,r))),r=Math.max(i,r),s=Math.max(n,s),M(this.Uc,r,s),Oo(this,0,0,r,s)},Br.prototype.jj=function(t,e,i,n){jo(this,t,e,i,n)},Kh.defineProperty(Br,{vB:"textValidation"},function(){return this.Bl},function(t){var e=this.Bl;e!==t&&(null!==t&&Kh.j(t,"function",Br,"textValidation"),this.Bl=t,this.h("textValidation",e,t))}),Kh.defineProperty(Br,{sG:"textEdited"},function(){return this.lt},function(t){var e=this.lt;e!==t&&(null!==t&&Kh.j(t,"function",Br,"textEdited"),this.lt=t,this.h("textEdited",e,t))}),Kh.defineProperty(Br,{ML:"spacingAbove"},function(){return this.fi},function(t){var e=this.fi;e!==t&&(this.fi=t,this.h("spacingAbove",e,t))}),Kh.defineProperty(Br,{NL:"spacingBelow"},function(){return this.gi},function(t){var e=this.gi;e!==t&&(this.gi=t,this.h("spacingBelow",e,t))}),Kh.defineProperty(Br,{RI:"maxLines"},function(){return this.hh},function(t){var e=this.hh;e!==t&&(t=Math.floor(t),0>=t&&Kh.Fa(t,"> 0",Br,"maxLines"),this.hh=t,this.h("maxLines",e,t),this.H())}),Kh.u(Br,{rL:"metrics"},function(){return this.vf}),Kh.defineProperty(Br,{DK:"choices"},function(){return this.Rq},function(t){var e=this.Rq;e!==t&&(null===t||Array.isArray(t)||Kh.Bd(t,"Array",Br,"choices:value"),this.Rq=t,this.h("choices",e,t))}),Ur.prototype.reset=function(){this.We=this.hj=0,this.Pj=null,this.tf=[],this.Se=[]},Ur.prototype.Ip=function(t){this.hj=t.hj,this.Pj=t.Pj,this.We=t.We,this.tf=Kh.Ml(t.tf),this.Se=Kh.Ml(t.Se)},Kh.u(Ur,{zK:"arrSize"},function(){return this.tf}),Kh.u(Ur,{AK:"arrText"},function(){return this.Se}),Kh.u(Ur,{qL:"maxLineWidth"},function(){return this.We}),Kh.u(Ur,{YK:"fontHeight"},function(){return this.Pj}),Kh.Ka(Kr,Eo),Kh.ga("Picture",Kr),Kr.prototype.cloneProtected=function(t){Eo.prototype.cloneProtected.call(this,t),t.element=this.Ue,t.et=this.et,t.jk=this.jk.S(),t.Io=this.Io,t.qg=this.qg,t.Ve=this.Ve,t.ki=this.ki,t.Ho=this.Ho.S(),t.Bv=this.Bv,t.jp=this.jp},Kr.prototype.ic=function(t){t===Nd||t===Bd||t===Vd?this.nI=t:Eo.prototype.ic.call(this,t)},Kr.prototype.toString=function(){return"Picture("+this.source+")#"+Kh.Od(this)};var xp,Cp=new o,kp=0,Sp=[];Kr.clearCache=xp=function(t){void 0===t&&(t=""),Kh.j(t,"string",Kr,"clearCache:url"),""!==t?Cp[t]&&(delete Cp[t],kp--):(Cp=new o,kp=0)},Kh.defineProperty(Kr,{element:"element"},function(){return this.Ue},function(t){var e=this.Ue;if(e!==t){if(null===t||t instanceof HTMLImageElement||t instanceof HTMLVideoElement||t instanceof HTMLCanvasElement||Kh.k("Picture.element must be an instance of Image, Canvas, or Video, not: "+t),this.lz=t instanceof HTMLCanvasElement,this.Ue=t,null!==t)if(t instanceof HTMLCanvasElement||!0===t.complete)t.Go instanceof Event&&null!==this.Ve&&this.Ve(this,t.Go),!0===t.Kr&&null!==this.ki&&this.ki(this,t.Bz),t.Kr=!0,this.Ca.I()||(Yo(this,!1),this.H());else{var i=this;t.LC||(t.addEventListener("load",function(e){Wr(t,e),i.Ca.I()||(Yo(i,!1),i.H())}),t.addEventListener("error",function(e){Yr(t,e)}),t.LC=!0)}this.h("element",e,t),this.oa()}}),Kh.defineProperty(Kr,{source:"source"},function(){return this.et},function(t){var e=this.et;if(e!==t){Kh.j(t,"string",Kr,"source"),this.et=t;var i=Cp,n=this.g;if(void 0!==i[t])var o=i[t].Bp[0].source;else{30<kp&&(xp(),i=Cp);var o=Kh.createElement("img"),r=this;o.addEventListener("load",function(t){Wr(o,t),r.Ca.I()||(Yo(r,!1),r.H())}),o.addEventListener("error",function(t){Yr(o,t)}),o.LC=!0;var s=this.jp;null!==s&&(o.crossOrigin=s(this)),o.src=t,i[t]=new Jr(o),kp++}null!==n&&Fn(n,this),this.element=o,null!==n&&jn(n,this),this.H(),this.oa(),this.h("source",e,t)}}),Kh.defineProperty(Kr,{LL:"sourceCrossOrigin"},function(){return this.jp},function(t){if(this.jp!==t&&(null!==t&&Kh.j(t,"function",Kr,"sourceCrossOrigin"),this.jp=t,null!==this.element)){var e=this.element.src;null===t&&"string"==typeof e?this.element.crossOrigin=null:null!==t&&(this.element.crossOrigin=t(this)),this.element.src=e}}),Kh.defineProperty(Kr,{Cj:"sourceRect"},function(){return this.jk},function(t){var e=this.jk;e.L(t)||(Kh.G(t,S,Kr,"sourceRect"),this.jk=t=t.S(),this.oa(),this.h("sourceRect",e,t))}),Kh.defineProperty(Kr,{nI:"imageStretch"},function(){return this.Io},function(t){var e=this.Io;e!==t&&(Kh.mb(t,Eo,Kr,"imageStretch"),this.Io=t,this.oa(),this.h("imageStretch",e,t))}),Kh.defineProperty(Kr,{Tt:"flip"},function(){return this.qg},function(t){var e=this.qg;e!==t&&(Kh.mb(t,Eo,Kr,"flip"),this.qg=t,this.oa(),this.h("flip",e,t))}),Kh.defineProperty(Kr,{$K:"imageAlignment"},function(){return this.Ho},function(t){Kh.G(t,N,Kr,"imageAlignment");var e=this.Ho;e.L(t)||(this.Ho=t=t.S(),this.H(),this.h("imageAlignment",e,t))}),Kh.defineProperty(Kr,{lA:"errorFunction"},function(){return this.Ve},function(t){var e=this.Ve;e!==t&&(null!==t&&Kh.j(t,"function",Kr,"errorFunction"),this.Ve=t,this.h("errorFunction",e,t))}),Kh.defineProperty(Kr,{VL:"successFunction"},function(){return this.ki},function(t){var e=this.ki;e!==t&&(null!==t&&Kh.j(t,"function",Kr,"successFunction"),this.ki=t,this.h("successFunction",e,t))}),Kr.prototype.yk=function(t,e){var i=this.Ue;if(null!==i){var n=i.src;if(null!==n&&""!==n||Kh.k('Element has no source ("src") attribute: '+i),!(i.Go instanceof Event)&&!1!==i.Kr){var n=this.Ja,o=0,r=0,s=this.lz,a=s?+i.width:i.naturalWidth,s=s?+i.height:i.naturalHeight;if(void 0===a&&i.videoWidth&&(a=i.videoWidth),void 0===s&&i.videoHeight&&(s=i.videoHeight),a=a||n.width,s=s||n.height,0!==a&&0!==s){var l=a,h=s;this.Cj.I()&&(o=this.jk.x,r=this.jk.y,a=this.jk.width,s=this.jk.height);var u=a,c=s,d=this.Io,p=this.Ho;switch(d){case Nd:if(this.Cj.I())break;u>=n.width&&(o=o+p.offsetX+(u*p.x-n.width*p.x)),c>=n.height&&(r=r+p.offsetY+(c*p.y-n.height*p.y)),a=Math.min(n.width,u),s=Math.min(n.height,c);break;case Ad:u=n.width,c=n.height;break;case Bd:case Vd:var f=0;d===Bd?(f=Math.min(n.height/c,n.width/u),u*=f,c*=f):d===Vd&&(f=Math.max(n.height/c,n.width/u),u*=f,c*=f,u>=n.width&&(o=(o+p.offsetX+(u*p.x-n.width*p.x)/u)*a),c>=n.height&&(r=(r+p.offsetY+(c*p.y-n.height*p.y)/c)*s),a*=1/(u/n.width),s*=1/(c/n.height),u=n.width,c=n.height)}var d=this.pj()*e.scale,y=a*s/(u*d*c*d),f=Cp[this.source],d=null;if(i.Kr&&void 0!==f&&16<y){2>f.Bp.length&&(Xr(f,4,l,h),Xr(f,16,l,h));for(var l=f.Bp,h=l.length,d=l[0],g=0;g<h&&l[g].iq*l[g].iq<y;g++)d=l[g]}if(!e.or){if(null===this.rp)if(null===this.Ue)this.rp=!1;else{l=new U(null).xk,l.drawImage(this.Ue,0,0);try{l.getImageData(0,0,1,1).data[3]&&(this.rp=!1),this.rp=!1}catch(t){this.rp=!0}}if(this.rp)return}switch(l=0,u<n.width&&(l=p.offsetX+(n.width*p.x-u*p.x)),h=0,c<n.height&&(h=p.offsetY+(n.height*p.y-c*p.y)),this.Tt){case zd:t.translate(Math.min(n.width,u),0),t.scale(-1,1);break;case Hd:t.translate(0,Math.min(n.height,c)),t.scale(1,-1);break;case qd:t.translate(Math.min(n.width,u),Math.min(n.height,c)),t.scale(-1,-1)}if(e.qj("pictureRatioOptimization")&&!e.mz&&void 0!==f&&null!==d&&1!==d.iq){t.save(),f=d.iq;try{t.drawImage(d.source,o/f,r/f,Math.min(d.source.width,a/f),Math.min(d.source.height,s/f),l,h,Math.min(n.width,u),Math.min(n.height,c))}catch(t){this.Bv=!1}t.restore()}else try{t.drawImage(i,o,r,a,s,l,h,Math.min(n.width,u),Math.min(n.height,c))}catch(t){this.Bv=!1}switch(this.Tt){case zd:t.scale(-1,1),t.translate(-Math.min(n.width,u),0);break;case Hd:t.scale(1,-1),t.translate(0,-Math.min(n.height,c));break;case qd:t.scale(-1,-1),t.translate(-Math.min(n.width,u),-Math.min(n.height,c))}}}}},Kh.u(Kr,{Ja:"naturalBounds"},function(){return this.Uc}),Kr.prototype.Mn=function(t,e,i,n){var o=this.Ca,r=Ho(this,!0),s=this.Ue,a=this.lz;(a||!this.Xv&&s&&s.complete)&&(this.Xv=!0),null===s&&(isFinite(o.width)||(t=0),isFinite(o.height)||(e=0)),isFinite(o.width)||r===Ad||r===Fd?(isFinite(t)||(t=this.Cj.I()?this.Cj.width:a?+s.width:s.naturalWidth),i=0):null!==s&&!1!==this.Xv&&(t=this.Cj.I()?this.Cj.width:a?+s.width:s.naturalWidth),isFinite(o.height)||r===Ad||r===Rd?(isFinite(e)||(e=this.Cj.I()?this.Cj.height:a?+s.height:s.naturalHeight),n=0):null!==s&&!1!==this.Xv&&(e=this.Cj.I()?this.Cj.height:a?+s.height:s.naturalHeight),isFinite(o.width)&&(t=o.width),isFinite(o.height)&&(e=o.height),o=this.Ff,r=this.si,i=Math.max(i,r.width),n=Math.max(n,r.height),t=Math.min(o.width,t),e=Math.min(o.height,e),t=Math.max(i,t),e=Math.max(n,e),null===s||s.complete||(isFinite(t)||(t=0),isFinite(e)||(e=0)),M(this.Uc,t,e),Oo(this,0,0,t,e)},Kr.prototype.jj=function(t,e,i,n){jo(this,t,e,i,n)},_h=Zr.prototype,_h.reset=function(){this.o=new mt,this.Xb=null},_h.bb=function(t){null===this.o&&Kh.k("StreamGeometryContext has been closed"),null===this.Xb&&Kh.k("Need to call beginFigure first"),this.Xb.cm=t},_h.moveTo=function(t,e,i){void 0===i&&(i=!1),null===this.o&&Kh.k("StreamGeometryContext has been closed"),null===this.Xb&&Kh.k("Need to call beginFigure first");var n=new Et(lc);n.C=t,n.D=e,i&&n.close(),this.Xb.vb.add(n)},_h.lineTo=function(t,e,i){void 0===i&&(i=!1),null===this.o&&Kh.k("StreamGeometryContext has been closed"),null===this.Xb&&Kh.k("Need to call beginFigure first");var n=new Et(hc);n.C=t,n.D=e,i&&n.close(),this.Xb.vb.add(n)},_h.arcTo=function(t,e,i,n,o,r,s){void 0===r&&(r=0),void 0===s&&(s=!1),null===this.o&&Kh.k("StreamGeometryContext has been closed"),null===this.Xb&&Kh.k("Need to call beginFigure first");var a=new Et(dc);a.ze=t,a.sf=e,a.la=i,a.ra=n,a.radiusX=o,a.radiusY=0!==r?r:o,s&&a.close(),this.Xb.vb.add(a)};var Mp,Tp={None:"Rectangle",Rectangle:function(t,e,i){return t=new mt,t.type=nc,t.ha=0,t.ea=0,t.C=e,t.D=i,t},Square:function(t,e,i){return t=new mt,t.be=Bd,t.type=nc,t.ha=0,t.ea=0,t.C=Math.min(e,i),t.D=Math.min(e,i),t},Ellipse:function(t,e,i){return t=new mt,t.type=oc,t.ha=0,t.ea=0,t.C=e,t.D=i,t.A=Xu,t.B=Qu,t},Circle:function(t,e,i){return t=new mt,t.be=Bd,t.type=oc,t.ha=0,t.ea=0,t.C=Math.min(e,i),t.D=Math.min(e,i),t.A=Xu,t.B=Qu,t},Connector:"Ellipse",TriangleRight:function(t,e,i){t=new mt;var n=new Tt,o=new Et;return o.C=e,o.D=.5*i,n.vb.add(o),e=new Et,e.C=0,e.D=i,n.vb.add(e.close()),t.fc.add(n),t.A=new N(0,.25),t.B=new N(.5,.75),t},TriangleDown:function(t,e,i){t=new mt;var n=new Tt,o=new Et;return o.C=e,o.D=0,n.vb.add(o),o=new Et,o.C=.5*e,o.D=i,n.vb.add(o.close()),t.fc.add(n),t.A=new N(.25,0),t.B=new N(.75,.5),t},TriangleLeft:function(t,e,i){t=new mt;var n=new Tt;n.ha=e,n.ea=i;var o=new Et;return o.C=0,o.D=.5*i,n.vb.add(o),i=new Et,i.C=e,i.D=0,n.vb.add(i.close()),t.fc.add(n),t.A=new N(.5,.25),t.B=new N(1,.75),t},TriangleUp:function(t,e,i){t=new mt;var n=new Tt;n.ha=e,n.ea=i;var o=new Et;return o.C=0,o.D=i,n.vb.add(o),i=new Et,i.C=.5*e,i.D=0,n.vb.add(i.close()),t.fc.add(n),t.A=new N(.25,.5),t.B=new N(.75,1),t},Line1:function(t,e,i){return t=new mt,t.type=ic,t.ha=0,t.ea=0,t.C=e,t.D=i,t},Line2:function(t,e,i){return t=new mt,t.type=ic,t.ha=e,t.ea=0,t.C=0,t.D=i,t},MinusLine:"LineH",LineH:function(t,e,i){return t=new mt,t.type=ic,t.ha=0,t.ea=i/2,t.C=e,t.D=i/2,t},LineV:function(t,e,i){return t=new mt,t.type=ic,t.ha=e/2,t.ea=0,t.C=e/2,t.D=i,t},BarH:"Rectangle",BarV:"Rectangle",Curve1:function(t,e,i){return t=Kh.s(),ts(t,0,0,!1),ns(t,ju*e,0,1*e,(1-ju)*i,e,i),e=t.o,Kh.q(t),e},Curve2:function(t,e,i){return t=Kh.s(),ts(t,0,0,!1),ns(t,0,ju*i,(1-ju)*e,i,e,i),e=t.o,Kh.q(t),e},Curve3:function(t,e,i){return t=Kh.s(),ts(t,1*e,0,!1),ns(t,1*e,ju*i,ju*e,1*i,0,1*i),e=t.o,Kh.q(t),e},Curve4:function(t,e,i){return t=Kh.s(),ts(t,1*e,0,!1),ns(t,(1-ju)*e,0,0,(1-ju)*i,0,1*i),e=t.o,Kh.q(t),e},Alternative:"Triangle",Merge:"Triangle",Triangle:function(t,e,i){return t=Kh.s(),ts(t,.5*e,0*i,!0),t.lineTo(0*e,1*i),t.lineTo(1*e,1*i,!0),e=t.o,e.A=new N(.25,.5),e.B=new N(.75,1),Kh.q(t),e},Decision:"Diamond",Diamond:function(t,e,i){return t=Kh.s(),ts(t,.5*e,0,!0),t.lineTo(0,.5*i),t.lineTo(.5*e,1*i),t.lineTo(1*e,.5*i,!0),e=t.o,e.A=new N(.25,.25),e.B=new N(.75,.75),Kh.q(t),e},Pentagon:function(t,e,i){var n=ls(5);t=Kh.s(),ts(t,n[0].x*e,n[0].y*i,!0);for(var o=1;5>o;o++)t.lineTo(n[o].x*e,n[o].y*i);return Kh.ta(n),es(t),e=t.o,e.A=new N(.2,.22),e.B=new N(.8,.9),Kh.q(t),e},DataTransmission:"Hexagon",Hexagon:function(t,e,i){var n=ls(6);t=Kh.s(),ts(t,n[0].x*e,n[0].y*i,!0);for(var o=1;6>o;o++)t.lineTo(n[o].x*e,n[o].y*i);return Kh.ta(n),es(t),e=t.o,e.A=new N(.07,.25),e.B=new N(.93,.75),Kh.q(t),e},Heptagon:function(t,e,i){var n=ls(7);t=Kh.s(),ts(t,n[0].x*e,n[0].y*i,!0);for(var o=1;7>o;o++)t.lineTo(n[o].x*e,n[o].y*i);return Kh.ta(n),es(t),e=t.o,e.A=new N(.2,.15),e.B=new N(.8,.85),Kh.q(t),e},Octagon:function(t,e,i){var n=ls(8);t=Kh.s(),ts(t,n[0].x*e,n[0].y*i,!0);for(var o=1;8>o;o++)t.lineTo(n[o].x*e,n[o].y*i);return Kh.ta(n),es(t),e=t.o,e.A=new N(.15,.15),e.B=new N(.85,.85),Kh.q(t),e},Nonagon:function(t,e,i){var n=ls(9);t=Kh.s(),ts(t,n[0].x*e,n[0].y*i,!0);for(var o=1;9>o;o++)t.lineTo(n[o].x*e,n[o].y*i);return Kh.ta(n),es(t),e=t.o,e.A=new N(.17,.13),e.B=new N(.82,.82),Kh.q(t),e},Decagon:function(t,e,i){var n=ls(10);t=Kh.s(),ts(t,n[0].x*e,n[0].y*i,!0);for(var o=1;10>o;o++)t.lineTo(n[o].x*e,n[o].y*i);return Kh.ta(n),es(t),e=t.o,e.A=new N(.16,.16),e.B=new N(.84,.84),Kh.q(t),e},Dodecagon:function(t,e,i){var n=ls(12);t=Kh.s(),ts(t,n[0].x*e,n[0].y*i,!0);for(var o=1;12>o;o++)t.lineTo(n[o].x*e,n[o].y*i);return Kh.ta(n),es(t),e=t.o,e.A=new N(.16,.16),e.B=new N(.84,.84),Kh.q(t),e},FivePointedStar:function(t,e,i){var n=as(5);t=Kh.s(),ts(t,n[0].x*e,n[0].y*i,!0);for(var o=1;10>o;o++)t.lineTo(n[o].x*e,n[o].y*i);return Kh.ta(n),es(t),e=t.o,e.A=new N(.312,.383),e.B=new N(.693,.765),Kh.q(t),e},SixPointedStar:function(t,e,i){var n=as(6);t=Kh.s(),ts(t,n[0].x*e,n[0].y*i,!0);for(var o=1;12>o;o++)t.lineTo(n[o].x*e,n[o].y*i);return Kh.ta(n),es(t),e=t.o,e.A=new N(.17,.251),e.B=new N(.833,.755),Kh.q(t),e},SevenPointedStar:function(t,e,i){var n=as(7);t=Kh.s(),ts(t,n[0].x*e,n[0].y*i,!0);for(var o=1;14>o;o++)t.lineTo(n[o].x*e,n[o].y*i);return Kh.ta(n),es(t),e=t.o,e.A=new N(.363,.361),e.B=new N(.641,.709),Kh.q(t),e},EightPointedStar:function(t,e,i){var n=as(8);t=Kh.s(),ts(t,n[0].x*e,n[0].y*i,!0);for(var o=1;16>o;o++)t.lineTo(n[o].x*e,n[o].y*i);return Kh.ta(n),es(t),e=t.o,e.A=new N(.252,.255),e.B=new N(.75,.75),Kh.q(t),e},NinePointedStar:function(t,e,i){var n=as(9);t=Kh.s(),ts(t,n[0].x*e,n[0].y*i,!0);for(var o=1;18>o;o++)t.lineTo(n[o].x*e,n[o].y*i);return Kh.ta(n),es(t),e=t.o,e.A=new N(.355,.361),e.B=new N(.645,.651),Kh.q(t),e},TenPointedStar:function(t,e,i){var n=as(10);t=Kh.s(),ts(t,n[0].x*e,n[0].y*i,!0);for(var o=1;20>o;o++)t.lineTo(n[o].x*e,n[o].y*i);return Kh.ta(n),es(t),e=t.o,e.A=new N(.281,.261),e.B=new N(.723,.748),Kh.q(t),e},FivePointedBurst:function(t,e,i){var n=ss(5);t=Kh.s(),ts(t,n[0].x*e,n[0].y*i,!0);for(var o=1;o<n.length;o+=3)ns(t,n[o].x*e,n[o].y*i,n[o+1].x*e,n[o+1].y*i,n[o+2].x*e,n[o+2].y*i);return Kh.ta(n),es(t),e=t.o,e.A=new N(.312,.383),e.B=new N(.693,.765),Kh.q(t),e},SixPointedBurst:function(t,e,i){var n=ss(6);t=Kh.s(),ts(t,n[0].x*e,n[0].y*i,!0);for(var o=1;o<n.length;o+=3)ns(t,n[o].x*e,n[o].y*i,n[o+1].x*e,n[o+1].y*i,n[o+2].x*e,n[o+2].y*i);return Kh.ta(n),es(t),e=t.o,e.A=new N(.17,.251),e.B=new N(.833,.755),Kh.q(t),e},SevenPointedBurst:function(t,e,i){var n=ss(7);t=Kh.s(),ts(t,n[0].x*e,n[0].y*i,!0);for(var o=1;o<n.length;o+=3)ns(t,n[o].x*e,n[o].y*i,n[o+1].x*e,n[o+1].y*i,n[o+2].x*e,n[o+2].y*i);return Kh.ta(n),es(t),e=t.o,e.A=new N(.363,.361),e.B=new N(.641,.709),Kh.q(t),e},EightPointedBurst:function(t,e,i){var n=ss(8);t=Kh.s(),ts(t,n[0].x*e,n[0].y*i,!0);for(var o=1;o<n.length;o+=3)ns(t,n[o].x*e,n[o].y*i,n[o+1].x*e,n[o+1].y*i,n[o+2].x*e,n[o+2].y*i);return Kh.ta(n),es(t),e=t.o,e.A=new N(.252,.255),e.B=new N(.75,.75),Kh.q(t),e},NinePointedBurst:function(t,e,i){var n=ss(9);t=Kh.s(),ts(t,n[0].x*e,n[0].y*i,!0);for(var o=1;o<n.length;o+=3)ns(t,n[o].x*e,n[o].y*i,n[o+1].x*e,n[o+1].y*i,n[o+2].x*e,n[o+2].y*i);return Kh.ta(n),es(t),e=t.o,e.A=new N(.355,.361),e.B=new N(.645,.651),Kh.q(t),e},TenPointedBurst:function(t,e,i){var n=ss(10);t=Kh.s(),ts(t,n[0].x*e,n[0].y*i,!0);for(var o=1;o<n.length;o+=3)ns(t,n[o].x*e,n[o].y*i,n[o+1].x*e,n[o+1].y*i,n[o+2].x*e,n[o+2].y*i);return Kh.ta(n),es(t),e=t.o,e.A=new N(.281,.261),e.B=new N(.723,.748),Kh.q(t),e},Cloud:function(t,e,i){return t=Kh.s(),ts(t,.08034461*e,.1944299*i,!0),ns(t,-.09239631*e,.07836421*i,.1406031*e,-.0542823*i,.2008615*e,.05349299*i),ns(t,.2450511*e,-.00697547*i,.3776197*e,-.01112067*i,.4338609*e,.074219*i),ns(t,.4539471*e,0,.6066018*e,-.02526587*i,.6558228*e,.07004196*i),ns(t,.6914277*e,-.01904177*i,.8921095*e,-.01220843*i,.8921095*e,.08370865*i),ns(t,1.036446*e,.04105738*i,1.020377*e,.3022052*i,.9147671*e,.3194596*i),ns(t,1.04448*e,.360238*i,.992256*e,.5219009*i,.9082935*e,.562044*i),ns(t,1.032337*e,.5771781*i,1.018411*e,.8120651*i,.9212406*e,.8217117*i),ns(t,1.028411*e,.9571472*i,.8556702*e,1.052487*i,.7592566*e,.9156953*i),ns(t,.7431877*e,1.009325*i,.5624123*e,1.021761*i,.5101666*e,.9310455*i),ns(t,.4820677*e,1.031761*i,.3030112*e,1.002796*i,.2609328*e,.9344623*i),ns(t,.2329994*e,1.01518*i,.03213784*e,1.01518*i,.08034461*e,.870098*i),ns(t,-.02812061*e,.9032597*i,-.01205169*e,.6835638*i,.06829292*e,.6545475*i),ns(t,-.01812061*e,.6089503*i,-.00606892*e,.4555777*i,.06427569*e,.4265613*i),ns(t,-.01606892*e,.3892545*i,-.01205169*e,.1944299*i,.08034461*e,.1944299*i),es(t),e=t.o,e.A=new N(.1,.1),e.B=new N(.9,.9),Kh.q(t),e},Gate:"Crescent",Crescent:function(t,e,i){return t=Kh.s(),ts(t,0,0,!0),ns(t,1*e,0,1*e,1*i,0,1*i),ns(t,.5*e,.75*i,.5*e,.25*i,0,0),es(t),e=t.o,e.A=new N(.511,.19),e.B=new N(.776,.76),Kh.q(t),e},FramedRectangle:function(t,e,i){var n=Kh.s(),o=t?t.Fc:NaN;return t=t?t.Au:NaN,isNaN(o)&&(o=.1),isNaN(t)&&(t=.1),ts(n,0,0,!0),n.lineTo(1*e,0),n.lineTo(1*e,1*i),n.lineTo(0,1*i,!0),ts(n,o*e,t*i,!1,!0),n.lineTo(o*e,(1-t)*i),n.lineTo((1-o)*e,(1-t)*i),n.lineTo((1-o)*e,t*i,!0),e=n.o,e.A=new N(o,t),e.B=new N(1-o,1-t),Kh.q(n),e},Delay:"HalfEllipse",HalfEllipse:function(t,e,i){return t=Kh.s(),ts(t,0,0,!0),ns(t,ju*e,0,1*e,(.5-ju/2)*i,1*e,.5*i),ns(t,1*e,(.5+ju/2)*i,ju*e,1*i,0,1*i),es(t),e=t.o,e.A=new N(0,.2),e.B=new N(.75,.8),Kh.q(t),e},Heart:function(t,e,i){return t=Kh.s(),ts(t,.5*e,1*i,!0),ns(t,.1*e,.8*i,0,.5*i,0*e,.3*i),ns(t,0*e,0,.45*e,0,.5*e,.3*i),ns(t,.55*e,0,1*e,0,1*e,.3*i),ns(t,e,.5*i,.9*e,.8*i,.5*e,1*i),es(t),e=t.o,e.A=new N(.15,.29),e.B=new N(.86,.68),Kh.q(t),e},Spade:function(t,e,i){return t=Kh.s(),ts(t,.5*e,0,!0),t.lineTo(.51*e,.01*i),ns(t,.6*e,.2*i,e,.25*i,e,.5*i),ns(t,e,.8*i,.6*e,.8*i,.55*e,.7*i),ns(t,.5*e,.75*i,.55*e,.95*i,.75*e,i),t.lineTo(.25*e,i),ns(t,.45*e,.95*i,.5*e,.75*i,.45*e,.7*i),ns(t,.4*e,.8*i,0,.8*i,0,.5*i),ns(t,0,.25*i,.4*e,.2*i,.49*e,.01*i),es(t),e=t.o,e.A=new N(.19,.26),e.B=new N(.8,.68),Kh.q(t),e},Club:function(t,e,i){t=Kh.s(),ts(t,.4*e,.6*i,!0),ns(t,.5*e,.75*i,.45*e,.95*i,.15*e,1*i),t.lineTo(.85*e,i),ns(t,.55*e,.95*i,.5*e,.75*i,.6*e,.6*i);var n=.2,o=.3,r=0,s=4*(Math.SQRT2-1)/3*n;return ns(t,(.5-n+o)*e,(.5+s+r)*i,(.5-s+o)*e,(.5+n+r)*i,(.5+o)*e,(.5+n+r)*i),ns(t,(.5+s+o)*e,(.5+n+r)*i,(.5+n+o)*e,(.5+s+r)*i,(.5+n+o)*e,(.5+r)*i),ns(t,(.5+n+o)*e,(.5-s+r)*i,(.5+s+o)*e,(.5-n+r)*i,(.5+o)*e,(.5-n+r)*i),ns(t,(.5-s+o)*e,(.5-n+r)*i,(.5-n+o+.05)*e,(.5-s+r-.02)*i,.65*e,.36771243*i),n=.2,o=0,r=-.3,s=4*(Math.SQRT2-1)/3*n,ns(t,(.5+s+o)*e,(.5+n+r)*i,(.5+n+o)*e,(.5+s+r)*i,(.5+n+o)*e,(.5+r)*i),ns(t,(.5+n+o)*e,(.5-s+r)*i,(.5+s+o)*e,(.5-n+r)*i,(.5+o)*e,(.5-n+r)*i),ns(t,(.5-s+o)*e,(.5-n+r)*i,(.5-n+o)*e,(.5-s+r)*i,(.5-n+o)*e,(.5+r)*i),ns(t,(.5-n+o)*e,(.5+s+r)*i,(.5-s+o)*e,(.5+n+r)*i,.35*e,.36771243*i),n=.2,o=-.3,r=0,s=4*(Math.SQRT2-1)/3*n,ns(t,(.5+n+o-.05)*e,(.5-s+r-.02)*i,(.5+s+o)*e,(.5-n+r)*i,(.5+o)*e,(.5-n+r)*i),ns(t,(.5-s+o)*e,(.5-n+r)*i,(.5-n+o)*e,(.5-s+r)*i,(.5-n+o)*e,(.5+r)*i),ns(t,(.5-n+o)*e,(.5+s+r)*i,(.5-s+o)*e,(.5+n+r)*i,(.5+o)*e,(.5+n+r)*i),ns(t,(.5+s+o)*e,(.5+n+r)*i,(.5+n+o)*e,(.5+s+r)*i,.4*e,.6*i),es(t),e=t.o,e.A=new N(.06,.39),e.B=new N(.93,.58),Kh.q(t),e},Ring:function(t,e,i){t=Kh.s();var n=4*(Math.SQRT2-1)/3*.5;return ts(t,e,.5*i,!0),ns(t,e,(.5-n)*i,(.5+n)*e,0,.5*e,0),ns(t,(.5-n)*e,0,0,(.5-n)*i,0,.5*i),ns(t,0,(.5+n)*i,(.5-n)*e,i,.5*e,i),ns(t,(.5+n)*e,i,e,(.5+n)*i,e,.5*i),n=4*(Math.SQRT2-1)/3*.4,ts(t,.5*e,.1*i,!0,!0),ns(t,(.5+n)*e,.1*i,.9*e,(.5-n)*i,.9*e,.5*i),ns(t,.9*e,(.5+n)*i,(.5+n)*e,.9*i,.5*e,.9*i),ns(t,(.5-n)*e,.9*i,.1*e,(.5+n)*i,.1*e,.5*i),ns(t,.1*e,(.5-n)*i,(.5-n)*e,.1*i,.5*e,.1*i),e=t.o,e.A=new N(.146,.146),e.B=new N(.853,.853),e.be=Bd,Kh.q(t),e},YinYang:function(t,e,i){var n=.5;t=Kh.s(),n=.5,ts(t,.5*e,0,!0),t.arcTo(270,180,.5*e,.5*e,.5*e),ns(t,1*e,n*i,0,n*i,n*e,0,!0);var n=.1,o=.25;return ts(t,(.5+n)*e,o*i,!0,!0),t.arcTo(0,-360,.5*e,i*o,n*e),es(t),ts(t,.5*e,0,!1),t.arcTo(270,-180,.5*e,.5*e,.5*e),t.bb(!1),o=.75,ts(t,(.5+n)*e,o*i,!0),t.arcTo(0,360,.5*e,i*o,n*e),es(t),e=t.o,e.be=Bd,Kh.q(t),e},Peace:function(t,e,i){t=Kh.s();var n=4*(Math.SQRT2-1)/3*.5;ts(t,e,.5*i,!0),ns(t,e,(.5-n)*i,(.5+n)*e,0,.5*e,0),ns(t,(.5-n)*e,0,0,(.5-n)*i,0,.5*i),ns(t,0,(.5+n)*i,(.5-n)*e,i,.5*e,i),ns(t,(.5+n)*e,i,e,(.5+n)*i,e,.5*i),n=4*(Math.SQRT2-1)/3*.4,ts(t,.5*e,.1*i,!0,!0),ns(t,(.5+n)*e,.1*i,.9*e,(.5-n)*i,.9*e,.5*i),ns(t,.9*e,(.5+n)*i,(.5+n)*e,.9*i,.5*e,.9*i),ns(t,(.5-n)*e,.9*i,.1*e,(.5+n)*i,.1*e,.5*i),ns(t,.1*e,(.5-n)*i,(.5-n)*e,.1*i,.5*e,.1*i);var n=.07,o=0,r=.11*-.707,s=4*(Math.SQRT2-1)/3*n;return ts(t,(.5+n+o)*e,(.5+r)*i,!0),ns(t,(.5+n+o)*e,(.5-s+r)*i,(.5+s+o)*e,(.5-n+r)*i,(.5+o)*e,(.5-n+r)*i),ns(t,(.5-s+o)*e,(.5-n+r)*i,(.5-n+o)*e,(.5-s+r)*i,(.5-n+o)*e,(.5+r)*i),ns(t,(.5-n+o)*e,(.5+s+r)*i,(.5-s+o)*e,(.5+n+r)*i,(.5+o)*e,(.5+n+r)*i),ns(t,(.5+s+o)*e,(.5+n+r)*i,(.5+n+o)*e,(.5+s+r)*i,(.5+n+o)*e,(.5+r)*i),n=.07,o=.11*-.707,r=.707*.11,s=4*(Math.SQRT2-1)/3*n,ts(t,(.5+n+o)*e,(.5+r)*i,!0),ns(t,(.5+n+o)*e,(.5-s+r)*i,(.5+s+o)*e,(.5-n+r)*i,(.5+o)*e,(.5-n+r)*i),ns(t,(.5-s+o)*e,(.5-n+r)*i,(.5-n+o)*e,(.5-s+r)*i,(.5-n+o)*e,(.5+r)*i),ns(t,(.5-n+o)*e,(.5+s+r)*i,(.5-s+o)*e,(.5+n+r)*i,(.5+o)*e,(.5+n+r)*i),ns(t,(.5+s+o)*e,(.5+n+r)*i,(.5+n+o)*e,(.5+s+r)*i,(.5+n+o)*e,(.5+r)*i),n=.07,o=.707*.11,r=.707*.11,s=4*(Math.SQRT2-1)/3*n,ts(t,(.5+n+o)*e,(.5+r)*i,!0),ns(t,(.5+n+o)*e,(.5-s+r)*i,(.5+s+o)*e,(.5-n+r)*i,(.5+o)*e,(.5-n+r)*i),ns(t,(.5-s+o)*e,(.5-n+r)*i,(.5-n+o)*e,(.5-s+r)*i,(.5-n+o)*e,(.5+r)*i),ns(t,(.5-n+o)*e,(.5+s+r)*i,(.5-s+o)*e,(.5+n+r)*i,(.5+o)*e,(.5+n+r)*i),ns(t,(.5+s+o)*e,(.5+n+r)*i,(.5+n+o)*e,(.5+s+r)*i,(.5+n+o)*e,(.5+r)*i),e=t.o,e.A=new N(.146,.146),e.B=new N(.853,.853),e.be=Bd,Kh.q(t),e},NotAllowed:function(t,e,i){var n=.5*ju,o=.5;t=Kh.s(),ts(t,.5*e,(.5-o)*i,!0),ns(t,(.5-n)*e,(.5-o)*i,(.5-o)*e,(.5-n)*i,(.5-o)*e,.5*i),ns(t,(.5-o)*e,(.5+n)*i,(.5-n)*e,(.5+o)*i,.5*e,(.5+o)*i),ns(t,(.5+n)*e,(.5+o)*i,(.5+o)*e,(.5+n)*i,(.5+o)*e,.5*i),ns(t,(.5+o)*e,(.5-n)*i,(.5+n)*e,(.5-o)*i,.5*e,(.5-o)*i);var o=.4,n=.4*ju,r=Kh.K(),s=Kh.K(),a=Kh.K(),l=Kh.K();tt(.5,.5-o,.5+n,.5-o,.5+o,.5-n,.5+o,.5,.42,r,s,a,l,l);var h=Kh.K(),u=Kh.K(),c=Kh.K();tt(.5,.5-o,.5+n,.5-o,.5+o,.5-n,.5+o,.5,.58,l,l,c,h,u);var d=Kh.K(),p=Kh.K(),f=Kh.K();tt(.5,.5+o,.5-n,.5+o,.5-o,.5+n,.5-o,.5,.42,d,p,f,l,l);var y=Kh.K(),g=Kh.K(),v=Kh.K();return tt(.5,.5+o,.5-n,.5+o,.5-o,.5+n,.5-o,.5,.58,l,l,v,y,g),ts(t,v.x*e,v.y*i,!0,!0),ns(t,y.x*e,y.y*i,g.x*e,g.y*i,(.5-o)*e,.5*i),ns(t,(.5-o)*e,(.5-n)*i,(.5-n)*e,(.5-o)*i,.5*e,(.5-o)*i),ns(t,r.x*e,r.y*i,s.x*e,s.y*i,a.x*e,a.y*i),t.lineTo(v.x*e,v.y*i),es(t),ts(t,f.x*e,f.y*i,!0,!0),t.lineTo(c.x*e,c.y*i),ns(t,h.x*e,h.y*i,u.x*e,u.y*i,(.5+o)*e,.5*i),ns(t,(.5+o)*e,(.5+n)*i,(.5+n)*e,(.5+o)*i,.5*e,(.5+o)*i),ns(t,d.x*e,d.y*i,p.x*e,p.y*i,f.x*e,f.y*i),es(t),Kh.v(r),Kh.v(s),Kh.v(a),Kh.v(l),Kh.v(h),Kh.v(u),Kh.v(c),Kh.v(d),Kh.v(p),Kh.v(f),Kh.v(y),Kh.v(g),Kh.v(v),e=t.o,Kh.q(t),e.be=Bd,e},Fragile:function(t,e,i){return t=Kh.s(),ts(t,0,0,!0),t.lineTo(.25*e,0),t.lineTo(.2*e,.15*i),t.lineTo(.3*e,.25*i),t.lineTo(.29*e,.33*i),t.lineTo(.35*e,.25*i),t.lineTo(.3*e,.15*i),t.lineTo(.4*e,0),t.lineTo(1*e,0),ns(t,1*e,.25*i,.75*e,.5*i,.55*e,.5*i),t.lineTo(.55*e,.9*i),t.lineTo(.7*e,.9*i),t.lineTo(.7*e,1*i),t.lineTo(.3*e,1*i),t.lineTo(.3*e,.9*i),t.lineTo(.45*e,.9*i),t.lineTo(.45*e,.5*i),ns(t,.25*e,.5*i,0,.25*i,0,0),es(t),e=t.o,e.A=new N(.25,0),e.B=new N(.75,.4),Kh.q(t),e},HourGlass:function(t,e,i){return t=Kh.s(),ts(t,.65*e,.5*i,!0),t.lineTo(1*e,1*i),t.lineTo(0,1*i),t.lineTo(.35*e,.5*i),t.lineTo(0,0),t.lineTo(1*e,0),es(t),e=t.o,Kh.q(t),e},Lightning:function(t,e,i){return t=Kh.s(),ts(t,0*e,.55*i,!0),t.lineTo(.75*e,0),t.lineTo(.25*e,.45*i),t.lineTo(.9*e,.48*i),t.lineTo(.4*e,1*i),t.lineTo(.65*e,.55*i),es(t),e=t.o,Kh.q(t),e},Parallelogram1:function(t,e,i){t=t?t.Fc:NaN,isNaN(t)&&(t=.1);var n=Kh.s();return ts(n,t*e,0,!0),n.lineTo(1*e,0),n.lineTo((1-t)*e,1*i),n.lineTo(0,1*i),es(n),e=n.o,e.A=new N(t,0),e.B=new N(1-t,1),Kh.q(n),e},Input:"Output",Output:function(t,e,i){return t=Kh.s(),ts(t,0,1*i,!0),t.lineTo(.1*e,0),t.lineTo(1*e,0),t.lineTo(.9*e,1*i),es(t),e=t.o,e.A=new N(.1,0),e.B=new N(.9,1),Kh.q(t),e},Parallelogram2:function(t,e,i){t=t?t.Fc:NaN,isNaN(t)&&(t=.25);var n=Kh.s();return ts(n,t*e,0,!0),n.lineTo(1*e,0),n.lineTo((1-t)*e,1*i),n.lineTo(0,1*i),es(n),e=n.o,e.A=new N(t,0),e.B=new N(1-t,1),Kh.q(n),e},ThickCross:function(t,e,i){t=t?t.Fc:NaN,isNaN(t)&&(t=.25);var n=Kh.s();return ts(n,(.5-t/2)*e,0,!0),n.lineTo((.5+t/2)*e,0),n.lineTo((.5+t/2)*e,(.5-t/2)*i),n.lineTo(1*e,(.5-t/2)*i),n.lineTo(1*e,(.5+t/2)*i),n.lineTo((.5+t/2)*e,(.5+t/2)*i),n.lineTo((.5+t/2)*e,1*i),n.lineTo((.5-t/2)*e,1*i),n.lineTo((.5-t/2)*e,(.5+t/2)*i),n.lineTo(0,(.5+t/2)*i),n.lineTo(0,(.5-t/2)*i),n.lineTo((.5-t/2)*e,(.5-t/2)*i),es(n),e=n.o,e.A=new N(.5-t/2,.5-t/2),e.B=new N(.5+t/2,.5+t/2),Kh.q(n),e},ThickX:function(t,e,i){t=.25/Math.SQRT2;var n=Kh.s();return ts(n,.3*e,0,!0),n.lineTo(.5*e,.2*i),n.lineTo(.7*e,0),n.lineTo(1*e,.3*i),n.lineTo(.8*e,.5*i),n.lineTo(1*e,.7*i),n.lineTo(.7*e,1*i),n.lineTo(.5*e,.8*i),n.lineTo(.3*e,1*i),n.lineTo(0,.7*i),n.lineTo(.2*e,.5*i),n.lineTo(0,.3*i),es(n),e=n.o,e.A=new N(.5-t,.5-t),e.B=new N(.5+t,.5+t),Kh.q(n),e},ThinCross:function(t,e,i){var n=t?t.Fc:NaN;return isNaN(n)&&(n=.1),t=Kh.s(),ts(t,(.5-n/2)*e,0,!0),t.lineTo((.5+n/2)*e,0),t.lineTo((.5+n/2)*e,(.5-n/2)*i),t.lineTo(1*e,(.5-n/2)*i),t.lineTo(1*e,(.5+n/2)*i),t.lineTo((.5+n/2)*e,(.5+n/2)*i),t.lineTo((.5+n/2)*e,1*i),t.lineTo((.5-n/2)*e,1*i),t.lineTo((.5-n/2)*e,(.5+n/2)*i),t.lineTo(0,(.5+n/2)*i),t.lineTo(0,(.5-n/2)*i),t.lineTo((.5-n/2)*e,(.5-n/2)*i),es(t),e=t.o,Kh.q(t),e},ThinX:function(t,e,i){return t=Kh.s(),ts(t,.1*e,0,!0),t.lineTo(.5*e,.4*i),t.lineTo(.9*e,0),t.lineTo(1*e,.1*i),t.lineTo(.6*e,.5*i),t.lineTo(1*e,.9*i),t.lineTo(.9*e,1*i),t.lineTo(.5*e,.6*i),t.lineTo(.1*e,1*i),t.lineTo(0,.9*i),t.lineTo(.4*e,.5*i),t.lineTo(0,.1*i),es(t),e=t.o,Kh.q(t),e},RightTriangle:function(t,e,i){return t=Kh.s(),ts(t,0,0,!0),t.lineTo(1*e,1*i),t.lineTo(0,1*i),es(t),e=t.o,e.A=new N(0,.5),e.B=new N(.5,1),Kh.q(t),e},RoundedIBeam:function(t,e,i){return t=Kh.s(),ts(t,0,0,!0),t.lineTo(1*e,0),ns(t,.5*e,.25*i,.5*e,.75*i,1*e,1*i),t.lineTo(0,1*i),ns(t,.5*e,.75*i,.5*e,.25*i,0,0),es(t),e=t.o,Kh.q(t),e},RoundedRectangle:function(t,e,i){var n=t?t.Fc:NaN;isNaN(n)&&(n=5),n=Math.min(n,e/3),n=Math.min(n,i/3),t=n*ju;var o=Kh.s();return ts(o,n,0,!0),o.lineTo(e-n,0),ns(o,e-t,0,e,t,e,n),o.lineTo(e,i-n),ns(o,e,i-t,e-t,i,e-n,i),o.lineTo(n,i),ns(o,t,i,0,i-t,0,i-n),o.lineTo(0,n),ns(o,0,t,t,0,n,0),es(o),e=o.o,1<t?(e.A=new N(0,0,t,t),e.B=new N(1,1,-t,-t)):(e.A=iu,e.B=uu),Kh.q(o),e},Border:function(t,e,i){var n=t?t.Fc:NaN;return isNaN(n)&&(n=5),n=Math.min(n,e/3),n=Math.min(n,i/3),t=Kh.s(),ts(t,n,0,!0),t.lineTo(e-n,0),ns(t,e-0,0,e,0,e,n),t.lineTo(e,i-n),ns(t,e,i-0,e-0,i,e-n,i),t.lineTo(n,i),ns(t,0,i,0,i-0,0,i-n),t.lineTo(0,n),ns(t,0,0,0,0,n,0),es(t),e=t.o,e.A=iu,e.B=uu,Kh.q(t),e},SquareIBeam:function(t,e,i){var n=t?t.Fc:NaN;return isNaN(n)&&(n=.2),t=Kh.s(),ts(t,0,0,!0),t.lineTo(1*e,0),t.lineTo(1*e,n*i),t.lineTo((.5+n/2)*e,n*i),t.lineTo((.5+n/2)*e,(1-n)*i),t.lineTo(1*e,(1-n)*i),t.lineTo(1*e,1*i),t.lineTo(0,1*i),t.lineTo(0,(1-n)*i),t.lineTo((.5-n/2)*e,(1-n)*i),t.lineTo((.5-n/2)*e,n*i),t.lineTo(0,n*i),es(t),e=t.o,Kh.q(t),e},Trapezoid:function(t,e,i){t=t?t.Fc:NaN,isNaN(t)&&(t=.2);var n=Kh.s();return ts(n,t*e,0,!0),n.lineTo((1-t)*e,0),n.lineTo(1*e,1*i),n.lineTo(0,1*i),es(n),e=n.o,e.A=new N(t,0),e.B=new N(1-t,1),Kh.q(n),e},ManualLoop:"ManualOperation",ManualOperation:function(t,e,i){var n=t?t.Fc:NaN;return isNaN(n)&&(n=0),t=Kh.s(),ts(t,n,0,!0),t.lineTo(0,0),t.lineTo(1*e,0),t.lineTo(.9*e,1*i),t.lineTo(.1*e,1*i),es(t),e=t.o,e.A=new N(.1,0),e.B=new N(.9,1),Kh.q(t),e},GenderMale:function(t,e,i){t=Kh.s();var n=.4*ju,o=.4,r=Kh.K(),s=Kh.K(),a=Kh.K(),l=Kh.K();ts(t,(.5-o)*e,.5*i,!0),ns(t,(.5-o)*e,(.5-n)*i,(.5-n)*e,(.5-o)*i,.5*e,(.5-o)*i),tt(.5,.5-o,.5+n,.5-o,.5+o,.5-n,.5+o,.5,.44,a,l,s,r,r),ns(t,a.x*e,a.y*i,l.x*e,l.y*i,s.x*e,s.y*i);var h=Kh.xb(s.x,s.y);tt(.5,.5-o,.5+n,.5-o,.5+o,.5-n,.5+o,.5,.56,r,r,s,a,l);var u=Kh.xb(s.x,s.y);return t.lineTo((.1*h.x+.855)*e,.1*h.y*i),t.lineTo(.85*e,.1*h.y*i),t.lineTo(.85*e,0),t.lineTo(1*e,0),t.lineTo(1*e,.15*i),t.lineTo((.1*u.x+.9)*e,.15*i),t.lineTo((.1*u.x+.9)*e,(.1*u.y+.05*.9)*i),t.lineTo(u.x*e,u.y*i),ns(t,a.x*e,a.y*i,l.x*e,l.y*i,(.5+o)*e,.5*i),ns(t,(.5+o)*e,(.5+n)*i,(.5+n)*e,(.5+o)*i,.5*e,(.5+o)*i),ns(t,(.5-n)*e,(.5+o)*i,(.5-o)*e,(.5+n)*i,(.5-o)*e,.5*i),o=.35,n=.35*ju,ts(t,.5*e,(.5-o)*i,!0,!0),ns(t,(.5-n)*e,(.5-o)*i,(.5-o)*e,(.5-n)*i,(.5-o)*e,.5*i),ns(t,(.5-o)*e,(.5+n)*i,(.5-n)*e,(.5+o)*i,.5*e,(.5+o)*i),ns(t,(.5+n)*e,(.5+o)*i,(.5+o)*e,(.5+n)*i,(.5+o)*e,.5*i),ns(t,(.5+o)*e,(.5-n)*i,(.5+n)*e,(.5-o)*i,.5*e,(.5-o)*i),ts(t,(.5-o)*e,.5*i,!0),Kh.v(r),Kh.v(s),Kh.v(a),Kh.v(l),Kh.v(h),Kh.v(u),e=t.o,e.A=new N(.202,.257),e.B=new N(.692,.839),e.be=Bd,Kh.q(t),e},GenderFemale:function(t,e,i){t=Kh.s();var n=.375,o=0,r=-.125,s=4*(Math.SQRT2-1)/3*n;return ts(t,(.525+o)*e,(.5+n+r)*i,!0),ns(t,(.5+s+o)*e,(.5+n+r)*i,(.5+n+o)*e,(.5+s+r)*i,(.5+n+o)*e,(.5+r)*i),ns(t,(.5+n+o)*e,(.5-s+r)*i,(.5+s+o)*e,(.5-n+r)*i,(.5+o)*e,(.5-n+r)*i),ns(t,(.5-s+o)*e,(.5-n+r)*i,(.5-n+o)*e,(.5-s+r)*i,(.5-n+o)*e,(.5+r)*i),ns(t,(.5-n+o)*e,(.5+s+r)*i,(.5-s+o)*e,(.5+n+r)*i,(.475+o)*e,(.5+n+r)*i),t.lineTo(.475*e,.85*i),t.lineTo(.425*e,.85*i),t.lineTo(.425*e,.9*i),t.lineTo(.475*e,.9*i),t.lineTo(.475*e,1*i),t.lineTo(.525*e,1*i),t.lineTo(.525*e,.9*i),t.lineTo(.575*e,.9*i),t.lineTo(.575*e,.85*i),t.lineTo(.525*e,.85*i),es(t),n=.325,o=0,r=-.125,s=4*(Math.SQRT2-1)/3*n,ts(t,(.5+n+o)*e,(.5+r)*i,!0,!0),ns(t,(.5+n+o)*e,(.5+s+r)*i,(.5+s+o)*e,(.5+n+r)*i,(.5+o)*e,(.5+n+r)*i),ns(t,(.5-s+o)*e,(.5+n+r)*i,(.5-n+o)*e,(.5+s+r)*i,(.5-n+o)*e,(.5+r)*i),ns(t,(.5-n+o)*e,(.5-s+r)*i,(.5-s+o)*e,(.5-n+r)*i,(.5+o)*e,(.5-n+r)*i),ns(t,(.5+s+o)*e,(.5-n+r)*i,(.5+n+o)*e,(.5-s+r)*i,(.5+n+o)*e,(.5+r)*i),ts(t,(.525+o)*e,(.5+n+r)*i,!0),e=t.o,e.A=new N(.232,.136),e.B=new N(.782,.611),e.be=Bd,Kh.q(t),e},PlusLine:function(t,e,i){return t=Kh.s(),ts(t,0,.5*i,!1),t.lineTo(1*e,.5*i),t.moveTo(.5*e,0),t.lineTo(.5*e,1*i),e=t.o,Kh.q(t),e},XLine:function(t,e,i){return t=Kh.s(),ts(t,0,1*i,!1),t.lineTo(1*e,0),t.moveTo(0,0),t.lineTo(1*e,1*i),e=t.o,Kh.q(t),e},AsteriskLine:function(t,e,i){t=Kh.s();var n=.2/Math.SQRT2;return ts(t,n*e,(1-n)*i,!1),t.lineTo((1-n)*e,n*i),t.moveTo(n*e,n*i),t.lineTo((1-n)*e,(1-n)*i),t.moveTo(0*e,.5*i),t.lineTo(1*e,.5*i),t.moveTo(.5*e,0*i),t.lineTo(.5*e,1*i),e=t.o,Kh.q(t),e},CircleLine:function(t,e,i){var n=.5*ju;return t=Kh.s(),ts(t,1*e,.5*i,!1),ns(t,1*e,(.5+n)*i,(.5+n)*e,1*i,.5*e,1*i),ns(t,(.5-n)*e,1*i,0,(.5+n)*i,0,.5*i),ns(t,0,(.5-n)*i,(.5-n)*e,0,.5*e,0),ns(t,(.5+n)*e,0,1*e,(.5-n)*i,1*e,.5*i),e=t.o,e.A=new N(.146,.146),e.B=new N(.853,.853),e.be=Bd,Kh.q(t),e},Pie:function(t,e,i){t=Kh.s();var n=4*(Math.SQRT2-1)/3*.5;return ts(t,(.5*Math.SQRT2/2+.5)*e,(.5-.5*Math.SQRT2/2)*i,!0),ns(t,.7*e,0*i,.5*e,0*i,.5*e,0*i),ns(t,(.5-n+0)*e,0*i,0*e,(.5-n+0)*i,0*e,.5*i),ns(t,0*e,(.5+n+0)*i,(.5-n+0)*e,1*i,.5*e,1*i),ns(t,(.5+n+0)*e,1*i,1*e,(.5+n+0)*i,1*e,.5*i),t.lineTo(.5*e,.5*i),es(t),e=t.o,Kh.q(t),e},PiePiece:function(t,e,i){var n=ju/Math.SQRT2*.5,o=Math.SQRT2/2,r=1-Math.SQRT2/2;return t=Kh.s(),ts(t,e,i,!0),ns(t,e,(1-n)*i,(o+n)*e,(r+n)*i,o*e,r*i),t.lineTo(0,i),es(t),e=t.o,Kh.q(t),e},StopSign:function(t,e,i){t=1/(Math.SQRT2+2);var n=Kh.s();return ts(n,t*e,0,!0),n.lineTo((1-t)*e,0),n.lineTo(1*e,t*i),n.lineTo(1*e,(1-t)*i),n.lineTo((1-t)*e,1*i),n.lineTo(t*e,1*i),n.lineTo(0,(1-t)*i),n.lineTo(0,t*i),es(n),e=n.o,e.A=new N(t/2,t/2),e.B=new N(1-t/2,1-t/2),Kh.q(n),e},LogicImplies:function(t,e,i){var n=t?t.Fc:NaN;return isNaN(n)&&(n=.2),t=Kh.s(),ts(t,(1-n)*e,0*i,!1),t.lineTo(1*e,.5*i),t.lineTo((1-n)*e,i),t.moveTo(0,.5*i),t.lineTo(e,.5*i),e=t.o,e.A=iu,e.B=new N(.8,.5),Kh.q(t),e},LogicIff:function(t,e,i){var n=t?t.Fc:NaN;return isNaN(n)&&(n=.2),t=Kh.s(),ts(t,(1-n)*e,0*i,!1),t.lineTo(1*e,.5*i),t.lineTo((1-n)*e,i),t.moveTo(0,.5*i),t.lineTo(e,.5*i),t.moveTo(n*e,0),t.lineTo(0,.5*i),t.lineTo(n*e,i),e=t.o,e.A=new N(.2,0),e.B=new N(.8,.5),Kh.q(t),e},LogicNot:function(t,e,i){return t=Kh.s(),ts(t,0,0,!1),t.lineTo(1*e,0),t.lineTo(1*e,1*i),e=t.o,Kh.q(t),e},LogicAnd:function(t,e,i){return t=Kh.s(),ts(t,0,1*i,!1),t.lineTo(.5*e,0),t.lineTo(1*e,1*i),e=t.o,e.A=new N(.25,.5),e.B=new N(.75,1),Kh.q(t),e},LogicOr:function(t,e,i){return t=Kh.s(),ts(t,0,0,!1),t.lineTo(.5*e,1*i),t.lineTo(1*e,0),e=t.o,e.A=new N(.219,0),e.B=new N(.78,.409),Kh.q(t),e},LogicXor:function(t,e,i){t=Kh.s(),ts(t,.5*e,0,!1),t.lineTo(.5*e,1*i),t.moveTo(0,.5*i),t.lineTo(1*e,.5*i);var n=.5*ju;return ns(t,1*e,(.5+n)*i,(.5+n)*e,1*i,.5*e,1*i),ns(t,(.5-n)*e,1*i,0,(.5+n)*i,0,.5*i),ns(t,0,(.5-n)*i,(.5-n)*e,0,.5*e,0),ns(t,(.5+n)*e,0,1*e,(.5-n)*i,1*e,.5*i),e=t.o,e.be=Bd,Kh.q(t),e},LogicTruth:function(t,e,i){return t=Kh.s(),ts(t,0,0,!1),t.lineTo(1*e,0),t.moveTo(.5*e,0),t.lineTo(.5*e,1*i),e=t.o,Kh.q(t),e},LogicFalsity:function(t,e,i){return t=Kh.s(),ts(t,0,1*i,!1),t.lineTo(1*e,1*i),t.moveTo(.5*e,1*i),t.lineTo(.5*e,0),e=t.o,Kh.q(t),e},LogicThereExists:function(t,e,i){return t=Kh.s(),ts(t,0,0,!1),t.lineTo(1*e,0),t.lineTo(1*e,.5*i),t.lineTo(0,.5*i),t.moveTo(1*e,.5*i),t.lineTo(1*e,1*i),t.lineTo(0,1*i),e=t.o,Kh.q(t),e},LogicForAll:function(t,e,i){return t=Kh.s(),ts(t,0,0,!1),t.lineTo(.5*e,1*i),t.lineTo(1*e,0),t.moveTo(.25*e,.5*i),t.lineTo(.75*e,.5*i),e=t.o,e.A=new N(.25,0),e.B=new N(.75,.5),Kh.q(t),e},LogicIsDefinedAs:function(t,e,i){return t=Kh.s(),ts(t,0,0,!1),t.lineTo(e,0),t.moveTo(0,.5*i),t.lineTo(e,.5*i),t.moveTo(0,i),t.lineTo(e,i),e=t.o,e.A=new N(.01,.01),e.B=new N(.99,.49),Kh.q(t),e},LogicIntersect:function(t,e,i){var n=.5*ju;return t=Kh.s(),ts(t,0,1*i,!1),t.lineTo(0,.5*i),ns(t,0,(.5-n)*i,(.5-n)*e,0,.5*e,0),ns(t,(.5+n)*e,0,1*e,(.5-n)*i,1*e,.5*i),t.lineTo(1*e,1*i),e=t.o,e.A=new N(0,.5),e.B=uu,Kh.q(t),e},LogicUnion:function(t,e,i){var n=.5*ju;return t=Kh.s(),ts(t,1*e,0,!1),t.lineTo(1*e,.5*i),ns(t,1*e,(.5+n)*i,(.5+n)*e,1*i,.5*e,1*i),ns(t,(.5-n)*e,1*i,0,(.5+n)*i,0,.5*i),t.lineTo(0,0),e=t.o,e.A=iu,e.B=new N(1,.5),Kh.q(t),e},Arrow:function(t,e,i){var n=t?t.Fc:NaN,o=t?t.Au:NaN;return isNaN(n)&&(n=.3),isNaN(o)&&(o=.3),t=Kh.s(),ts(t,0,(.5-o/2)*i,!0),t.lineTo((1-n)*e,(.5-o/2)*i),t.lineTo((1-n)*e,0),t.lineTo(1*e,.5*i),t.lineTo((1-n)*e,1*i),t.lineTo((1-n)*e,(.5+o/2)*i),t.lineTo(0,(.5+o/2)*i),es(t),e=t.o,e.A=new N(0,.5-o/2),n=ht(0,.5+o/2,1,.5+o/2,1-n,1,1,.5,Kh.K()),e.B=new N(n.x,n.y),Kh.v(n),Kh.q(t),e},ISOProcess:"Chevron",Chevron:function(t,e,i){return t=Kh.s(),ts(t,0,0,!0),t.lineTo(.5*e,0),t.lineTo(1*e,.5*i),t.lineTo(.5*e,1*i),t.lineTo(0,1*i),t.lineTo(.5*e,.5*i),es(t),e=t.o,Kh.q(t),e},DoubleArrow:function(t,e,i){return t=Kh.s(),ts(t,0,0,!0),t.lineTo(.3*e,.214*i),t.lineTo(.3*e,0),t.lineTo(1*e,.5*i),t.lineTo(.3*e,1*i),t.lineTo(.3*e,.786*i),t.lineTo(0,1*i),es(t),ts(t,.3*e,.214*i,!1),t.lineTo(.3*e,.786*i),t.bb(!1),e=t.o,Kh.q(t),e},DoubleEndArrow:function(t,e,i){return t=Kh.s(),ts(t,1*e,.5*i,!0),t.lineTo(.7*e,1*i),t.lineTo(.7*e,.7*i),t.lineTo(.3*e,.7*i),t.lineTo(.3*e,1*i),t.lineTo(0,.5*i),t.lineTo(.3*e,0),t.lineTo(.3*e,.3*i),t.lineTo(.7*e,.3*i),t.lineTo(.7*e,0),es(t),e=t.o,i=ht(0,.5,.3,0,0,.3,.3,.3,Kh.K()),e.A=new N(i.x,i.y),i=ht(.7,1,1,.5,.7,.7,1,.7,i),e.B=new N(i.x,i.y),Kh.v(i),Kh.q(t),e},IBeamArrow:function(t,e,i){return t=Kh.s(),ts(t,1*e,.5*i,!0),t.lineTo(.7*e,1*i),t.lineTo(.7*e,.7*i),t.lineTo(.2*e,.7*i),t.lineTo(.2*e,1*i),t.lineTo(0,1*i),t.lineTo(0,0),t.lineTo(.2*e,0),t.lineTo(.2*e,.3*i),t.lineTo(.7*e,.3*i),t.lineTo(.7*e,0),es(t),e=t.o,e.A=new N(0,.3),i=ht(.7,1,1,.5,.7,.7,1,.7,Kh.K()),e.B=new N(i.x,i.y),Kh.v(i),Kh.q(t),e},Pointer:function(t,e,i){return t=Kh.s(),ts(t,1*e,.5*i,!0),t.lineTo(0,1*i),t.lineTo(.2*e,.5*i),t.lineTo(0,0),es(t),e=t.o,e.A=new N(.2,.35),i=ht(.2,.65,1,.65,0,1,1,.5,Kh.K()),e.B=new N(i.x,i.y),Kh.v(i),Kh.q(t),e},RoundedPointer:function(t,e,i){return t=Kh.s(),ts(t,1*e,.5*i,!0),t.lineTo(0,1*i),ns(t,.5*e,.75*i,.5*e,.25*i,0,0),es(t),e=t.o,e.A=new N(.4,.35),i=ht(.2,.65,1,.65,0,1,1,.5,Kh.K()),e.B=new N(i.x,i.y),Kh.v(i),Kh.q(t),e},SplitEndArrow:function(t,e,i){return t=Kh.s(),ts(t,1*e,.5*i,!0),t.lineTo(.7*e,1*i),t.lineTo(.7*e,.7*i),t.lineTo(0,.7*i),t.lineTo(.2*e,.5*i),t.lineTo(0,.3*i),t.lineTo(.7*e,.3*i),t.lineTo(.7*e,0),es(t),e=t.o,e.A=new N(.2,.3),i=ht(.7,1,1,.5,.7,.7,1,.7,Kh.K()),e.B=new N(i.x,i.y),Kh.v(i),Kh.q(t),e},MessageToUser:"SquareArrow",SquareArrow:function(t,e,i){return t=Kh.s(),ts(t,1*e,.5*i,!0),t.lineTo(.7*e,1*i),t.lineTo(0,1*i),t.lineTo(0,0),t.lineTo(.7*e,0),es(t),e=t.o,e.A=iu,e.B=new N(.7,1),Kh.q(t),e},Cone1:function(t,e,i){var n=.5*ju,o=.1*ju;return t=Kh.s(),ts(t,0,.9*i,!0),t.lineTo(.5*e,0),t.lineTo(1*e,.9*i),ns(t,1*e,(.9+o)*i,(.5+n)*e,1*i,.5*e,1*i),ns(t,(.5-n)*e,1*i,0,(.9+o)*i,0,.9*i),es(t),e=t.o,e.A=new N(.25,.5),e.B=new N(.75,.97),Kh.q(t),e},Cone2:function(t,e,i){return t=Kh.s(),ts(t,0,.9*i,!0),ns(t,(1-.85/.9)*e,1*i,.85/.9*e,1*i,1*e,.9*i),t.lineTo(.5*e,0),t.lineTo(0,.9*i),es(t),ts(t,0,.9*i,!1),ns(t,(1-.85/.9)*e,.8*i,.85/.9*e,.8*i,1*e,.9*i),t.bb(!1),e=t.o,e.A=new N(.25,.5),e.B=new N(.75,.82),Kh.q(t),e},Cube1:function(t,e,i){return t=Kh.s(),ts(t,.5*e,1*i,!0),t.lineTo(1*e,.85*i),t.lineTo(1*e,.15*i),t.lineTo(.5*e,0*i),t.lineTo(0*e,.15*i),t.lineTo(0*e,.85*i),es(t),ts(t,.5*e,1*i,!1),t.lineTo(.5*e,.3*i),t.lineTo(0,.15*i),t.moveTo(.5*e,.3*i),t.lineTo(1*e,.15*i),t.bb(!1),e=t.o,e.A=new N(0,.3),e.B=new N(.5,.85),Kh.q(t),e},Cube2:function(t,e,i){return t=Kh.s(),ts(t,0,.3*i,!0),t.lineTo(0*e,1*i),t.lineTo(.7*e,i),t.lineTo(1*e,.7*i),t.lineTo(1*e,0*i),t.lineTo(.3*e,0*i),es(t),ts(t,0,.3*i,!1),t.lineTo(.7*e,.3*i),t.lineTo(1*e,0*i),t.moveTo(.7*e,.3*i),t.lineTo(.7*e,1*i),t.bb(!1),e=t.o,e.A=new N(0,.3),e.B=new N(.7,1),Kh.q(t),e},MagneticData:"Cylinder1",Cylinder1:function(t,e,i){var n=.5*ju,o=.1*ju;return t=Kh.s(),ts(t,0,.1*i,!0),ns(t,0,(.1-o)*i,(.5-n)*e,0,.5*e,0),ns(t,(.5+n)*e,0,1*e,(.1-o)*i,1*e,.1*i),t.lineTo(e,.9*i),ns(t,1*e,(.9+o)*i,(.5+n)*e,1*i,.5*e,1*i),ns(t,(.5-n)*e,1*i,0,(.9+o)*i,0,.9*i),t.lineTo(0,.1*i),ts(t,0,.1*i,!1),ns(t,0,(.1+o)*i,(.5-n)*e,.2*i,.5*e,.2*i),ns(t,(.5+n)*e,.2*i,1*e,(.1+o)*i,1*e,.1*i),t.bb(!1),e=t.o,e.A=new N(0,.2),e.B=new N(1,.9),Kh.q(t),e},Cylinder2:function(t,e,i){var n=.5*ju,o=.1*ju;return t=Kh.s(),ts(t,0,.9*i,!0),t.lineTo(0,.1*i),ns(t,0,(.1-o)*i,(.5-n)*e,0,.5*e,0),ns(t,(.5+n)*e,0,1*e,(.1-o)*i,1*e,.1*i),t.lineTo(1*e,.9*i),ns(t,1*e,(.9+o)*i,(.5+n)*e,1*i,.5*e,1*i),ns(t,(.5-n)*e,1*i,0,(.9+o)*i,0,.9*i),ts(t,0,.9*i,!1),ns(t,0,(.9-o)*i,(.5-n)*e,.8*i,.5*e,.8*i),ns(t,(.5+n)*e,.8*i,1*e,(.9-o)*i,1*e,.9*i),t.bb(!1),e=t.o,e.A=new N(0,.1),e.B=new N(1,.8),Kh.q(t),e},Cylinder3:function(t,e,i){var n=.1*ju,o=.5*ju;return t=Kh.s(),ts(t,.1*e,0,!0),t.lineTo(.9*e,0),ns(t,(.9+n)*e,0,1*e,(.5-o)*i,1*e,.5*i),ns(t,1*e,(.5+o)*i,(.9+n)*e,1*i,.9*e,1*i),t.lineTo(.1*e,1*i),ns(t,(.1-n)*e,1*i,0,(.5+o)*i,0,.5*i),ns(t,0,(.5-o)*i,(.1-n)*e,0,.1*e,0),ts(t,.1*e,0,!1),ns(t,(.1+n)*e,0,.2*e,(.5-o)*i,.2*e,.5*i),ns(t,.2*e,(.5+o)*i,(.1+n)*e,1*i,.1*e,1*i),t.bb(!1),e=t.o,e.A=new N(.2,0),e.B=new N(.9,1),Kh.q(t),e},DirectData:"Cylinder4",Cylinder4:function(t,e,i){var n=.1*ju,o=.5*ju;return t=Kh.s(),ts(t,.9*e,0,!0),ns(t,(.9+n)*e,0,1*e,(.5-o)*i,1*e,.5*i),ns(t,1*e,(.5+o)*i,(.9+n)*e,1*i,.9*e,1*i),t.lineTo(.1*e,1*i),ns(t,(.1-n)*e,1*i,0,(.5+o)*i,0,.5*i),ns(t,0,(.5-o)*i,(.1-n)*e,0,.1*e,0),t.lineTo(.9*e,0),ts(t,.9*e,0,!1),ns(t,(.9-n)*e,0,.8*e,(.5-o)*i,.8*e,.5*i),ns(t,.8*e,(.5+o)*i,(.9-n)*e,1*i,.9*e,1*i),t.bb(!1),e=t.o,e.A=new N(.1,0),e.B=new N(.8,1),Kh.q(t),e},Prism1:function(t,e,i){return t=Kh.s(),ts(t,.25*e,.25*i,!0),t.lineTo(.75*e,0),t.lineTo(e,.5*i),t.lineTo(.5*e,i),t.lineTo(0,i),es(t),ts(t,.25*e,.25*i,!1),t.lineTo(.5*e,i),t.bb(!1),e=t.o,e.A=new N(.408,.172),e.B=new N(.833,.662),Kh.q(t),e},Prism2:function(t,e,i){return t=Kh.s(),ts(t,0,.25*i,!0),t.lineTo(.75*e,0),t.lineTo(1*e,.25*i),t.lineTo(.75*e,.75*i),t.lineTo(0,1*i),es(t),ts(t,0,i,!1),t.lineTo(.25*e,.5*i),t.lineTo(e,.25*i),t.moveTo(0,.25*i),t.lineTo(.25*e,.5*i),t.bb(!1),e=t.o,e.A=new N(.25,.5),e.B=new N(.75,.75),Kh.q(t),e},Pyramid1:function(t,e,i){return t=Kh.s(),ts(t,.5*e,0,!0),t.lineTo(e,.75*i),t.lineTo(.5*e,1*i),t.lineTo(0,.75*i),es(t),ts(t,.5*e,0,!1),t.lineTo(.5*e,1*i),t.bb(!1),e=t.o,e.A=new N(.25,.367),e.B=new N(.75,.875),Kh.q(t),e},Pyramid2:function(t,e,i){return t=Kh.s(),ts(t,.5*e,0,!0),t.lineTo(e,.85*i),t.lineTo(.5*e,1*i),t.lineTo(0,.85*i),es(t),ts(t,.5*e,0,!1),t.lineTo(.5*e,.7*i),t.lineTo(0,.85*i),t.moveTo(.5*e,.7*i),t.lineTo(1*e,.85*i),t.bb(!1),e=t.o,e.A=new N(.25,.367),e.B=new N(.75,.875),Kh.q(t),e},Actor:function(t,e,i){var n=.2*ju,o=.1*ju,r=.5,s=.1;return t=Kh.s(),ts(t,r*e,(s+.1)*i,!0),ns(t,(r-n)*e,(s+.1)*i,(r-.2)*e,(s+o)*i,(r-.2)*e,s*i),ns(t,(r-.2)*e,(s-o)*i,(r-n)*e,(s-.1)*i,r*e,(s-.1)*i),ns(t,(r+n)*e,(s-.1)*i,(r+.2)*e,(s-o)*i,(r+.2)*e,s*i),ns(t,(r+.2)*e,(s+o)*i,(r+n)*e,(s+.1)*i,r*e,(s+.1)*i),n=.05,o=ju*n,ts(t,.5*e,.2*i,!0),t.lineTo(.95*e,.2*i),r=.95,s=.25,ns(t,(r+o)*e,(s-n)*i,(r+n)*e,(s-o)*i,(r+n)*e,s*i),t.lineTo(1*e,.6*i),t.lineTo(.85*e,.6*i),t.lineTo(.85*e,.35*i),n=.025,o=ju*n,r=.825,s=.35,ns(t,(r+n)*e,(s-o)*i,(r+o)*e,(s-n)*i,r*e,(s-n)*i),ns(t,(r-o)*e,(s-n)*i,(r-n)*e,(s-o)*i,(r-n)*e,s*i),t.lineTo(.8*e,1*i),t.lineTo(.55*e,1*i),t.lineTo(.55*e,.7*i),n=.05,o=ju*n,r=.5,s=.7,ns(t,(r+n)*e,(s-o)*i,(r+o)*e,(s-n)*i,r*e,(s-n)*i),ns(t,(r-o)*e,(s-n)*i,(r-n)*e,(s-o)*i,(r-n)*e,s*i),t.lineTo(.45*e,1*i),t.lineTo(.2*e,1*i),t.lineTo(.2*e,.35*i),n=.025,o=ju*n,r=.175,s=.35,ns(t,(r+n)*e,(s-o)*i,(r+o)*e,(s-n)*i,r*e,(s-n)*i),ns(t,(r-o)*e,(s-n)*i,(r-n)*e,(s-o)*i,(r-n)*e,s*i),t.lineTo(.15*e,.6*i),t.lineTo(0*e,.6*i),t.lineTo(0*e,.25*i),n=.05,o=ju*n,r=.05,s=.25,ns(t,(r-n)*e,(s-o)*i,(r-o)*e,(s-n)*i,r*e,(s-n)*i),t.lineTo(.5*e,.2*i),e=t.o,e.A=new N(.2,.2),e.B=new N(.8,.65),Kh.q(t),e},Card:function(t,e,i){return t=Kh.s(),ts(t,1*e,0*i,!0),t.lineTo(1*e,1*i),t.lineTo(0*e,1*i),t.lineTo(0*e,.2*i),t.lineTo(.2*e,0*i),es(t),e=t.o,e.A=new N(0,.2),e.B=uu,Kh.q(t),e},Collate:function(t,e,i){return t=Kh.s(),ts(t,.5*e,.5*i,!0),t.lineTo(0,0),t.lineTo(1*e,0),t.lineTo(.5*e,.5*i),ts(t,.5*e,.5*i,!0),t.lineTo(1*e,1*i),t.lineTo(0,1*i),t.lineTo(.5*e,.5*i),e=t.o,e.A=new N(.25,0),e.B=new N(.75,.25),Kh.q(t),e},CreateRequest:function(t,e,i){t=t?t.Fc:NaN,isNaN(t)&&(t=.1);var n=Kh.s();return ts(n,0,0,!0),n.lineTo(1*e,0),n.lineTo(1*e,1*i),n.lineTo(0,1*i),es(n),ts(n,0,t*i,!1),n.lineTo(1*e,t*i),n.moveTo(0,(1-t)*i),n.lineTo(1*e,(1-t)*i),n.bb(!1),e=n.o,e.A=new N(0,t),e.B=new N(1,1-t),Kh.q(n),e},Database:function(t,e,i){t=Kh.s();var n=.5*ju,o=.1*ju;return ts(t,1*e,.1*i,!0),t.lineTo(1*e,.9*i),ns(t,1*e,(.9+o)*i,(.5+n)*e,1*i,.5*e,1*i),ns(t,(.5-n)*e,1*i,0,(.9+o)*i,0,.9*i),t.lineTo(0,.1*i),ns(t,0,(.1-o)*i,(.5-n)*e,0,.5*e,0),ns(t,(.5+n)*e,0,1*e,(.1-o)*i,1*e,.1*i),ts(t,1*e,.1*i,!1),ns(t,1*e,(.1+o)*i,(.5+n)*e,.2*i,.5*e,.2*i),ns(t,(.5-n)*e,.2*i,0,(.1+o)*i,0,.1*i),t.moveTo(1*e,.2*i),ns(t,1*e,(.2+o)*i,(.5+n)*e,.3*i,.5*e,.3*i),ns(t,(.5-n)*e,.3*i,0,(.2+o)*i,0,.2*i),t.moveTo(1*e,.3*i),ns(t,1*e,(.3+o)*i,(.5+n)*e,.4*i,.5*e,.4*i),ns(t,(.5-n)*e,.4*i,0,(.3+o)*i,0,.3*i),t.bb(!1),e=t.o,e.A=new N(0,.4),e.B=new N(1,.9),Kh.q(t),e},StoredData:"DataStorage",DataStorage:function(t,e,i){return t=Kh.s(),ts(t,0,0,!0),t.lineTo(.75*e,0),ns(t,1*e,0,1*e,1*i,.75*e,1*i),t.lineTo(0,1*i),ns(t,.25*e,.9*i,.25*e,.1*i,0,0),es(t),e=t.o,e.A=new N(.226,0),e.B=new N(.81,1),Kh.q(t),e},DiskStorage:function(t,e,i){t=Kh.s();var n=.5*ju,o=.1*ju;return ts(t,1*e,.1*i,!0),t.lineTo(1*e,.9*i),ns(t,1*e,(.9+o)*i,(.5+n)*e,1*i,.5*e,1*i),ns(t,(.5-n)*e,1*i,0,(.9+o)*i,0,.9*i),t.lineTo(0,.1*i),ns(t,0,(.1-o)*i,(.5-n)*e,0,.5*e,0),ns(t,(.5+n)*e,0,1*e,(.1-o)*i,1*e,.1*i),ts(t,1*e,.1*i,!1),ns(t,1*e,(.1+o)*i,(.5+n)*e,.2*i,.5*e,.2*i),ns(t,(.5-n)*e,.2*i,0,(.1+o)*i,0,.1*i),t.moveTo(1*e,.2*i),ns(t,1*e,(.2+o)*i,(.5+n)*e,.3*i,.5*e,.3*i),ns(t,(.5-n)*e,.3*i,0,(.2+o)*i,0,.2*i),t.bb(!1),e=t.o,e.A=new N(0,.3),e.B=new N(1,.9),Kh.q(t),e},Display:function(t,e,i){return t=Kh.s(),ts(t,.25*e,0,!0),t.lineTo(.75*e,0),ns(t,1*e,0,1*e,1*i,.75*e,1*i),t.lineTo(.25*e,1*i),t.lineTo(0,.5*i),es(t),e=t.o,e.A=new N(.25,0),e.B=new N(.75,1),Kh.q(t),e},DividedEvent:function(t,e,i){t=t?t.Fc:NaN,isNaN(t)?t=.2:.15>t&&(t=.15);var n=Kh.s(),o=.2*ju;return ts(n,0,.2*i,!0),ns(n,0,(.2-o)*i,(.2-o)*e,0,.2*e,0),n.lineTo(.8*e,0),ns(n,(.8+o)*e,0,1*e,(.2-o)*i,1*e,.2*i),n.lineTo(1*e,.8*i),ns(n,1*e,(.8+o)*i,(.8+o)*e,1*i,.8*e,1*i),n.lineTo(.2*e,1*i),ns(n,(.2-o)*e,1*i,0,(.8+o)*i,0,.8*i),n.lineTo(0,.2*i),ts(n,0,t*i,!1),n.lineTo(1*e,t*i),n.bb(!1),e=n.o,e.A=new N(0,t),e.B=new N(1,1-t),Kh.q(n),e},DividedProcess:function(t,e,i){t=t?t.Fc:NaN,(isNaN(t)||.1>t)&&(t=.1);var n=Kh.s();return ts(n,0,0,!0),n.lineTo(1*e,0),n.lineTo(1*e,1*i),n.lineTo(0,1*i),es(n),ts(n,0,t*i,!1),n.lineTo(1*e,t*i),n.bb(!1),e=n.o,e.A=new N(0,t),e.B=uu,Kh.q(n),e},Document:function(t,e,i){return i/=.8,t=Kh.s(),ts(t,0,.7*i,!0),t.lineTo(0,0),t.lineTo(1*e,0),t.lineTo(1*e,.7*i),ns(t,.5*e,.4*i,.5*e,1*i,0,.7*i),es(t),e=t.o,e.A=iu,e.B=new N(1,.6),Kh.q(t),e},ExternalOrganization:function(t,e,i){t=t?t.Fc:NaN,(isNaN(t)||.2>t)&&(t=.2);var n=Kh.s();return ts(n,0,0,!0),n.lineTo(1*e,0),n.lineTo(1*e,1*i),n.lineTo(0,1*i),es(n),ts(n,t*e,0,!1),n.lineTo(0,t*i),n.moveTo(1*e,t*i),n.lineTo((1-t)*e,0),n.moveTo(0,(1-t)*i),n.lineTo(t*e,1*i),n.moveTo((1-t)*e,1*i),n.lineTo(1*e,(1-t)*i),n.bb(!1),e=n.o,e.A=new N(t/2,t/2),e.B=new N(1-t/2,1-t/2),Kh.q(n),e},ExternalProcess:function(t,e,i){return t=Kh.s(),ts(t,.5*e,0,!0),t.lineTo(1*e,.5*i),t.lineTo(.5*e,1*i),t.lineTo(0,.5*i),es(t),ts(t,.1*e,.4*i,!1),t.lineTo(.1*e,.6*i),t.moveTo(.9*e,.6*i),t.lineTo(.9*e,.4*i),t.moveTo(.6*e,.1*i),t.lineTo(.4*e,.1*i),t.moveTo(.4*e,.9*i),t.lineTo(.6*e,.9*i),t.bb(!1),e=t.o,e.A=new N(.25,.25),e.B=new N(.75,.75),Kh.q(t),e},File:function(t,e,i){return t=Kh.s(),ts(t,0,0,!0),t.lineTo(.75*e,0),t.lineTo(1*e,.25*i),t.lineTo(1*e,1*i),t.lineTo(0,1*i),es(t),ts(t,.75*e,0,!1),t.lineTo(.75*e,.25*i),t.lineTo(1*e,.25*i),t.bb(!1),e=t.o,e.A=new N(0,.25),e.B=uu,Kh.q(t),e},Interrupt:function(t,e,i){return t=Kh.s(),ts(t,1*e,.5*i,!0),t.lineTo(0,1*i),t.lineTo(0,0),t.lineTo(1*e,.5*i),ts(t,1*e,.5*i,!1),t.lineTo(1*e,1*i),ts(t,1*e,.5*i,!1),t.lineTo(1*e,0),e=t.o,e.A=new N(0,.25),e.B=new N(.5,.75),Kh.q(t),e},InternalStorage:function(t,e,i){var n=t?t.Fc:NaN;t=t?t.Au:NaN,isNaN(n)&&(n=.1),isNaN(t)&&(t=.1);var o=Kh.s();return ts(o,0,0,!0),o.lineTo(1*e,0),o.lineTo(1*e,1*i),o.lineTo(0,1*i),es(o),ts(o,n*e,0,!1),o.lineTo(n*e,1*i),o.moveTo(0,t*i),o.lineTo(1*e,t*i),o.bb(!1),e=o.o,e.A=new N(n,t),e.B=uu,Kh.q(o),e},Junction:function(t,e,i){t=Kh.s();var n=1/Math.SQRT2,o=(1-1/Math.SQRT2)/2,r=.5*ju;return ts(t,1*e,.5*i,!0),ns(t,1*e,(.5+r)*i,(.5+r)*e,1*i,.5*e,1*i),ns(t,(.5-r)*e,1*i,0,(.5+r)*i,0,.5*i),ns(t,0,(.5-r)*i,(.5-r)*e,0,.5*e,0),ns(t,(.5+r)*e,0,1*e,(.5-r)*i,1*e,.5*i),ts(t,(o+n)*e,(o+n)*i,!1),t.lineTo(o*e,o*i),t.moveTo(o*e,(o+n)*i),t.lineTo((o+n)*e,o*i),t.bb(!1),e=t.o,e.be=Bd,Kh.q(t),e},LinedDocument:function(t,e,i){return i/=.8,t=Kh.s(),ts(t,0,.7*i,!0),t.lineTo(0,0),t.lineTo(1*e,0),t.lineTo(1*e,.7*i),ns(t,.5*e,.4*i,.5*e,1*i,0,.7*i),es(t),ts(t,.1*e,0,!1),t.lineTo(.1*e,.75*i),t.bb(!1),e=t.o,e.A=new N(.1,0),e.B=new N(1,.6),Kh.q(t),e},LoopLimit:function(t,e,i){return t=Kh.s(),ts(t,0,1*i,!0),t.lineTo(0,.25*i),t.lineTo(.25*e,0),t.lineTo(.75*e,0),t.lineTo(1*e,.25*i),t.lineTo(1*e,1*i),es(t),e=t.o,e.A=new N(0,.25),e.B=uu,Kh.q(t),e},SequentialData:"MagneticTape",MagneticTape:function(t,e,i){t=Kh.s();var n=.5*ju;return ts(t,.5*e,1*i,!0),ns(t,(.5-n)*e,1*i,0,(.5+n)*i,0,.5*i),ns(t,0,(.5-n)*i,(.5-n)*e,0,.5*e,0),ns(t,(.5+n)*e,0,1*e,(.5-n)*i,1*e,.5*i),ns(t,1*e,(.5+n)*i,(.5+n)*e,.9*i,.6*e,.9*i),t.lineTo(1*e,.9*i),t.lineTo(1*e,1*i),t.lineTo(.5*e,1*i),e=t.o,e.A=new N(.15,.15),e.B=new N(.85,.8),Kh.q(t),e},ManualInput:function(t,e,i){return t=Kh.s(),ts(t,1*e,0,!0),t.lineTo(1*e,1*i),t.lineTo(0,1*i),t.lineTo(0,.25*i),es(t),e=t.o,e.A=new N(0,.25),e.B=uu,Kh.q(t),e},MessageFromUser:function(t,e,i){t=t?t.Fc:NaN,isNaN(t)&&(t=.7);var n=Kh.s();return ts(n,0,0,!0),n.lineTo(1*e,0),n.lineTo(t*e,.5*i),n.lineTo(1*e,1*i),n.lineTo(0,1*i),es(n),e=n.o,e.A=iu,e.B=new N(t,1),Kh.q(n),e},MicroformProcessing:function(t,e,i){t=t?t.Fc:NaN,isNaN(t)&&(t=.25);var n=Kh.s();return ts(n,0,0,!0),n.lineTo(.5*e,t*i),n.lineTo(1*e,0),n.lineTo(1*e,1*i),n.lineTo(.5*e,(1-t)*i),n.lineTo(0,1*i),es(n),e=n.o,e.A=new N(0,t),e.B=new N(1,1-t),Kh.q(n),e},MicroformRecording:function(t,e,i){return t=Kh.s(),ts(t,0,0,!0),t.lineTo(.75*e,.25*i),t.lineTo(1*e,.15*i),t.lineTo(1*e,.85*i),t.lineTo(.75*e,.75*i),t.lineTo(0,1*i),es(t),e=t.o,e.A=new N(0,.25),e.B=new N(1,.75),Kh.q(t),e},MultiDocument:function(t,e,i){return i/=.8,t=Kh.s(),ts(t,e,0,!0),t.lineTo(e,.5*i),ns(t,.96*e,.47*i,.93*e,.45*i,.9*e,.44*i),t.lineTo(.9*e,.6*i),ns(t,.86*e,.57*i,.83*e,.55*i,.8*e,.54*i),t.lineTo(.8*e,.7*i),ns(t,.4*e,.4*i,.4*e,1*i,0,.7*i),t.lineTo(0,.2*i),t.lineTo(.1*e,.2*i),t.lineTo(.1*e,.1*i),t.lineTo(.2*e,.1*i),t.lineTo(.2*e,0),es(t),ts(t,.1*e,.2*i,!1),t.lineTo(.8*e,.2*i),t.lineTo(.8*e,.54*i),t.moveTo(.2*e,.1*i),t.lineTo(.9*e,.1*i),t.lineTo(.9*e,.44*i),t.bb(!1),e=t.o,e.A=new N(0,.25),e.B=new N(.8,.77),Kh.q(t),e},MultiProcess:function(t,e,i){return t=Kh.s(),ts(t,.1*e,.1*i,!0),t.lineTo(.2*e,.1*i),t.lineTo(.2*e,0),t.lineTo(1*e,0),t.lineTo(1*e,.8*i),t.lineTo(.9*e,.8*i),t.lineTo(.9*e,.9*i),t.lineTo(.8*e,.9*i),t.lineTo(.8*e,1*i),t.lineTo(0,1*i),t.lineTo(0,.2*i),t.lineTo(.1*e,.2*i),es(t),ts(t,.2*e,.1*i,!1),t.lineTo(.9*e,.1*i),t.lineTo(.9*e,.8*i),t.moveTo(.1*e,.2*i),t.lineTo(.8*e,.2*i),t.lineTo(.8*e,.9*i),t.bb(!1),e=t.o,e.A=new N(0,.2),e.B=new N(.8,1),Kh.q(t),e},OfflineStorage:function(t,e,i){t=t?t.Fc:NaN,isNaN(t)&&(t=.1);var n=1-t,o=Kh.s();return ts(o,0,0,!0),o.lineTo(1*e,0),o.lineTo(.5*e,1*i),es(o),ts(o,.5*t*e,t*i,!1),o.lineTo((1-.5*t)*e,t*i),o.bb(!1),e=o.o,e.A=new N(n/4+.5*t,t),e.B=new N(3*n/4+.5*t,t+.5*n),Kh.q(o),e},OffPageConnector:function(t,e,i){return t=Kh.s(),ts(t,0,0,!0),t.lineTo(.75*e,0),t.lineTo(1*e,.5*i),t.lineTo(.75*e,1*i),t.lineTo(0,1*i),es(t),e=t.o,e.A=iu,e.B=new N(.75,1),Kh.q(t),e},Or:function(t,e,i){t=Kh.s();var n=.5*ju;return ts(t,1*e,.5*i,!0),ns(t,1*e,(.5+n)*i,(.5+n)*e,1*i,.5*e,1*i),ns(t,(.5-n)*e,1*i,0,(.5+n)*i,0,.5*i),ns(t,0,(.5-n)*i,(.5-n)*e,0,.5*e,0),ns(t,(.5+n)*e,0,1*e,(.5-n)*i,1*e,.5*i),ts(t,1*e,.5*i,!1),t.lineTo(0,.5*i),t.moveTo(.5*e,1*i),t.lineTo(.5*e,0),t.bb(!1),e=t.o,e.be=Bd,Kh.q(t),e},PaperTape:function(t,e,i){return i/=.8,t=Kh.s(),ts(t,0,.7*i,!0),t.lineTo(0,.3*i),ns(t,.5*e,.6*i,.5*e,0,1*e,.3*i),t.lineTo(1*e,.7*i),ns(t,.5*e,.4*i,.5*e,1*i,0,.7*i),es(t),e=t.o,e.A=new N(0,.49),e.B=new N(1,.75),Kh.q(t),e},PrimitiveFromCall:function(t,e,i){var n=t?t.Fc:NaN;t=t?t.Au:NaN,isNaN(n)&&(n=.1),isNaN(t)&&(t=.3);var o=Kh.s();return ts(o,0,0,!0),o.lineTo(1*e,0),o.lineTo((1-t)*e,.5*i),o.lineTo(1*e,1*i),o.lineTo(0,1*i),es(o),e=o.o,e.A=new N(n,0),e.B=new N(1-t,1),Kh.q(o),e},PrimitiveToCall:function(t,e,i){var n=t?t.Fc:NaN;t=t?t.Au:NaN,isNaN(n)&&(n=.1),isNaN(t)&&(t=.3);var o=Kh.s();return ts(o,0,0,!0),o.lineTo((1-t)*e,0),o.lineTo(1*e,.5*i),o.lineTo((1-t)*e,1*i),o.lineTo(0,1*i),es(o),e=o.o,e.A=new N(n,0),e.B=new N(1-t,1),Kh.q(o),e},Subroutine:"Procedure",Procedure:function(t,e,i){t=t?t.Fc:NaN,isNaN(t)&&(t=.1);var n=Kh.s();return ts(n,0,0,!0),n.lineTo(1*e,0),n.lineTo(1*e,1*i),n.lineTo(0,1*i),es(n),ts(n,(1-t)*e,0,!1),n.lineTo((1-t)*e,1*i),n.moveTo(t*e,0),n.lineTo(t*e,1*i),n.bb(!1),e=n.o,e.A=new N(t,0),e.B=new N(1-t,1),Kh.q(n),e},Process:function(t,e,i){t=t?t.Fc:NaN,isNaN(t)&&(t=.1);var n=Kh.s();return ts(n,0,0,!0),n.lineTo(1*e,0),n.lineTo(1*e,1*i),n.lineTo(0,1*i),es(n),ts(n,t*e,0,!1),n.lineTo(t*e,1*i),n.bb(!1),e=n.o,e.A=new N(t,0),e.B=uu,Kh.q(n),e},Sort:function(t,e,i){return t=Kh.s(),ts(t,.5*e,0,!0),t.lineTo(1*e,.5*i),t.lineTo(.5*e,1*i),t.lineTo(0,.5*i),es(t),ts(t,0,.5*i,!1),t.lineTo(1*e,.5*i),t.bb(!1),e=t.o,e.A=new N(.25,.25),e.B=new N(.75,.5),Kh.q(t),e},Start:function(t,e,i){return t=Kh.s(),ts(t,.25*e,0,!0),ts(t,.25*e,0,!0),t.arcTo(270,180,.75*e,.5*i,.25*e,.5*i),t.arcTo(90,180,.25*e,.5*i,.25*e,.5*i),ts(t,.25*e,0,!1),t.lineTo(.25*e,1*i),t.moveTo(.75*e,0),t.lineTo(.75*e,1*i),t.bb(!1),e=t.o,e.A=new N(.25,0),e.B=new N(.75,1),Kh.q(t),e},Terminator:function(t,e,i){return t=Kh.s(),ts(t,.25*e,0,!0),t.arcTo(270,180,.75*e,.5*i,.25*e,.5*i),t.arcTo(90,180,.25*e,.5*i,.25*e,.5*i),e=t.o,e.A=new N(.23,0),e.B=new N(.77,1),Kh.q(t),e},TransmittalTape:function(t,e,i){t=t?t.Fc:NaN,isNaN(t)&&(t=.1);var n=Kh.s();return ts(n,0,0,!0),n.lineTo(1*e,0),n.lineTo(1*e,1*i),n.lineTo(.75*e,(1-t)*i),n.lineTo(0,(1-t)*i),es(n),e=n.o,e.A=iu,e.B=new N(1,1-t),Kh.q(n),e},AndGate:function(t,e,i){t=Kh.s();var n=.5*ju;return ts(t,0,0,!0),t.lineTo(.5*e,0),ns(t,(.5+n)*e,0,1*e,(.5-n)*i,1*e,.5*i),ns(t,1*e,(.5+n)*i,(.5+n)*e,1*i,.5*e,1*i),t.lineTo(0,1*i),es(t),e=t.o,e.A=iu,e.B=new N(.55,1),Kh.q(t),e},Buffer:function(t,e,i){return t=Kh.s(),ts(t,0,0,!0),t.lineTo(1*e,.5*i),t.lineTo(0,1*i),es(t),e=t.o,e.A=new N(0,.25),e.B=new N(.5,.75),Kh.q(t),e},Clock:function(t,e,i){t=Kh.s();var n=.5*ju;return ts(t,1*e,.5*i,!0),ns(t,1*e,(.5+n)*i,(.5+n)*e,1*i,.5*e,1*i),ns(t,(.5-n)*e,1*i,0,(.5+n)*i,0,.5*i),ns(t,0,(.5-n)*i,(.5-n)*e,0,.5*e,0),ns(t,(.5+n)*e,0,1*e,(.5-n)*i,1*e,.5*i),ts(t,1*e,.5*i,!1),t.lineTo(1*e,.5*i),ts(t,.8*e,.75*i,!1),t.lineTo(.8*e,.25*i),t.lineTo(.6*e,.25*i),t.lineTo(.6*e,.75*i),t.lineTo(.4*e,.75*i),t.lineTo(.4*e,.25*i),t.lineTo(.2*e,.25*i),t.lineTo(.2*e,.75*i),t.bb(!1),e=t.o,e.be=Bd,Kh.q(t),e},Ground:function(t,e,i){return t=Kh.s(),ts(t,.5*e,0,!1),t.lineTo(.5*e,.4*i),t.moveTo(.2*e,.6*i),t.lineTo(.8*e,.6*i),t.moveTo(.3*e,.8*i),t.lineTo(.7*e,.8*i),t.moveTo(.4*e,1*i),t.lineTo(.6*e,1*i),e=t.o,Kh.q(t),e},Inverter:function(t,e,i){t=Kh.s();var n=.1*ju;return ts(t,.8*e,.5*i,!0),t.lineTo(0,1*i),t.lineTo(0,0),t.lineTo(.8*e,.5*i),ts(t,1*e,.5*i,!0),ns(t,1*e,(.5+n)*i,(.9+n)*e,.6*i,.9*e,.6*i),ns(t,(.9-n)*e,.6*i,.8*e,(.5+n)*i,.8*e,.5*i),ns(t,.8*e,(.5-n)*i,(.9-n)*e,.4*i,.9*e,.4*i),ns(t,(.9+n)*e,.4*i,1*e,(.5-n)*i,1*e,.5*i),e=t.o,e.A=new N(0,.25),e.B=new N(.4,.75),Kh.q(t),e},NandGate:function(t,e,i){t=Kh.s();var n=.5*ju,o=.4*ju,r=.1*ju;return ts(t,.8*e,.5*i,!0),ns(t,.8*e,(.5+o)*i,(.4+n)*e,1*i,.4*e,1*i),t.lineTo(0,1*i),t.lineTo(0,0),t.lineTo(.4*e,0),ns(t,(.4+n)*e,0,.8*e,(.5-o)*i,.8*e,.5*i),ts(t,1*e,.5*i,!0),ns(t,1*e,(.5+r)*i,(.9+r)*e,.6*i,.9*e,.6*i),ns(t,(.9-r)*e,.6*i,.8*e,(.5+r)*i,.8*e,.5*i),ns(t,.8*e,(.5-r)*i,(.9-r)*e,.4*i,.9*e,.4*i),ns(t,(.9+r)*e,.4*i,1*e,(.5-r)*i,1*e,.5*i),e=t.o,e.A=new N(0,.05),e.B=new N(.55,.95),Kh.q(t),e},NorGate:function(t,e,i){t=Kh.s();var n=.5,o=ju*n,r=0,s=.5;return ts(t,.8*e,.5*i,!0),ns(t,.7*e,(s+o)*i,(r+o)*e,(s+n)*i,0,1*i),ns(t,.25*e,.75*i,.25*e,.25*i,0,0),ns(t,(r+o)*e,(s-n)*i,.7*e,(s-o)*i,.8*e,.5*i),n=.1,o=.1*ju,r=.9,s=.5,ts(t,(r-n)*e,s*i,!0),ns(t,(r-n)*e,(s-o)*i,(r-o)*e,(s-n)*i,r*e,(s-n)*i),ns(t,(r+o)*e,(s-n)*i,(r+n)*e,(s-o)*i,(r+n)*e,s*i),ns(t,(r+n)*e,(s+o)*i,(r+o)*e,(s+n)*i,r*e,(s+n)*i),ns(t,(r-o)*e,(s+n)*i,(r-n)*e,(s+o)*i,(r-n)*e,s*i),e=t.o,e.A=new N(.2,.25),e.B=new N(.6,.75),Kh.q(t),e},OrGate:function(t,e,i){t=Kh.s();var n=.5*ju;return ts(t,0,0,!0),ns(t,(0+n+n)*e,0*i,.8*e,(.5-n)*i,1*e,.5*i),ns(t,.8*e,(.5+n)*i,(0+n+n)*e,1*i,0,1*i),ns(t,.25*e,.75*i,.25*e,.25*i,0,0),es(t),e=t.o,e.A=new N(.2,.25),e.B=new N(.75,.75),Kh.q(t),e},XnorGate:function(t,e,i){t=Kh.s();var n=.5,o=ju*n,r=.2,s=.5;return ts(t,.1*e,0,!1),ns(t,.35*e,.25*i,.35*e,.75*i,.1*e,1*i),ts(t,.8*e,.5*i,!0),ns(t,.7*e,(s+o)*i,(r+o)*e,(s+n)*i,.2*e,1*i),ns(t,.45*e,.75*i,.45*e,.25*i,.2*e,0),ns(t,(r+o)*e,(s-n)*i,.7*e,(s-o)*i,.8*e,.5*i),n=.1,o=.1*ju,r=.9,s=.5,ts(t,(r-n)*e,s*i,!0),ns(t,(r-n)*e,(s-o)*i,(r-o)*e,(s-n)*i,r*e,(s-n)*i),ns(t,(r+o)*e,(s-n)*i,(r+n)*e,(s-o)*i,(r+n)*e,s*i),ns(t,(r+n)*e,(s+o)*i,(r+o)*e,(s+n)*i,r*e,(s+n)*i),ns(t,(r-o)*e,(s+n)*i,(r-n)*e,(s+o)*i,(r-n)*e,s*i),e=t.o,e.A=new N(.4,.25),e.B=new N(.65,.75),Kh.q(t),e},XorGate:function(t,e,i){t=Kh.s();var n=.5*ju;return ts(t,.1*e,0,!1),ns(t,.35*e,.25*i,.35*e,.75*i,.1*e,1*i),ts(t,.2*e,0,!0),ns(t,(.2+n)*e,0*i,.9*e,(.5-n)*i,1*e,.5*i),ns(t,.9*e,(.5+n)*i,(.2+n)*e,1*i,.2*e,1*i),ns(t,.45*e,.75*i,.45*e,.25*i,.2*e,0),es(t),e=t.o,e.A=new N(.4,.25),e.B=new N(.8,.75),Kh.q(t),e},Capacitor:function(t,e,i){return t=Kh.s(),ts(t,0,0,!1),t.lineTo(0,1*i),t.moveTo(1*e,0),t.lineTo(1*e,1*i),e=t.o,Kh.q(t),e},Resistor:function(t,e,i){return t=Kh.s(),ts(t,0,.5*i,!1),t.lineTo(.1*e,0),t.lineTo(.2*e,1*i),t.lineTo(.3*e,0),t.lineTo(.4*e,1*i),t.lineTo(.5*e,0),t.lineTo(.6*e,1*i),t.lineTo(.7*e,.5*i),e=t.o,Kh.q(t),e},Inductor:function(t,e,i){t=Kh.s();var n=.1*ju,o=.1;return ts(t,(o-.5*n)*e,i,!1),ns(t,(o-n)*e,i,(o-.1)*e,0,(o+.1)*e,0),o=.3,ns(t,(o+.1)*e,0,(o+n)*e,i,o*e,i),ns(t,(o-n)*e,i,(o-.1)*e,0,(o+.1)*e,0),o=.5,ns(t,(o+.1)*e,0,(o+n)*e,i,o*e,i),ns(t,(o-n)*e,i,(o-.1)*e,0,(o+.1)*e,0),o=.7,ns(t,(o+.1)*e,0,(o+n)*e,i,o*e,i),ns(t,(o-n)*e,i,(o-.1)*e,0,(o+.1)*e,0),o=.9,ns(t,(o+.1)*e,0,(o+n)*e,i,(o+.5*n)*e,i),e=t.o,Kh.q(t),e},ACvoltageSource:function(t,e,i){t=Kh.s();var n=.5*ju;return ts(t,0*e,.5*i,!1),ns(t,0*e,(.5-n)*i,(.5-n)*e,0*i,.5*e,0*i),ns(t,(.5+n)*e,0*i,1*e,(.5-n)*i,1*e,.5*i),ns(t,1*e,(.5+n)*i,(.5+n)*e,1*i,.5*e,1*i),ns(t,(.5-n)*e,1*i,0*e,(.5+n)*i,0*e,.5*i),t.moveTo(.1*e,.5*i),ns(t,.5*e,0*i,.5*e,1*i,.9*e,.5*i),e=t.o,e.be=Bd,Kh.q(t),e},DCvoltageSource:function(t,e,i){return t=Kh.s(),ts(t,0,.75*i,!1),t.lineTo(0,.25*i),t.moveTo(1*e,0),t.lineTo(1*e,1*i),e=t.o,Kh.q(t),e},Diode:function(t,e,i){return t=Kh.s(),ts(t,1*e,0,!1),t.lineTo(1*e,.5*i),t.lineTo(0,1*i),t.lineTo(0,0),t.lineTo(1*e,.5*i),t.lineTo(1*e,1*i),e=t.o,e.A=new N(0,.25),e.B=new N(.5,.75),Kh.q(t),e},Wifi:function(t,e,i){var n=e,o=i;e*=.38,i*=.6,t=Kh.s();var r=.8*ju,s=.8,a=0,l=.5,n=(n-e)/2,o=(o-i)/2;return ts(t,a*e+n,(l+s)*i+o,!0),ns(t,(a-r)*e+n,(l+s)*i+o,(a-s)*e+n,(l+r)*i+o,(a-s)*e+n,l*i+o),ns(t,(a-s)*e+n,(l-r)*i+o,(a-r)*e+n,(l-s)*i+o,a*e+n,(l-s)*i+o),ns(t,a*e+n,(l-s)*i+o,(a-s+.5*r)*e+n,(l-r)*i+o,(a-s+.5*r)*e+n,l*i+o),ns(t,(a-s+.5*r)*e+n,(l+r)*i+o,a*e+n,(l+s)*i+o,a*e+n,(l+s)*i+o),es(t),r=.4*ju,s=.4,a=.2,l=.5,ts(t,a*e+n,(l+s)*i+o,!0),ns(t,(a-r)*e+n,(l+s)*i+o,(a-s)*e+n,(l+r)*i+o,(a-s)*e+n,l*i+o),ns(t,(a-s)*e+n,(l-r)*i+o,(a-r)*e+n,(l-s)*i+o,a*e+n,(l-s)*i+o),ns(t,a*e+n,(l-s)*i+o,(a-s+.5*r)*e+n,(l-r)*i+o,(a-s+.5*r)*e+n,l*i+o),ns(t,(a-s+.5*r)*e+n,(l+r)*i+o,a*e+n,(l+s)*i+o,a*e+n,(l+s)*i+o),es(t),r=.2*ju,s=.2,l=a=.5,ts(t,(a-s)*e+n,l*i+o,!0),ns(t,(a-s)*e+n,(l-r)*i+o,(a-r)*e+n,(l-s)*i+o,a*e+n,(l-s)*i+o),ns(t,(a+r)*e+n,(l-s)*i+o,(a+s)*e+n,(l-r)*i+o,(a+s)*e+n,l*i+o),ns(t,(a+s)*e+n,(l+r)*i+o,(a+r)*e+n,(l+s)*i+o,a*e+n,(l+s)*i+o),ns(t,(a-r)*e+n,(l+s)*i+o,(a-s)*e+n,(l+r)*i+o,(a-s)*e+n,l*i+o),r=.4*ju,s=.4,a=.8,l=.5,ts(t,a*e+n,(l-s)*i+o,!0),ns(t,(a+r)*e+n,(l-s)*i+o,(a+s)*e+n,(l-r)*i+o,(a+s)*e+n,l*i+o),ns(t,(a+s)*e+n,(l+r)*i+o,(a+r)*e+n,(l+s)*i+o,a*e+n,(l+s)*i+o),ns(t,a*e+n,(l+s)*i+o,(a+s-.5*r)*e+n,(l+r)*i+o,(a+s-.5*r)*e+n,l*i+o),ns(t,(a+s-.5*r)*e+n,(l-r)*i+o,a*e+n,(l-s)*i+o,a*e+n,(l-s)*i+o),es(t),r=.8*ju,s=.8,a=1,l=.5,ts(t,a*e+n,(l-s)*i+o,!0),ns(t,(a+r)*e+n,(l-s)*i+o,(a+s)*e+n,(l-r)*i+o,(a+s)*e+n,l*i+o),ns(t,(a+s)*e+n,(l+r)*i+o,(a+r)*e+n,(l+s)*i+o,a*e+n,(l+s)*i+o),ns(t,a*e+n,(l+s)*i+o,(a+s-.5*r)*e+n,(l+r)*i+o,(a+s-.5*r)*e+n,l*i+o),ns(t,(a+s-.5*r)*e+n,(l-r)*i+o,a*e+n,(l-s)*i+o,a*e+n,(l-s)*i+o),es(t),e=t.o,Kh.q(t),e},Email:function(t,e,i){return t=Kh.s(),ts(t,0,0,!0),t.lineTo(1*e,0),t.lineTo(1*e,1*i),t.lineTo(0,1*i),t.lineTo(0,0),es(t),ts(t,0,0,!1),t.lineTo(.5*e,.6*i),t.lineTo(1*e,0),t.moveTo(0,1*i),t.lineTo(.45*e,.54*i),t.moveTo(1*e,1*i),t.lineTo(.55*e,.54*i),t.bb(!1),e=t.o,Kh.q(t),e},Ethernet:function(t,e,i){return t=Kh.s(),ts(t,.35*e,0,!0),t.lineTo(.65*e,0),t.lineTo(.65*e,.4*i),t.lineTo(.35*e,.4*i),t.lineTo(.35*e,0),es(t),ts(t,.1*e,1*i,!0,!0),t.lineTo(.4*e,1*i),t.lineTo(.4*e,.6*i),t.lineTo(.1*e,.6*i),t.lineTo(.1*e,1*i),es(t),ts(t,.6*e,1*i,!0,!0),t.lineTo(.9*e,1*i),t.lineTo(.9*e,.6*i),t.lineTo(.6*e,.6*i),t.lineTo(.6*e,1*i),es(t),ts(t,0,.5*i,!1),t.lineTo(1*e,.5*i),t.moveTo(.5*e,.5*i),t.lineTo(.5*e,.4*i),t.moveTo(.75*e,.5*i),t.lineTo(.75*e,.6*i),t.moveTo(.25*e,.5*i),t.lineTo(.25*e,.6*i),t.bb(!1),e=t.o,Kh.q(t),e},Power:function(t,e,i){t=Kh.s();var n=.4*ju,o=.4,r=Kh.K(),s=Kh.K(),a=Kh.K(),l=Kh.K();tt(.5,.5-o,.5+n,.5-o,.5+o,.5-n,.5+o,.5,.5,r,r,s,a,l);var h=Kh.xb(s.x,s.y);return ts(t,s.x*e,s.y*i,!0),ns(t,a.x*e,a.y*i,l.x*e,l.y*i,(.5+o)*e,.5*i),ns(t,(.5+o)*e,(.5+n)*i,(.5+n)*e,(.5+o)*i,.5*e,(.5+o)*i),ns(t,(.5-n)*e,(.5+o)*i,(.5-o)*e,(.5+n)*i,(.5-o)*e,.5*i),tt(.5-o,.5,.5-o,.5-n,.5-n,.5-o,.5,.5-o,.5,a,l,s,r,r),ns(t,a.x*e,a.y*i,l.x*e,l.y*i,s.x*e,s.y*i),n=.3*ju,o=.3,tt(.5-o,.5,.5-o,.5-n,.5-n,.5-o,.5,.5-o,.5,a,l,s,r,r),t.lineTo(s.x*e,s.y*i),ns(t,l.x*e,l.y*i,a.x*e,a.y*i,(.5-o)*e,.5*i),ns(t,(.5-o)*e,(.5+n)*i,(.5-n)*e,(.5+o)*i,.5*e,(.5+o)*i),ns(t,(.5+n)*e,(.5+o)*i,(.5+o)*e,(.5+n)*i,(.5+o)*e,.5*i),tt(.5,.5-o,.5+n,.5-o,.5+o,.5-n,.5+o,.5,.5,r,r,s,a,l),ns(t,l.x*e,l.y*i,a.x*e,a.y*i,s.x*e,s.y*i),es(t),ts(t,.45*e,0,!0),t.lineTo(.45*e,.5*i),t.lineTo(.55*e,.5*i),t.lineTo(.55*e,0),es(t),Kh.v(r),Kh.v(s),Kh.v(a),Kh.v(l),Kh.v(h),e=t.o,e.A=new N(.25,.55),e.B=new N(.75,.8),Kh.q(t),e},Fallout:function(t,e,i){t=Kh.s();var n=.5*ju;ts(t,0*e,.5*i,!0),ns(t,0*e,(.5-n)*i,(.5-n)*e,0*i,.5*e,0*i),ns(t,(.5+n)*e,0*i,1*e,(.5-n)*i,1*e,.5*i),ns(t,1*e,(.5+n)*i,(.5+n)*e,1*i,.5*e,1*i),ns(t,(.5-n)*e,1*i,0*e,(.5+n)*i,0*e,.5*i);var o=n=0;return ts(t,(.3+n)*e,(.8+o)*i,!0,!0),t.lineTo((.5+n)*e,(.5+o)*i),t.lineTo((.1+n)*e,(.5+o)*i),t.lineTo((.3+n)*e,(.8+o)*i),n=.4,o=0,es(t),ts(t,(.3+n)*e,(.8+o)*i,!0,!0),t.lineTo((.5+n)*e,(.5+o)*i),t.lineTo((.1+n)*e,(.5+o)*i),t.lineTo((.3+n)*e,(.8+o)*i),n=.2,o=-.3,es(t),ts(t,(.3+n)*e,(.8+o)*i,!0,!0),t.lineTo((.5+n)*e,(.5+o)*i),t.lineTo((.1+n)*e,(.5+o)*i),t.lineTo((.3+n)*e,(.8+o)*i),es(t),e=t.o,e.be=Bd,Kh.q(t),e},IrritationHazard:function(t,e,i){return t=Kh.s(),ts(t,.2*e,0*i,!0),t.lineTo(.5*e,.3*i),t.lineTo(.8*e,0*i),t.lineTo(1*e,.2*i),t.lineTo(.7*e,.5*i),t.lineTo(1*e,.8*i),t.lineTo(.8*e,1*i),t.lineTo(.5*e,.7*i),t.lineTo(.2*e,1*i),t.lineTo(0*e,.8*i),t.lineTo(.3*e,.5*i),t.lineTo(0*e,.2*i),es(t),e=t.o,e.A=new N(.3,.3),e.B=new N(.7,.7),Kh.q(t),e},ElectricalHazard:function(t,e,i){return t=Kh.s(),ts(t,.37*e,0*i,!0),t.lineTo(.5*e,.11*i),t.lineTo(.77*e,.04*i),t.lineTo(.33*e,.49*i),t.lineTo(1*e,.37*i),t.lineTo(.63*e,.86*i),t.lineTo(.77*e,.91*i),t.lineTo(.34*e,1*i),t.lineTo(.34*e,.78*i),t.lineTo(.44*e,.8*i),t.lineTo(.65*e,.56*i),t.lineTo(0*e,.68*i),es(t),e=t.o,Kh.q(t),e},FireHazard:function(t,e,i){return t=Kh.s(),ts(t,.1*e,1*i,!0),ns(t,-.25*e,.63*i,.45*e,.44*i,.29*e,0*i),ns(t,.48*e,.17*i,.54*e,.35*i,.51*e,.42*i),ns(t,.59*e,.29*i,.58*e,.28*i,.59*e,.18*i),ns(t,.8*e,.34*i,.88*e,.43*i,.75*e,.6*i),ns(t,.87*e,.48*i,.88*e,.43*i,.88*e,.31*i),ns(t,1.17*e,.76*i,.82*e,.8*i,.9*e,1*i),es(t),e=t.o,e.A=new N(.05,.645),e.B=new N(.884,.908),Kh.q(t),e},BpmnActivityLoop:function(t,e,i){t=Kh.s();var n=4*(Math.SQRT2-1)/3*.5;return ts(t,.65*e,1*i,!1),ns(t,(1-n+0)*e,1*i,1*e,(.5+n+0)*i,1*e,.5*i),ns(t,1*e,(.5-n+0)*i,(.5+n+0)*e,0*i,.5*e,0*i),ns(t,(.5-n+0)*e,0*i,0*e,(.5-n+0)*i,0*e,.5*i),ns(t,0*e,(.5+n+0)*i,(.5-n+0)*e,1*i,.35*e,.98*i),t.moveTo(.25*e,.8*i),t.lineTo(.35*e,1*i),t.lineTo(.1*e,1*i),e=t.o,Kh.q(t),e},BpmnActivityParallel:function(t,e,i){return t=Kh.s(),ts(t,0,0,!1),t.lineTo(0,1*i),t.moveTo(.5*e,0),t.lineTo(.5*e,1*i),t.moveTo(1*e,0),t.lineTo(1*e,1*i),e=t.o,Kh.q(t),e},BpmnActivitySequential:function(t,e,i){return t=Kh.s(),ts(t,0,0,!1),t.lineTo(1*e,0),t.moveTo(0,.5*i),t.lineTo(1*e,.5*i),t.moveTo(0,1*i),t.lineTo(1*e,1*i),e=t.o,Kh.q(t),e},BpmnActivityAdHoc:function(t,e,i){return t=Kh.s(),ts(t,0,0,!1),ts(t,1*e,1*i,!1),ts(t,0,.5*i,!1),ns(t,.2*e,.35*i,.3*e,.35*i,.5*e,.5*i),ns(t,.7*e,.65*i,.8*e,.65*i,1*e,.5*i),e=t.o,Kh.q(t),e},BpmnActivityCompensation:function(t,e,i){return t=Kh.s(),ts(t,0,.5*i,!0),t.lineTo(.5*e,0),t.lineTo(.5*e,.5*i),t.lineTo(1*e,1*i),t.lineTo(1*e,0),t.lineTo(.5*e,.5*i),t.lineTo(.5*e,1*i),es(t),e=t.o,Kh.q(t),e},BpmnTaskMessage:function(t,e,i){return t=Kh.s(),ts(t,0,.2*i,!0),t.lineTo(1*e,.2*i),t.lineTo(1*e,.8*i),t.lineTo(0,.8*i),t.lineTo(0,.8*i),es(t),ts(t,0,.2*i,!1),t.lineTo(.5*e,.5*i),t.lineTo(1*e,.2*i),t.bb(!1),e=t.o,Kh.q(t),e},BpmnTaskScript:function(t,e,i){return t=Kh.s(),ts(t,.7*e,1*i,!0),t.lineTo(.3*e,1*i),ns(t,.6*e,.5*i,0,.5*i,.3*e,0),t.lineTo(.7*e,0),ns(t,.4*e,.5*i,1*e,.5*i,.7*e,1*i),es(t),ts(t,.45*e,.73*i,!1),t.lineTo(.7*e,.73*i),t.moveTo(.38*e,.5*i),t.lineTo(.63*e,.5*i),t.moveTo(.31*e,.27*i),t.lineTo(.56*e,.27*i),t.bb(!1),e=t.o,Kh.q(t),e},BpmnTaskUser:function(t,e,i){t=Kh.s(),ts(t,0,0,!1),ts(t,.335*e,(1-.555)*i,!0),t.lineTo(.335*e,.595*i),t.lineTo(.665*e,.595*i),t.lineTo(.665*e,(1-.555)*i),ns(t,.88*e,.46*i,.98*e,.54*i,1*e,.68*i),t.lineTo(1*e,1*i),t.lineTo(0,1*i),t.lineTo(0,.68*i),ns(t,.02*e,.54*i,.12*e,.46*i,.335*e,(1-.555)*i),t.lineTo(.365*e,.405*i);var n=.5-.285,o=Math.PI/4,r=4*(1-Math.cos(o))/(3*Math.sin(o)),o=r*n,r=r*n;return ns(t,(.5-(o+n)/2)*e,(n+(n+r)/2)*i,.285*e,(n+r)*i,.285*e,n*i),ns(t,.285*e,(n-r)*i,(.5-o)*e,0*i,.5*e,0*i),ns(t,(.5+o)*e,0*i,(.5+n)*e,(n-r)*i,(.5+n)*e,n*i),ns(t,(.5+n)*e,(n+r)*i,(.5+(o+n)/2)*e,(n+(n+r)/2)*i,.635*e,.405*i),t.lineTo(.635*e,.405*i),t.lineTo(.665*e,(1-.555)*i),t.lineTo(.665*e,.595*i),t.lineTo(.335*e,.595*i),ts(t,.2*e,1*i,!1),t.lineTo(.2*e,.8*i),ts(t,.8*e,1*i,!1),t.lineTo(.8*e,.8*i),e=t.o,Kh.q(t),e},BpmnEventConditional:function(t,e,i){return t=Kh.s(),ts(t,.1*e,0,!0),t.lineTo(.9*e,0),t.lineTo(.9*e,1*i),t.lineTo(.1*e,1*i),es(t),ts(t,.2*e,.2*i,!1),t.lineTo(.8*e,.2*i),t.moveTo(.2*e,.4*i),t.lineTo(.8*e,.4*i),t.moveTo(.2*e,.6*i),t.lineTo(.8*e,.6*i),t.moveTo(.2*e,.8*i),t.lineTo(.8*e,.8*i),t.bb(!1),e=t.o,Kh.q(t),e},BpmnEventError:function(t,e,i){return t=Kh.s(),ts(t,0,1*i,!0),t.lineTo(.33*e,0),t.lineTo(.66*e,.5*i),t.lineTo(1*e,0),t.lineTo(.66*e,1*i),t.lineTo(.33*e,.5*i),es(t),e=t.o,Kh.q(t),e},BpmnEventEscalation:function(t,e,i){return t=Kh.s(),ts(t,0,0,!1),ts(t,1*e,1*i,!1),ts(t,.1*e,1*i,!0),t.lineTo(.5*e,0),t.lineTo(.9*e,1*i),t.lineTo(.5*e,.5*i),es(t),e=t.o,Kh.q(t),e},BpmnEventTimer:function(t,e,i){t=Kh.s();var n=.5*ju;return ts(t,1*e,.5*i,!0),ns(t,1*e,(.5+n)*i,(.5+n)*e,1*i,.5*e,1*i),ns(t,(.5-n)*e,1*i,0,(.5+n)*i,0,.5*i),ns(t,0,(.5-n)*i,(.5-n)*e,0,.5*e,0),ns(t,(.5+n)*e,0,1*e,(.5-n)*i,1*e,.5*i),ts(t,.5*e,0,!1),t.lineTo(.5*e,.15*i),t.moveTo(.5*e,1*i),t.lineTo(.5*e,.85*i),t.moveTo(0,.5*i),t.lineTo(.15*e,.5*i),t.moveTo(1*e,.5*i),t.lineTo(.85*e,.5*i),t.moveTo(.5*e,.5*i),t.lineTo(.58*e,.1*i),t.moveTo(.5*e,.5*i),t.lineTo(.78*e,.54*i),t.bb(!1),e=t.o,e.be=Bd,Kh.q(t),e}};for(Mp in Tp)Tp[Mp.toLowerCase()]=Mp;var Ep={"":"",Standard:"F1 m 0,0 l 8,4 -8,4 2,-4 z",Backward:"F1 m 8,0 l -2,4 2,4 -8,-4 z",Triangle:"F1 m 0,0 l 8,4.62 -8,4.62 z",BackwardTriangle:"F1 m 8,4 l 0,4 -8,-4 8,-4 0,4 z",Boomerang:"F1 m 0,0 l 8,4 -8,4 4,-4 -4,-4 z",BackwardBoomerang:"F1 m 8,0 l -8,4 8,4 -4,-4 4,-4 z",SidewaysV:"m 0,0 l 8,4 -8,4 0,-1 6,-3 -6,-3 0,-1 z",BackwardV:"m 8,0 l -8,4 8,4 0,-1 -6,-3 6,-3 0,-1 z",OpenTriangle:"m 0,0 l 8,4 -8,4",BackwardOpenTriangle:"m 8,0 l -8,4 8,4",OpenTriangleLine:"m 0,0 l 8,4 -8,4 m 8.5,0 l 0,-8",BackwardOpenTriangleLine:"m 8,0 l  -8,4 8,4 m -8.5,0 l 0,-8",OpenTriangleTop:"m 0,0 l 8,4 m 0,4",BackwardOpenTriangleTop:"m 8,0 l -8,4 m 0,4",OpenTriangleBottom:"m 0,8 l 8,-4",BackwardOpenTriangleBottom:"m 0,4 l 8,4",HalfTriangleTop:"F1 m 0,0 l 0,4 8,0 z m 0,8",BackwardHalfTriangleTop:"F1 m 8,0 l 0,4 -8,0 z m 0,8",HalfTriangleBottom:"F1 m 0,4 l 0,4 8,-4 z",BackwardHalfTriangleBottom:"F1 m 8,4 l 0,4 -8,-4 z",ForwardSemiCircle:"m 4,0 b 270 180 0 4 4",BackwardSemiCircle:"m 4,8 b 90 180 0 -4 4",Feather:"m 0,0 l 3,4 -3,4",BackwardFeather:"m 3,0 l -3,4 3,4",DoubleFeathers:"m 0,0 l 3,4 -3,4 m 3,-8 l 3,4 -3,4",BackwardDoubleFeathers:"m 3,0 l -3,4 3,4 m 3,-8 l -3,4 3,4",TripleFeathers:"m 0,0 l 3,4 -3,4 m 3,-8 l 3,4 -3,4 m 3,-8 l 3,4 -3,4",BackwardTripleFeathers:"m 3,0 l -3,4 3,4 m 3,-8 l -3,4 3,4 m 3,-8 l -3,4 3,4",ForwardSlash:"m 0,8 l 5,-8",BackSlash:"m 0,0 l 5,8",DoubleForwardSlash:"m 0,8 l 4,-8 m -2,8 l 4,-8",DoubleBackSlash:"m 0,0 l 4,8 m -2,-8 l 4,8",TripleForwardSlash:"m 0,8 l 4,-8 m -2,8 l 4,-8 m -2,8 l 4,-8",TripleBackSlash:"m 0,0 l 4,8 m -2,-8 l 4,8 m -2,-8 l 4,8",Fork:"m 0,4 l 8,0 m -8,0 l 8,-4 m -8,4 l 8,4",BackwardFork:"m 8,4 l -8,0 m 8,0 l -8,-4 m 8,4 l -8,4",LineFork:"m 0,0 l 0,8 m 0,-4 l 8,0 m -8,0 l 8,-4 m -8,4 l 8,4",BackwardLineFork:"m 8,4 l -8,0 m 8,0 l -8,-4 m 8,4 l -8,4 m 8,-8 l 0,8",CircleFork:"F1 m 6,4 b 0 360 -3 0 3 z m 0,0 l 6,0 m -6,0 l 6,-4 m -6,4 l 6,4",BackwardCircleFork:"F1 m 0,4 l 6,0 m -6,-4 l 6,4 m -6,4 l 6,-4 m 6,0 b 0 360 -3 0 3",CircleLineFork:"F1 m 6,4 b 0 360 -3 0 3 z m 1,-4 l 0,8 m 0,-4 l 6,0 m -6,0 l 6,-4 m -6,4 l 6,4",BackwardCircleLineFork:"F1 m 0,4 l 6,0 m -6,-4 l 6,4 m -6,4 l 6,-4 m 0,-4 l 0,8 m 7,-4 b 0 360 -3 0 3",Circle:"F1 m 8,4 b 0 360 -4 0 4 z",Block:"F1 m 0,0 l 0,8 8,0 0,-8 z",StretchedDiamond:"F1 m 0,3 l 5,-3 5,3 -5,3 -5,-3 z",Diamond:"F1 m 0,4 l 4,-4 4,4 -4,4 -4,-4 z",Chevron:"F1 m 0,0 l 5,0 3,4 -3,4 -5,0 3,-4 -3,-4 z",StretchedChevron:"F1 m 0,0 l 8,0 3,4 -3,4 -8,0 3,-4 -3,-4 z",NormalArrow:"F1 m 0,2 l 4,0 0,-2 4,4 -4,4 0,-2 -4,0 z",X:"m 0,0 l 8,8 m 0,-8 l -8,8",TailedNormalArrow:"F1 m 0,0 l 2,0 1,2 3,0 0,-2 2,4 -2,4 0,-2 -3,0 -1,2 -2,0 1,-4 -1,-4 z",DoubleTriangle:"F1 m 0,0 l 4,4 -4,4 0,-8 z  m 4,0 l 4,4 -4,4 0,-8 z",BigEndArrow:"F1 m 0,0 l 5,2 0,-2 3,4 -3,4 0,-2 -5,2 0,-8 z",ConcaveTailArrow:"F1 m 0,2 h 4 v -2 l 4,4 -4,4 v -2 h -4 l 2,-2 -2,-2 z",RoundedTriangle:"F1 m 0,1 a 1,1 0 0 1 1,-1 l 7,3 a 0.5,1 0 0 1 0,2 l -7,3 a 1,1 0 0 1 -1,-1 l 0,-6 z",SimpleArrow:"F1 m 1,2 l -1,-2 2,0 1,2 -1,2 -2,0 1,-2 5,0 0,-2 2,2 -2,2 0,-2 z",AccelerationArrow:"F1 m 0,0 l 0,8 0.2,0 0,-8 -0.2,0 z m 2,0 l 0,8 1,0 0,-8 -1,0 z m 3,0 l 2,0 2,4 -2,4 -2,0 0,-8 z",BoxArrow:"F1 m 0,0 l 4,0 0,2 2,0 0,-2 2,4 -2,4 0,-2 -2,0 0,2 -4,0 0,-8 z",TriangleLine:"F1 m 8,4 l -8,-4 0,8 8,-4 z m 0.5,4 l 0,-8",CircleEndedArrow:"F1 m 10,4 l -2,-3 0,2 -2,0 0,2 2,0 0,2 2,-3 z m -4,0 b 0 360 -3 0 3 z",DynamicWidthArrow:"F1 m 0,3 l 2,0 2,-1 2,-2 2,4 -2,4 -2,-2 -2,-1 -2,0 0,-2 z",EquilibriumArrow:"m 0,3 l 8,0 -3,-3 m 3,5 l -8,0 3,3",FastForward:"F1 m 0,0 l 3.5,4 0,-4 3.5,4 0,-4 1,0 0,8 -1,0 0,-4 -3.5,4 0,-4 -3.5,4 0,-8 z",Kite:"F1 m 0,4 l 2,-4 6,4 -6,4 -2,-4 z",HalfArrowTop:"F1 m 0,0 l 4,4 4,0 -8,-4 z m 0,8",HalfArrowBottom:"F1 m 0,8 l 4,-4 4,0 -8,4 z",OpposingDirectionDoubleArrow:"F1 m 0,4 l 2,-4 0,2 4,0 0,-2 2,4 -2,4 0,-2 -4,0 0,2 -2,-4 z",PartialDoubleTriangle:"F1 m 0,0 4,3 0,-3 4,4 -4,4 0,-3 -4,3 0,-8 z",LineCircle:"F1 m 0,0 l 0,8 m 7 -4 b 0 360 -3 0 3 z",DoubleLineCircle:"F1 m 0,0 l 0,8 m 2,-8 l 0,8 m 7 -4 b 0 360 -3 0 3 z",TripleLineCircle:"F1 m 0,0 l 0,8 m 2,-8 l 0,8 m 2,-8 l 0,8 m 7 -4 b 0 360 -3 0 3 z",CircleLine:"F1 m 6 4 b 0 360 -3 0 3 z m 1,-4 l 0,8",DiamondCircle:"F1 m 8,4 l -4,4 -4,-4 4,-4 4,4 m 8,0 b 0 360 -4 0 4 z",PlusCircle:"F1 m 8,4 b 0 360 -4 0 4 l -8 0 z m -4 -4 l 0 8",OpenRightTriangleTop:"m 8,0 l 0,4 -8,0 m 0,4",OpenRightTriangleBottom:"m 8,8 l 0,-4 -8,0",Line:"m 0,0 l 0,8",DoubleLine:"m 0,0 l 0,8 m 2,0 l 0,-8",TripleLine:"m 0,0 l 0,8 m 2,0 l 0,-8 m 2,0 l 0,8",PentagonArrow:"F1 m 8,4 l -4,-4 -4,0 0,8 4,0 4,-4 z"};Kh.Ka(us,ir),Kh.ga("Part",us),us.prototype.cloneProtected=function(t){ir.prototype.cloneProtected.call(this,t),t.N=-4097&this.N|49152,t.yi=this.yi,t.pl=this.pl,t.Vr=this.Vr,t.Vs=this.Vs,t.Js=this.Js,t.Ms=this.Ms,t.Xs=this.Xs,t.Ws=this.Ws,t.Gr=this.Gr,t.wi=null,t.Ls=this.Ls,t.Ks=this.Ks.S(),t.Ns=this.Ns,t.Jd=this.Jd,t.Uq=this.Uq,t.Ti.assign(this.Ti),t.$r=this.$r,t.as=this.as.S(),t.js=this.js.S(),t.bs=this.bs.S(),t.nr=this.nr,t.Wr=this.Wr,t.dn=this.dn.S(),t.cn=this.cn,t.Fg=this.Fg,t.vt=this.vt},us.prototype.oi=function(t){ir.prototype.oi.call(this,t),t.Fk(),t.bn=null,t.fp=null,t.gp=null,t.sl=null,t.Qm=null},us.prototype.toString=function(){var t=Kh.mf(Object.getPrototypeOf(this))+"#"+Kh.Od(this);return null!==this.data&&(t+="("+xc(this.data)+")"),t},us.LayoutNone=0;var Ip;us.LayoutAdded=Ip=1;var Pp;us.LayoutRemoved=Pp=2,us.LayoutShown=4,us.LayoutHidden=8,us.LayoutNodeSized=16;var Dp;us.LayoutGroupLayout=Dp=32,us.LayoutNodeReplaced=64;var Op;us.LayoutStandard=Op=Ip|Pp|28|Dp|64,us.LayoutAll=16777215,us.prototype.Un=function(t,e,i,n,o,r,s){var a=this.g;null!==a&&(t===gc&&"elements"===e?o instanceof ir?cr(o,function(t){On(a,t),Nn(a,t)}):o instanceof Kr&&jn(a,o):t===vc&&"elements"===e&&(o instanceof ir?cr(o,function(t){Ln(a,t),Rn(a,t)}):o instanceof Kr&&Fn(a,o)),a.ad(t,e,i,n,o,r,s))},us.prototype.updateTargetBindings=us.prototype.Ib=function(t){if(ir.prototype.Ib.call(this,t),null!==this.data){t=this.xa.n;for(var e=t.length,i=0;i<e;i++){var n=t[i];n instanceof ir&&cr(n,function(t){null!==t.data&&t.Ib()})}}},us.prototype.updateRelationshipsFromData=function(){var t=this.data;if(null!==t){var e=this.g;if(null!==e){var i=e.$;i instanceof Qt&&(t=i.zn(t),null===(e=e.UH(t))||e instanceof Pa)&&(this.Da=e)}}},Kh.u(us,{key:"key"},function(){var t=this.g;return null===t?void 0:t.$.pb(this.data)},{configurable:!0}),Kh.u(us,{Pw:"adornments"},function(){return null===this.wi?Wh:this.wi.AF}),us.prototype.findAdornment=us.prototype.Pp=function(t){var e=this.wi;return null===e?null:e.ka(t)},us.prototype.addAdornment=us.prototype.Fl=function(t,e){if(null!==e){var i=null,n=this.wi;if(null!==n&&(i=n.ka(t)),i!==e){if(null!==i){var o=i.g;null!==o&&o.remove(i)}null===n&&(this.wi=n=new b("string",Ns)),e.yi!==t&&(e.vd=t),n.add(t,e),i=this.g,null!==i&&(i.add(e),e.data=this.data)}}},us.prototype.removeAdornment=us.prototype.Bj=function(t){var e=this.wi;if(null!==e){var i=e.ka(t);if(null!==i){var n=i.g;null!==n&&n.remove(i)}e.remove(t),0===e.count&&(this.wi=null)}},us.prototype.clearAdornments=us.prototype.Et=function(){var t=this.wi;if(null!==t){for(var e=Kh.cb(),t=t.i;t.next();)e.push(t.key);for(var t=e.length,i=0;i<t;i++)this.Bj(e[i]);Kh.ta(e)}},us.prototype.updateAdornments=function(){var t=this.g;if(null!==t){t:{if(this.ib&&this.AJ){var e=this.Ju;if(!(null!==e&&this.W.I()&&this.isVisible()&&e.xj()&&e.W.I()))break t;var i=this.Pp("Selection");if(null===i){if(i=this.BJ,null===i&&(i=this instanceof Ws?t.MI:this instanceof Pa?t.hI:t.eJ),!(i instanceof Ns))break t;xr(i),i=i.copy(),null!==i&&(i.sb=e)}if(null!==i){var n=i.placeholder;if(null!==n){var o=e.pj(),r=0;e instanceof Pr&&(r=e.lb);var s=Kh.lm();s.m((e.Ja.width+r)*o,(e.Ja.height+r)*o),n.Ca=s,Kh.Bk(s)}i.angle=e.Vl(),i.type!==tp&&(n=Kh.K(),i.location=e.Wa(iu,n),Kh.v(n)),this.Fl("Selection",i);break t}}this.Bj("Selection")}for(cs(this,t),t=this.Pw;t.next();)e=t.value,e.Ib(),e.H()}},Kh.u(us,{layer:"layer"},function(){return this.Uv}),Kh.u(us,{g:"diagram"},function(){var t=this.Uv;return null!==t?t.g:null}),Kh.defineProperty(us,{ag:"layerName"},function(){return this.pl},function(t){var e=this.pl;if(e!==t){Kh.j(t,"string",us,"layerName");var i=this.g;if((null===i||null!==i.Nt(t)&&!i.Eq)&&(this.pl=t,null!==i&&i.sc(),this.h("layerName",e,t),null!==(e=this.layer)&&e.name!==t&&null!==(i=e.g)&&null!==(t=i.Nt(t))&&t!==e)){var n=e.of(-1,this,!0);if(0<=n&&i.ad(vc,"parts",e,this,null,n,!0),n=t.Wp(99999999,this,!0),e.visible!==t.visible&&this.yd(t.visible),0<=n&&i.ad(gc,"parts",t,null,this,!0,n),null!==(n=this.Gx)){var o=i.Ta;i.Ta=!0,n(this,e,t),i.Ta=o}}}}),Kh.defineProperty(us,{Gx:"layerChanged"},function(){return this.Vr},function(t){var e=this.Vr;e!==t&&(null!==t&&Kh.j(t,"function",us,"layerChanged"),this.Vr=t,this.h("layerChanged",e,t))}),Kh.defineProperty(us,{eo:"zOrder"},function(){return this.vt},function(t){var e=this.vt;if(e!==t){Kh.j(t,"number",us,"zOrder"),this.vt=t;var i=this.layer;null!==i&&Ai(i,-1,this),this.h("zOrder",e,t),t=this.g,null!==t&&t.oa()}}),us.prototype.invalidateAdornments=us.prototype.de=function(){var t=this.g;null!==t&&(mn(t),0!=(16384&this.N)!=!0&&(this.N|=16384,t.Ne()))},Kh.u(us,{bg:"locationObject"},function(){if(null===this.sl){var t=this.JA;""!==t?(t=this.xd(t),this.sl=null!==t?t:this):this.sl=this instanceof Ns&&this.type!==tp&&null!==this.placeholder?this.placeholder:this}return this.sl.visible?this.sl:this}),Kh.defineProperty(us,{YI:"minLocation"},function(){return this.js},function(t){var e=this.js;e.L(t)||(this.js=t=t.S(),this.h("minLocation",e,t))}),Kh.defineProperty(us,{SI:"maxLocation"},function(){return this.bs},function(t){var e=this.bs;e.L(t)||(this.bs=t=t.S(),this.h("maxLocation",e,t))}),Kh.defineProperty(us,{JA:"locationObjectName"},function(){return this.$r},function(t){var e=this.$r;e!==t&&(this.$r=t,this.sl=null,this.H(),this.h("locationObjectName",e,t))}),Kh.defineProperty(us,{Ef:"locationSpot"},function(){return this.as},function(t){var e=this.as;e.L(t)||(this.as=t=t.S(),this.H(),this.h("locationSpot",e,t))}),us.prototype.move=function(t){this.position=t},us.prototype.moveTo=us.prototype.moveTo=function(t,e){var i=Kh.xb(t,e);this.move(i),Kh.v(i)},us.prototype.isVisible=function(){if(!this.visible)return!1;var t=this.layer;return!(null!==t&&!t.visible)&&(!(null===(t=this.g)||(t=t.Oa,!t.pf||null===(t=t.Sm.ka(this))||!t.Yx))||!!(null===(t=this.Da)||t.Zc&&t.isVisible()))},us.prototype.yd=function(t){var e=this.g;t?(this.J(4),this.de(),null!==e&&e.wg.add(this)):(this.J(8),this.Et()),this.Fk(),null!==e&&(e.sc(),e.oa())},us.prototype.findObject=us.prototype.xd=function(t){if(this.name===t)return this;var e=this.Qm;if(null===e&&(this.Qm=e=new o),void 0!==e[t])return e[t];for(var i=this.xa.n,n=i.length,r=0;r<n;r++){var s=i[r];if(s.name===t)return e[t]=s;if(s instanceof ir)if(null===s.$j&&null===s.yg){if(null!==(s=s.xd(t)))return e[t]=s}else if(Cr(s)&&null!==(s=s.xa.first())&&s.name===t)return e[t]=s}return e[t]=null},us.prototype.ensureBounds=us.prototype.Je=function(){No(this,1/0,1/0),this.jc()},us.prototype.jc=function(){if(this.Mi(),!1===Jo(this))fs(this);else{var t=this.oc,e=Kh.If();e.assign(t),t.Qa();var i=Es(this);this.jj(0,0,this.sd.width,this.sd.height);var n=this.position;ms(this,n,this.location),t.x=n.x,t.y=n.y,t.freeze(),this.Px(e,t),Xo(this,!1),e.L(t)?this.Gf(i):!this.ee()||W(e.width,t.width)&&W(e.height,t.height)||0<=this.dD&&this.J(16),Kh.Db(e),Ms(this,!1)}},us.prototype.Px=function(t,e){var i=this.g;if(null!==i){var n=!1;if(!1===i.Wj&&t.I()){var o=i.se,r=i.padding,s=o.x+r.left,a=o.y+r.top,l=o.width-2*r.right,o=o.height-2*r.bottom;t.x>s&&t.y>a&&t.right<l&&t.bottom<o&&e.x>s&&e.y>a&&e.right<l&&e.bottom<o&&(n=!0)}0!=(65536&this.N)!=!0&&t.L(e)||xs(this,n,i),i.oa(),T(t,e)||(this instanceof js&&!i.ia.ab&&this.$f(),this.Fk())}},Kh.defineProperty(us,{location:"location"},function(){return this.Ti},function(t){var e=t.x,i=t.y,n=this.Ti,o=n.x,r=n.y;(o===e||isNaN(o)&&isNaN(e))&&(r===i||isNaN(r)&&isNaN(i))||(t=t.S(),e=t,this instanceof Ws?e=!1:(this.Ti=e,this.N|=2097152,!1===Jo(this)&&(ps(this),i=this.jb,i.I()&&(o=i.copy(),i.m(i.x+(e.x-n.x),i.y+(e.y-n.y)),vs(this,this.g,i,o),this.h("position",o,i))),e=!0),e&&this.h("location",n,t))}),_h=us.prototype,_h.nB=function(t,e){if(this instanceof Ws||!t.I())return!1;var i=this.g;if(null!==i&&(vs(this,i,t,e),!0===i.ia.ab))return!0;if(this.jb=t,this.N&=-2097153,i=this.Ti,i.I()){var n=i.copy();i.m(i.x+(t.x-e.x),i.y+(t.y-e.y)),this.h("location",n,i)}return!1===Ss(this)&&!1===Jo(this)&&(ps(this),fs(this)),!0},_h.my=function(t,e){var i=this.Ti,n=this.jb;Ss(this)||Jo(this)?i.m(NaN,NaN):i.m(i.x+t-n.x,i.y+e-n.y),n.m(t,e),ps(this)},_h.oB=function(){this.N&=-2097153,ps(this)},_h.bm=function(){return!0},_h.ee=function(){return!0},_h.tj=function(){return!0},Kh.defineProperty(us,{vd:"category"},function(){return this.yi},function(t){var e=this.yi;if(e!==t){Kh.j(t,"string",us,"category");var i=this.g,n=this.data,o=null;if(null!==i&&null!==n&&!(this instanceof Ns)){var r=i.$.ia;r.isEnabled&&!r.ab&&(o=this.clone(),o.xa.Kc(this.xa))}this.yi=t,this.h("category",e,t),null===i||null===n||this instanceof Ns?null!==(o=this.xf)&&(t=o.wi,null!==t&&t.remove(e),o.Fl(this.vd,this)):(r=i.$,r.ia.ab||(this instanceof Ws?(r instanceof Qt?r.jG(n,t):r instanceof ie&&r.DJ(n,t),null!==(i=_n(i,t))&&(xr(i),null!==(i=i.copy())&&ks(this,i,e,t))):(null!==r&&r.jy(n,t),null!==(i=Vn(i,n,t))&&(xr(i),null===(i=i.copy())||i instanceof Ws||(i.location=this.location,ks(this,i,e,t)))),null!==o&&(e=this.clone(),e.xa.Kc(this.xa),this.h("self",o,e))))}}),Kh.defineProperty(us,{self:"self"},function(){return this},function(t){ks(this,t,this.vd,t.vd)});var Lp=!1;us.prototype.canCopy=function(){if(!this.FH)return!1;var t=this.layer;return null===t||!!t.tk&&(null===(t=t.g)||!!t.tk)},us.prototype.canDelete=function(){if(!this.KH)return!1;var t=this.layer;return null===t||!!t.jn&&(null===(t=t.g)||!!t.jn)},us.prototype.canEdit=function(){if(!this.MJ)return!1;var t=this.layer;return null===t||!!t.Tw&&(null===(t=t.g)||!!t.Tw)},us.prototype.canGroup=function(){if(!this.iI)return!1;var t=this.layer;return null===t||!!t.Qw&&(null===(t=t.g)||!!t.Qw)},us.prototype.canMove=function(){if(!this.cJ)return!1;var t=this.layer;return null===t||!!t.Il&&(null===(t=t.g)||!!t.Il)},us.prototype.canReshape=function(){if(!this.pJ)return!1;var t=this.layer;return null===t||!!t.Rw&&(null===(t=t.g)||!!t.Rw)},us.prototype.canResize=function(){if(!this.qJ)return!1;var t=this.layer;return null===t||!!t.Dt&&(null===(t=t.g)||!!t.Dt)},us.prototype.canRotate=function(){if(!this.tJ)return!1;var t=this.layer;return null===t||!!t.Sw&&(null===(t=t.g)||!!t.Sw)},us.prototype.canSelect=function(){if(!this.fm)return!1;var t=this.layer;return null===t||!!t.yf&&(null===(t=t.g)||!!t.yf)},Kh.defineProperty(us,{FH:"copyable"},function(){return 0!=(1&this.N)},function(t){var e=0!=(1&this.N);e!==t&&(this.N^=1,this.h("copyable",e,t))}),Kh.defineProperty(us,{KH:"deletable"},function(){return 0!=(2&this.N)},function(t){var e=0!=(2&this.N);e!==t&&(this.N^=2,this.h("deletable",e,t))}),Kh.defineProperty(us,{MJ:"textEditable"},function(){return 0!=(4&this.N)},function(t){var e=0!=(4&this.N);e!==t&&(this.N^=4,this.h("textEditable",e,t),this.de())}),Kh.defineProperty(us,{iI:"groupable"},function(){return 0!=(8&this.N)},function(t){var e=0!=(8&this.N);e!==t&&(this.N^=8,this.h("groupable",e,t))}),Kh.defineProperty(us,{cJ:"movable"},function(){return 0!=(16&this.N)},function(t){var e=0!=(16&this.N);e!==t&&(this.N^=16,this.h("movable",e,t))}),Kh.defineProperty(us,{AJ:"selectionAdorned"},function(){return 0!=(32&this.N)},function(t){var e=0!=(32&this.N);e!==t&&(this.N^=32,this.h("selectionAdorned",e,t),this.de())}),Kh.defineProperty(us,{EA:"isInDocumentBounds"},function(){return 0!=(64&this.N)},function(t){var e=0!=(64&this.N);if(e!==t){this.N^=64;var i=this.g;null!==i&&i.sc(),this.h("isInDocumentBounds",e,t)}}),Kh.defineProperty(us,{vF:"isLayoutPositioned"},function(){return 0!=(128&this.N)},function(t){var e=0!=(128&this.N);e!==t&&(this.N^=128,this.h("isLayoutPositioned",e,t),this.J(t?4:8))}),Kh.defineProperty(us,{fm:"selectable"},function(){return 0!=(256&this.N)},function(t){var e=0!=(256&this.N);e!==t&&(this.N^=256,this.h("selectable",e,t),this.de())}),Kh.defineProperty(us,{pJ:"reshapable"},function(){return 0!=(512&this.N)},function(t){var e=0!=(512&this.N);e!==t&&(this.N^=512,this.h("reshapable",e,t),this.de())}),Kh.defineProperty(us,{qJ:"resizable"},function(){return 0!=(1024&this.N)},function(t){var e=0!=(1024&this.N);e!==t&&(this.N^=1024,this.h("resizable",e,t),this.de())}),Kh.defineProperty(us,{tJ:"rotatable"},function(){return 0!=(2048&this.N)},function(t){var e=0!=(2048&this.N);e!==t&&(this.N^=2048,this.h("rotatable",e,t),this.de())}),Kh.defineProperty(us,{ib:"isSelected"},function(){return 0!=(4096&this.N)},function(t){var e=0!=(4096&this.N);if(e!==t){var i=this.g;if(!t||this.canSelect()&&!(null!==i&&i.selection.count>=i.TI)){this.N^=4096;var n=!1;if(null!==i){n=i.wb,i.wb=!0;var o=i.selection;o.Qa(),t?o.add(this):o.remove(this),o.freeze()}this.h("isSelected",e,t),this.de(),t=this.CJ,null!==t&&t(this),null!==i&&(i.Ne(),i.wb=n)}}}),Kh.defineProperty(us,{Pg:"isHighlighted"},function(){return 0!=(524288&this.N)},function(t){var e=0!=(524288&this.N);if(e!==t){this.N^=524288;var i=this.g;null!==i&&(i=i.Yl,i.Qa(),t?i.add(this):i.remove(this),i.freeze()),this.h("isHighlighted",e,t),this.oa(),t=this.lI,null!==t&&t(this)}}),Kh.defineProperty(us,{cm:"isShadowed"},function(){return 0!=(8192&this.N)},function(t){var e=0!=(8192&this.N);e!==t&&(this.N^=8192,this.h("isShadowed",e,t),this.oa())}),us.prototype.Gf=function(t){this.N=t?131072|this.N:-131073&this.N},Kh.defineProperty(us,{mF:"isAnimated"},function(){return 0!=(262144&this.N)},function(t){var e=0!=(262144&this.N);e!==t&&(this.N^=262144,this.h("isAnimated",e,t))}),Kh.defineProperty(us,{lI:"highlightedChanged"},function(){return this.Gr},function(t){var e=this.Gr;e!==t&&(null!==t&&Kh.j(t,"function",us,"highlightedChanged"),this.Gr=t,this.h("highlightedChanged",e,t))}),Kh.defineProperty(us,{iB:"selectionObjectName"},function(){return this.Xs},function(t){var e=this.Xs;e!==t&&(this.Xs=t,this.bn=null,this.h("selectionObjectName",e,t))}),Kh.defineProperty(us,{BJ:"selectionAdornmentTemplate"},function(){return this.Vs},function(t){var e=this.Vs;e!==t&&(this instanceof Ws&&(t.type=tp),this.Vs=t,this.h("selectionAdornmentTemplate",e,t))}),Kh.u(us,{Ju:"selectionObject"},function(){if(null===this.bn){var t=this.iB;null!==t&&""!==t?(t=this.xd(t),this.bn=null!==t?t:this):this instanceof Ws?(t=this.path,this.bn=null!==t?t:this):this.bn=this}return this.bn}),Kh.defineProperty(us,{CJ:"selectionChanged"},function(){return this.Ws},function(t){var e=this.Ws;e!==t&&(null!==t&&Kh.j(t,"function",us,"selectionChanged"),this.Ws=t,this.h("selectionChanged",e,t))}),Kh.defineProperty(us,{$F:"resizeAdornmentTemplate"},function(){return this.Js},function(t){var e=this.Js;e!==t&&(this.Js=t,this.h("resizeAdornmentTemplate",e,t))}),Kh.defineProperty(us,{bG:"resizeObjectName"},function(){return this.Ls},function(t){var e=this.Ls;e!==t&&(this.Ls=t,this.fp=null,this.h("resizeObjectName",e,t))}),Kh.u(us,{aG:"resizeObject"},function(){if(null===this.fp){var t=this.bG;null!==t&&""!==t?(t=this.xd(t),this.fp=null!==t?t:this):this.fp=this}return this.fp}),Kh.defineProperty(us,{rJ:"resizeCellSize"},function(){return this.Ks},function(t){var e=this.Ks;e.L(t)||(this.Ks=t=t.S(),this.h("resizeCellSize",e,t))}),Kh.defineProperty(us,{uJ:"rotateAdornmentTemplate"},function(){return this.Ms},function(t){var e=this.Ms;e!==t&&(this.Ms=t,this.h("rotateAdornmentTemplate",e,t))}),Kh.defineProperty(us,{vJ:"rotateObjectName"},function(){return this.Ns},function(t){var e=this.Ns;e!==t&&(this.Ns=t,this.gp=null,this.h("rotateObjectName",e,t))}),Kh.u(us,{dB:"rotateObject"},function(){if(null===this.gp){var t=this.vJ;null!==t&&""!==t?(t=this.xd(t),this.gp=null!==t?t:this):this.gp=this}return this.gp}),Kh.defineProperty(us,{text:"text"},function(){return this.Jd},function(t){var e=this.Jd;e!==t&&(this.Jd=t,this.h("text",e,t))}),Kh.defineProperty(us,{Da:"containingGroup"},function(){return this.$k},function(t){if(this.ee()){var e=this.$k;if(e!==t){null===t||this!==t&&!t.qi(this)||(this===t&&Kh.k("Cannot make a Group a member of itself: "+this.toString()),Kh.k("Cannot make a Group indirectly contain itself: "+this.toString()+" already contains "+t.toString())),this.J(Pp);var i=this.g;if(null!==e?Oa(e,this):this instanceof Pa&&null!==i&&i.Cl.remove(this),this.$k=t,null!==t?Da(t,this):this instanceof Pa&&null!==i&&i.Cl.add(this),this.J(Ip),null!==i){var n=this.data,o=i.$;null!==n&&o instanceof Qt&&o.lB(n,o.pb(null!==t?t.data:null))}if(n=this.zE,null!==n&&(o=!0,null!==i&&(o=i.Ta,i.Ta=!0),n(this,e,t),null!==i&&(i.Ta=o)),this instanceof Pa)for(i=new p(us),he(i,this,!0,0,!0),i=i.i;i.next();)if((n=i.value)instanceof js)for(n=n.ge;n.next();)Ys(n.value);if(this instanceof js){for(n=this.ge;n.next();)Ys(n.value);i=this.Wb,null!==i&&Ys(i)}this.h("containingGroup",e,t),null!==t&&null!==(e=t.layer)&&Ai(e,-1,t)}}else Kh.k("cannot set the Part.containingGroup of a Link or Adornment")}),_h=us.prototype,_h.Fk=function(){var t=this.Da;null!==t&&(t.H(),null!==t.Lb&&t.Lb.H(),t.$f())},_h.oa=function(){var t=this.g;null!==t&&!Jo(this)&&!Ss(this)&&this.isVisible()&&this.oc.I()&&t.oa(gs(this,this.oc))},_h.H=function(){ir.prototype.H.call(this);var t=this.g;null!==t&&(t.wg.add(this),this instanceof js&&null!==this.Wb&&Vo(this.Wb),t.Ne(!0))},_h.au=function(t){t||null!==(t=this.$k)&&Da(t,this)},_h.bu=function(t){t||null!==(t=this.$k)&&Oa(t,this)},_h.vn=function(){var t=this.data;if(null!==t){var e=this.g;null!==e&&null!==(e=e.$)&&e.ay(t)}},Kh.defineProperty(us,{zE:"containingGroupChanged"},function(){return this.Uq},function(t){var e=this.Uq;e!==t&&(null!==t&&Kh.j(t,"function",us,"containingGroupChanged"),this.Uq=t,this.h("containingGroupChanged",e,t))}),us.prototype.findSubGraphLevel=function(){return Ps(this,this)},us.prototype.findTopLevelPart=function(){return Ds(this,this)},Kh.u(us,{Zp:"isTopLevel"},function(){return!(null!==this.Da||this instanceof js&&null!==this.Wb)}),us.prototype.isMemberOf=us.prototype.qi=function(t){return t instanceof Pa&&Os(this,this,t)},us.prototype.findCommonContainingGroup=us.prototype.SH=function(t){if(null===t)return null;if(this===t)return this.Da;for(var e=this;null!==e;){if(e instanceof Pa&&Is(e,!0),e instanceof js){var i=e.Wb;null!==i&&(e=i)}e=e.Da}for(var n=null,e=t;null!==e;){if(0!=(1048576&e.N)){n=e;break}e instanceof js&&null!==(i=e.Wb)&&(e=i),e=e.Da}for(e=this;null!==e;)e instanceof Pa&&Is(e,!1),e instanceof js&&null!==(i=e.Wb)&&(e=i),e=e.Da;return n},Kh.defineProperty(us,{II:"layoutConditions"},function(){return this.Wr},function(t){var e=this.Wr;e!==t&&(this.Wr=t,this.h("layoutConditions",e,t))}),us.prototype.canLayout=function(){if(!this.vF||!this.isVisible())return!1;var t=this.layer;return!(null!==t&&t.Mc||this instanceof js&&this.Af)},us.prototype.invalidateLayout=us.prototype.J=function(t){void 0===t&&(t=16777215);var e;if(this.vF&&0!=(t&this.II)?(e=this.layer,null!==e&&e.Mc||this instanceof js&&this.Af?e=!1:(e=this.g,e=null===e||!e.ia.ab)):e=!1,e)if(null!==(e=this.$k)){var i=e.Tb;null!==i?i.J():e.J(t)}else null!==(t=this.g)&&null!==(i=t.Tb)&&i.J()},Kh.defineProperty(us,{JE:"dragComputation"},function(){return this.nr},function(t){var e=this.nr;e!==t&&(null!==t&&Kh.j(t,"function",us,"dragComputation"),this.nr=t,this.h("dragComputation",e,t))}),Kh.defineProperty(us,{FJ:"shadowOffset"},function(){return this.dn},function(t){var e=this.dn;e.L(t)||(this.dn=t=t.S(),this.oa(),this.h("shadowOffset",e,t))}),Kh.defineProperty(us,{shadowColor:"shadowColor"},function(){return this.cn},function(t){var e=this.cn;e!==t&&(this.cn=t,this.oa(),this.h("shadowColor",e,t))}),Kh.defineProperty(us,{shadowBlur:"shadowBlur"},function(){return this.Fg},function(t){var e=this.Fg;e!==t&&(this.Fg=t,this.oa(),this.h("shadowBlur",e,t))}),Kh.Ka(Ns,us),Kh.ga("Adornment",Ns),Ns.prototype.toString=function(){var t=this.xf;return"Adornment("+this.vd+")"+(null!==t?t.toString():"")},Ns.prototype.updateRelationshipsFromData=function(){},Ns.prototype.ru=function(t){var e=this.sb.U,i=this.sb;if(e instanceof Ws&&i instanceof Pr){var n=e.path,i=n.lf;for(e.ru(t),i=n.lf,t=this.xa.n,e=t.length,n=0;n<e;n++){var o=t[n];o.qf&&o instanceof Pr&&(o.Ua=i)}}},Kh.u(Ns,{placeholder:"placeholder"},function(){return this.Lb}),Kh.defineProperty(Ns,{sb:"adornedObject"},function(){return this.Gc},function(t){var e=this.xf,i=null;null!==t&&(i=t.U),null===e||null!==t&&e===i||e.Bj(this.vd),this.Gc=t,null!==i&&i.Fl(this.vd,this)}),Kh.u(Ns,{xf:"adornedPart"},function(){var t=this.Gc;return null!==t?t.U:null}),Ns.prototype.bm=function(){var t=this.Gc;return null===t||(null===(t=t.U)||!Jo(t))},Ns.prototype.ee=function(){return!1},Kh.u(Ns,{Da:"containingGroup"},function(){return null}),Ns.prototype.Un=function(t,e,i,n,o,r,s){if(t===gc&&"elements"===e)if(o instanceof ja){var a=o;null===this.Lb?this.Lb=a:this.Lb!==a&&Kh.k("Cannot insert a second Placeholder into the visual tree of an Adornment.")}else o instanceof ir&&(a=o.Mt(function(t){return t instanceof ja}))instanceof ja&&(null===this.Lb?this.Lb=a:this.Lb!==a&&Kh.k("Cannot insert a second Placeholder into the visual tree of an Adornment."));else t===vc&&"elements"===e&&null!==this.Lb&&(n===this.Lb?this.Lb=null:n instanceof ir&&this.Lb.am(n)&&(this.Lb=null));us.prototype.Un.call(this,t,e,i,n,o,r,s)},Ns.prototype.updateAdornments=function(){},Ns.prototype.vn=function(){},Kh.Ka(js,us),Kh.ga("Node",js),js.prototype.cloneProtected=function(t){us.prototype.cloneProtected.call(this,t),t.ya=this.ya,t.ya=-17&this.ya,t.Xr=this.Xr,t.Yr=this.Yr,t.rl=this.rl,t.qt=this.qt,t.Nq=this.Nq.S(),t.Fs=this.Fs},js.prototype.oi=function(t){us.prototype.oi.call(this,t),t.$f(),t.Kh=this.Kh,t.ne=null};var Np;js.DirectionDefault=Np=Kh.p(js,"DirectionDefault",0),js.DirectionAbsolute=Kh.p(js,"DirectionAbsolute",1);var jp;js.DirectionRotatedNode=jp=Kh.p(js,"DirectionRotatedNode",2);var Rp;js.DirectionRotatedNodeOrthogonal=Rp=Kh.p(js,"DirectionRotatedNodeOrthogonal",3),js.SpreadingNone=Kh.p(js,"SpreadingNone",10);var Fp;js.SpreadingEvenly=Fp=Kh.p(js,"SpreadingEvenly",11);var Ap;js.SpreadingPacked=Ap=Kh.p(js,"SpreadingPacked",12),js.prototype.invalidateLinkBundle=function(t,e,i){void 0!==e&&null!==e||(e=""),void 0!==i&&null!==i||(i=""),null!==(t=Fs(this,t,e,i))&&t.Xp()},js.prototype.Un=function(t,e,i,n,o,r,s){t===gc&&"elements"===e?this.ne=null:t===vc&&"elements"===e&&(this.ne=null),us.prototype.Un.call(this,t,e,i,n,o,r,s)},js.prototype.invalidateConnectedLinks=js.prototype.$f=function(t){void 0===t&&(t=null);for(var e=this.ge;e.next();){var i=e.value;null!==t&&t.contains(i)||(Bs(this,i.Cc),Bs(this,i.cd),i.$b())}},js.prototype.bm=function(){return!0},Kh.defineProperty(js,{iJ:"portSpreading"},function(){return this.Fs},function(t){var e=this.Fs;e!==t&&(this.Fs=t,this.h("portSpreading",e,t),null!==(t=this.g)&&t.ia.ab||this.$f())}),Kh.defineProperty(js,{Vz:"avoidable"},function(){return 0!=(8&this.ya)},function(t){var e=0!=(8&this.ya);if(e!==t){this.ya^=8;var i=this.g;null!==i&&i.BA(this),this.h("avoidable",e,t)}}),Kh.defineProperty(js,{mH:"avoidableMargin"},function(){return this.Nq},function(t){"number"==typeof t?t=new O(t):Kh.G(t,O,js,"avoidableMargin");var e=this.Nq;if(!e.L(t)){this.Nq=t=t.S();var i=this.g;null!==i&&i.BA(this),this.h("avoidableMargin",e,t)}}),js.prototype.getAvoidableRect=function(t){return t.set(this.W),t.Ow(this.mH),t},js.prototype.findVisibleNode=function(){for(var t=this;null!==t&&!t.isVisible();)t=t.Da;return t},js.prototype.isVisible=function(){if(!us.prototype.isVisible.call(this))return!1;var t=!0,e=hd,i=this.g;if(null!==i){if(t=i.Oa,t.pf&&null!==(t=t.Sm.ka(this))&&t.Yx)return!0;t=i.Td,e=i.CB}if(e===hd){if(null!==(i=this.Ak())&&!i.tc)return!1}else if(e===ud){if(i=t?this.QE():this.RE(),0<i.count&&i.all(function(t){return!t.tc}))return!1}else if(e===cd&&(i=t?this.QE():this.RE(),0<i.count&&i.any(function(t){return!t.tc})))return!1;return null===(i=this.Wb)||i.isVisible()},js.prototype.yd=function(t){us.prototype.yd.call(this,t);for(var e=this.ge;e.next();)e.value.yd(t)},Kh.u(js,{ge:"linksConnected"},function(){return this.pc.i}),js.prototype.findLinksConnected=js.prototype.OE=function(t){if(void 0===t&&(t=null),null===t)return this.pc.i;var e=new h(this.pc),i=this;return e.hq=function(e){return e.Y===i&&e.Og===t||e.Z===i&&e.Hh===t},e},js.prototype.findLinksOutOf=js.prototype.nx=function(t){void 0===t&&(t=null);var e=new h(this.pc),i=this;return e.hq=function(e){return e.Y===i&&(null===t||e.Og===t)},e},js.prototype.findLinksInto=js.prototype.Ng=function(t){void 0===t&&(t=null);var e=new h(this.pc),i=this;return e.hq=function(e){return e.Z===i&&(null===t||e.Hh===t)},e},js.prototype.findNodesConnected=js.prototype.PE=function(t){void 0===t&&(t=null);for(var e=null,i=null,n=this.pc.i;n.next();){var o=n.value;o.Y===this?null!==t&&o.Og!==t||(o=o.Z,null!==e?e.add(o):null!==i&&i!==o?(e=new p(js),e.add(i),e.add(o)):i=o):o.Z!==this||null!==t&&o.Hh!==t||(o=o.Y,null!==e?e.add(o):null!==i&&i!==o?(e=new p(js),e.add(i),e.add(o)):i=o)}return null!==e?e.i:null!==i?new a(i):Wh},js.prototype.findNodesOutOf=js.prototype.RE=function(t){void 0===t&&(t=null);for(var e=null,i=null,n=this.pc.i;n.next();){var o=n.value;o.Y!==this||null!==t&&o.Og!==t||(o=o.Z,null!==e?e.add(o):null!==i&&i!==o?(e=new p(js),e.add(i),e.add(o)):i=o)}return null!==e?e.i:null!==i?new a(i):Wh},js.prototype.findNodesInto=js.prototype.QE=function(t){void 0===t&&(t=null);for(var e=null,i=null,n=this.pc.i;n.next();){var o=n.value;o.Z!==this||null!==t&&o.Hh!==t||(o=o.Y,null!==e?e.add(o):null!==i&&i!==o?(e=new p(js),e.add(i),e.add(o)):i=o)}return null!==e?e.i:null!==i?new a(i):Wh},js.prototype.findLinksBetween=function(t,e,i){void 0===e&&(e=null),void 0===i&&(i=null);var n=new h(this.pc),o=this;return n.hq=function(n){return!(n.Y!==o||n.Z!==t||null!==e&&n.Og!==e||null!==i&&n.Hh!==i)||!(n.Y!==t||n.Z!==o||null!==i&&n.Og!==i||null!==e&&n.Hh!==e)},n},js.prototype.findLinksTo=function(t,e,i){void 0===e&&(e=null),void 0===i&&(i=null);var n=new h(this.pc),o=this;return n.hq=function(n){return!(n.Y!==o||n.Z!==t||null!==e&&n.Og!==e||null!==i&&n.Hh===i)},n},Kh.defineProperty(js,{JI:"linkConnected"},function(){return this.Xr},function(t){var e=this.Xr;e!==t&&(null!==t&&Kh.j(t,"function",js,"linkConnected"),this.Xr=t,this.h("linkConnected",e,t))}),Kh.defineProperty(js,{KI:"linkDisconnected"},function(){return this.Yr},function(t){var e=this.Yr;e!==t&&(null!==t&&Kh.j(t,"function",js,"linkDisconnected"),this.Yr=t,this.h("linkDisconnected",e,t))}),Kh.defineProperty(js,{Jx:"linkValidation"},function(){return this.rl},function(t){var e=this.rl;e!==t&&(null!==t&&Kh.j(t,"function",js,"linkValidation"),this.rl=t,this.h("linkValidation",e,t))}),js.prototype.updateRelationshipsFromData=function(){us.prototype.updateRelationshipsFromData.call(this);var t=this.data;if(null!==t){var e=this.g;if(null!==e){var i=e.$;i instanceof ie&&(t=i.Bn(t),t=e.Ke(t),i=this.Ak(),t!==i&&(i=this.xn(),null!==t?null!==i?e.Td?i.Y=t:i.Z=t:zn(e,t,this):null!==i&&Cn(e,i,!1)))}}},js.prototype.au=function(t){us.prototype.au.call(this,t),t||(zs(this),null!==(t=this.Ro)&&Js(t,this))},js.prototype.bu=function(t){us.prototype.bu.call(this,t),t||null!==(t=this.Ro)&&null!==t.uf&&(t.uf.remove(this),t.H())},js.prototype.vn=function(){if(0<this.pc.count){var t=this.g;if(null!==t)for(var e=t.ob.IE,i=this.pc.copy().i;i.next();){var n=i.value;e?t.remove(n):(n.Y===this&&(n.Y=null),n.Z===this&&(n.Z=null))}}this.Wb=null,us.prototype.vn.call(this)},Kh.u(js,{Af:"isLinkLabel"},function(){return null!==this.Ro}),Kh.defineProperty(js,{Wb:"labeledLink"},function(){return this.Ro},function(t){var e=this.Ro;if(e!==t){var i=this.g,n=this.data;if(null!==e){if(null!==e.uf&&(e.uf.remove(this),e.H()),null!==i&&null!==n&&!i.ia.ab){var o=e.data,r=i.$;if(null!==o&&r instanceof Qt){var s=r.pb(n);void 0!==s&&r.nJ(o,s)}}this.Da=null}this.Ro=t,null!==t&&(Js(t,this),null===i||null===n||i.ia.ab||(o=t.data,r=i.$,null!==o&&r instanceof Qt&&void 0!==(s=r.pb(n))&&r.lE(o,s)),this.Da=t.Da),Vo(this),this.h("labeledLink",e,t)}}),js.prototype.findPort=js.prototype.nA=function(t){if(null===this.ne){if(""===t&&!1===this.Ek)return this;qs(this)}var e=this.ne.ka(t);return null!==e||""!==t&&null!==(e=this.ne.ka(""))?e:this},Kh.u(js,{port:"port"},function(){return this.nA("")}),Kh.u(js,{ports:"ports"},function(){return null===this.ne&&qs(this),this.ne.AF}),js.prototype.isInTreeOf=function(t){if(null===t||t===this)return!1;var e=!0,i=this.g;if(null!==i&&(e=i.Td),i=this,e)for(;i!==t;){for(var e=null,n=i.pc.i;n.next();){var o=n.value;if(o.Nc&&(e=o.Y)!==i&&e!==this)break}if(e===this||null===e||e===i)return!1;i=e}else for(;i!==t;){for(e=null,n=i.pc.i;n.next()&&(o=n.value,!o.Nc||(e=o.Z)===i||e===this););if(e===this||null===e||e===i)return!1;i=e}return!0},js.prototype.findTreeRoot=function(){var t=!0,e=this.g;if(null!==e&&(t=e.Td),e=this,t)for(;;){for(var t=null,i=e.pc.i;i.next();){var n=i.value;if(n.Nc&&(t=n.Y)!==e&&t!==this)break}if(t===this)return this;if(null===t||t===e)return e;e=t}else for(;;){for(t=null,i=e.pc.i;i.next()&&(n=i.value,!n.Nc||(t=n.Z)===e||t===this););if(t===this)return this;if(null===t||t===e)return e;e=t}},js.prototype.findCommonTreeParent=function(t){if(null===t)return null;if(this===t)return this;for(var e=this;null!==e;)Is(e,!0),e=e.Ak();for(var i=null,e=t;null!==e;){if(0!=(1048576&e.N)){i=e;break}e=e.Ak()}for(e=this;null!==e;)Is(e,!1),e=e.Ak();return i},js.prototype.findTreeParentLink=js.prototype.xn=function(){var t=!0,e=this.g;if(null!==e&&(t=e.Td),e=this.pc.i,t){for(;e.next();)if(t=e.value,t.Nc&&t.Y!==this)return t}else for(;e.next();)if(t=e.value,t.Nc&&t.Z!==this)return t;return null},js.prototype.findTreeParentNode=js.prototype.Ak=function(){var t=this.qk;if(null===t)return null;if(t instanceof js)return t;var e=!0,t=this.g;if(null!==t&&(e=t.Td),t=this.pc.i,e){for(;t.next();)if(e=t.value,e.Nc&&(e=e.Y)!==this)return this.qk=e}else for(;t.next();)if(e=t.value,e.Nc&&(e=e.Z)!==this)return this.qk=e;return this.qk=null},js.prototype.findTreeParentChain=function(){function t(e,i){if(null!==e){i.add(e);var n=e.xn();null!==n&&(i.add(n),t(e.Ak(),i))}}var e=new p(us);return t(this,e),e},js.prototype.findTreeLevel=function(){return _s(this,this)},js.prototype.findTreeChildrenLinks=js.prototype.px=function(){var t=!0,e=this.g;null!==e&&(t=e.Td);var e=new h(this.pc),i=this;return e.hq=t?function(t){return!(!t.Nc||t.Y!==i)}:function(t){return!(!t.Nc||t.Z!==i)},e},js.prototype.findTreeChildrenNodes=js.prototype.TE=function(){var t=!0,e=this.g;null!==e&&(t=e.Td);var i=e=null,n=this.pc.i;if(t)for(;n.next();)t=n.value,t.Nc&&t.Y===this&&(t=t.Z,null!==e?e.add(t):null!==i&&i!==t?(e=new c(js),e.add(i),e.add(t)):i=t);else for(;n.next();)t=n.value,t.Nc&&t.Z===this&&(t=t.Y,null!==e?e.add(t):null!==i&&i!==t?(e=new c(js),e.add(i),e.add(t)):i=t);return null!==e?e.i:null!==i?new a(i):Wh},js.prototype.findTreeParts=function(t){void 0===t&&(t=1/0),Kh.j(t,"number",js,"findTreeParts:level");var e=new p(us);return he(e,this,!1,t,!0),e},js.prototype.collapseTree=js.prototype.collapseTree=function(t){void 0===t&&(t=1),Kh.wd(t,js,"collapseTree:level"),1>t&&(t=1);var e=this.g;if(null!==e&&!e.yh){e.yh=!0;var i=new p(js);i.add(this),Us(this,i,e.Td,t,e.Oa,this,e.CB===hd),e.yh=!1}},js.prototype.expandTree=js.prototype.expandTree=function(t){void 0===t&&(t=2),Kh.wd(t,js,"expandTree:level"),2>t&&(t=2);var e=this.g;if(null!==e&&!e.yh){e.yh=!0;var i=new p(js);i.add(this),$s(this,i,e.Td,t,e.Oa,this,e.CB===hd),e.yh=!1}},Kh.defineProperty(js,{tc:"isTreeExpanded"},function(){return 0!=(1&this.ya)},function(t){var e=0!=(1&this.ya);if(e!==t){this.ya^=1;var i=this.g;if(this.h("isTreeExpanded",e,t),null!==(e=this.TJ)){var n=!0;null!==i&&(n=i.Ta,i.Ta=!0),e(this),null!==i&&(i.Ta=n)}null!==i&&i.ia.ab?this.yd(t):t?this.expandTree():this.collapseTree()}}),Kh.defineProperty(js,{yq:"wasTreeExpanded"},function(){return 0!=(2&this.ya)},function(t){var e=0!=(2&this.ya);e!==t&&(this.ya^=2,this.h("wasTreeExpanded",e,t))}),Kh.defineProperty(js,{TJ:"treeExpandedChanged"},function(){return this.qt},function(t){var e=this.qt;e!==t&&(null!==t&&Kh.j(t,"function",js,"treeExpandedChanged"),this.qt=t,this.h("treeExpandedChanged",e,t))}),Kh.defineProperty(js,{wj:"isTreeLeaf"},function(){return 0!=(4&this.ya)},function(t){var e=0!=(4&this.ya);e!==t&&(this.ya^=4,this.h("isTreeLeaf",e,t))}),Kh.Ka(Ws,us),Kh.ga("Link",Ws),Ws.prototype.cloneProtected=function(t){us.prototype.cloneProtected.call(this,t),t.Yb=-113&this.Yb,t.Qh=this.Qh,t.xr=this.xr,t.li=this.li,t.pt=this.pt,t.Fq=this.Fq,t.$q=this.$q,t.cr=this.cr,t.dr=this.dr,t.Xm=this.Xm,t.dt=this.dt,null!==this.V&&(t.V=this.V.copy())},Ws.prototype.oi=function(t){us.prototype.oi.call(this,t),this.Qh=t.Qh,this.li=t.li,t.Xe=null,t.$b(),t.xi=this.xi},Ws.prototype.ic=function(t){t.Ee===Ws?2==(2&t.value)?this.ey=t:t===zp||t===qp||t===Gp?this.af=t:t===_p||t===Up||t===Kp?this.zt=t:t!==Bp&&t!==Hp&&Kh.k("Unknown Link enum value for a Link property: "+t):us.prototype.ic.call(this,t)};var Bp;Ws.Normal=Bp=Kh.p(Ws,"Normal",1),Ws.Orthogonal=Kh.p(Ws,"Orthogonal",2),Ws.AvoidsNodes=Kh.p(Ws,"AvoidsNodes",6);var Vp;Ws.AvoidsNodesStraight=Vp=Kh.p(Ws,"AvoidsNodesStraight",7);var Hp;Ws.None=Hp=Kh.p(Ws,"None",0);var zp;Ws.Bezier=zp=Kh.p(Ws,"Bezier",9);var qp;Ws.JumpGap=qp=Kh.p(Ws,"JumpGap",10);var Gp;Ws.JumpOver=Gp=Kh.p(Ws,"JumpOver",11);var _p;Ws.End=_p=Kh.p(Ws,"End",17);var Up;Ws.Scale=Up=Kh.p(Ws,"Scale",18);var Kp;Ws.Stretch=Kp=Kh.p(Ws,"Stretch",19);var $p;Ws.OrientAlong=$p=Kh.p(Ws,"OrientAlong",21);var Wp;Ws.OrientPlus90=Wp=Kh.p(Ws,"OrientPlus90",22);var Yp;Ws.OrientMinus90=Yp=Kh.p(Ws,"OrientMinus90",23);var Jp;Ws.OrientOpposite=Jp=Kh.p(Ws,"OrientOpposite",24);var Xp;Ws.OrientUpright=Xp=Kh.p(Ws,"OrientUpright",25);var Qp;Ws.OrientPlus90Upright=Qp=Kh.p(Ws,"OrientPlus90Upright",26);var Zp;Ws.OrientMinus90Upright=Zp=Kh.p(Ws,"OrientMinus90Upright",27);var tf;Ws.OrientUpright45=tf=Kh.p(Ws,"OrientUpright45",28),_h=Ws.prototype,_h.Pd=function(){null===this.V&&(this.V=new Ia)},_h.bm=function(){var t=this.Y;if(null!==t){var e=t.findVisibleNode();if(null!==e&&(t=e),Jo(t)||Ss(t))return!1}return null===(t=this.Z)||(e=t.findVisibleNode(),null!==e&&(t=e),!Jo(t)&&!Ss(t))},_h.nB=function(){return!1},_h.oB=function(){},_h.ee=function(){return!1},Ws.prototype.computeAngle=function(t,e,i){return Ws.computeAngle(e,i)},Ws.computeAngle=function(t,e){var i=0;switch(t){default:case Hp:i=0;break;case $p:i=e;break;case Wp:i=e+90;break;case Yp:i=e-90;break;case Jp:i=e+180;break;case Xp:i=pt(e),90<i&&270>i&&(i-=180);break;case Qp:i=pt(e+90),90<i&&270>i&&(i-=180);break;case Zp:i=pt(e-90),90<i&&270>i&&(i-=180);break;case tf:if(45<(i=pt(e))&&135>i||225<i&&315>i)return 0;90<i&&270>i&&(i-=180)}return pt(i)},Kh.defineProperty(Ws,{Y:"fromNode"},function(){return this.sg},function(t){var e=this.sg;if(e!==t){var i=this.Cc;null!==e&&(this.Ig!==e&&Hs(e,this,i),pa(this),this.J(Pp)),this.sg=t,null!==t&&this.yd(t.isVisible()),this.Ki=null,this.$b();var n=this.g;if(null!==n){var o=this.data,r=n.$;if(null!==o)if(r instanceof Qt){var s=null!==t?t.data:null;r.jB(o,r.pb(s))}else r instanceof ie&&(s=null!==t?t.data:null,n.Td?r.ti(o,r.pb(s)):(null!==e&&r.ti(e.data,void 0),r.ti(s,r.pb(null!==this.Ig?this.Ig.data:null))))}o=this.Cc,r=this.WE,null!==r&&(s=!0,null!==n&&(s=n.Ta,n.Ta=!0),r(this,i,o),null!==n&&(n.Ta=s)),null!==t&&(this.Ig!==t&&Vs(t,this,o),da(this),this.J(Ip)),this.h("fromNode",e,t),Ys(this)}}),Kh.defineProperty(Ws,{Og:"fromPortId"},function(){return this.Qh},function(t){var e=this.Qh;if(e!==t){var i=this.Y,n=this.Cc;null!==n&&Bs(i,n),pa(this),this.Qh=t;var o=this.Cc;if(null!==o&&Bs(i,o),null!==(i=this.g)){var r=this.data,s=i.$;null!==r&&s instanceof Qt&&s.kB(r,t)}n!==o&&(this.Ki=null,this.$b(),null!==(r=this.WE)&&(s=!0,null!==i&&(s=i.Ta,i.Ta=!0),r(this,n,o),null!==i&&(i.Ta=s))),da(this),this.h("fromPortId",e,t)}}),Kh.u(Ws,{Cc:"fromPort"},function(){var t=this.sg;return null===t?null:t.nA(this.Qh)}),Kh.defineProperty(Ws,{WE:"fromPortChanged"},function(){return this.xr},function(t){var e=this.xr;e!==t&&(null!==t&&Kh.j(t,"function",Ws,"fromPortChanged"),this.xr=t,this.h("fromPortChanged",e,t))}),Kh.defineProperty(Ws,{Z:"toNode"},function(){return this.Ig},function(t){var e=this.Ig;if(e!==t){var i=this.cd;null!==e&&(this.sg!==e&&Hs(e,this,i),pa(this),this.J(Pp)),this.Ig=t,null!==t&&this.yd(t.isVisible()),this.Ki=null,this.$b();var n=this.g;if(null!==n){var o=this.data,r=n.$;if(null!==o)if(r instanceof Qt){var s=null!==t?t.data:null;r.pB(o,r.pb(s))}else r instanceof ie&&(s=null!==t?t.data:null,n.Td?(null!==e&&r.ti(e.data,void 0),r.ti(s,r.pb(null!==this.sg?this.sg.data:null))):r.ti(o,r.pb(s)))}o=this.cd,r=this.vG,null!==r&&(s=!0,null!==n&&(s=n.Ta,n.Ta=!0),r(this,i,o),null!==n&&(n.Ta=s)),null!==t&&(this.sg!==t&&Vs(t,this,o),da(this),this.J(Ip)),this.h("toNode",e,t),Ys(this)}}),Kh.defineProperty(Ws,{Hh:"toPortId"},function(){return this.li},function(t){var e=this.li;if(e!==t){var i=this.Z,n=this.cd;null!==n&&Bs(i,n),pa(this),this.li=t;var o=this.cd;if(null!==o&&Bs(i,o),null!==(i=this.g)){var r=this.data,s=i.$;null!==r&&s instanceof Qt&&s.qB(r,t)}n!==o&&(this.Ki=null,this.$b(),null!==(r=this.vG)&&(s=!0,null!==i&&(s=i.Ta,i.Ta=!0),r(this,n,o),null!==i&&(i.Ta=s))),da(this),this.h("toPortId",e,t)}}),Kh.u(Ws,{cd:"toPort"},function(){var t=this.Ig;return null===t?null:t.nA(this.li)}),Kh.defineProperty(Ws,{vG:"toPortChanged"},function(){return this.pt},function(t){var e=this.pt;e!==t&&(null!==t&&Kh.j(t,"function",Ws,"toPortChanged"),this.pt=t,this.h("toPortChanged",e,t))}),Kh.defineProperty(Ws,{Ab:"fromSpot"},function(){return null!==this.V?this.V.Tj:eu},function(t){this.Pd();var e=this.V.Tj;e.L(t)||(t=t.S(),this.V.Tj=t,this.h("fromSpot",e,t),this.$b())}),Kh.defineProperty(Ws,{Ul:"fromEndSegmentLength"},function(){return null!==this.V?this.V.Rj:NaN},function(t){this.Pd();var e=this.V.Rj;e!==t&&(0>t&&Kh.Fa(t,">= 0",Ws,"fromEndSegmentLength"),this.V.Rj=t,this.h("fromEndSegmentLength",e,t),this.$b())}),Kh.defineProperty(Ws,{Wt:"fromEndSegmentDirection"},function(){return null!==this.V?this.V.Qj:Np},function(t){this.Pd();var e=this.V.Qj;e!==t&&(Kh.It("Link.fromEndSegmentDirection","2.0"),this.V.Qj=t,this.h("fromEndSegmentDirection",e,t),this.$b())}),Kh.defineProperty(Ws,{Xt:"fromShortLength"},function(){return null!==this.V?this.V.Sj:NaN},function(t){this.Pd();var e=this.V.Sj;e!==t&&(this.V.Sj=t,this.h("fromShortLength",e,t),this.$b())}),Kh.defineProperty(Ws,{Bb:"toSpot"},function(){return null!==this.V?this.V.pk:eu},function(t){this.Pd();var e=this.V.pk;e.L(t)||(t=t.S(),this.V.pk=t,this.h("toSpot",e,t),this.$b())}),Kh.defineProperty(Ws,{mm:"toEndSegmentLength"},function(){return null!==this.V?this.V.nk:NaN},function(t){this.Pd();var e=this.V.nk;e!==t&&(0>t&&Kh.Fa(t,">= 0",Ws,"toEndSegmentLength"),this.V.nk=t,this.h("toEndSegmentLength",e,t),this.$b())}),Kh.defineProperty(Ws,{Qu:"toEndSegmentDirection"},function(){return null!==this.V?this.V.mk:Np},function(t){this.Pd();var e=this.V.mk;e!==t&&(Kh.It("Link.toEndSegmentDirection","2.0"),this.V.mk=t,this.h("toEndSegmentDirection",e,t),this.$b())}),Kh.defineProperty(Ws,{Ru:"toShortLength"},function(){return null!==this.V?this.V.ok:NaN},function(t){this.Pd();var e=this.V.ok;e!==t&&(this.V.ok=t,this.h("toShortLength",e,t),this.$b())}),Ws.prototype.Fk=function(){var t=this.Da;null!==t&&this.Y!==t&&this.Z!==t&&t.Yw&&us.prototype.Fk.call(this)},Ws.prototype.getOtherNode=Ws.prototype.sA=function(t){var e=this.Y;return t===e?this.Z:e},Ws.prototype.getOtherPort=function(t){var e=this.Cc;return t===e?this.cd:e},Kh.u(Ws,{xI:"isLabeledLink"},function(){return null!==this.uf&&0<this.uf.count}),Kh.u(Ws,{Df:"labelNodes"},function(){return null===this.uf?Wh:this.uf.i}),Ws.prototype.au=function(t){if(us.prototype.au.call(this,t),la(this)&&ua(this,this.W),!t){t=this.sg;var e=null;null!==t&&(e=this.Cc,Vs(t,this,e));var i=this.Ig,n=null;null!==i&&(n=this.cd,i===t&&n===e||Vs(i,this,n)),da(this)}},Ws.prototype.bu=function(t){if(us.prototype.bu.call(this,t),la(this)&&ua(this,this.W),!t){t=this.sg;var e=null;null!==t&&(e=this.Cc,Hs(t,this,e));var i=this.Ig,n=null;null!==i&&(n=this.cd,i===t&&n===e||Hs(i,this,n)),pa(this)}},Ws.prototype.vn=function(){if(this.Lf=!0,null!==this.uf){var t=this.g;if(null!==t)for(var e=this.uf.copy().i;e.next();)t.remove(e.value)}null!==(e=this.data)&&null!==(t=this.g)&&(t=t.$,t instanceof Qt?t.$x(e):t instanceof ie&&t.ti(e,void 0))},Ws.prototype.updateRelationshipsFromData=function(){var t=this.data;if(null!==t){var e=this.g;if(null!==e){var i=e.$;if(i instanceof Qt){var n=i.Wl(t);if(this.Y=n=e.Ke(n),n=i.Xl(t),this.Z=n=e.Ke(n),t=i.Ck(t),0<t.length||0<this.Df.count){if(1===t.length&&1===this.Df.count){var n=t[0],o=this.Df.first();if(i.pb(o.data)===n)return}var n=(new p).Kc(t),r=new p;if(this.Df.each(function(t){null!==t.data&&void 0!==(t=i.pb(t.data))&&r.add(t)}),t=r.copy(),t.Zx(n),n=n.copy(),n.Zx(r),0<t.count||0<n.count){var s=this;t.each(function(t){null!==(t=e.Ke(t))&&t.Wb===s&&(t.Wb=null)}),n.each(function(t){null!==(t=e.Ke(t))&&t.Wb!==s&&(t.Wb=s)})}}}}}},Ws.prototype.move=function(t){var e=this.position,i=e.x;for(isNaN(i)&&(i=0),e=e.y,isNaN(e)&&(e=0),i=t.x-i,e=t.y-e,us.prototype.move.call(this,t),this.Ik(i,e),t=this.Df;t.next();){var n=t.value,o=n.position;n.moveTo(o.x+i,o.y+e)}},Kh.defineProperty(Ws,{lJ:"relinkableFrom"},function(){return 0!=(1&this.Yb)},function(t){var e=0!=(1&this.Yb);e!==t&&(this.Yb^=1,this.h("relinkableFrom",e,t),this.de())}),Kh.defineProperty(Ws,{mJ:"relinkableTo"},function(){return 0!=(2&this.Yb)},function(t){var e=0!=(2&this.Yb);e!==t&&(this.Yb^=2,this.h("relinkableTo",e,t),this.de())}),Ws.prototype.canRelinkFrom=function(){if(!this.lJ)return!1;var t=this.layer;return null===t||!!t.kn&&!(null!==(t=t.g)&&!t.kn)},Ws.prototype.canRelinkTo=function(){if(!this.mJ)return!1;var t=this.layer;return null===t||!!t.kn&&!(null!==(t=t.g)&&!t.kn)},Kh.defineProperty(Ws,{Fu:"resegmentable"},function(){return 0!=(4&this.Yb)},function(t){var e=0!=(4&this.Yb);e!==t&&(this.Yb^=4,this.h("resegmentable",e,t),this.de())}),Kh.defineProperty(Ws,{Nc:"isTreeLink"},function(){return 0!=(8&this.Yb)},function(t){var e=0!=(8&this.Yb);e!==t&&(this.Yb^=8,this.h("isTreeLink",e,t),null!==this.Y&&zs(this.Y),null!==this.Z&&zs(this.Z))}),Kh.u(Ws,{path:"path"},function(){var t=this.Ld();return t instanceof Pr?t:null}),Kh.u(Ws,{Vn:"routeBounds"},function(){this.ao();var t=new S,e=1/0,i=1/0,n=this.qa;if(0===n)t.m(NaN,NaN,0,0);else{if(1===n)n=this.l(0),e=Math.min(n.x,e),i=Math.min(n.y,i),t.m(n.x,n.y,0,0);else if(2===n){var o=this.l(0),r=this.l(1),e=Math.min(o.x,r.x),i=Math.min(o.y,r.y);t.m(o.x,o.y,0,0),t.vi(r)}else if(this.computeCurve()===zp&&3<=n&&!this.ac)if(o=this.l(0),e=o.x,i=o.y,t.m(e,i,0,0),3===n)n=this.l(1),e=Math.min(n.x,e),i=Math.min(n.y,i),r=this.l(2),e=Math.min(r.x,e),i=Math.min(r.y,i),Q(o.x,o.y,n.x,n.y,n.x,n.y,r.x,r.y,.5,t);else for(var s=3;s<n;s+=3){var a=this.l(s-2);s+3>=n&&(s=n-1);var l=this.l(s-1),r=this.l(s);Q(o.x,o.y,a.x,a.y,l.x,l.y,r.x,r.y,.5,t),e=Math.min(r.x,e),i=Math.min(r.y,i),o=r}else for(o=this.l(0),r=this.l(1),e=Math.min(o.x,r.x),i=Math.min(o.y,r.y),t.m(o.x,o.y,0,0),t.vi(r),s=2;s<n;s++)o=this.l(s),e=Math.min(o.x,e),i=Math.min(o.y,i),t.vi(o);this.Jz.m(e-t.x,i-t.y)}return this.qw=t}),Kh.u(Ws,{GF:"midPoint"},function(){return this.ao(),this.computeMidPoint(new w)}),Ws.prototype.computeMidPoint=function(t){var e=this.qa;if(0===e)return t.assign(Wu),t;if(1===e)return t.assign(this.l(0)),t;if(2===e){var i=this.l(0),n=this.l(1);return t.m((i.x+n.x)/2,(i.y+n.y)/2),t}if(this.computeCurve()===zp&&3<=e&&!this.ac){if(3===e)return this.l(1);var i=(e-1)/3|0,o=3*(i/2|0);if(1==i%2){var i=this.l(o),n=this.l(o+1),r=this.l(o+2),o=this.l(o+3),e=n.x,s=n.y,n=r.x,a=r.y,r=(e+n)/2,l=(s+a)/2,s=((i.y+s)/2+l)/2,a=(l+(a+o.y)/2)/2;t.x=(((i.x+e)/2+r)/2+(r+(n+o.x)/2)/2)/2,t.y=(s+a)/2}else t.assign(this.l(o));return t}for(o=0,r=Kh.cb(),s=0;s<e-1;s++)i=0,i=this.l(s),n=this.l(s+1),Y(i.x,n.x)?0>(i=n.y-i.y)&&(i=-i):Y(i.y,n.y)?0>(i=n.x-i.x)&&(i=-i):i=Math.sqrt(i.zf(n)),r.push(i),o+=i;for(n=s=i=0;i<o/2&&s<e&&(n=r[s],!(i+n>o/2));)i+=n,s++;return Kh.ta(r),e=this.l(s),r=this.l(s+1),e.x===r.x?e.y>r.y?t.m(e.x,e.y-(o/2-i)):t.m(e.x,e.y+(o/2-i)):e.y===r.y?e.x>r.x?t.m(e.x-(o/2-i),e.y):t.m(e.x+(o/2-i),e.y):(i=(o/2-i)/n,t.m(e.x+i*(r.x-e.x),e.y+i*(r.y-e.y))),t},Kh.u(Ws,{FF:"midAngle"},function(){return this.ao(),this.computeMidAngle()}),Ws.prototype.computeMidAngle=function(){var t=this.qa;if(2>t)return NaN;if(this.computeCurve()===zp&&4<=t&&!this.ac){var e=(t-1)/3|0,i=3*(e/2|0);if(1==e%2){var i=Math.floor(i),e=this.l(i),n=this.l(i+1),t=this.l(i+2),i=this.l(i+3),o=n.x,n=n.y,r=t.x,t=t.y,s=(o+r)/2,a=(n+t)/2;return Xh(((e.x+o)/2+s)/2,((e.y+n)/2+a)/2,(s+(r+i.x)/2)/2,(a+(t+i.y)/2)/2)}if(0<i&&i+1<t)return e=this.l(i-1),n=this.l(i+1),e.Pb(n)}return i=t/2|0,0==t%2?(e=this.l(i-1),n=this.l(i),4<=t&&e.Lc(n)?(e=this.l(i-2),t=this.l(i+1),i=e.zf(n),o=n.zf(t),i>o+10?e.Pb(n):o>i+10?n.Pb(t):e.Pb(t)):null===this.Ua||this.ac?e.Pb(n):this.Ua.XE(.5)):null===this.Ua||this.ac?(e=this.l(i-1),n=this.l(i),t=this.l(i+1),i=e.zf(n),o=n.zf(t),i>o+10?e.Pb(n):o>i+10?n.Pb(t):e.Pb(t)):this.Ua.XE(.5)},Kh.defineProperty(Ws,{points:"points"},function(){return this.gd},function(t){var e=this.gd;if(e!==t){var i=null;if(Array.isArray(t)){var n=0==t.length%2;if(n)for(var o=0;o<t.length;o++)if("number"!=typeof t[o]||isNaN(t[o])){n=!1;break}if(n)for(i=new c(w),n=0;n<t.length/2;n++)o=new w(t[2*n],t[2*n+1]).freeze(),i.add(o);else{for(o=!0,n=0;n<t.length;n++){var r=t[n];if(!Kh.Pa(r)||"number"!=typeof r.x||isNaN(r.x)||"number"!=typeof r.y||isNaN(r.y)){o=!1;break}}if(o)for(i=new c(w),n=0;n<t.length;n++)o=t[n],i.add(new w(o.x,o.y).freeze());else Kh.k("Link.points array must contain only an even number of numbers or objects with x and y properties, not: "+t)}}else if(t instanceof c)for(i=t.copy(),t=i.i;t.next();)t.value.freeze();else Kh.k("Link.points value is not an instance of List or Array: "+t);i.freeze(),this.gd=i,this.Me(),this.H(),Xs(this),t=this.g,null!==t&&(t.Gn||t.ia.ab||t.Kx.add(this),t.Oa.qc&&(this.hp=i)),this.h("points",e,i)}}),Kh.u(Ws,{qa:"pointsCount"},function(){return this.gd.count}),Ws.prototype.getPoint=Ws.prototype.l=function(t){return this.gd.n[t]},Ws.prototype.setPoint=Ws.prototype.Xg=function(t,e){null===this.Xe&&Kh.k("Call Link.startRoute before modifying the points of the route."),this.gd.kg(t,e)},Ws.prototype.setPointAt=Ws.prototype.ba=function(t,e,i){null===this.Xe&&Kh.k("Call Link.startRoute before modifying the points of the route."),this.gd.kg(t,new w(e,i))},Ws.prototype.insertPoint=function(t,e){null===this.Xe&&Kh.k("Call Link.startRoute before modifying the points of the route."),this.gd.Qd(t,e)},Ws.prototype.insertPointAt=Ws.prototype.w=function(t,e,i){null===this.Xe&&Kh.k("Call Link.startRoute before modifying the points of the route."),this.gd.Qd(t,new w(e,i))},Ws.prototype.addPoint=Ws.prototype.mi=function(t){null===this.Xe&&Kh.k("Call Link.startRoute before modifying the points of the route."),this.gd.add(t)},Ws.prototype.addPointAt=Ws.prototype.ij=function(t,e){null===this.Xe&&Kh.k("Call Link.startRoute before modifying the points of the route."),this.gd.add(new w(t,e))},Ws.prototype.removePoint=Ws.prototype.WF=function(t){null===this.Xe&&Kh.k("Call Link.startRoute before modifying the points of the route."),this.gd.bd(t)},Ws.prototype.clearPoints=Ws.prototype.Fp=function(){null===this.Xe&&Kh.k("Call Link.startRoute before modifying the points of the route."),this.gd.clear()},Ws.prototype.movePoints=Ws.prototype.Ik=function(t,e){if(0!==t||0!==e){for(var i=this.Lf,n=new c(w),o=this.gd.i;o.next();){var r=o.value;n.add(new w(r.x+t,r.y+e).freeze())}n.freeze(),o=this.gd,this.gd=n,this.H(),i&&Xs(this),i=this.g,null!==i&&i.Oa.qc&&(this.hp=n),this.h("points",o,n)}},Ws.prototype.startRoute=Ws.prototype.hm=function(){null===this.Xe&&(this.Xe=this.gd,this.gd=this.gd.copy())},Ws.prototype.commitRoute=Ws.prototype.kj=function(){if(null!==this.Xe){for(var t=this.Xe,e=this.gd,i=1/0,n=1/0,o=t.n,r=o.length,s=0;s<r;s++)var a=o[s],i=Math.min(a.x,i),n=Math.min(a.y,n);for(var l=1/0,h=1/0,u=e.n,c=u.length,s=0;s<c;s++)a=u[s],l=Math.min(a.x,l),h=Math.min(a.y,h),a.freeze();if(e.freeze(),c===r){for(s=0;s<c;s++)if(r=o[s],a=u[s],r.x-i!=a.x-l||r.y-n!=a.y-h){this.H(),this.Me();break}}else this.H(),this.Me();this.Xe=null,i=this.g,null!==i&&i.Oa.qc&&(this.hp=e),Xs(this),this.h("points",t,e)}},Ws.prototype.rollbackRoute=Ws.prototype.sJ=function(){null!==this.Xe&&(this.gd=this.Xe,this.Xe=null)},Ws.prototype.invalidateRoute=Ws.prototype.$b=function(){if(!this.im){var t=this.g;t&&(t.Kx.contains(this)||t.ia.ab||t.Oa.DI&&!t.Oa.pf)||null!==(t=this.path)&&(this.Lf=!1,this.H(),t.H())}},Kh.defineProperty(Ws,{Lf:null},function(){return 0!=(16&this.Yb)},function(t){0!=(16&this.Yb)!==t&&(this.Yb^=16)}),Kh.defineProperty(Ws,{im:"suspendsRouting"},function(){return 0!=(32&this.Yb)},function(t){0!=(32&this.Yb)!==t&&(this.Yb^=32)}),Kh.defineProperty(Ws,{Zz:null},function(){return 0!=(64&this.Yb)},function(t){0!=(64&this.Yb)!==t&&(this.Yb^=64)}),Kh.defineProperty(Ws,{Kp:"defaultFromPoint"},function(){return this.sC},function(t){this.sC=t.copy()}),Kh.defineProperty(Ws,{Lp:"defaultToPoint"},function(){return this.yC},function(t){this.yC=t.copy()}),Ws.prototype.updateRoute=Ws.prototype.ao=function(){if(!this.Lf&&!this.Zz){var t=!0;try{this.Zz=!0,this.hm(),t=this.computePoints()}finally{this.Zz=!1,t?this.kj():this.sJ()}}},Ws.prototype.computePoints=function(){var t=this.g;if(null===t)return!1;var e=this.Y,i=null;if(null===e?(t.xl||(t.Os=new Pr,t.Os.Ca=qu,t.Os.lb=0,t.xl=new js,t.xl.add(t.Os),t.xl.Je()),this.Kp&&(t.xl.position=t.xl.location=this.Kp,t.xl.Je(),e=t.xl,i=t.Os)):i=this.Cc,null!==i&&!e.isVisible()){var n=e.findVisibleNode();null!==n&&n!==e?(e=n,i=n.port):e=n}if(this.PD=e,null===e||!e.location.I())return!1;for(;!(null===i||i.W.I()&&i.xj());)i=i.Q;if(null===i)return!1;var o=this.Z,r=null;if(null===o?(t.yl||(t.Ps=new Pr,t.Ps.Ca=qu,t.Ps.lb=0,t.yl=new js,t.yl.add(t.Ps),t.yl.Je()),this.Lp&&(t.yl.position=t.yl.location=this.Lp,t.yl.Je(),o=t.yl,r=t.Ps)):r=this.cd,null===r||o.isVisible()||(t=o.findVisibleNode(),null!==t&&t!==o?(o=t,r=t.port):o=t),this.QD=o,null===o||!o.location.I())return!1;for(;!(null===r||r.W.I()&&r.xj());)r=r.Q;if(null===r)return!1;var s=this.qa,n=this.computeSpot(!0,i),t=this.computeSpot(!1,r),a=n===tu,l=t===tu,h=i===r&&null!==i,u=this.ac,c=this.af===zp;this.Ki=!(!h||u)&&(c=!0);var d=this.zt===Hp||h;if(!u&&!h&&a&&l){if(a=!1,!d&&3<=s&&(d=this.getLinkPoint(e,i,n,!0,!1,o,r),l=this.getLinkPoint(o,r,t,!1,!1,e,i),a=this.adjustPoints(0,d,s-1,l))&&(d=this.getLinkPoint(e,i,n,!0,!1,o,r),l=this.getLinkPoint(o,r,t,!1,!1,e,i),this.adjustPoints(0,d,s-1,l)),!a)if(this.Fp(),c){var s=this.getLinkPoint(e,i,n,!0,!1,o,r),d=this.getLinkPoint(o,r,t,!1,!1,e,i),a=d.x-s.x,l=d.y-s.y,h=this.computeCurviness(),c=u=0,p=s.x+a/3,f=s.y+l/3,y=p,g=f;W(l,0)?g=0<a?g-h:g+h:(u=-a/l,c=Math.sqrt(h*h/(u*u+1)),0>h&&(c=-c),y=(0>l?-1:1)*c+p,g=u*(y-p)+f);var p=s.x+2*a/3,f=s.y+2*l/3,v=p,m=f;W(l,0)?m=0<a?m-h:m+h:(v=(0>l?-1:1)*c+p,m=u*(v-p)+f),this.Fp(),this.mi(s),this.ij(y,g),this.ij(v,m),this.mi(d),this.Xg(0,this.getLinkPoint(e,i,n,!0,!1,o,r)),this.Xg(3,this.getLinkPoint(o,r,t,!1,!1,e,i))}else n=this.getLinkPoint(e,i,n,!0,!1,o,r),t=this.getLinkPoint(o,r,t,!1,!1,e,i),this.hasCurviness()?(d=t.x-n.x,o=t.y-n.y,r=this.computeCurviness(),e=n.x+d/2,i=n.y+o/2,s=e,a=i,W(o,0)?a=0<d?a-r:a+r:(d=-d/o,s=Math.sqrt(r*r/(d*d+1)),0>r&&(s=-s),s=(0>o?-1:1)*s+e,a=d*(s-e)+i),this.mi(n),this.ij(s,a)):this.mi(n),this.mi(t)}else{c=this.Zl,d&&(u&&c||h)&&this.Fp();var b=h?this.computeCurviness():0,c=this.getLinkPoint(e,i,n,!0,u,o,r),p=y=f=0;if((u||!a||h)&&(g=this.computeEndSegmentLength(e,i,n,!0),p=this.getLinkDirection(e,i,c,n,!0,u,o,r),h&&(a||n.L(t)||!u&&1===n.x+t.x&&1===n.y+t.y)&&(p-=u?90:30,0>b&&(p-=180)),0>p?p+=360:360<=p&&(p-=360),h&&(g+=Math.abs(b)*(u?1:2)),0===p?f=g:90===p?y=g:180===p?f=-g:270===p?y=-g:(f=g*Math.cos(p*Math.PI/180),y=g*Math.sin(p*Math.PI/180)),n.Sd()&&h)){var x=i.Wa(su,Kh.K()),C=Kh.xb(x.x+1e3*f,x.y+1e3*y);this.getLinkPointFromPoint(e,i,x,C,!0,c),Kh.v(x),Kh.v(C)}var g=this.getLinkPoint(o,r,t,!1,u,e,i),k=m=v=0;(u||!l||h)&&(x=this.computeEndSegmentLength(o,r,t,!1),k=this.getLinkDirection(o,r,g,t,!1,u,e,i),h&&(l||n.L(t)||!u&&1===n.x+t.x&&1===n.y+t.y)&&(k+=u?0:30,0>b&&(k+=180)),0>k?k+=360:360<=k&&(k-=360),h&&(x+=Math.abs(b)*(u?1:2)),0===k?v=x:90===k?m=x:180===k?v=-x:270===k?m=-x:(v=x*Math.cos(k*Math.PI/180),m=x*Math.sin(k*Math.PI/180)),t.Sd()&&h&&(x=r.Wa(su,Kh.K()),C=Kh.xb(x.x+1e3*v,x.y+1e3*m),this.getLinkPointFromPoint(o,r,x,C,!1,g),Kh.v(x),Kh.v(C))),t=c,(u||!a||h)&&(t=new w(c.x+f,c.y+y)),n=g,(u||!l||h)&&(n=new w(g.x+v,g.y+m)),!d&&!u&&a&&3<s&&this.adjustPoints(0,c,s-2,n)?this.Xg(s-1,g):!d&&!u&&l&&3<s&&this.adjustPoints(1,t,s-1,g)?this.Xg(0,c):!d&&(u?6<=s:4<s)&&this.adjustPoints(1,t,s-2,n)?(this.Xg(0,c),this.Xg(s-1,g)):(this.Fp(),this.mi(c),(u||!a||h)&&this.mi(t),u&&this.addOrthoPoints(t,p,n,k,e,o),(u||!l||h)&&this.mi(n),this.mi(g))}return!0},Ws.prototype.getLinkPointFromPoint=function(t,e,i,n,o,r){if(void 0===r&&(r=new w),null===t||null===e)return r.assign(i),r;t.isVisible()||null!==(o=t.findVisibleNode())&&o!==t&&(e=o.port);var s=o=0,a=0,l=0;if(t=null,o=e.Q,null===o||o.ah()||(o=o.Q),null===o)o=n.x,s=n.y,a=i.x,l=i.y;else{t=o.rh,o=1/(t.m11*t.m22-t.m12*t.m21);var a=t.m22*o,l=-t.m12*o,h=-t.m21*o,u=t.m11*o,c=o*(t.m21*t.dy-t.m22*t.dx),d=o*(t.m12*t.dx-t.m11*t.dy);o=n.x*a+n.y*h+c,s=n.x*l+n.y*u+d,a=i.x*a+i.y*h+c,l=i.x*l+i.y*u+d}return e.An(o,s,a,l,r),null!==t&&r.transform(t),r},Ws.prototype.getLinkPoint=function(t,e,i,n,o,r,s,a){if(void 0===a&&(a=new w),i.Yc())return e.Wa(i,a),a;if(i.uj()){var l=Zs(this,e);if(null!==l){if(a.assign(l.cq),o&&this.ey===Vp){var h=Zs(this,s);if(null!==h&&l.tn<h.tn){var l=Kh.K(),h=Kh.K(),u=new S(e.Wa(iu,l),e.Wa(uu,h)),c=this.computeSpot(!n,s);t=this.getLinkPoint(r,s,c,!n,o,t,e,h),(i.sj(wu)||i.sj(xu))&&t.y>=u.y&&t.y<=u.y+u.height?a.y=t.y:(i.sj(bu)||i.sj(Cu))&&t.x>=u.x&&t.x<=u.x+u.width&&(a.x=t.x),Kh.v(l),Kh.v(h)}}return a}}return i=e.Wa(su,Kh.K()),l=r=null,this.qa>(o?6:2)?(l=n?this.l(1):this.l(this.qa-2),o&&(l=Qs(i,l.copy()))):(r=Kh.K(),l=s.Wa(su,r),o&&(l=Qs(i,l)),Kh.v(r)),this.getLinkPointFromPoint(t,e,i,l,n,a),Kh.v(i),a},Ws.prototype.getLinkDirection=function(t,e,i,n,o,r,s,a){t:if(n.Yc())i=n.x>n.y?n.x>1-n.y?0:n.x<1-n.y?270:315:n.x<n.y?n.x>1-n.y?90:n.x<1-n.y?180:135:.5>n.x?225:.5<n.x?45:0;else{if(n.uj()){var l=Zs(this,e);if(null!==l)switch(l.ye){case Kh.md:i=270;break t;case Kh.Sc:i=180;break t;default:case Kh.ed:i=0;break t;case Kh.dd:i=90;break t}}var l=e.Wa(su,Kh.K()),h=null,u=null;this.qa>(r?6:2)?(u=o?this.l(1):this.l(this.qa-2),u=r?Qs(l,u.copy()):i):(h=Kh.K(),u=a.Wa(su,h),Kh.v(h)),i=0,i=Math.abs(u.x-l.x)>Math.abs(u.y-l.y)?u.x>=l.x?0:180:u.y>=l.y?90:270,Kh.v(l)}switch(n.Sd()&&s.qi(t)&&360<=(i+=180)&&(i-=360),t=Np,t=o?this.Wt:this.Qu,t===Np&&(t=o?e.Wt:e.Qu),t){case jp:e=e.Vl(),i+=e,360<=i&&(i-=360);break;case Np:case Rp:if(n.AI())break;if(0===(e=e.Vl()))break;45<=e&&135>e?i+=90:135<=e&&225>e?i+=180:225<=e&&315>e&&(i+=270),360<=i&&(i-=360)}return i},Ws.prototype.computeEndSegmentLength=function(t,e,i,n){return null!==e&&i.uj()&&null!==(t=Zs(this,e))?t.jx:(t=NaN,t=n?this.Ul:this.mm,null!==e&&isNaN(t)&&(t=n?e.Ul:e.mm),isNaN(t)&&(t=10),t)},Ws.prototype.computeSpot=function(t,e){var i;if(t)if(null===(i=e||this.Cc))i=su;else{var n=this.Ab;n.Xc()&&null!==i&&(n=i.Ab),i=n===eu?tu:n}else i=e||this.cd,null===i?i=su:(n=this.Bb,n.Xc()&&null!==i&&(n=i.Bb),i=n===eu?tu:n);return i},Ws.prototype.computeOtherPoint=function(t,e){var i,n=e.Wa(su);return i=e.Es,i=null!==i?Ta(i,this):null,null!==i&&(n=i.cq),n},Ws.prototype.computeShortLength=function(t){if(t){if(t=this.Xt,isNaN(t)){var e=this.Cc;null!==e&&(t=e.Xt)}}else t=this.Ru,isNaN(t)&&null!==(e=this.cd)&&(t=e.Ru);return isNaN(t)?0:t},Ws.prototype.zk=function(t,e,i,n,o,r){if(!1===this.Wg)return!1;void 0===e&&(e=null),void 0===i&&(i=null);var s=r;if(void 0===r&&(s=Kh.Jf(),s.reset()),s.multiply(this.transform),this.qn(t,s))return gr(this,e,i,o),void 0===r&&Kh.we(s),!0;if(this.Zf(t,s)){var a=!1;if(!this.Fn)for(var l=this.xa.n,h=l.length;h--;){var u=l[h];if(u.visible||u===this.bg){var d=u.W,f=this.Ja;if(!(d.x>f.width||d.y>f.height||0>d.x+d.width||0>d.y+d.height)){if(d=Kh.Jf(),d.set(s),u instanceof ir)a=u.zk(t,e,i,n,o,d);else if(this.path===u){if(u instanceof Pr){var a=u,y=t,g=n,f=d;if(!1===a.Wg)a=!1;else if(f.multiply(a.transform),g)t:{var v=y,m=f;if(a.qn(v,m))a=!0;else{if(void 0===m&&(m=a.transform,v.wk(a.W))){a=!0;break t}var f=v.left,y=v.right,g=v.top,v=v.bottom,b=Kh.K(),w=Kh.K(),x=Kh.K(),C=Kh.Jf();C.set(m),C.IF(a.transform),C.vx(),w.x=y,w.y=g,w.transform(C),b.x=f,b.y=g,b.transform(C),m=!1,Fr(a,b,w,x)?m=!0:(b.x=y,b.y=v,b.transform(C),Fr(a,b,w,x)?m=!0:(w.x=f,w.y=v,w.transform(C),Fr(a,b,w,x)?m=!0:(b.x=f,b.y=g,b.transform(C),Fr(a,b,w,x)&&(m=!0)))),Kh.we(C),Kh.v(b),Kh.v(w),Kh.v(x),a=m}}else a=a.qn(y,f)}}else a=Lo(u,t,n,d);a&&(null!==e&&(u=e(u)),u&&(null===i||i(u))&&(o instanceof p&&o.add(u),o instanceof c&&o.add(u))),Kh.we(d)}}}return void 0===r&&Kh.we(s),a||null!==this.background||null!==this.ln}return void 0===r&&Kh.we(s),!1},Kh.u(Ws,{ac:"isOrthogonal"},function(){return 2==(2&this.Xm.value)}),Kh.u(Ws,{Zl:"isAvoiding"},function(){return 4==(4&this.Xm.value)}),Ws.prototype.computeCurve=function(){if(null===this.Ki){var t=this.Cc,e=this.ac;this.Ki=null!==t&&t===this.cd&&!e}return this.Ki?zp:this.af},Ws.prototype.computeCorner=function(){if(this.af===zp)return 0;var t=this.eA;return(isNaN(t)||0>t)&&(t=10),t},Ws.prototype.findMidLabel=function(){for(var t=this.path,e=this.xa.n,i=e.length,n=0;n<i;n++){var o=e[n];if(o!==t&&!o.qf&&(-1/0===o.Oe||isNaN(o.Oe)))return o}for(t=this.Df;t.next();)if(e=t.value,-1/0===e.Oe||isNaN(e.Oe))return e;return null},Ws.prototype.computeSpacing=function(){if(!this.isVisible())return 0;var t;t=Math.max(14,this.computeThickness());var e=this.Cc,i=this.cd;if(null!==e&&null!==i){var n=this.findMidLabel();if(null!==n){var o=n.Ja,r=n.margin,s=isNaN(o.width)?30:o.width*n.scale+r.left+r.right,o=isNaN(o.height)?14:o.height*n.scale+r.top+r.bottom,n=n.pq;n===$p||n===Xp||n===Jp?t=Math.max(t,o):n===Yp||n===Zp||n===Wp||n===Qp?t=Math.max(t,s):(e=e.Wa(su).Pb(i.Wa(su))/180*Math.PI,t=Math.max(t,Math.abs(Math.sin(e)*s)+Math.abs(Math.cos(e)*o)+1)),this.af===zp&&(t*=1.333)}}return t},Ws.prototype.arrangeBundledLinks=function(t,e){if(e)for(var i=0;i<t.length;i++)t[i].$b()},Ws.prototype.computeCurviness=function(){var t=this.bx;if(isNaN(t)){var t=16,e=this.xi;if(null!==e){for(var i=Kh.cb(),n=0,o=e.links,r=0;r<o.length;r++){var s=o[r],s=s.computeSpacing();i.push(s),n+=s}for(n=-n/2,r=0;r<o.length;r++){if((s=o[r])===this){t=n+i[r]/2;break}n+=i[r]}e.fq===this.Y&&(t=-t),Kh.ta(i)}}return t},Ws.prototype.computeThickness=function(){if(!this.isVisible())return 0;var t=this.path;return null!==t?Math.max(t.lb,1):1},Ws.prototype.hasCurviness=function(){return!isNaN(this.bx)||null!==this.xi},Ws.prototype.adjustPoints=function(t,e,i,n){var o=this.zt;if(this.ac){if(o===Up)return!1;o===Kp&&(o=_p)}switch(o){case Up:var r=this.l(t),s=this.l(i);if(!r.Lc(e)||!s.Lc(n)){var o=r.x,r=r.y,a=s.x-o,l=s.y-r,h=Math.sqrt(a*a+l*l);if(!Y(h,0)){var u=0;Y(a,0)?u=0>l?-Math.PI/2:Math.PI/2:(u=Math.atan(l/Math.abs(a)),0>a&&(u=Math.PI-u));var s=e.x,c=e.y,l=n.x-s,d=n.y-c,p=Math.sqrt(l*l+d*d),a=0;for(Y(l,0)?a=0>d?-Math.PI/2:Math.PI/2:(a=Math.atan(d/Math.abs(l)),0>l&&(a=Math.PI-a)),h=p/h,u=a-u,this.Xg(t,e),t+=1;t<i;t++)e=this.l(t),a=e.x-o,l=e.y-r,e=Math.sqrt(a*a+l*l),Y(e,0)||(d=0,Y(a,0)?d=0>l?-Math.PI/2:Math.PI/2:(d=Math.atan(l/Math.abs(a)),0>a&&(d=Math.PI-d)),a=d+u,e*=h,this.ba(t,s+e*Math.cos(a),c+e*Math.sin(a)));this.Xg(i,n)}}return!0;case Kp:if(r=this.l(t),c=this.l(i),!r.Lc(e)||!c.Lc(n)){var o=r.x,r=r.y,s=c.x,c=c.y,h=(s-o)*(s-o)+(c-r)*(c-r),a=e.x,u=e.y,l=n.x,d=n.y,p=0,f=1;for(0!=l-a?(p=(d-u)/(l-a),f=Math.sqrt(1+1/(p*p))):p=9e9,this.Xg(t,e),t+=1;t<i;t++){e=this.l(t);var y=e.x,g=e.y,v=.5;0!==h&&(v=((o-y)*(o-s)+(r-g)*(r-c))/h);var m=o+v*(s-o),b=r+v*(c-r);e=Math.sqrt((y-m)*(y-m)+(g-b)*(g-b)),g<p*(y-m)+b&&(e=-e),0<p&&(e=-e),y=a+v*(l-a),v=u+v*(d-u),0!==p?(e=y+e/f,this.ba(t,e,v-(e-y)/p)):this.ba(t,y,v+e)}this.Xg(i,n)}return!0;case _p:return this.ac&&(o=this.l(t),r=this.l(t+1),s=this.l(t+2),a=r.x,u=r.y,c=a,h=u,W(o.y,r.y)?W(r.x,s.x)?u=e.y:W(r.y,s.y)&&(a=e.x):W(o.x,r.x)&&(W(r.y,s.y)?a=e.x:W(r.x,s.x)&&(u=e.y)),this.ba(t+1,a,u),o=this.l(i),r=this.l(i-1),s=this.l(i-2),a=r.x,u=r.y,l=a,d=u,W(o.y,r.y)?W(r.x,s.x)?u=n.y:W(r.y,s.y)&&(a=n.x):W(o.x,r.x)&&(W(r.y,s.y)?a=n.x:W(r.x,s.x)&&(u=n.y)),this.ba(i-1,a,u),ta(this))?(this.ba(t+1,c,h),this.ba(i-1,l,d),i=!1):(this.Xg(t,e),this.Xg(i,n),i=!0),i;default:return!1}},Ws.prototype.addOrthoPoints=function(t,e,i,n,o,r){e=-45<=e&&45>e?0:45<=e&&135>e?90:135<=e&&225>e?180:270,n=-45<=n&&45>n?0:45<=n&&135>n?90:135<=n&&225>n?180:270;var s=o.W.copy(),a=r.W.copy();if(s.I()&&a.I()){s.Yf(8,8),a.Yf(8,8),s.vi(t),a.vi(i);var l,h;0===e?i.x>t.x||270===n&&i.y<t.y&&a.right>t.x||90===n&&i.y>t.y&&a.right>t.x?(l=new w(i.x,t.y),h=new w(i.x,(t.y+i.y)/2),180===n?(l.x=this.computeMidOrthoPosition(t.x,i.x,!1),h.x=l.x,h.y=i.y):270===n&&i.y<t.y||90===n&&i.y>t.y?(l.x=t.x<a.left?this.computeMidOrthoPosition(t.x,a.left,!1):t.x<a.right&&(270===n&&t.y<a.top||90===n&&t.y>a.bottom)?this.computeMidOrthoPosition(t.x,i.x,!1):a.right,h.x=l.x,h.y=i.y):0===n&&t.x<a.left&&t.y>a.top&&t.y<a.bottom&&(l.x=t.x,l.y=t.y<i.y?Math.min(i.y,a.top):Math.max(i.y,a.bottom),h.y=l.y)):(l=new w(t.x,i.y),h=new w((t.x+i.x)/2,i.y),(180===n||90===n&&i.y<s.top||270===n&&i.y>s.bottom)&&(180===n&&(a.Ia(t)||s.Ia(i))?l.y=this.computeMidOrthoPosition(t.y,i.y,!0):i.y<t.y&&(180===n||90===n)?l.y=this.computeMidOrthoPosition(s.top,Math.max(i.y,a.bottom),!0):i.y>t.y&&(180===n||270===n)&&(l.y=this.computeMidOrthoPosition(s.bottom,Math.min(i.y,a.top),!0)),h.x=i.x,h.y=l.y),l.y>s.top&&l.y<s.bottom&&(i.x>=s.left&&i.x<=t.x||t.x<=a.right&&t.x>=i.x?90!==n&&270!==n||(l=new w(Math.max((t.x+i.x)/2,t.x),t.y),h=new w(l.x,i.y)):(l.y=270===n||(0===n||180===n)&&i.y<t.y?Math.min(i.y,0===n?s.top:Math.min(s.top,a.top)):Math.max(i.y,0===n?s.bottom:Math.max(s.bottom,a.bottom)),h.x=i.x,h.y=l.y))):180===e?i.x<t.x||270===n&&i.y<t.y&&a.left<t.x||90===n&&i.y>t.y&&a.left<t.x?(l=new w(i.x,t.y),h=new w(i.x,(t.y+i.y)/2),0===n?(l.x=this.computeMidOrthoPosition(t.x,i.x,!1),h.x=l.x,h.y=i.y):270===n&&i.y<t.y||90===n&&i.y>t.y?(l.x=t.x>a.right?this.computeMidOrthoPosition(t.x,a.right,!1):t.x>a.left&&(270===n&&t.y<a.top||90===n&&t.y>a.bottom)?this.computeMidOrthoPosition(t.x,i.x,!1):a.left,h.x=l.x,h.y=i.y):180===n&&t.x>a.right&&t.y>a.top&&t.y<a.bottom&&(l.x=t.x,l.y=t.y<i.y?Math.min(i.y,a.top):Math.max(i.y,a.bottom),h.y=l.y)):(l=new w(t.x,i.y),h=new w((t.x+i.x)/2,i.y),(0===n||90===n&&i.y<s.top||270===n&&i.y>s.bottom)&&(0===n&&(a.Ia(t)||s.Ia(i))?l.y=this.computeMidOrthoPosition(t.y,i.y,!0):i.y<t.y&&(0===n||90===n)?l.y=this.computeMidOrthoPosition(s.top,Math.max(i.y,a.bottom),!0):i.y>t.y&&(0===n||270===n)&&(l.y=this.computeMidOrthoPosition(s.bottom,Math.min(i.y,a.top),!0)),h.x=i.x,h.y=l.y),l.y>s.top&&l.y<s.bottom&&(i.x<=s.right&&i.x>=t.x||t.x>=a.left&&t.x<=i.x?90!==n&&270!==n||(l=new w(Math.min((t.x+i.x)/2,t.x),t.y),h=new w(l.x,i.y)):(l.y=270===n||(0===n||180===n)&&i.y<t.y?Math.min(i.y,180===n?s.top:Math.min(s.top,a.top)):Math.max(i.y,180===n?s.bottom:Math.max(s.bottom,a.bottom)),h.x=i.x,h.y=l.y))):90===e?i.y>t.y||180===n&&i.x<t.x&&a.bottom>t.y||0===n&&i.x>t.x&&a.bottom>t.y?(l=new w(t.x,i.y),h=new w((t.x+i.x)/2,i.y),270===n?(l.y=this.computeMidOrthoPosition(t.y,i.y,!0),h.x=i.x,h.y=l.y):180===n&&i.x<t.x||0===n&&i.x>t.x?(l.y=t.y<a.top?this.computeMidOrthoPosition(t.y,a.top,!0):t.y<a.bottom&&(180===n&&t.x<a.left||0===n&&t.x>a.right)?this.computeMidOrthoPosition(t.y,i.y,!0):a.bottom,h.x=i.x,h.y=l.y):90===n&&t.y<a.top&&t.x>a.left&&t.x<a.right&&(l.x=t.x<i.x?Math.min(i.x,a.left):Math.max(i.x,a.right),l.y=t.y,h.x=l.x)):(l=new w(i.x,t.y),h=new w(i.x,(t.y+i.y)/2),(270===n||0===n&&i.x<s.left||180===n&&i.x>s.right)&&(270===n&&(a.Ia(t)||s.Ia(i))?l.x=this.computeMidOrthoPosition(t.x,i.x,!1):i.x<t.x&&(270===n||0===n)?l.x=this.computeMidOrthoPosition(s.left,Math.max(i.x,a.right),!1):i.x>t.x&&(270===n||180===n)&&(l.x=this.computeMidOrthoPosition(s.right,Math.min(i.x,a.left),!1)),h.x=l.x,h.y=i.y),l.x>s.left&&l.x<s.right&&(i.y>=s.top&&i.y<=t.y||t.y<=a.bottom&&t.y>=i.y?0!==n&&180!==n||(l=new w(t.x,Math.max((t.y+i.y)/2,t.y)),h=new w(i.x,l.y)):(l.x=180===n||(90===n||270===n)&&i.x<t.x?Math.min(i.x,90===n?s.left:Math.min(s.left,a.left)):Math.max(i.x,90===n?s.right:Math.max(s.right,a.right)),h.x=l.x,h.y=i.y))):i.y<t.y||180===n&&i.x<t.x&&a.top<t.y||0===n&&i.x>t.x&&a.top<t.y?(l=new w(t.x,i.y),h=new w((t.x+i.x)/2,i.y),90===n?(l.y=this.computeMidOrthoPosition(t.y,i.y,!0),h.x=i.x,h.y=l.y):180===n&&i.x<t.x||0===n&&i.x>=t.x?(l.y=t.y>a.bottom?this.computeMidOrthoPosition(t.y,a.bottom,!0):t.y>a.top&&(180===n&&t.x<a.left||0===n&&t.x>a.right)?this.computeMidOrthoPosition(t.y,i.y,!0):a.top,h.x=i.x,h.y=l.y):270===n&&t.y>a.bottom&&t.x>a.left&&t.x<a.right&&(l.x=t.x<i.x?Math.min(i.x,a.left):Math.max(i.x,a.right),l.y=t.y,h.x=l.x)):(l=new w(i.x,t.y),h=new w(i.x,(t.y+i.y)/2),(90===n||0===n&&i.x<s.left||180===n&&i.x>s.right)&&(90===n&&(a.Ia(t)||s.Ia(i))?l.x=this.computeMidOrthoPosition(t.x,i.x,!1):i.x<t.x&&(90===n||0===n)?l.x=this.computeMidOrthoPosition(s.left,Math.max(i.x,a.right),!1):i.x>t.x&&(90===n||180===n)&&(l.x=this.computeMidOrthoPosition(s.right,Math.min(i.x,a.left),!1)),h.x=l.x,h.y=i.y),l.x>s.left&&l.x<s.right&&(i.y<=s.bottom&&i.y>=t.y||t.y>=a.top&&t.y<=i.y?0!==n&&180!==n||(l=new w(t.x,Math.min((t.y+i.y)/2,t.y)),h=new w(i.x,l.y)):(l.x=180===n||(90===n||270===n)&&i.x<t.x?Math.min(i.x,270===n?s.left:Math.min(s.left,a.left)):Math.max(i.x,270===n?s.right:Math.max(s.right,a.right)),h.x=l.x,h.y=i.y)));var u=l,c=h;if(this.Zl){var d,p=this.g;if((d=null===p)||(p.Oa.pf?d=!1:(d=p.$a,d=!(d instanceof ye)||(!d.Ew||d.tI)),d=!d),d||s.Ia(i)&&!r.qi(o)||a.Ia(t)&&!o.qi(r)||o===r||this.layer.Mc)e=!1;else{var f=no(p,!0,this.Da,null);if(f.aq(Math.min(t.x,u.x),Math.min(t.y,u.y),Math.abs(t.x-u.x),Math.abs(t.y-u.y))&&f.aq(Math.min(u.x,c.x),Math.min(u.y,c.y),Math.abs(u.x-c.x),Math.abs(u.y-c.y))&&f.aq(Math.min(c.x,i.x),Math.min(c.y,i.y),Math.abs(c.x-i.x),Math.abs(c.y-i.y)))e=!1;else{o=t,r=i;var y=d=null;if(p.FA){p=f.gb.copy(),p.Yf(-f.Ep,-f.Cp);var g=Kh.K();ga(f,t.x,t.y)||(lt(p.x,p.y,p.x+p.width,p.y+p.height,t.x,t.y,u.x,u.y,g)?(d=t=g.copy(),e=g.Pb(u)):lt(p.x,p.y,p.x+p.width,p.y+p.height,u.x,u.y,c.x,c.y,g)?(d=t=g.copy(),e=g.Pb(c)):lt(p.x,p.y,p.x+p.width,p.y+p.height,c.x,c.y,i.x,i.y,g)&&(d=t=g.copy(),e=g.Pb(i))),ga(f,i.x,i.y)||(lt(p.x,p.y,p.x+p.width,p.y+p.height,i.x,i.y,c.x,c.y,g)?(y=i=g.copy(),n=c.Pb(g)):lt(p.x,p.y,p.x+p.width,p.y+p.height,c.x,c.y,u.x,u.y,g)?(y=i=g.copy(),n=u.Pb(g)):lt(p.x,p.y,p.x+p.width,p.y+p.height,u.x,u.y,t.x,t.y,g)&&(y=i=g.copy(),n=t.Pb(g))),Kh.v(g)}s=s.copy().Jh(a),a=f.nG,s.Yf(f.Ep*a,f.Cp*a),ka(f,t,e,i,n,s),a=va(f,i.x,i.y),!f.abort&&999999<=a&&(ba(f),a=f.BF,s.Yf(f.Ep*a,f.Cp*a),ka(f,t,e,i,n,s),a=va(f,i.x,i.y)),!f.abort&&999999<=a&&f.EG&&(ba(f),ka(f,t,e,i,n,f.gb),a=va(f,i.x,i.y)),!f.abort&&999999>a&&0!==va(f,i.x,i.y)?(ea(this,f,i.x,i.y,n,!0),s=this.l(2),4>this.qa?(0===e||180===e?(s.x=t.x,s.y=i.y):(s.x=i.x,s.y=t.y),this.ba(2,s.x,s.y),this.w(3,s.x,s.y)):(i=this.l(3),0===e||180===e?W(s.x,i.x)?(s=0===e?Math.max(s.x,t.x):Math.min(s.x,t.x),this.ba(2,s,t.y),this.ba(3,s,i.y)):W(s.y,i.y)?(Math.abs(t.y-s.y)<=f.Cp/2&&(this.ba(2,s.x,t.y),this.ba(3,i.x,t.y)),this.w(2,s.x,t.y)):this.ba(2,t.x,s.y):90!==e&&270!==e||(W(s.y,i.y)?(s=90===e?Math.max(s.y,t.y):Math.min(s.y,t.y),this.ba(2,t.x,s),this.ba(3,i.x,s)):W(s.x,i.x)?(Math.abs(t.x-s.x)<=f.Ep/2&&(this.ba(2,t.x,s.y),this.ba(3,t.x,i.y)),this.w(2,t.x,s.y)):this.ba(2,s.x,t.y))),null!==d&&(t=this.l(1),i=this.l(2),t.x!==i.x&&t.y!==i.y?0===e||180===e?this.w(2,t.x,i.y):this.w(2,i.x,t.y):0===e||180===e?this.w(2,o.x,d.y):this.w(2,d.x,o.y)),null!==y&&(0===n||180===n?this.ij(r.x,y.y):this.ij(y.x,r.y)),e=!0):e=!1}}}else e=!1;e||(this.mi(l),this.mi(h))}},Ws.prototype.computeMidOrthoPosition=function(t,e){if(this.hasCurviness()){return(t+e)/2+this.computeCurviness()}return(t+e)/2},Ws.prototype.findClosestSegment=function(t){var e=t.x;t=t.y;for(var i=this.l(0),n=this.l(1),o=Yh(e,t,i.x,i.y,n.x,n.y),r=0,s=1;s<this.qa-1;s++){var i=this.l(s+1),a=Yh(e,t,n.x,n.y,i.x,i.y),n=i;a<o&&(r=s,o=a)}return r},Ws.prototype.Me=function(){this.Ua=null},Kh.u(Ws,{lf:"geometry"},function(){return null===this.Ua&&(this.ao(),this.Ua=this.makeGeometry()),this.Ua}),Ws.prototype.ru=function(t){if(!t){if(!1===this.Lf)return;if(t=this.Ld(),null!==this.Ua&&(null===t||null!==t.lf))return}if(this.Ua=this.makeGeometry(),null!==(t=this.path)){t.Ua=this.Ua;for(var e=this.xa.n,i=e.length,n=0;n<i;n++){var o=e[n];o!==t&&o.qf&&o instanceof Pr&&(o.Ua=this.Ua)}}},Ws.prototype.makeGeometry=function(){var t=this.qa;if(2>t)return new mt(ic);var e=!1,i=this.g;null!==i&&la(this)&&i.bl.contains(this)&&null!==this.qw&&(e=!0);var n=i=0,o=this.l(0).copy(),r=o.copy(),i=this.gd.n,s=this.computeCurve();if(s===zp&&3<=t&&!Y(this.uq,0))if(3===t)var a=this.l(1),i=Math.min(o.x,a.x),n=Math.min(o.y,a.y),a=this.l(2),i=Math.min(i,a.x),n=Math.min(n,a.y);else{if(this.ac)for(a=0;a<t;a++)n=i[a],r.x=Math.min(n.x,r.x),r.y=Math.min(n.y,r.y);else for(a=3;a<t;a+=3)a+3>=t&&(a=t-1),i=this.l(a),r.x=Math.min(i.x,r.x),r.y=Math.min(i.y,r.y);i=r.x,n=r.y}else{for(a=0;a<t;a++)n=i[a],r.x=Math.min(n.x,r.x),r.y=Math.min(n.y,r.y);i=r.x,n=r.y}if(i-=this.Jz.x,n-=this.Jz.y,o.x-=i,o.y-=n,2!==t||la(this)){var l=Kh.s();if(0!==this.computeShortLength(!0)&&(o=na(this,o,!0,r)),ts(l,o.x,o.y,!1,!1),s===zp&&3<=t&&!Y(this.uq,0))if(3===t)a=this.l(1),t=a.x-i,e=a.y-n,a=this.l(2).copy(),a.x-=i,a.y-=n,0!==this.computeShortLength(!1)&&(a=na(this,a,!1,r)),ns(l,t,e,t,e,a.x,a.y);else if(this.ac){for(var r=new w(i,n),o=this.l(1).copy(),s=new w(i,n),t=new w(i,n),e=this.l(0),h=null,u=this.uq/3,a=1;a<this.qa-1;a++){var h=this.l(a),c=e,d=h,p=this.l(oa(this,h,a,!1));if(!(Y(c.x,d.x)&&Y(d.x,p.x)||Y(c.y,d.y)&&Y(d.y,p.y))){var f=u,y=s,g=t;isNaN(f)&&(f=this.uq/3);var v=c.x,c=c.y,m=d.x,d=d.y,b=p.x,p=p.y,x=f*ia(v,c,m,d),f=f*ia(m,d,b,p);Y(c,d)&&Y(m,b)&&(m>v?p>d?(y.x=m-x,y.y=d-x,g.x=m+f,g.y=d+f):(y.x=m-x,y.y=d+x,g.x=m+f,g.y=d-f):p>d?(y.x=m+x,y.y=d-x,g.x=m-f,g.y=d+f):(y.x=m+x,y.y=d+x,g.x=m-f,g.y=d-f)),Y(v,m)&&Y(d,p)&&(d>c?(b>m?(y.x=m-x,y.y=d-x,g.x=m+f):(y.x=m+x,y.y=d-x,g.x=m-f),g.y=d+f):(b>m?(y.x=m-x,y.y=d+x,g.x=m+f):(y.x=m+x,y.y=d+x,g.x=m-f),g.y=d-f)),(Y(v,m)&&Y(m,b)||Y(c,d)&&Y(d,p))&&(v=.5*(v+b),c=.5*(c+p),y.x=v,y.y=c,g.x=v,g.y=c),1===a?(o.x=.5*(e.x+h.x),o.y=.5*(e.y+h.y)):2===a&&Y(e.x,this.l(0).x)&&Y(e.y,this.l(0).y)&&(o.x=.5*(e.x+h.x),o.y=.5*(e.y+h.y)),ns(l,o.x-i,o.y-n,s.x-i,s.y-n,h.x-i,h.y-n),r.set(s),o.set(t),e=h}}a=e.x,e=e.y,r=this.l(this.qa-1),0!==this.computeShortLength(!1)&&(r=na(this,r.copy(),!1,Ru)),a=.5*(a+r.x),e=.5*(e+r.y),ns(l,t.x-i,t.y-n,a-i,e-n,r.x-i,r.y-n)}else for(a=3;a<t;a+=3)e=this.l(a-2),a+3>=t&&(a=t-1),r=this.l(a-1),o=this.l(a),a===t-1&&0!==this.computeShortLength(!1)&&(o=na(this,o.copy(),!1,Ru)),ns(l,e.x-i,e.y-n,r.x-i,r.y-n,o.x-i,o.y-n);else{for(r=Kh.K(),r.assign(this.l(0)),a=1,o=0;a<t;){if(a=oa(this,r,a,1<a),y=this.l(a),a>=t-1){if(r.L(y)){if(0===o)for(a=1;a<t;)y=this.l(a++),ra(this,l,-i,-n,r,y,e),r.assign(y)}else 0!==this.computeShortLength(!1)&&(y=na(this,y.copy(),!1,Ru)),ra(this,l,-i,-n,r,y,e);break}o=oa(this,y,a+1,a<t-3),a=l,s=-i,h=-n,u=r,g=this.l(o),v=r,c=e,W(u.y,y.y)&&W(y.x,g.x)?(f=this.computeCorner(),f=Math.min(f,Math.abs(y.x-u.x)/2),f=m=Math.min(f,Math.abs(g.y-y.y)/2),W(f,0)?(ra(this,a,s,h,u,y,c),v.assign(y)):(d=y.x,b=y.y,p=d,x=b,d=y.x>u.x?y.x-f:y.x+f,x=g.y>y.y?y.y+m:y.y-m,ra(this,a,s,h,u,new w(d,b),c),os(a,y.x+s,y.y+h,p+s,x+h),v.m(p,x))):W(u.x,y.x)&&W(y.y,g.y)?(f=this.computeCorner(),m=Math.min(f,Math.abs(y.y-u.y)/2),m=f=Math.min(m,Math.abs(g.x-y.x)/2),W(f,0)?(ra(this,a,s,h,u,y,c),v.assign(y)):(d=y.x,x=b=y.y,b=y.y>u.y?y.y-m:y.y+m,p=g.x>y.x?y.x+f:y.x-f,ra(this,a,s,h,u,new w(d,b),c),os(a,y.x+s,y.y+h,p+s,x+h),v.m(p,x))):(ra(this,a,s,h,u,y,c),v.assign(y)),a=o}Kh.v(r)}i=l.o,Kh.q(l)}else l=this.l(1).copy(),l.x-=i,l.y-=n,0!==this.computeShortLength(!0)&&(o=na(this,o,!0,r)),0!==this.computeShortLength(!1)&&(l=na(this,l,!1,r)),i=new mt(ic),i.ha=o.x,i.ea=o.y,i.C=l.x,i.D=l.y;return i},Kh.u(Ws,{Qt:"firstPickIndex"},function(){var t;return 2>=this.qa?t=0:((t=this.ac)||(t=this.computeSpot(!0)!==tu),t=t?1:0),t}),Kh.u(Ws,{Fx:"lastPickIndex"},function(){var t=this.qa;if(0===t)t=0;else if(2>=t)t-=1;else{var e;(e=this.ac)||(e=this.computeSpot(!1)!==tu),t=e?t-2:t-1}return t}),Ws.prototype.usesSamePort=function(t){var e=this.qa,i=t.qa;if(0<e&&0<i){var n=this.l(0),o=t.l(0);if(n.Lc(o))return!0;if(e=this.l(e-1),t=t.l(i-1),e.Lc(t)||n.Lc(t)||e.Lc(o))return!0}else if(this.Y===t.Y||this.Z===t.Z||this.Y===t.Z||this.Z===t.Y)return!0;return!1},Ws.prototype.isVisible=function(){if(!us.prototype.isVisible.call(this))return!1;var t=this.Da,e=!0,i=this.g;null!==i&&(e=i.Td);var n=this.Y;if(null!==n){if(this.Nc&&e&&!n.tc)return!1;if(n===t)return!0;for(i=n;null!==i;){if(i.Wb===this)return!0;i=i.Da}if(null===(i=n.findVisibleNode())||i===t)return!1}if(null!==(n=this.Z)){if(this.Nc&&!e&&!n.tc)return!1;if(n===t)return!0;for(i=n;null!==i;){if(i.Wb===this)return!0;i=i.Da}if(null===(e=n.findVisibleNode())||e===t)return!1}return!0},Ws.prototype.yd=function(t){if(us.prototype.yd.call(this,t),null!==this.xi&&this.xi.Xp(),null!==this.uf)for(var e=this.uf.i;e.next();)e.value.yd(t)},Kh.defineProperty(Ws,{zt:"adjusting"},function(){return this.Fq},function(t){var e=this.Fq;e!==t&&(this.Fq=t,this.h("adjusting",e,t))}),Kh.defineProperty(Ws,{eA:"corner"},function(){return this.$q},function(t){var e=this.$q;e!==t&&(this.$q=t,this.Me(),this.h("corner",e,t))}),Kh.defineProperty(Ws,{af:"curve"},function(){return this.cr},function(t){var e=this.cr;e!==t&&(this.cr=t,this.$b(),this.Me(),ha(this,e===qp||e===Gp||t===qp||t===Gp),this.h("curve",e,t))}),Kh.defineProperty(Ws,{bx:"curviness"},function(){return this.dr},function(t){var e=this.dr;e!==t&&(this.dr=t,this.$b(),this.Me(),this.h("curviness",e,t))}),Kh.defineProperty(Ws,{ey:"routing"},function(){return this.Xm},function(t){var e=this.Xm;e!==t&&(this.Xm=t,this.Ki=null,this.$b(),ha(this,2==(2&e.value)||2==(2&t.value)),this.h("routing",e,t))}),Kh.defineProperty(Ws,{uq:"smoothness"},function(){return this.dt},function(t){var e=this.dt;e!==t&&(this.dt=t,this.Me(),this.h("smoothness",e,t))}),Kh.u(Ws,{key:"key"},function(){var t=this.g;return null!==t&&t.$ instanceof Qt?t.$.bf(this.data):void 0},{configurable:!0}),fa.prototype.Xp=function(){if(!this.Nv){var t=this.links;0<t.length&&null!==(t=t[0].g)&&(t.OC.add(this),this.Of=t.ia.ab)}this.Nv=!0},fa.prototype.EB=function(){if(this.Nv){this.Nv=!1;var t=this.links;if(0<t.length){var e=t[0],i=e.g,i=null===i||i.Gn&&!this.Of;this.Of=!1,e.arrangeBundledLinks(t,i),1===t.length&&(e.xi=null,t.length=0)}0===t.length&&(t=this.fq,null!==this&&null!==t.Kh&&t.Kh.remove(this),t=this.wu,null!==this&&null!==t.Kh&&t.Kh.remove(this))}},Kh.ce(fa,{fq:!0,Sx:!0,wu:!0,Tx:!0,links:!0,spacing:!0}),Kh.ce(ya,{group:!0,sB:!0,cu:!0,abort:!0,EG:!0,nG:!0,BF:!0}),ya.prototype.initialize=function(t){if(!(0>=t.width||0>=t.height)){var e=t.y,i=t.x+t.width,n=t.y+t.height;if(this.Bg=Math.floor((t.x-this.Ae)/this.Ae)*this.Ae,this.Cg=Math.floor((e-this.Be)/this.Be)*this.Be,this.cs=Math.ceil((i+2*this.Ae)/this.Ae)*this.Ae,this.ds=Math.ceil((n+2*this.Be)/this.Be)*this.Be,t=1+(0|Math.ceil((this.cs-this.Bg)/this.Ae)),e=1+(0|Math.ceil((this.ds-this.Cg)/this.Be)),null===this.od||this.wp<t-1||this.xp<e-1){for(i=[],n=0;n<=t;n++)i[n]=[];this.od=i,this.wp=t-1,this.xp=e-1}if(null!==this.od)for(t=0;t<=this.wp;t++)for(e=0;e<=this.xp;e++)this.od[t][e]=1e6}},Kh.u(ya,{gb:null},function(){return new S(this.Bg,this.Cg,this.cs-this.Bg,this.ds-this.Cg)}),Kh.defineProperty(ya,{Ep:null},function(){return this.Ae},function(t){0<t&&t!==this.Ae&&(this.Ae=t,this.initialize(this.gb))}),Kh.defineProperty(ya,{Cp:null},function(){return this.Be},function(t){0<t&&t!==this.Be&&(this.Be=t,this.initialize(this.gb))}),ya.prototype.aq=function(t,e,i,n){if(t>this.cs||t+i<this.Bg||e>this.ds||e+n<this.Cg)return!0;t=(t-this.Bg)/this.Ae|0,e=(e-this.Cg)/this.Be|0,i=Math.max(0,i)/this.Ae+1|0;var o=Math.max(0,n)/this.Be+1|0;if(0>t&&(i+=t,t=0),0>e&&(o+=e,e=0),0>i||0>o)return!0;for(n=0|Math.min(t+i-1,this.wp),i=0|Math.min(e+o-1,this.xp);t<=n;t++)for(o=e;o<=i;o++)if(0===this.od[t][o])return!1;return!0},Kh.ce(Sa,{Pc:!0,port:!0,fg:!0,eq:!0}),Sa.prototype.toString=function(){for(var t=this.fg,e=this.Pc.toString()+" "+t.length.toString()+":",i=0;i<t.length;i++){var n=t[i];null!==n&&(e+="\n  "+n.toString())}return e},Sa.prototype.Xp=function(){this.fg.length=0},Sa.prototype.dJ=function(t,e){return t===e?0:null===t?-1:null===e?1:t.ye<e.ye?-1:t.ye>e.ye?1:t.angle<e.angle?-1:t.angle>e.angle?1:0},Sa.prototype.computeEndSegmentLength=function(t){var e=t.link,i=e.computeEndSegmentLength(this.Pc,this.port,tu,e.Cc===this.port),n=t.Vp;if(0>n)return i;var o=t.tn;if(1>=o||!e.ac)return i;var e=t.Qx,r=t.cq;return t.ye!==Kh.Sc&&t.ye!==Kh.dd||(n=o-1-n),((t=t.ye===Kh.Sc||t.ye===Kh.ed)?e.y<r.y:e.x<r.x)?i+8*n:(t?e.y===r.y:e.x===r.x)?i:i+8*(o-1-n)},Kh.ce(Ea,{link:!0,angle:!0,ye:!0,Qx:!0,Vp:!0,tn:!0,cq:!0,jx:!0}),Ea.prototype.toString=function(){return this.link.toString()+" "+this.angle.toString()+" "+this.ye.toString()+":"+this.Vp.toString()+"/"+this.tn.toString()+" "+this.cq.toString()+" "+this.jx.toString()+" "+this.Qx.toString()},Ia.prototype.copy=function(){var t=new Ia;return t.Tj=this.Tj.S(),t.pk=this.pk.S(),t.Rj=this.Rj,t.nk=this.nk,t.Qj=this.Qj,t.mk=this.mk,t.Sj=this.Sj,t.ok=this.ok,t.vr=this.vr,t.nt=this.nt,t.wr=this.wr,t.ot=this.ot,t},Kh.Ka(Pa,js),Kh.ga("Group",Pa),Pa.prototype.cloneProtected=function(t){js.prototype.cloneProtected.call(this,t),this.ya&=-32769,t.es=this.es,t.gs=this.gs,t.tl=this.tl,t.ht=this.ht;var e=t.Mt(function(t){return t instanceof ja});t.Lb=e instanceof ja?e:null,null!==this.ke?(t.ke=this.ke.copy(),t.ke.group=t):(null!==t.ke&&(t.ke.group=null),t.ke=null)},Pa.prototype.oi=function(t){js.prototype.oi.call(this,t);var e=t.Rp();for(t=t.Oc;t.next();){var i=t.value;if(i.H(),i.J(8),i.Et(),i instanceof js)i.$f(e);else if(i instanceof Ws)for(i=i.Df;i.next();)i.value.$f(e)}},Pa.prototype.Un=function(t,e,i,n,o,r,s){if(t===gc&&"elements"===e)if(o instanceof ja){var a=o;null===this.Lb?this.Lb=a:this.Lb!==a&&Kh.k("Cannot insert a second Placeholder into the visual tree of a Group.")}else o instanceof ir&&(a=o.Mt(function(t){return t instanceof ja}))instanceof ja&&(null===this.Lb?this.Lb=a:this.Lb!==a&&Kh.k("Cannot insert a second Placeholder into the visual tree of a Group."));else t===vc&&"elements"===e&&null!==this.Lb&&(n===this.Lb?this.Lb=null:n instanceof ir&&this.Lb.am(n)&&(this.Lb=null));js.prototype.Un.call(this,t,e,i,n,o,r,s)},Pa.prototype.jj=function(t,e,i,n){this.sl=this.Lb,ir.prototype.jj.call(this,t,e,i,n)},Pa.prototype.bm=function(){if(!js.prototype.bm.call(this))return!1;for(var t=this.Oc;t.next();){var e=t.value;if(e instanceof js){if(e.isVisible()&&Jo(e))return!1}else if(e instanceof Ws&&e.isVisible()&&Jo(e)&&e.Y!==this&&e.Z!==this)return!1}return!0},Kh.u(Pa,{placeholder:"placeholder"},function(){return this.Lb}),Kh.defineProperty(Pa,{yH:"computesBoundsAfterDrag"},function(){return 0!=(2048&this.ya)},function(t){var e=0!=(2048&this.ya);e!==t&&(Kh.j(t,"boolean",Pa,"computesBoundsAfterDrag"),this.ya^=2048,this.h("computesBoundsAfterDrag",e,t))}),Kh.defineProperty(Pa,{Yw:"computesBoundsIncludingLinks"},function(){return 0!=(4096&this.ya)},function(t){Kh.j(t,"boolean",Pa,"computesBoundsIncludingLinks");var e=0!=(4096&this.ya);e!==t&&(this.ya^=4096,this.h("computesBoundsIncludingLinks",e,t))}),Kh.defineProperty(Pa,{zH:"computesBoundsIncludingLocation"},function(){return 0!=(8192&this.ya)},function(t){Kh.j(t,"boolean",Pa,"computesBoundsIncludingLocation");var e=0!=(8192&this.ya);e!==t&&(this.ya^=8192,this.h("computesBoundsIncludingLocation",e,t))}),Kh.defineProperty(Pa,{jI:"handlesDragDropForMembers"},function(){return 0!=(16384&this.ya)},function(t){Kh.j(t,"boolean",Pa,"handlesDragDropForMembers");var e=0!=(16384&this.ya);e!==t&&(this.ya^=16384,this.h("handlesDragDropForMembers",e,t))}),Kh.u(Pa,{Oc:"memberParts"},function(){return this.fs.i}),Pa.prototype.vn=function(){if(0<this.fs.count){var t=this.g;if(null!==t)for(var e=this.fs.copy().i;e.next();)t.remove(e.value)}js.prototype.vn.call(this)},Kh.defineProperty(Pa,{Tb:"layout"},function(){return this.ke},function(t){var e=this.ke;e!==t&&(null!==t&&Kh.G(t,Ra,Pa,"layout"),null!==e&&(e.g=null,e.group=null),this.ke=t,null!==t&&(t.g=this.g,t.group=this),this.h("layout",e,t))}),Kh.defineProperty(Pa,{VI:"memberAdded"},function(){return this.es},function(t){var e=this.es;e!==t&&(null!==t&&Kh.j(t,"function",Pa,"memberAdded"),this.es=t,this.h("memberAdded",e,t))}),Kh.defineProperty(Pa,{WI:"memberRemoved"},function(){return this.gs},function(t){var e=this.gs;e!==t&&(null!==t&&Kh.j(t,"function",Pa,"memberRemoved"),this.gs=t,this.h("memberRemoved",e,t))}),Kh.defineProperty(Pa,{NA:"memberValidation"},function(){return this.tl},function(t){var e=this.tl;e!==t&&(null!==t&&Kh.j(t,"function",Pa,"memberValidation"),this.tl=t,this.h("memberValidation",e,t))}),Pa.prototype.canAddMembers=function(t){var e=this.g;if(null===e)return!1;for(e=e.ob,t=de(t).i;t.next();)if(!e.isValidMember(this,t.value))return!1;return!0},Pa.prototype.addMembers=function(t,e){var i=this.g;if(null===i)return!1;for(var i=i.ob,n=!0,o=de(t).i;o.next();){var r=o.value;!e||i.isValidMember(this,r)?r.Da=this:n=!1}return n},Kh.defineProperty(Pa,{VJ:"ungroupable"},function(){return 0!=(256&this.ya)},function(t){var e=0!=(256&this.ya);e!==t&&(Kh.j(t,"boolean",Pa,"ungroupable"),this.ya^=256,this.h("ungroupable",e,t))}),Pa.prototype.canUngroup=function(){if(!this.VJ)return!1;var t=this.layer;return!(null!==t&&!t.Uw)&&!(null!==(t=t.g)&&!t.Uw)},Pa.prototype.$f=function(t){void 0===t&&(t=null);var e=0!=(65536&this.ya);if(js.prototype.$f.call(this,t),!e)for(0!=(65536&this.ya)!=!0&&(this.ya^=65536),e=this.NE();e.next();){var i=e.value;if(null===t||!t.contains(i)){var n=i.Y;null!==n&&n!==this&&n.qi(this)&&!n.isVisible()?i.$b():null!==(n=i.Z)&&n!==this&&n.qi(this)&&!n.isVisible()&&i.$b()}}},Pa.prototype.findExternalLinksConnected=Pa.prototype.NE=function(){var t=this.Rp();t.add(this);for(var e=new p(Ws),i=t.i;i.next();){var n=i.value;if(n instanceof js)for(n=n.ge;n.next();){var o=n.value;t.contains(o)||e.add(o)}}return e.i},Pa.prototype.findExternalNodesConnected=function(){var t=this.Rp();t.add(this);for(var e=new p(js),i=t.i;i.next();){var n=i.value;if(n instanceof js)for(n=n.ge;n.next();){var o=n.value,r=o.Y;t.contains(r)&&r!==this||e.add(r),o=o.Z,t.contains(o)&&o!==this||e.add(o)}}return e.i},Pa.prototype.findContainingGroupChain=function(){function t(e,i){null!==e&&(i.add(e),t(e.Da,i))}var e=new p(Pa);return t(this,e),e},Pa.prototype.findSubGraphParts=Pa.prototype.Rp=function(){var t=new p(us);return he(t,this,!0,0,!0),t.remove(this),t},Pa.prototype.yd=function(t){js.prototype.yd.call(this,t);for(var e=this.Oc;e.next();)e.value.yd(t)},Pa.prototype.collapseSubGraph=Pa.prototype.collapseSubGraph=function(){var t=this.g;if(null!==t&&!t.yh){t.yh=!0;La(this,this.Rp(),t.Oa,this),t.yh=!1}},Pa.prototype.expandSubGraph=Pa.prototype.expandSubGraph=function(){var t=this.g;if(null!==t&&!t.yh){t.yh=!0;Na(this,this.Rp(),t.Oa,this),t.yh=!1}},Kh.defineProperty(Pa,{Zc:"isSubGraphExpanded"},function(){return 0!=(512&this.ya)},function(t){var e=0!=(512&this.ya);if(e!==t){Kh.j(t,"boolean",Pa,"isSubGraphExpanded"),this.ya^=512;var i=this.g;if(this.h("isSubGraphExpanded",e,t),null!==(e=this.KJ)){var n=!0;null!==i&&(n=i.Ta,i.Ta=!0),e(this),null!==i&&(i.Ta=n)}null!==i&&i.ia.ab?null!==this.Lb&&this.Lb.H():t?this.expandSubGraph():this.collapseSubGraph()}}),Kh.defineProperty(Pa,{ty:"wasSubGraphExpanded"},function(){return 0!=(1024&this.ya)},function(t){var e=0!=(1024&this.ya);e!==t&&(Kh.j(t,"boolean",Pa,"wasSubGraphExpanded"),this.ya^=1024,this.h("wasSubGraphExpanded",e,t))}),Kh.defineProperty(Pa,{KJ:"subGraphExpandedChanged"},function(){return this.ht},function(t){var e=this.ht;e!==t&&(null!==t&&Kh.j(t,"function",Pa,"subGraphExpandedChanged"),this.ht=t,this.h("subGraphExpandedChanged",e,t))}),Pa.prototype.move=function(t){var e=this.position,i=e.x;isNaN(i)&&(i=0),e=e.y,isNaN(e)&&(e=0);var i=t.x-i,e=t.y-e,n=Kh.xb(i,e);for(js.prototype.move.call(this,t),t=this.Rp().i;t.next();){var o=t.value;if(!(o instanceof Ws||o instanceof js&&o.Af)){var r=o.position,s=o.location;r.I()?(n.x=r.x+i,n.y=r.y+e,o.position=n):s.I()&&(n.x=s.x+i,n.y=s.y+e,o.location=n)}}for(t.reset();t.next();)(o=t.value)instanceof Ws&&(o.Lf||o.Y!==this&&o.Z!==this)&&(r=o.position,n.x=r.x+i,n.y=r.y+e,o.move(n));Kh.v(n)},Kh.defineProperty(Pa,{Rn:null},function(){return 0!=(32768&this.ya)},function(t){0!=(32768&this.ya)!==t&&(this.ya^=32768)}),Kh.Ka(ja,Eo),Kh.ga("Placeholder",ja),ja.prototype.cloneProtected=function(t){Eo.prototype.cloneProtected.call(this,t),t.jf=this.jf.S(),t.Ss=this.Ss.copy()},ja.prototype.vk=function(t){if(null===this.background&&null===this.ln)return!1;var e=this.Ja;return Qh(0,0,e.width,e.height,t.x,t.y)},ja.prototype.Mn=function(){var t=this.U;if(null!==t&&(t instanceof Pa||t instanceof Ns)||Kh.k("Placeholder is not inside a Group or Adornment."),t instanceof Pa){var e=this.computeBorder(this.Ss),i=this.Uc;M(i,e.width||0,e.height||0),Oo(this,0,0,i.width,i.height);for(var i=t.Oc,n=!1;i.next();)if(i.value.isVisible()){n=!0;break}!n||isNaN(e.x)||isNaN(e.y)||(i=new w,i.Wn(e,t.Ef),t.location=new w(i.x,i.y))}else{var e=this.Ca,i=this.Uc,n=this.padding,o=n.left+n.right,r=n.top+n.bottom;if(e.I())M(i,e.width+o||0,e.height+r||0),Oo(this,-n.left,-n.top,i.width,i.height);else{var s=t.sb,a=s.Wa(iu,Kh.K()),e=Kh.lg(a.x,a.y,0,0);e.vi(s.Wa(uu,a)),e.vi(s.Wa(ou,a)),e.vi(s.Wa(lu,a)),t.Ti.m(e.x,e.y),M(i,e.width+o||0,e.height+r||0),Oo(this,-n.left,-n.top,i.width,i.height),Kh.v(a),Kh.Db(e)}}},ja.prototype.jj=function(t,e,i,n){var o=this.W;o.x=t,o.y=e,o.width=i,o.height=n},ja.prototype.computeBorder=function(t){var e=this.U;if(e instanceof Pa){var i=e;if(i.yH&&this.Ss.I()){var n=i.g;if(null!==n&&(n=n.$a)instanceof ye&&!n.pr&&null!==n.Zb&&!n.Zb.contains(i))return t.assign(this.Ss),t}}var i=Kh.If(),n=this.computeMemberBounds(i),o=this.padding;return t.m(n.x-o.left,n.y-o.top,Math.max(n.width+o.left+o.right,0),Math.max(n.height+o.top+o.bottom,0)),Kh.Db(i),e instanceof Pa&&(i=e,i.zH&&i.location.I()&&t.vi(i.location)),t},ja.prototype.computeMemberBounds=function(t){if(!(this.U instanceof Pa))return t.m(0,0,0,0),t;for(var e=this.U,i=1/0,n=1/0,o=-1/0,r=-1/0,s=e.Oc;s.next();){var a=s.value;if(a.isVisible()){if(a instanceof Ws){var l=a;if(!e.Yw)continue;if(Wo(l))continue;if(l.Y===e||l.Z===e)continue}a=a.W,a.left<i&&(i=a.left),a.top<n&&(n=a.top),a.right>o&&(o=a.right),a.bottom>r&&(r=a.bottom)}}return isFinite(i)&&isFinite(n)?t.m(i,n,o-i,r-n):(e=e.location,i=this.padding,t.m(e.x+i.left,e.y+i.top,0,0)),t},Kh.defineProperty(ja,{padding:"padding"},function(){return this.jf},function(t){"number"==typeof t?t=new O(t):Kh.G(t,O,ja,"padding");var e=this.jf;e.L(t)||(this.jf=t=t.S(),this.h("padding",e,t))}),Kh.ga("Layout",Ra),Ra.prototype.cloneProtected=function(t){t.Lr=this.Lr,t.jl=this.jl,t.Sr=this.Sr,t.Jq.assign(this.Jq),t.Pr=this.Pr,t.Nr=this.Nr,t.BC=this.BC,t.Rr=!0},Ra.prototype.copy=function(){var t=new this.constructor;return this.cloneProtected(t),t},Ra.prototype.ic=function(t){Kh.Fj(this,t)},Ra.prototype.toString=function(){var t=Kh.mf(Object.getPrototypeOf(this)),t=t+"(";return null!==this.group&&(t+=" in "+this.group),null!==this.g&&(t+=" for "+this.g),t+")"},Kh.defineProperty(Ra,{g:"diagram"},function(){return this.fa},function(t){null!==t&&Kh.G(t,Vi,Ra,"diagram"),this.fa=t}),Kh.defineProperty(Ra,{group:"group"},function(){return this.iz},function(t){this.iz!==t&&(null!==t&&Kh.G(t,Pa,Ra,"group"),this.iz=t,null!==t&&(this.fa=t.g))}),Kh.defineProperty(Ra,{BI:"isOngoing"},function(){return this.Lr},function(t){this.Lr!==t&&(Kh.j(t,"boolean",Ra,"isOngoing"),this.Lr=t)}),Kh.defineProperty(Ra,{uF:"isInitial"},function(){return this.jl},function(t){Kh.j(t,"boolean",Ra,"isInitial"),this.jl=t,t||(this.Rr=!0)}),Kh.defineProperty(Ra,{Dx:"isViewportSized"},function(){return this.Sr},function(t){this.Sr!==t&&(Kh.j(t,"boolean",Ra,"isViewportSized"),(this.Sr=t)&&this.J())}),Kh.defineProperty(Ra,{ku:"isRouting"},function(){return this.Pr},function(t){this.Pr!==t&&(Kh.j(t,"boolean",Ra,"isRouting"),this.Pr=t)}),Kh.defineProperty(Ra,{xF:"isRealtime"},function(){return this.Nr},function(t){this.Nr!==t&&(Kh.j(t,"boolean",Ra,"isRealtime"),this.Nr=t)}),Kh.defineProperty(Ra,{Cf:"isValidLayout"},function(){return this.Rr},function(t){this.Rr!==t&&(Kh.j(t,"boolean",Ra,"isValidLayout"),this.Rr=t,t||null!==(t=this.g)&&(t.tm=!0))}),Ra.prototype.invalidateLayout=Ra.prototype.J=function(){if(this.Cf){var t=this.g;if(null!==t&&!t.ia.ab){var e=t.Oa;!e.Po&&(e.pf&&e.Gh(),this.BI&&t.Gn||this.uF&&!t.Gn)&&(this.Cf=!1,t.Ne())}}},Kh.defineProperty(Ra,{network:"network"},function(){return this.wz},function(t){var e=this.wz;e!==t&&(null!==t&&Kh.G(t,Ba,Ra,"network"),null!==e&&(e.Tb=null),this.wz=t,null!==t&&(t.Tb=this))}),Ra.prototype.createNetwork=function(){return new Ba},Ra.prototype.makeNetwork=function(t){var e=this.createNetwork();return e.Tb=this,t instanceof Vi?(e.sk(t.ig,!0),e.sk(t.links,!0)):t instanceof Pa?e.sk(t.Oc):e.sk(t.i),e},Ra.prototype.updateParts=function(){var t=this.g;if(null===t&&null!==this.network)for(var e=this.network.vertexes.i;e.next();){var i=e.value.Pc;if(null!==i&&null!==(t=i.g))break}this.Cf=!0;try{null!==t&&t.Hb("Layout"),this.commitLayout()}finally{null!==t&&t.Wc("Layout")}},Ra.prototype.commitLayout=function(){for(var t=this.network.vertexes.i;t.next();)t.value.commit();if(this.ku)for(t=this.network.edges.i;t.next();)t.value.commit()},Ra.prototype.doLayout=function(t){null===t&&Kh.k("Layout.doLayout(collection) argument must not be null but a Diagram, a Group, or an Iterable of Parts");var e=new p(us);t instanceof Vi?(Fa(this,e,t.ig,!0,this.Rn,!0,!1,!0),Fa(this,e,t.Kk,!0,this.Rn,!0,!1,!0)):t instanceof Pa?Fa(this,e,t.Oc,!1,this.Rn,!0,!1,!0):e.Kc(t.i);var i=e.count;if(0<i){t=this.g,null!==t&&t.Hb("Layout");for(var i=Math.ceil(Math.sqrt(i)),n=this.qe.x,o=n,r=this.qe.y,s=0,a=0,e=e.i;e.next();){var l=e.value;l.Je();var h=l.za,u=h.width,h=h.height;l.moveTo(o,r),l instanceof Pa&&(l.Rn=!1),o+=Math.max(u,50)+20,a=Math.max(a,Math.max(h,50)),s>=i-1?(s=0,o=n,r+=a+20,a=0):s++}null!==t&&t.Wc("Layout")}this.Cf=!0},Ra.prototype.Rn=function(t){return!(t.location.I()&&!(t instanceof Pa&&t.Rn))},Ra.prototype.collectParts=Ra.prototype.rH=function(t){var e=new p(us);return t instanceof Vi?(Fa(this,e,t.ig,!0,null,!0,!0,!0),Fa(this,e,t.links,!0,null,!0,!0,!0),Fa(this,e,t.Kk,!0,null,!0,!0,!0)):t instanceof Pa?Fa(this,e,t.Oc,!1,null,!0,!0,!0):Fa(this,e,t.i,!1,null,!0,!0,!0),e},Kh.defineProperty(Ra,{qe:"arrangementOrigin"},function(){return this.Jq},function(t){Kh.G(t,w,Ra,"arrangementOrigin"),this.Jq.L(t)||(this.Jq.assign(t),this.J())}),Ra.prototype.initialOrigin=function(t){var e=this.group;if(null!==e){var i=e.position.copy();return(isNaN(i.x)||isNaN(i.y))&&i.set(t),e=e.placeholder,null!==e&&(i=e.Wa(iu),(isNaN(i.x)||isNaN(i.y))&&i.set(t),i.x+=e.padding.left,i.y+=e.padding.top),i}return t},Kh.ga("LayoutNetwork",Ba),Ba.prototype.clear=function(){if(this.vertexes)for(var t=this.vertexes.i;t.next();){var e=t.value;e.clear(),e.network=null}if(this.edges)for(t=this.edges.i;t.next();)e=t.value,e.clear(),e.network=null;this.vertexes=new p(Ga),this.edges=new p(_a),this.Nx=new b(js,Ga),this.Ix=new b(Ws,_a)},Ba.prototype.toString=function(t){void 0===t&&(t=0);var e="LayoutNetwork"+(null!==this.Tb?"("+this.Tb.toString()+")":"");if(0>=t)return e;if(e+=" vertexes: "+this.vertexes.count+" edges: "+this.edges.count,1<t){for(var i=this.vertexes.i;i.next();)e+="\n    "+i.value.toString(t-1);for(i=this.edges.i;i.next();)e+="\n    "+i.value.toString(t-1)}return e},Kh.defineProperty(Ba,{Tb:"layout"},function(){return this.ke},function(t){this.ke=t}),Ba.prototype.createVertex=function(){return new Ga},Ba.prototype.createEdge=function(){return new _a},Ba.prototype.addParts=Ba.prototype.sk=function(t,e,i){if(null!==t){for(void 0===e&&(e=!1),Kh.j(e,"boolean",Ba,"addParts:toplevelonly"),void 0===i&&(i=null),null===i&&(i=function(t){if(t instanceof js)return!t.Af;if(t instanceof Ws){var e=t.Y;return null!==e&&!e.Af&&(null!==(t=t.Z)&&!t.Af)}return!1}),t=t.i;t.next();){var n=t.value;if(n instanceof js&&(!e||n.Zp)&&n.canLayout()&&i(n))if(n instanceof Pa&&null===n.Tb)this.sk(n.Oc,!1);else if(null===this.yn(n)){var o=this.createVertex();o.Pc=n,this.Hl(o)}}for(t.reset();t.next();)if((n=t.value)instanceof Ws&&(!e||n.Zp)&&n.canLayout()&&i(n)&&null===this.lx(n)){var r=n.Y,o=n.Z;null!==r&&null!==o&&r!==o&&(r=this.findGroupVertex(r),o=this.findGroupVertex(o),null!==r&&null!==o&&this.dq(r,o,n))}}};Ba.prototype.findGroupVertex=function(t){if(null===t)return null;var e=t.findVisibleNode();if(null===e)return null;if(null!==(t=this.yn(e)))return t;for(e=e.Da;null!==e;){if(null!==(t=this.yn(e)))return t;e=e.Da}return null},Ba.prototype.addVertex=Ba.prototype.Hl=function(t){if(null!==t){this.vertexes.add(t);var e=t.Pc;null!==e&&this.Nx.add(e,t),t.network=this}},Ba.prototype.addNode=Ba.prototype.yt=function(t){if(null===t)return null;var e=this.yn(t);return null===e&&(e=this.createVertex(),e.Pc=t,this.Hl(e)),e},Ba.prototype.deleteVertex=Ba.prototype.HE=function(t){if(null!==t&&Va(this,t)){for(var e=t.Qe,i=e.count-1;0<=i;i--){var n=e.da(i);this.Mp(n)}for(e=t.Ie,i=e.count-1;0<=i;i--)n=e.da(i),this.Mp(n)}},Ba.prototype.deleteNode=function(t){null!==t&&null!==(t=this.yn(t))&&this.HE(t)},Ba.prototype.findVertex=Ba.prototype.yn=function(t){return null===t?null:this.Nx.ka(t)},Ba.prototype.addEdge=Ba.prototype.zp=function(t){if(null!==t){this.edges.add(t);var e=t.link;null!==e&&null===this.lx(e)&&this.Ix.add(e,t),e=t.toVertex,null!==e&&e.mE(t),e=t.fromVertex,null!==e&&e.kE(t),t.network=this}},Ba.prototype.addLink=function(t){if(null===t)return null;var e=t.Y,i=t.Z,n=this.lx(t);return null===n?(n=this.createEdge(),n.link=t,null!==e&&(n.fromVertex=this.yt(e)),null!==i&&(n.toVertex=this.yt(i)),this.zp(n)):(n.fromVertex=null!==e?this.yt(e):null,n.toVertex=null!==i?this.yt(i):null),n},Ba.prototype.deleteEdge=Ba.prototype.Mp=function(t){if(null!==t){var e=t.toVertex;null!==e&&e.GE(t),e=t.fromVertex,null!==e&&e.FE(t),Ha(this,t)}},Ba.prototype.deleteLink=function(t){null!==t&&null!==(t=this.lx(t))&&this.Mp(t)},Ba.prototype.findEdge=Ba.prototype.lx=function(t){return null===t?null:this.Ix.ka(t)},Ba.prototype.linkVertexes=Ba.prototype.dq=function(t,e,i){if(null===t||null===e)return null;if(t.network===this&&e.network===this){var n=this.createEdge();return n.link=i,n.fromVertex=t,n.toVertex=e,this.zp(n),n}return null},Ba.prototype.reverseEdge=Ba.prototype.by=function(t){if(null!==t){var e=t.fromVertex,i=t.toVertex;null!==e&&null!==i&&(e.FE(t),i.GE(t),t.by(),e.mE(t),i.kE(t))}},Ba.prototype.deleteSelfEdges=Ba.prototype.gx=function(){for(var t=Kh.cb(),e=this.edges.i;e.next();){var i=e.value;i.fromVertex===i.toVertex&&t.push(i)}for(e=t.length,i=0;i<e;i++)this.Mp(t[i]);Kh.ta(t)},Ba.prototype.deleteArtificialVertexes=function(){for(var t=Kh.cb(),e=this.vertexes.i;e.next();){var i=e.value;null===i.Pc&&t.push(i)}for(var i=t.length,n=0;n<i;n++)this.HE(t[n]);for(e=Kh.cb(),i=this.edges.i;i.next();)n=i.value,null===n.link&&e.push(n);for(i=e.length,n=0;n<i;n++)this.Mp(e[n]);Kh.ta(t),Kh.ta(e)},Ba.prototype.splitIntoSubNetworks=Ba.prototype.JJ=function(){this.deleteArtificialVertexes(),za(this),this.gx();for(var t=new c(Ba),e=!0;e;)for(var e=!1,i=this.vertexes.i;i.next();){var n=i.value;if(0<n.Qe.count||0<n.Ie.count){e=this.Tb.createNetwork(),t.add(e),qa(this,e,n),e=!0;break}}return t.sort(function(t,e){return null===t||null===e||t===e?0:e.vertexes.count-t.vertexes.count}),t},Ba.prototype.findAllParts=function(){for(var t=new p(us),e=this.vertexes.i;e.next();)t.add(e.value.Pc);for(e=this.edges.i;e.next();)t.add(e.value.link);return t},Kh.ga("LayoutVertex",Ga),Ga.prototype.clear=function(){this.td=this.Zd=null,this.Qe=new c(_a),this.Ie=new c(_a)},Ga.prototype.toString=function(t){void 0===t&&(t=0);var e="LayoutVertex#"+Kh.Od(this);if(0<t&&(e+=null!==this.Pc?"("+this.Pc.toString()+")":"",1<t)){t="";for(var i=!0,n=this.Qe.i;n.next();){var o=n.value;i?i=!1:t+=",",t+=o.toString(0)}for(o="",i=!0,n=this.Ie.i;n.next();){var r=n.value;i?i=!1:o+=",",o+=r.toString(0)}e+=" sources: "+t+" destinations: "+o}return e},Kh.defineProperty(Ga,{data:"data"},function(){return this.Zd},function(t){if(this.Zd=t,null!==t){var e=t.bounds;t=e.x;var i=e.y,n=e.width,e=e.height;this.T.m(n/2,e/2),this.M.m(t,i,n,e)}}),Kh.defineProperty(Ga,{Pc:"node"},function(){return this.td},function(t){if(this.td!==t){this.td=t,t.Je();var e=t.W,i=e.x,n=e.y,o=e.width,e=e.height;if(isNaN(i)&&(i=0),isNaN(n)&&(n=0),this.M.m(i,n,o,e),!(t instanceof Pa)&&(t=t.bg.Wa(su),t.I()))return void this.T.m(t.x-i,t.y-n);this.T.m(o/2,e/2)}}),Kh.defineProperty(Ga,{gb:"bounds"},function(){return this.M},function(t){this.M.L(t)||this.M.assign(t)}),Kh.defineProperty(Ga,{focus:"focus"},function(){return this.T},function(t){this.T.L(t)||this.T.assign(t)}),Kh.defineProperty(Ga,{la:"centerX"},function(){return this.M.x+this.T.x},function(t){var e=this.M;e.x+this.T.x!==t&&(e.Qa(),e.x=t-this.T.x,e.freeze())}),Kh.defineProperty(Ga,{ra:"centerY"},function(){return this.M.y+this.T.y},function(t){var e=this.M;e.y+this.T.y!==t&&(e.Qa(),e.y=t-this.T.y,e.freeze())}),Kh.defineProperty(Ga,{Ut:"focusX"},function(){return this.T.x},function(t){var e=this.T;e.x!==t&&(e.Qa(),e.x=t,e.freeze())}),Kh.defineProperty(Ga,{Vt:"focusY"},function(){return this.T.y},function(t){var e=this.T;e.y!==t&&(e.Qa(),e.y=t,e.freeze())}),Kh.defineProperty(Ga,{x:"x"},function(){return this.M.x},function(t){var e=this.M;e.x!==t&&(e.Qa(),e.x=t,e.freeze())}),Kh.defineProperty(Ga,{y:"y"},function(){return this.M.y},function(t){var e=this.M;e.y!==t&&(e.Qa(),e.y=t,e.freeze())}),Kh.defineProperty(Ga,{width:"width"},function(){return this.M.width},function(t){var e=this.M;e.width!==t&&(e.Qa(),e.width=t,e.freeze())}),Kh.defineProperty(Ga,{height:"height"},function(){return this.M.height},function(t){var e=this.M;e.height!==t&&(e.Qa(),e.height=t,e.freeze())}),Ga.prototype.commit=function(){var t=this.Zd;if(null!==t){var e=this.gb,i=t.bounds;Kh.Pa(i)?(i.x=e.x,i.y=e.y,i.width=e.width,i.height=e.height):t.bounds=e.copy()}else if(null!==(t=this.Pc)){if(e=this.gb,!(t instanceof Pa)){var i=t.W,n=t.bg.Wa(su);if(i.I()&&n.I())return void t.moveTo(e.x+this.Ut-(n.x-i.x),e.y+this.Vt-(n.y-i.y))}t.moveTo(e.x,e.y)}},Ga.prototype.addSourceEdge=Ga.prototype.mE=function(t){null!==t&&(this.Qe.contains(t)||this.Qe.add(t))},Ga.prototype.deleteSourceEdge=Ga.prototype.GE=function(t){null!==t&&this.Qe.remove(t)},Ga.prototype.addDestinationEdge=Ga.prototype.kE=function(t){null!==t&&(this.Ie.contains(t)||this.Ie.add(t))},Ga.prototype.deleteDestinationEdge=Ga.prototype.FE=function(t){null!==t&&this.Ie.remove(t)},Kh.u(Ga,{IJ:"sourceVertexes"},function(){for(var t=new p(Ga),e=this.mc;e.next();)t.add(e.value.fromVertex);return t.i}),Kh.u(Ga,{MH:"destinationVertexes"},function(){for(var t=new p(Ga),e=this.kc;e.next();)t.add(e.value.toVertex);return t.i}),Kh.u(Ga,{vertexes:"vertexes"},function(){for(var t=new p(Ga),e=this.mc;e.next();)t.add(e.value.fromVertex);for(e=this.kc;e.next();)t.add(e.value.toVertex);return t.i}),Kh.u(Ga,{mc:"sourceEdges"},function(){return this.Qe.i}),Kh.u(Ga,{kc:"destinationEdges"},function(){return this.Ie.i}),Kh.u(Ga,{edges:"edges"},function(){for(var t=new c(_a),e=this.mc;e.next();)t.add(e.value);for(e=this.kc;e.next();)t.add(e.value);return t.i}),Kh.u(Ga,{RH:"edgesCount"},function(){return this.Qe.count+this.Ie.count});var ef;Ga.standardComparer=ef=function(t,e){var i=t.td,n=e.td;return i?n?(i=i.text,n=n.text,i<n?-1:i>n?1:0):1:null!==n?-1:0},Ga.smartComparer=function(t,e){if(null!==t){if(null!==e){var i=t.td,n=e.td;if(null!==i){if(null!==n){for(var i=i.text.toLocaleLowerCase().split(/([+\-]?[\.]?\d+(?:\.\d*)?(?:e[+\-]?\d+)?)/),n=n.text.toLocaleLowerCase().split(/([+\-]?[\.]?\d+(?:\.\d*)?(?:e[+\-]?\d+)?)/),o=0;o<i.length;o++)if(""!==n[o]&&void 0!==n[o]){var r=parseFloat(i[o]),s=parseFloat(n[o]);if(isNaN(r)){if(!isNaN(s))return 1;if(0!==i[o].localeCompare(n[o]))return i[o].localeCompare(n[o])}else{if(isNaN(s))return-1;if(0!=r-s)return r-s}}else if(""!==i[o])return 1;return""!==n[o]&&void 0!==n[o]?-1:0}return 1}return null!==n?-1:0}return 1}return null!==e?-1:0},Kh.ga("LayoutEdge",_a),_a.prototype.clear=function(){this.toVertex=this.fromVertex=this.link=this.data=null},_a.prototype.toString=function(t){void 0===t&&(t=0);var e="LayoutEdge#"+Kh.Od(this);return 0<t&&(e+=null!==this.link?"("+this.link.toString()+")":"",1<t&&(e+=" "+(this.fromVertex?this.fromVertex.toString():"null")+" --\x3e "+(this.toVertex?this.toVertex.toString():"null"))),e},_a.prototype.by=function(){var t=this.fromVertex;this.fromVertex=this.toVertex,this.toVertex=t},_a.prototype.commit=function(){},_a.prototype.getOtherVertex=_a.prototype.aI=function(t){return this.toVertex===t?this.fromVertex:this.fromVertex===t?this.toVertex:null},Kh.Ka(Ua,Ra),Kh.ga("GridLayout",Ua),Ua.prototype.cloneProtected=function(t){Ra.prototype.cloneProtected.call(this,t),t.ut=this.ut,t.tt=this.tt,t.Kj.assign(this.Kj),t.ei.assign(this.ei),t.ie=this.ie,t.nd=this.nd,t.di=this.di,t.Mh=this.Mh},Ua.prototype.ic=function(t){t.Ee===Ua?t===uf||t===cf||t===lf||t===hf?this.sorting=t:t===sf||t===af?this.Vf=t:t===rf||t===of?this.alignment=t:Kh.k("Unknown enum value: "+t):Ra.prototype.ic.call(this,t)},Ua.prototype.doLayout=function(t){null===t&&Kh.k("Layout.doLayout(collection) argument must not be null but a Diagram, a Group, or an Iterable of Parts"),this.qe=this.initialOrigin(this.qe);var e=this.g;t=this.rH(t);for(var i=t.copy().i;i.next();){var n=i.value;if(n instanceof Ws){var o=n;if(null!==o.Y||null!==o.Z){t.remove(o);continue}}if(n.Je(),n instanceof Pa)for(n=n.Oc;n.next();)t.remove(n.value)}if(o=t.gc(),0!==o.length){switch(this.sorting){case hf:o.reverse();break;case uf:o.sort(this.comparer);break;case cf:o.sort(this.comparer),o.reverse()}var r=this.ZJ;isNaN(r)&&(r=0);var s=this.GG,s=isNaN(s)&&null!==e?Math.max(e.qb.width-e.padding.left-e.padding.right,0):Math.max(this.GG,0);switch(0>=r&&0>=s&&(r=1),t=this.spacing.width,isFinite(t)||(t=0),i=this.spacing.height,isFinite(i)||(i=0),null!==e&&e.Hb("Layout"),n=[],this.alignment){case of:var a=t,l=i,h=Math.max(this.Dp.width,1);if(!isFinite(h))for(var u=h=0;u<o.length;u++)var c=o[u],d=c.za,h=Math.max(h,d.width);var h=Math.max(h+a,1),p=Math.max(this.Dp.height,1);if(!isFinite(p))for(u=p=0;u<o.length;u++)c=o[u],d=c.za,p=Math.max(p,d.height);for(var p=Math.max(p+l,1),f=this.Vf,y=this.qe.x,g=y,v=this.qe.y,m=0,b=0,u=0;u<o.length;u++){var c=o[u],d=c.za,x=Math.ceil((d.width+a)/h)*h,C=Math.ceil((d.height+l)/p)*p,k=0;switch(f){case af:k=Math.abs(g-d.width);break;default:k=g+d.width}switch((0<r&&m>r-1||0<s&&0<m&&k>s)&&(n.push(new S(0,v,s+a,b)),m=0,g=y,v+=b,b=0),b=Math.max(b,C),C=0,f){case af:C=-d.width;break;default:C=0}switch(c.moveTo(g+C,v),f){case af:g-=x;break;default:g+=x}m++}n.push(new S(0,v,s+a,b));break;case rf:for(a=r,l=t,h=i,u=Math.max(this.Dp.width,1),c=v=x=0,d=Kh.K(),r=0;r<o.length;r++)p=o[r],f=p.za,y=ys(p,p.bg,p.Ef,d),x=Math.max(x,y.x),v=Math.max(v,f.width-y.x),c=Math.max(c,y.y);switch(g=this.Vf){case af:x+=l;break;default:v+=l}var u=isFinite(u)?Math.max(u+l,1):Math.max(x+v,1),M=v=this.qe.x,m=this.qe.y,b=0;s>=x&&(s-=x);for(var x=C=0,k=Math.max(this.Dp.height,1),T=c=0,E=!0,I=Kh.K(),r=0;r<o.length;r++){if(p=o[r],f=p.za,y=ys(p,p.bg,p.Ef,d),0<b)switch(g){case af:M=(M-v-(f.width-y.x))/u,M=Y(Math.round(M),M)?Math.round(M):Math.floor(M),M=M*u+v;break;default:M=(M-v+y.x)/u,M=Y(Math.round(M),M)?Math.round(M):Math.ceil(M),M=M*u+v}else switch(g){case af:C=M+y.x+f.width;break;default:C=M-y.x}var P=0;switch(g){case af:P=-(M+y.x)+C;break;default:P=M+f.width-y.x-C}if(0<a&&b>a-1||0<s&&0<b&&P>s){for(n.push(new S(0,E?m-c:m,s+l,T+c+h)),M=0;M<b&&r!==b;M++){var P=o[r-b+M],D=ys(P,P.bg,P.Ef,I);P.moveTo(P.position.x,P.position.y+c-D.y)}T+=h,m=E?m+T:m+(T+c),b=T=c=0,M=v,E=!1}switch(M===v&&(x=g===af?Math.max(x,f.width-y.x):Math.min(x,-y.x)),c=Math.max(c,y.y),T=Math.max(T,f.height-y.y),isFinite(k)&&(T=Math.max(T,Math.max(f.height,k)-y.y)),E?p.moveTo(M-y.x,m-y.y):p.moveTo(M-y.x,m),g){case af:M-=y.x+l;break;default:M+=f.width-y.x+l}b++}for(n.push(new S(0,m,s+l,(E?T:T+c)+h)),M=0;M<b&&r!==b;M++)P=o[r-b+M],D=ys(P,P.bg,P.Ef,d),P.moveTo(P.position.x,P.position.y+c-D.y);if(Kh.v(d),Kh.v(I),g===af)for(r=0;r<n.length;r++)o=n[r],o.width+=x,o.x-=x;else for(r=0;r<n.length;r++)o=n[r],o.x>x&&(o.width+=o.x-x,o.x=x)}for(a=r=s=o=0;a<n.length;a++)l=n[a],o=Math.min(o,l.x),s=Math.min(s,l.y),r=Math.max(r,l.x+l.width);this.Vf===af?this.commitLayers(n,new w(o+t/2-(r+o),s-i/2)):this.commitLayers(n,new w(o-t/2,s-i/2)),null!==e&&e.Wc("Layout"),this.Cf=!0}},Ua.prototype.commitLayers=function(){},Kh.defineProperty(Ua,{GG:"wrappingWidth"},function(){return this.ut},function(t){this.ut!==t&&(Kh.j(t,"number",Ua,"wrappingWidth"),0<t||isNaN(t))&&(this.ut=t,this.Dx=isNaN(t),this.J())}),Kh.defineProperty(Ua,{ZJ:"wrappingColumn"},function(){return this.tt},function(t){this.tt!==t&&(Kh.j(t,"number",Ua,"wrappingColumn"),0<t||isNaN(t))&&(this.tt=t,this.J())}),Kh.defineProperty(Ua,{Dp:"cellSize"},function(){return this.Kj},function(t){Kh.G(t,k,Ua,"cellSize"),this.Kj.L(t)||(this.Kj.assign(t),this.J())}),Kh.defineProperty(Ua,{spacing:"spacing"},function(){return this.ei},function(t){Kh.G(t,k,Ua,"spacing"),this.ei.L(t)||(this.ei.assign(t),this.J())}),Kh.defineProperty(Ua,{alignment:"alignment"},function(){return this.ie},function(t){this.ie!==t&&(Kh.mb(t,Ua,Ua,"alignment"),t===rf||t===of)&&(this.ie=t,this.J())}),Kh.defineProperty(Ua,{Vf:"arrangement"},function(){return this.nd},function(t){this.nd!==t&&(Kh.mb(t,Ua,Ua,"arrangement"),t===sf||t===af)&&(this.nd=t,this.J())}),Kh.defineProperty(Ua,{sorting:"sorting"},function(){return this.di},function(t){this.di!==t&&(Kh.mb(t,Ua,Ua,"sorting"),t===lf||t===hf||t===uf||t===cf)&&(this.di=t,this.J())}),Kh.defineProperty(Ua,{comparer:"comparer"},function(){return this.Mh},function(t){this.Mh!==t&&(Kh.j(t,"function",Ua,"comparer"),this.Mh=t,this.J())});var nf;Ua.standardComparer=nf=function(t,e){var i=t.text,n=e.text;return i<n?-1:i>n?1:0},Ua.smartComparer=function(t,e){if(null!==t){if(null!==e){for(var i=t.text.toLocaleLowerCase().split(/([+\-]?[\.]?\d+(?:\.\d*)?(?:e[+\-]?\d+)?)/),n=e.text.toLocaleLowerCase().split(/([+\-]?[\.]?\d+(?:\.\d*)?(?:e[+\-]?\d+)?)/),o=0;o<i.length;o++)if(""!==n[o]&&void 0!==n[o]){var r=parseFloat(i[o]),s=parseFloat(n[o]);if(isNaN(r)){if(!isNaN(s))return 1;if(0!==i[o].localeCompare(n[o]))return i[o].localeCompare(n[o])}else{if(isNaN(s))return-1;if(0!=r-s)return r-s}}else if(""!==i[o])return 1;return""!==n[o]&&void 0!==n[o]?-1:0}return 1}return null!==e?-1:0};var of;Ua.Position=of=Kh.p(Ua,"Position",0);var rf;Ua.Location=rf=Kh.p(Ua,"Location",1);var sf;Ua.LeftToRight=sf=Kh.p(Ua,"LeftToRight",2);var af;Ua.RightToLeft=af=Kh.p(Ua,"RightToLeft",3);var lf;Ua.Forward=lf=Kh.p(Ua,"Forward",4);var hf;Ua.Reverse=hf=Kh.p(Ua,"Reverse",5);var uf;Ua.Ascending=uf=Kh.p(Ua,"Ascending",6);var cf;Ua.Descending=cf=Kh.p(Ua,"Descending",7),Kh.Ka(Ka,Ra),Kh.ga("CircularLayout",Ka),Ka.prototype.cloneProtected=function(t){Ra.prototype.cloneProtected.call(this,t),t.Gs=this.Gs,t.Lq=this.Lq,t.gt=this.gt,t.it=this.it,t.nd=this.nd,t.aa=this.aa,t.di=this.di,t.Mh=this.Mh,t.ei=this.ei,t.us=this.us},Ka.prototype.ic=function(t){t.Ee===Ka?t===Cf||t===kf||t===wf||t===xf||t===Sf?this.sorting=t:t===mf||t===bf||t===gf||t===vf?this.direction=t:t===ff||t===pf||t===df||t===yf?this.Vf=t:t!==Tf&&t!==Mf||(this.Mx=t):Ra.prototype.ic.call(this,t)},Ka.prototype.createNetwork=function(){return new rl},Ka.prototype.doLayout=function(t){if(null===t&&Kh.k("Layout.doLayout(collection) argument must not be null but a Diagram, a Group, or an Iterable of Parts"),null===this.network&&(this.network=this.makeNetwork(t)),this.qe=this.initialOrigin(this.qe),t=this.network.vertexes,1>=t.count)1===t.count&&(t=t.first(),t.la=0,t.ra=0);else{var e=new c(sl);e.Kc(t.i),t=new c(sl);var i,n=new c(sl);i=this.sort(e);var o=this.Zy,r=this.HC,s=this.Cd,a=this.Bo,l=this.$y,h=this.qr,e=this.cl,u=this.YD,d=this.Uf,p=this.lv,o=this.Vf,r=this.Mx,s=this.jJ;if((!isFinite(s)||0>=s)&&(s=NaN),a=this.lH,(!isFinite(a)||0>=a)&&(a=1),l=this.ze,isFinite(l)||(l=0),h=this.sf,(!isFinite(h)||360<h||1>h)&&(h=360),e=this.spacing,isFinite(e)||(e=NaN),o===yf&&r===Tf?o=df:o===yf&&r!==Tf&&(r=Tf,o=this.Vf),(this.direction===mf||this.direction===bf)&&this.sorting!==Sf){for(var f=0;!(f>=i.length)&&(t.add(i.da(f)),!(f+1>=i.length));f+=2)n.add(i.da(f+1));this.direction===mf?(this.Vf===yf&&t.reverse(),i=new c(sl),i.Kc(t),i.Kc(n)):(this.Vf===yf&&n.reverse(),i=new c(sl),i.Kc(n),i.Kc(t))}for(var y=i.length,g=u=0,f=0;f<i.length;f++){var d=l+h*g*(this.direction===gf?1:-1)/y,v=i.da(f).diameter;isNaN(v)&&(v=al(i.da(f),d)),360>h&&(0===f||f===i.length-1)&&(v/=2),u+=v,g++}if(isNaN(s)||o===yf){if(isNaN(e)&&(e=6),o!==df&&o!==yf){for(v=-1/0,f=0;f<y;f++){var p=i.da(f),m=i.da(f===y-1?0:f+1);isNaN(p.diameter)&&al(p,0),isNaN(m.diameter)&&al(m,0),v=Math.max(v,(p.diameter+m.diameter)/2)}p=v+e,o===ff?(d=2*Math.PI/y,s=(v+e)/d):s=il(this,p*(360<=h?y:y-1),a,l*Math.PI/180,h*Math.PI/180)}else s=il(this,u+(360<=h?y:y-1)*(o!==yf?e:1.6*e),a,l*Math.PI/180,h*Math.PI/180);d=s*a}else if(d=s*a,g=el(this,s,d,l*Math.PI/180,h*Math.PI/180),isNaN(e))o!==df&&o!==yf||(e=(g-u)/(360<=h?y:y-1));else if(o===df||o===yf)f=(g-u)/(360<=h?y:y-1),f<e?(s=il(this,u+e*(360<=h?y:y-1),a,l*Math.PI/180,h*Math.PI/180),d=s*a):e=f;else{for(v=-1/0,f=0;f<y;f++)p=i.da(f),m=i.da(f===y-1?0:f+1),isNaN(p.diameter)&&al(p,0),isNaN(m.diameter)&&al(m,0),v=Math.max(v,(p.diameter+m.diameter)/2);p=v+e,f=il(this,p*(360<=h?y:y-1),a,l*Math.PI/180,h*Math.PI/180),f>s?(s=f,d=s*a):p=g/(360<=h?y:y-1)}if(this.Zy=o,this.HC=r,this.Cd=s,this.Bo=a,this.$y=l,this.qr=h,this.cl=e,this.YD=u,this.Uf=d,this.lv=p,e=i,i=this.Zy,o=this.Cd,r=this.$y,a=this.qr,l=this.cl,h=this.Uf,u=this.lv,this.direction!==mf&&this.direction!==bf||i!==yf)if(this.direction===mf||this.direction===bf){switch(s=0,i){case pf:s=180*nl(this,o,h,r,u)/Math.PI;break;case df:u=e=0,s=t.first(),null!==s&&(e=al(s,Math.PI/2)),s=n.first(),null!==s&&(u=al(s,Math.PI/2)),s=180*nl(this,o,h,r,l+(e+u)/2)/Math.PI;break;case ff:s=a/e.length}if(this.direction===mf){switch(i){case pf:Ya(this,t,r,vf);break;case df:Wa(this,t,r,vf);break;case ff:$a(this,t,a/2,r,vf)}switch(i){case pf:Ya(this,n,r+s,gf);break;case df:Wa(this,n,r+s,gf);break;case ff:$a(this,n,a/2,r+s,gf)}}else{switch(i){case pf:Ya(this,n,r,vf);break;case df:Wa(this,n,r,vf);break;case ff:$a(this,n,a/2,r,vf)}switch(i){case pf:Ya(this,t,r+s,gf);break;case df:Wa(this,t,r+s,gf);break;case ff:$a(this,t,a/2,r+s,gf)}}}else switch(i){case pf:Ya(this,e,r,this.direction);break;case df:Wa(this,e,r,this.direction);break;case ff:$a(this,e,a,r,this.direction);break;case yf:Ja(this,e,a,r,this.direction)}else Ja(this,e,a,r-a/2,gf)}this.updateParts(),this.network=null,this.Cf=!0},Ka.prototype.commitLayout=function(){this.commitNodes(),this.ku&&this.commitLinks()},Ka.prototype.commitNodes=function(){var t=this.cH,e=null!==this.group&&null!==this.group.placeholder&&this.group.Zc,i=e?this.group.location.copy():null;e?t=new w(0,0):(t.x=this.qe.x+this.Cd,t.y=this.qe.y+this.Uf);for(var n=this.network.vertexes.i;n.next();){var o=n.value;o.x+=t.x,o.y+=t.y,o.commit()}e&&(this.group.Je(),t=this.group.position.copy(),e=this.group.location.copy(),i=i.Ej(e.Ej(t)),this.group.move(i),this.SB=i.Ej(t))},Ka.prototype.commitLinks=function(){for(var t=this.network.edges.i;t.next();)t.value.commit()},Ka.prototype.sort=function(t){switch(this.sorting){case wf:break;case xf:t.reverse();break;case Cf:t.sort(this.comparer);break;case kf:t.sort(this.comparer),t.reverse();break;case Sf:for(var e=[],i=0;i<t.length;i++)e.push(0);for(var n=new c(sl),i=0;i<t.length;i++){var o=-1,r=-1;if(0===i)for(var s=0;s<t.length;s++){var a=t.da(s).RH;a>o&&(o=a,r=s)}else for(s=0;s<t.length;s++)(a=e[s])>o&&(o=a,r=s);for(n.add(t.da(r)),e[r]=-1,r=t.da(r),o=0,s=r.mc;s.next();)0>(o=t.indexOf(s.value.fromVertex))||0<=e[o]&&e[o]++;for(r=r.kc;r.next();)0>(o=t.indexOf(r.value.toVertex))||0<=e[o]&&e[o]++}for(t=[],r=0;r<n.length;r++){e=n.da(r),t[r]=[];for(var l=0,i=e.kc;i.next();)(l=n.indexOf(i.value.toVertex))!==r&&0>t[r].indexOf(l)&&t[r].push(l);for(e=e.mc;e.next();)(l=n.indexOf(e.value.fromVertex))!==r&&0>t[r].indexOf(l)&&t[r].push(l)}for(s=[],r=0;r<t.length;r++)s[r]=0;for(var e=[],a=[],h=[],i=[],o=new c(sl),u=0,r=0;r<t.length;r++){var d=t[r].length;if(1===d)i.push(r);else if(0===d)o.add(n.da(r));else{if(0===u)e.push(r);else{for(var p=1/0,f=1/0,y=-1,g=[],d=0;d<e.length;d++)0>t[e[d]].indexOf(e[d===e.length-1?0:d+1])&&g.push(d===e.length-1?0:d+1);if(0===g.length)for(d=0;d<e.length;d++)g.push(d);for(d=0;d<g.length;d++){var v,m=g[d],l=t[r];v=a;for(var b=h,w=s,x=m,C=e,k=0,S=0;S<v.length;S++){var M=w[v[S]],T=w[b[S]],E=0,I=0;if(M<T?(E=M,I=T):(E=T,I=M),E<x&&x<=I)for(M=0;M<l.length;M++)T=l[M],0>C.indexOf(T)||E<w[T]&&w[T]<I||E===w[T]||I===w[T]||k++;else for(M=0;M<l.length;M++)T=l[M],0>C.indexOf(T)||E<w[T]&&w[T]<I&&E!==w[T]&&I!==w[T]&&k++}for(v=k,w=b=0;w<t[r].length;w++)0<=(l=e.indexOf(t[r][w]))&&(l=Math.abs(m-(l>=m?l+1:l)),b+=l<e.length+1-l?l:e.length+1-l);for(w=0;w<a.length;w++)l=s[a[w]],x=s[h[w]],l>=m&&l++,x>=m&&x++,l>x&&(C=x,x=l,l=C),x-l<(e.length+2)/2==(l<m&&m<=x)&&b++;(v<p||v===p&&b<f)&&(p=v,f=b,y=m)}for(e.splice(y,0,r),d=0;d<e.length;d++)s[e[d]]=d;for(d=0;d<t[r].length;d++)p=t[r][d],0<=e.indexOf(p)&&(a.push(r),h.push(p))}u++}}for(r=!1,s=e.length;;){for(r=!0,a=0;a<i.length;a++)if(h=i[a],u=t[h][0],0<=(l=e.indexOf(u))){for(f=d=0;f<t[u].length;f++)p=t[u][f],0>(p=e.indexOf(p))||p===l||(y=p>l?p-l:l-p,d+=p<l!=y>s-y?1:-1);e.splice(0>d?l:l+1,0,h),i.splice(a,1),a--}else r=!1;if(r)break;e.push(i[0]),i.splice(0,1)}for(r=0;r<e.length;r++)o.add(n.da(e[r]));return o;default:Kh.k("Invalid sorting type.")}return t},Kh.defineProperty(Ka,{jJ:"radius"},function(){return this.Gs},function(t){this.Gs!==t&&(Kh.j(t,"number",Ka,"radius"),0<t||isNaN(t))&&(this.Gs=t,this.J())}),Kh.defineProperty(Ka,{lH:"aspectRatio"},function(){return this.Lq},function(t){this.Lq!==t&&(Kh.j(t,"number",Ka,"aspectRatio"),0<t&&(this.Lq=t,this.J()))}),Kh.defineProperty(Ka,{ze:"startAngle"},function(){return this.gt},function(t){this.gt!==t&&(Kh.j(t,"number",Ka,"startAngle"),this.gt=t,this.J())}),Kh.defineProperty(Ka,{sf:"sweepAngle"},function(){return this.it},function(t){this.it!==t&&(Kh.j(t,"number",Ka,"sweepAngle"),this.it=0<t&&360>=t?t:360,this.J())}),Kh.defineProperty(Ka,{Vf:"arrangement"},function(){return this.nd},function(t){this.nd!==t&&(Kh.mb(t,Ka,Ka,"arrangement"),t===yf||t===df||t===pf||t===ff)&&(this.nd=t,this.J())}),Kh.defineProperty(Ka,{direction:"direction"},function(){return this.aa},function(t){this.aa!==t&&(Kh.mb(t,Ka,Ka,"direction"),t===gf||t===vf||t===mf||t===bf)&&(this.aa=t,this.J())}),Kh.defineProperty(Ka,{sorting:"sorting"},function(){return this.di},function(t){this.di!==t&&(Kh.mb(t,Ka,Ka,"sorting"),t===wf||t===xf||t===Cf||kf||t===Sf)&&(this.di=t,this.J())}),Kh.defineProperty(Ka,{comparer:"comparer"},function(){return this.Mh},function(t){this.Mh!==t&&(Kh.j(t,"function",Ka,"comparer"),this.Mh=t,this.J())}),Kh.defineProperty(Ka,{spacing:"spacing"},function(){return this.ei},function(t){this.ei!==t&&(Kh.j(t,"number",Ka,"spacing"),this.ei=t,this.J())}),Kh.defineProperty(Ka,{Mx:"nodeDiameterFormula"},function(){return this.us},function(t){this.us!==t&&(Kh.mb(t,Ka,Ka,"nodeDiameterFormula"),t===Mf||t===Tf)&&(this.us=t,this.J())}),Kh.u(Ka,{bK:"actualXRadius"},function(){return this.Cd}),Kh.u(Ka,{cK:"actualYRadius"},function(){return this.Uf}),Kh.u(Ka,{aK:"actualSpacing"},function(){return this.cl}),Kh.u(Ka,{cH:"actualCenter"},function(){return this.SB});var df;Ka.ConstantSpacing=df=Kh.p(Ka,"ConstantSpacing",0);var pf;Ka.ConstantDistance=pf=Kh.p(Ka,"ConstantDistance",1);var ff;Ka.ConstantAngle=ff=Kh.p(Ka,"ConstantAngle",2);var yf;Ka.Packed=yf=Kh.p(Ka,"Packed",3);var gf;Ka.Clockwise=gf=Kh.p(Ka,"Clockwise",4);var vf;Ka.Counterclockwise=vf=Kh.p(Ka,"Counterclockwise",5);var mf;Ka.BidirectionalLeft=mf=Kh.p(Ka,"BidirectionalLeft",6);var bf;Ka.BidirectionalRight=bf=Kh.p(Ka,"BidirectionalRight",7);var wf;Ka.Forwards=wf=Kh.p(Ka,"Forwards",8);var xf;Ka.Reverse=xf=Kh.p(Ka,"Reverse",9);var Cf;Ka.Ascending=Cf=Kh.p(Ka,"Ascending",10);var kf;Ka.Descending=kf=Kh.p(Ka,"Descending",11);var Sf;Ka.Optimized=Sf=Kh.p(Ka,"Optimized",12);var Mf;Ka.Pythagorean=Mf=Kh.p(Ka,"Pythagorean",13);var Tf;Ka.Circular=Tf=Kh.p(Ka,"Circular",14),ol.prototype.compare=function(t,e){if(0<t&&0>this.Sp||Math.abs(t)<Math.abs(this.Sp)&&!(0>t&&0<this.Sp)){this.Sp=t,this.co=[],this.zq=[];for(var i=0;i<e.length;i++)this.co[i]=e[i].gb.x,this.zq[i]=e[i].gb.y}},ol.prototype.commit=function(t){if(null!==this.co&&null!==this.zq)for(var e=0;e<this.co.length;e++){var i=t.da(e);i.x=this.co[e],i.y=this.zq[e]}},Kh.Ka(rl,Ba),Kh.ga("CircularNetwork",rl),rl.prototype.createVertex=function(){return new sl},rl.prototype.createEdge=function(){return new ll},Kh.Ka(sl,Ga),Kh.ga("CircularVertex",sl),Kh.Ka(ll,_a),Kh.ga("CircularEdge",ll),Kh.Ka(hl,Ra),Kh.ga("ForceDirectedLayout",hl),hl.prototype.cloneProtected=function(t){Ra.prototype.cloneProtected.call(this,t),t.ng.assign(this.ng),t.Kq=this.Kq,t.ci=this.ci,t.Lh=this.Lh,t.Yo=this.Yo,t.tr=this.tr,t.Rh=this.Rh,t.Hs=this.Hs,t.yo=this.yo,t.xo=this.xo,t.vo=this.vo,t.wo=this.wo,t.hr=this.hr,t.gr=this.gr},hl.prototype.createNetwork=function(){return new wl},hl.prototype.doLayout=function(t){if(null===t&&Kh.k("Layout.doLayout(collection) argument must not be null but a Diagram, a Group, or an Iterable of Parts"),null===this.network&&(this.network=this.makeNetwork(t)),t=this.MA,0<this.network.vertexes.count){this.network.gx();for(var e=this.network.vertexes.i;e.next();){var i=e.value;i.charge=this.electricalCharge(i),i.mass=this.gravitationalMass(i)}for(e=this.network.edges.i;e.next();)i=e.value,i.stiffness=this.springStiffness(i),i.length=this.springLength(i);if(this.Tz(),this.Ur=0,this.needsClusterLayout()){for(e=this.network,i=e.JJ().i;i.next();){this.network=i.value;for(var n=this.network.vertexes.i;n.next();){var o=n.value;o.jg=o.vertexes.count,o.Jk=1,o.pn=null,o.Fh=null}ul(this,0,t)}this.network=e,i.reset();for(var n=this.rE,r=i.count,s=!0,a=o=0,l=Kh.cb(),h=0;h<r+e.vertexes.count+2;h++)l[h]=null;r=0,i.reset();for(var u=Kh.If();i.next();)if(h=i.value,this.uh(h,u),s)s=!1,o=u.x+u.width/2,a=u.y+u.height/2,l[0]=new w(u.x+u.width+n.width,u.y),l[1]=new w(u.x,u.y+u.height+n.height),r=2;else{var c=yl(l,r,o,a,u.width,u.height,n),d=l[c],p=new w(d.x+u.width+n.width,d.y),f=new w(d.x,d.y+u.height+n.height);for(c+1<r&&l.splice(c+1,0,null),l[c]=p,l[c+1]=f,r++,c=d.x-u.x,d=d.y-u.y,h=h.vertexes.i;h.next();)p=h.value,p.la+=c,p.ra+=d}for(Kh.Db(u),h=e.vertexes.i;h.next();)s=h.value,u=s.gb,2>r?(o=u.x+u.width/2,a=u.y+u.height/2,l[0]=new w(u.x+u.width+n.width,u.y),l[1]=new w(u.x,u.y+u.height+n.height),r=2):(c=yl(l,r,o,a,u.width,u.height,n),d=l[c],p=new w(d.x+u.width+n.width,d.y),f=new w(d.x,d.y+u.height+n.height),c+1<r&&l.splice(c+1,0,null),l[c]=p,l[c+1]=f,r++,s.la=d.x+s.width/2,s.ra=d.y+s.height/2);for(Kh.ta(l),i.reset();i.next();){for(n=i.value,o=n.vertexes.i;o.next();)e.Hl(o.value);for(n=n.edges.i;n.next();)e.zp(n.value)}}vl(this,t),this.updateParts()}this.Yo=t,this.network=null,this.Cf=!0},hl.prototype.needsClusterLayout=function(){if(3>this.network.vertexes.count)return!1;for(var t=0,e=0,i=this.network.vertexes.first().gb,n=this.network.vertexes.i;n.next();){if(n.value.gb.Zf(i)&&2<++t)return!0;if(10<e)break;e++}return!1},hl.prototype.uh=function(t,e){for(var i=!0,n=t.vertexes.i;n.next();){var o=n.value;i?(i=!1,e.set(o.gb)):e.Jh(o.gb)}return e},hl.prototype.Tz=function(){if(this.comments)for(var t=this.network.vertexes.i;t.next();)this.addComments(t.value)},hl.prototype.addComments=function(t){var e=t.Pc;if(null!==e)for(e=e.PE();e.next();){var i=e.value;if("Comment"===i.vd&&i.isVisible()){var n=this.network.yn(i);null===n&&(n=this.network.yt(i)),n.charge=this.HH;for(var i=null,o=n.kc;o.next();){var r=o.value;if(r.toVertex===t){i=r;break}}if(null===i)for(o=n.mc;o.next();)if(r=o.value,r.fromVertex===t){i=r;break}null===i&&(i=this.network.dq(t,n,null)),i.length=this.IH}}},hl.prototype.moveFixedVertex=function(){},hl.prototype.commitLayout=function(){this.mB(),this.commitNodes(),this.ku&&this.commitLinks()},hl.prototype.mB=function(){if(this.sq)for(var t=this.network.edges.i;t.next();){var e=t.value.link;null!==e&&(e.Ab=eu,e.Bb=eu)}},hl.prototype.commitNodes=function(){var t=0,e=0;if(this.kH){var i=Kh.If();this.uh(this.network,i),e=this.qe,t=e.x-i.x,e=e.y-i.y,Kh.Db(i)}for(var i=Kh.If(),n=this.network.vertexes.i;n.next();){var o=n.value;0===t&&0===e||(i.assign(o.gb),i.x+=t,i.y+=e,o.gb=i),o.commit()}Kh.Db(i)},hl.prototype.commitLinks=function(){for(var t=this.network.edges.i;t.next();)t.value.commit()},hl.prototype.springStiffness=function(t){return t=t.stiffness,isNaN(t)?this.yo:t},hl.prototype.springLength=function(t){return t=t.length,isNaN(t)?this.xo:t},hl.prototype.electricalCharge=function(t){return t=t.charge,isNaN(t)?this.vo:t},hl.prototype.electricalFieldX=function(){return 0},hl.prototype.electricalFieldY=function(){return 0},hl.prototype.gravitationalMass=function(t){return t=t.mass,isNaN(t)?this.wo:t},hl.prototype.gravitationalFieldX=function(){return 0},hl.prototype.gravitationalFieldY=function(){return 0},hl.prototype.isFixed=function(t){return t.isFixed},Kh.u(hl,{HK:"currentIteration"},function(){return this.Ur}),Kh.defineProperty(hl,{rE:"arrangementSpacing"},function(){return this.ng},function(t){Kh.G(t,k,hl,"arrangementSpacing"),this.ng.L(t)||(this.ng.assign(t),this.J())}),Kh.defineProperty(hl,{kH:"arrangesToOrigin"},function(){return this.Kq},function(t){this.Kq!==t&&(Kh.j(t,"boolean",hl,"arrangesToOrigin"),this.Kq=t,this.J())}),Kh.defineProperty(hl,{sq:"setsPortSpots"},function(){return this.ci},function(t){this.ci!==t&&(Kh.j(t,"boolean",hl,"setsPortSpots"),this.ci=t,this.J())}),Kh.defineProperty(hl,{comments:"comments"},function(){return this.Lh},function(t){this.Lh!==t&&(Kh.j(t,"boolean",hl,"comments"),this.Lh=t,this.J())}),Kh.defineProperty(hl,{MA:"maxIterations"},function(){return this.Yo},function(t){this.Yo!==t&&(Kh.j(t,"number",hl,"maxIterations"),0<=t&&(this.Yo=t,this.J()))}),Kh.defineProperty(hl,{ME:"epsilonDistance"},function(){return this.tr},function(t){this.tr!==t&&(Kh.j(t,"number",hl,"epsilonDistance"),0<t&&(this.tr=t,this.J()))}),Kh.defineProperty(hl,{aL:"infinityDistance"},function(){return this.Rh},function(t){this.Rh!==t&&(Kh.j(t,"number",hl,"infinityDistance"),1<t&&(this.Rh=t,this.J()))}),Kh.defineProperty(hl,{Vx:"randomNumberGenerator"},function(){return this.Hs},function(t){this.Hs!==t&&(null!==t&&"function"!=typeof t.random&&Kh.k('ForceDirectedLayout.randomNumberGenerator must have a "random()" function on it: '+t),this.Hs=t)}),Kh.defineProperty(hl,{TK:"defaultSpringStiffness"},function(){return this.yo},function(t){this.yo!==t&&(Kh.j(t,"number",hl,"defaultSpringStiffness"),this.yo=t,this.J())}),Kh.defineProperty(hl,{SK:"defaultSpringLength"},function(){return this.xo},function(t){this.xo!==t&&(Kh.j(t,"number",hl,"defaultSpringLength"),this.xo=t,this.J())}),Kh.defineProperty(hl,{MK:"defaultElectricalCharge"},function(){return this.vo},function(t){this.vo!==t&&(Kh.j(t,"number",hl,"defaultElectricalCharge"),this.vo=t,this.J())}),Kh.defineProperty(hl,{NK:"defaultGravitationalMass"},function(){return this.wo},function(t){this.wo!==t&&(Kh.j(t,"number",hl,"defaultGravitationalMass"),this.wo=t,this.J())}),Kh.defineProperty(hl,{IH:"defaultCommentSpringLength"},function(){return this.hr},function(t){this.hr!==t&&(Kh.j(t,"number",hl,"defaultCommentSpringLength"),this.hr=t,this.J())}),Kh.defineProperty(hl,{HH:"defaultCommentElectricalCharge"},function(){return this.gr},function(t){this.gr!==t&&(Kh.j(t,"number",hl,"defaultCommentElectricalCharge"),this.gr=t,this.J())}),Kh.Ka(wl,Ba),Kh.ga("ForceDirectedNetwork",wl),wl.prototype.createVertex=function(){return new xl},wl.prototype.createEdge=function(){return new Cl},Kh.Ka(xl,Ga),Kh.ga("ForceDirectedVertex",xl),Kh.Ka(Cl,_a),Kh.ga("ForceDirectedEdge",Cl),Kh.Ka(kl,Ra),Kh.ga("LayeredDigraphLayout",kl),kl.prototype.cloneProtected=function(t){Ra.prototype.cloneProtected.call(this,t),t.Km=this.Km,t.Yd=this.Yd,t.aa=this.aa,t.uo=this.uo,t.Uo=this.Uo,t.Ko=this.Ko,t.Im=this.Im,t.io=this.io,t.$i=this.$i,t.ci=this.ci,t.Zr=this.Zr},kl.prototype.ic=function(t){t.Ee===kl?0===t.name.indexOf("Aggressive")?this.iH=t:0===t.name.indexOf("Cycle")?this.GH=t:0===t.name.indexOf("Init")?this.sI=t:0===t.name.indexOf("Layer")?this.HI=t:Kh.k("Unknown enum value: "+t):Ra.prototype.ic.call(this,t)},kl.prototype.createNetwork=function(){return new oh},kl.prototype.doLayout=function(t){for(null===t&&Kh.k("Layout.doLayout(collection) argument must not be null but a Diagram, a Group, or an Iterable of Parts"),null===this.network&&(this.network=this.makeNetwork(t)),this.qe=this.initialOrigin(this.qe),this.Yv=-1,this.Rf=this.hs=0,this.rs=this.ps=this.Pm=null,t=0;t<this.jh.length;t++)this.jh[t]=null;if(0<this.network.vertexes.count){for(this.network.gx(),t=this.network.edges.i;t.next();)t.value.rev=!1;switch(this.uo){default:case If:t=this.network;var e=0,i=t.vertexes.count-1,n=[];n.length=i+1;for(var o=t.vertexes.i;o.next();)o.value.valid=!0;for(;null!==Nl(t);){for(o=jl(t);null!==o;)n[i]=o,i--,o.valid=!1,o=jl(t);for(o=Rl(t);null!==o;)n[e]=o,e++,o.valid=!1,o=Rl(t);for(var o=null,r=0,s=this.network.vertexes.i;s.next();){var a=s.value;if(a.valid){for(var l=0,h=a.kc;h.next();)h.value.toVertex.valid&&l++;for(var h=0,u=a.mc;u.next();)u.value.fromVertex.valid&&h++;(null===o||r<l-h)&&(o=a,r=l-h)}}null!==o&&(n[e]=o,e++,o.valid=!1)}for(e=0;e<t.vertexes.count;e++)n[e].index=e;for(n=t.edges.i;n.next();)e=n.value,e.fromVertex.index>e.toVertex.index&&(t.by(e),e.rev=!0);break;case Ef:for(n=this.network.vertexes.i;n.next();)t=n.value,t.Np=-1,t.finish=-1;for(t=this.network.edges.i;t.next();)t.value.forest=!1;for(this.qs=0,n.reset();n.next();)e=n.value,0===e.mc.count&&Fl(this,e);for(n.reset();n.next();)e=n.value,-1===e.Np&&Fl(this,e);for(t.reset();t.next();)n=t.value,n.forest||(e=n.fromVertex,i=e.finish,o=n.toVertex,r=o.finish,o.Np<e.Np&&i<r&&(this.network.by(n),n.rev=!0))}for(t=this.network.vertexes.i;t.next();)t.value.layer=-1;for(this.rb=-1,this.assignLayers(),t.reset();t.next();)this.rb=Math.max(this.rb,t.value.layer);for(t=this.network,n=[],i=t.edges.i;i.next();)e=i.value,e.valid=!1,n.push(e);for(i=0;i<n.length;i++)if(e=n[i],r=e.fromVertex,o=e.toVertex,!e.valid&&(null!==r.td&&null!==o.td||r.layer!==o.layer)){if(h=a=l=s=0,null!==e.link){if(null===(l=e.link))continue;var c=r.td,s=o.td;if(null===c||null===s)continue;var d=l.Y,a=l.Z,p=l.Cc,h=l.cd;e.rev&&(l=d,u=p,d=a,p=h,a=l,h=u);var f=r.T,l=o.T,y=e.rev?o.M:r.M,u=Kh.K();y.I()?(ys(d,p,su,u),u.I()||u.assign(f)):u.assign(f),c!==d&&y.I()&&d.isVisible()&&(c=r.M,c.I()&&(u.x+=y.x-c.x,u.y+=y.y-c.y)),d=e.rev?r.M:o.M,c=Kh.K(),d.I()?(ys(a,h,su,c),c.I()||c.assign(l)):c.assign(l),s!==a&&d.I()&&a.isVisible()&&(s=o.M,s.I()&&(c.x+=d.x-s.x,c.y+=d.y-s.y)),90===this.aa||270===this.aa?(s=Math.round((u.x-f.x)/this.Yd),a=u.x,l=Math.round((c.x-l.x)/this.Yd),h=c.x):(s=Math.round((u.y-f.y)/this.Yd),a=u.y,l=Math.round((c.y-l.y)/this.Yd),h=c.y),Kh.v(u),Kh.v(c),e.portFromColOffset=s,e.portFromPos=a,e.portToColOffset=l,e.portToPos=h}else e.portFromColOffset=0,e.portFromPos=0,e.portToColOffset=0,e.portToPos=0;u=r.layer,f=o.layer;t:if(c=e,d=0,null!==(y=c.link)){var g=y.Cc,v=y.cd;if(null!==g&&null!==v){var m=y.Y,p=y.Z;if(null!==m&&null!==p){var b=g.Ab,w=v.Bb;this.sq||(y.Ab.Xc()||(b=y.Ab),y.Bb.Xc()||(w=y.Bb));var x=y.ac,C=Zl(this,!0);(b.Xc()||b===tu)&&(b=C);var k=Zl(this,!1);if((w.Xc()||w===tu)&&(w=k),b.uj()&&b.sj(k)&&w.uj()&&w.sj(C)){d=0;break t}C=y.getLinkPoint(m,g,b,!0,x,p,v,Kh.K()),b=y.getLinkDirection(m,g,C,b,!0,x,p,v),Kh.v(C),b===zl(this,c,!0)?d+=1:this.sq&&null!==m&&1===m.ports.count&&c.rev&&(d+=1),b=y.getLinkPoint(p,v,w,!1,x,m,g,Kh.K()),y=y.getLinkDirection(p,v,b,w,!1,x,m,g),Kh.v(b),y===zl(this,c,!1)?d+=2:this.sq&&null!==p&&1===p.ports.count&&c.rev&&(d+=2)}}}if(c=1===d||3===d,(d=2===d||3===d)&&(p=t.createVertex(),p.td=null,p.mn=1,p.layer=u,p.near=r,t.Hl(p),r=t.dq(r,p,e.link),r.valid=!1,r.rev=e.rev,r.portFromColOffset=s,r.portToColOffset=0,r.portFromPos=a,r.portToPos=0,r=p),y=1,c&&y--,u-f>y&&0<u){for(e.valid=!1,p=t.createVertex(),p.td=null,p.mn=2,p.layer=u-1,t.Hl(p),r=t.dq(r,p,e.link),r.valid=!0,r.rev=e.rev,r.portFromColOffset=d?0:s,r.portToColOffset=0,r.portFromPos=d?0:a,r.portToPos=0,r=p,u--;u-f>y&&0<u;)p=t.createVertex(),p.td=null,p.mn=3,p.layer=u-1,t.Hl(p),r=t.dq(r,p,e.link),r.valid=!0,r.rev=e.rev,r.portFromColOffset=0,r.portToColOffset=0,r.portFromPos=0,r.portToPos=0,r=p,u--;r=t.dq(p,o,e.link),r.valid=!c,c&&(p.near=o),r.rev=e.rev,r.portFromColOffset=0,r.portToColOffset=l,r.portFromPos=0,r.portToPos=h}else e.valid=!0}for(n=this.je=[],e=0;e<=this.rb;e++)n[e]=0;for(t=this.network.vertexes.i;t.next();)t.value.index=-1;for(this.initializeIndices(),this.Yv=-1,e=this.Rf=this.hs=0;e<=this.rb;e++)n[e]>n[this.Rf]&&(this.Yv=n[e]-1,this.Rf=e),n[e]<n[this.hs]&&(this.hs=e);for(this.rs=[],e=0;e<n.length;e++)this.rs[e]=[];for(t.reset();t.next();)n=t.value,this.rs[n.layer][n.index]=n;for(this.Kb=-1,t=0;t<=this.rb;t++){for(n=eh(this,t),e=0,i=this.je[t],o=0;o<i;o++)r=n[o],e+=this.nodeMinColumnSpace(r,!0),r.column=e,e+=1,e+=this.nodeMinColumnSpace(r,!1);this.Kb=Math.max(this.Kb,e-1),ih(this,t,n)}this.reduceCrossings(),this.straightenAndPack(),this.updateParts()}this.network=null,this.Cf=!0},kl.prototype.linkMinLength=function(){return 1},kl.prototype.nodeMinLayerSpace=function(t,e){return null===t.td?0:90===this.aa||270===this.aa?e?t.T.y+10:t.M.height-t.T.y+10:e?t.T.x+10:t.M.width-t.T.x+10},kl.prototype.nodeMinColumnSpace=function(t,e){if(null===t.td)return 0;var i=e?t.TA:t.SA;return null!==i?i:(i=this.aa,90===i||270===i?e?t.TA=t.T.x/this.Yd+1|0:t.SA=(t.M.width-t.T.x)/this.Yd+1|0:e?t.TA=t.T.y/this.Yd+1|0:t.SA=(t.M.height-t.T.y)/this.Yd+1|0)},kl.prototype.countCrossings=function(){for(var t=0,e=0;e<=this.rb;e++)for(var i=El(this,e,1),n=this.je[e],o=0;o<n;o++)for(var r=o;r<n;r++)t+=i[o*n+r];return t},kl.prototype.normalize=function(){var t=1/0;this.Kb=-1;for(var e=this.network.vertexes.i;e.next();){var i=e.value,t=Math.min(t,i.column-this.nodeMinColumnSpace(i,!0));this.Kb=Math.max(this.Kb,i.column+this.nodeMinColumnSpace(i,!1))}for(e.reset();e.next();)e.value.column-=t;this.Kb-=t},kl.prototype.assignLayers=function(){switch(this.Uo){case Df:Al(this);break;case Of:for(var t=0,e=this.network.vertexes.i;e.next();)t=Vl(this,e.value),this.rb=Math.max(t,this.rb);for(e.reset();e.next();)t=e.value,t.layer=this.rb-t.layer;break;default:case Pf:for(Al(this),e=this.network.vertexes.i;e.next();)e.value.valid=!1;for(e.reset();e.next();)t=e.value,0===t.mc.count&&Hl(this,t);for(t=1/0,e.reset();e.next();)t=Math.min(t,e.value.layer);for(this.rb=-1,e.reset();e.next();){var i=e.value;i.layer-=t,this.rb=Math.max(this.rb,i.layer)}}},kl.prototype.initializeIndices=function(){switch(this.Ko){default:case jf:for(var t=this.network.vertexes.i;t.next();){var e=t.value,i=e.layer;e.index=this.je[i],this.je[i]++}break;case Lf:for(t=this.network.vertexes.i,e=this.rb;0<=e;e--)for(t.reset();t.next();)i=t.value,i.layer===e&&-1===i.index&&ql(this,i);break;case Nf:for(t=this.network.vertexes.i,e=0;e<=this.rb;e++)for(t.reset();t.next();)i=t.value,i.layer===e&&-1===i.index&&Gl(this,i)}},kl.prototype.reduceCrossings=function(){for(var t=this.countCrossings(),e=Ml(this),i=0,n=0,o=0,i=0;i<this.Im;i++){for(n=0;n<=this.rb;n++)_l(this,n,1),Ul(this,n,1);for(o=this.countCrossings(),o<t&&(t=o,e=Ml(this)),n=this.rb;0<=n;n--)_l(this,n,-1),Ul(this,n,-1);o=this.countCrossings(),o<t&&(t=o,e=Ml(this))}for(Tl(this,e),i=0;i<this.Im;i++){for(n=0;n<=this.rb;n++)_l(this,n,0),Ul(this,n,0);for(o=this.countCrossings(),o<t&&(t=o,e=Ml(this)),n=this.rb;0<=n;n--)_l(this,n,0),Ul(this,n,0);o=this.countCrossings(),o<t&&(t=o,e=Ml(this))}Tl(this,e);var r=!1,s=i=0,a=0,n=0;switch(this.io){case Rf:break;case Af:for(a=t+1;(n=this.countCrossings())<a;)for(a=n,i=this.rb;0<=i;i--)for(s=0;s<=i;s++){for(r=!0;r;)for(r=!1,n=i;n>=s;n--)r=Ul(this,n,-1)||r;for(o=this.countCrossings(),o>=t?Tl(this,e):(t=o,e=Ml(this)),r=!0;r;)for(r=!1,n=i;n>=s;n--)r=Ul(this,n,1)||r;for(o=this.countCrossings(),o>=t?Tl(this,e):(t=o,e=Ml(this)),r=!0;r;)for(r=!1,n=s;n<=i;n++)r=Ul(this,n,1)||r;for(o>=t?Tl(this,e):(t=o,e=Ml(this)),r=!0;r;)for(r=!1,n=s;n<=i;n++)r=Ul(this,n,-1)||r;for(o>=t?Tl(this,e):(t=o,e=Ml(this)),r=!0;r;)for(r=!1,n=i;n>=s;n--)r=Ul(this,n,0)||r;for(o>=t?Tl(this,e):(t=o,e=Ml(this)),r=!0;r;)for(r=!1,n=s;n<=i;n++)r=Ul(this,n,0)||r;o>=t?Tl(this,e):(t=o,e=Ml(this))}break;default:case Ff:for(i=this.rb,s=0,a=t+1;(n=this.countCrossings())<a;){for(a=n,r=!0;r;)for(r=!1,n=i;n>=s;n--)r=Ul(this,n,-1)||r;for(o=this.countCrossings(),o>=t?Tl(this,e):(t=o,e=Ml(this)),r=!0;r;)for(r=!1,n=i;n>=s;n--)r=Ul(this,n,1)||r;for(o=this.countCrossings(),o>=t?Tl(this,e):(t=o,e=Ml(this)),r=!0;r;)for(r=!1,n=s;n<=i;n++)r=Ul(this,n,1)||r;for(o>=t?Tl(this,e):(t=o,e=Ml(this)),r=!0;r;)for(r=!1,n=s;n<=i;n++)r=Ul(this,n,-1)||r;for(o>=t?Tl(this,e):(t=o,e=Ml(this)),r=!0;r;)for(r=!1,n=i;n>=s;n--)r=Ul(this,n,0)||r;for(o>=t?Tl(this,e):(t=o,e=Ml(this)),r=!0;r;)for(r=!1,n=s;n<=i;n++)r=Ul(this,n,0)||r;o>=t?Tl(this,e):(t=o,e=Ml(this))}}Tl(this,e)},kl.prototype.straightenAndPack=function(){var t=0,e=!1,i=0!=(this.$i&Bf),t=this.$i===zf;if(1e3<this.network.edges.count&&!t&&(i=!1),i){for(e=[],t=t=0;t<=this.rb;t++)e[t]=0;for(var n=0,o=this.network.vertexes.i;o.next();){var r=o.value,t=r.layer,n=r.column,r=this.nodeMinColumnSpace(r,!1);e[t]=Math.max(e[t],n+r)}for(o.reset();o.next();)r=o.value,t=r.layer,n=r.column,r.column=(8*(this.Kb-e[t])>>1)+8*n;this.Kb*=8}if(0!=(this.$i&Vf))for(e=!0;e;){for(e=!1,t=this.Rf+1;t<=this.rb;t++)e=Kl(this,t,1)||e;for(t=this.Rf-1;0<=t;t--)e=Kl(this,t,-1)||e;e=Kl(this,this.Rf,0)||e}if(0!=(this.$i&Hf)){for(t=this.Rf+1;t<=this.rb;t++)Wl(this,t,1);for(t=this.Rf-1;0<=t;t--)Wl(this,t,-1);Wl(this,this.Rf,0)}if(i&&(Xl(this,-1),Xl(this,1)),0!=(this.$i&Vf))for(e=!0;e;){for(e=!1,e=Kl(this,this.Rf,0)||e,t=this.Rf+1;t<=this.rb;t++)e=Kl(this,t,0)||e;for(t=this.Rf-1;0<=t;t--)e=Kl(this,t,0)||e}},kl.prototype.commitLayout=function(){if(this.sq)for(var t=Zl(this,!0),e=Zl(this,!1),i=this.network.edges.i;i.next();){var n=i.value.link;null!==n&&(n.Ab=t,n.Bb=e)}this.commitNodes(),this.Yz(),this.ku&&this.commitLinks()},kl.prototype.commitNodes=function(){this.zg=[],this.Qf=[],this.Pf=[],this.Ob=[];for(var t=0;t<=this.rb;t++)this.zg[t]=0,this.Qf[t]=0,this.Pf[t]=0,this.Ob[t]=0;for(t=this.network.vertexes.i;t.next();){var e=t.value,i=e.layer;this.zg[i]=Math.max(this.zg[i],this.nodeMinLayerSpace(e,!0)),this.Qf[i]=Math.max(this.Qf[i],this.nodeMinLayerSpace(e,!1))}for(var e=0,n=this.Km,i=0;i<=this.rb;i++){var o=n;0>=this.zg[i]+this.Qf[i]&&(o=0),0<i&&(e+=o/2),90===this.aa||0===this.aa?(e+=this.Qf[i],this.Pf[i]=e,e+=this.zg[i]):(e+=this.zg[i],this.Pf[i]=e,e+=this.Qf[i]),i<this.rb&&(e+=o/2),this.Ob[i]=e}for(n=e,e=this.qe,i=0;i<=this.rb;i++)270===this.aa?this.Pf[i]=e.y+this.Pf[i]:90===this.aa?(this.Pf[i]=e.y+n-this.Pf[i],this.Ob[i]=n-this.Ob[i]):180===this.aa?this.Pf[i]=e.x+this.Pf[i]:(this.Pf[i]=e.x+n-this.Pf[i],this.Ob[i]=n-this.Ob[i]);for(t.reset(),n=o=1/0;t.next();){var i=t.value,r=i.layer,s=0|i.column,a=0,l=0;270===this.aa||90===this.aa?(a=e.x+this.Yd*s,l=this.Pf[r]):(a=this.Pf[r],l=e.y+this.Yd*s),i.la=a,i.ra=l,o=Math.min(i.x,o),n=Math.min(i.y,n)}for(o=e.x-o,e=e.y-n,this.YB=new w(o,e),t.reset();t.next();)i=t.value,i.x+=o,i.y+=e,i.commit()},kl.prototype.Yz=function(){for(var t=0,e=this.Km,i=0;i<=this.rb;i++)t+=this.zg[i],t+=this.Qf[i];for(var t=t+this.rb*e,e=[],i=this.Yd*this.Kb,n=this.QI;0<=n;n--)270===this.aa?0===n?e.push(new S(0,0,i,Math.abs(this.Ob[0]))):e.push(new S(0,this.Ob[n-1],i,Math.abs(this.Ob[n-1]-this.Ob[n]))):90===this.aa?0===n?e.push(new S(0,this.Ob[0],i,Math.abs(this.Ob[0]-t))):e.push(new S(0,this.Ob[n],i,Math.abs(this.Ob[n-1]-this.Ob[n]))):180===this.aa?0===n?e.push(new S(0,0,Math.abs(this.Ob[0]),i)):e.push(new S(this.Ob[n-1],0,Math.abs(this.Ob[n-1]-this.Ob[n]),i)):0===n?e.push(new S(this.Ob[0],0,Math.abs(this.Ob[0]-t),i)):e.push(new S(this.Ob[n],0,Math.abs(this.Ob[n-1]-this.Ob[n]),i));this.commitLayers(e,this.YB)},kl.prototype.commitLayers=function(){},kl.prototype.commitLinks=function(){for(var t,e=this.network.edges.i;e.next();)null!==(t=e.value.link)&&(t.hm(),t.Fp(),t.kj());for(e.reset();e.next();)null!==(t=e.value.link)&&t.ao();for(e.reset();e.next();){var i=e.value;if(null!==(t=i.link)){t.hm();var n=t,o=n.Y,r=n.Z,s=n.Cc,a=n.cd;if(null!==o){var l=o.findVisibleNode();null!==l&&l!==o&&(o=l,s=l.port)}if(null!==r){var h=r.findVisibleNode();null!==h&&h!==r&&(r=h,a=h.port)}var u=t.computeSpot(!0,s),d=t.computeSpot(!1,a),p=i.fromVertex,f=i.toVertex;if(i.valid){if(t.af===zp&&4===t.qa){if(i.rev)var y=o,o=r,r=y,g=s,s=a,a=g;if(p.column===f.column){var v=t.getLinkPoint(o,s,u,!0,!1,r,a),m=t.getLinkPoint(r,a,d,!1,!1,o,s);v.I()||v.set(o.W.Ll),m.I()||m.set(r.W.Ll),t.Fp(),t.ij(v.x,v.y),t.ij((2*v.x+m.x)/3,(2*v.y+m.y)/3),t.ij((v.x+2*m.x)/3,(v.y+2*m.y)/3),t.ij(m.x,m.y)}else{var b=!1,w=!1;if(null!==s&&u===tu&&(b=!0),null!==a&&d===tu&&(w=!0),b||w){var x=t.l(0).x,C=t.l(0).y,k=t.l(1).x,S=t.l(1).y,M=t.l(2).x,T=t.l(2).y,E=t.l(3).x,I=t.l(3).y;if(b){90===this.aa||270===this.aa?(k=x,S=(C+I)/2):(k=(x+E)/2,S=C),t.ba(1,k,S);var P=t.getLinkPoint(o,s,u,!0,!1,r,a);P.I()||P.set(o.W.Ll),t.ba(0,P.x,P.y)}w&&(90===this.aa||270===this.aa?(M=E,T=(C+I)/2):(M=(x+E)/2,T=I),t.ba(2,M,T),P=t.getLinkPoint(r,a,d,!1,!1,o,s),P.I()||P.set(r.W.Ll),t.ba(3,P.x,P.y))}}}t.kj()}else if(p.layer===f.layer)t.kj();else{var D=!1,O=!1,L=0,N=t.Qt+1;if(t.ac)O=!0,4<(L=t.qa)&&t.points.removeRange(2,L-3);else if(t.af===zp)D=!0,L=t.qa,4<L&&t.points.removeRange(2,L-3),N=2;else{var L=t.qa,j=u===tu,R=d===tu;2<L&&j&&R?t.points.removeRange(1,L-2):3<L&&j&&!R?t.points.removeRange(1,L-3):3<L&&!j&&R?t.points.removeRange(2,L-2):4<L&&!j&&!R&&t.points.removeRange(2,L-3)}var F,A;if(i.rev){for(var B=0;null!==f&&p!==f;){A=F=null;for(var V=f.mc.i;V.next();){var H=V.value;if(H.link===i.link&&(F=H.fromVertex,A=H.toVertex,null===F.td))break}if(F!==p)if(K=t.l(N-1).x,$=t.l(N-1).y,W=F.la,Y=F.ra,O)180===this.aa||0===this.aa?2===N?(t.w(N++,K,$),t.w(N++,K,Y)):(Z=null!==A?A.ra:$)!==Y&&(J=this.Ob[F.layer-1],t.w(N++,J,$),t.w(N++,J,Y)):2===N?(t.w(N++,K,$),t.w(N++,W,$)):(tt=null!==A?A.la:K)!==W&&(J=this.Ob[F.layer-1],t.w(N++,K,J),t.w(N++,W,J));else if(2===N)if(X=Math.max(10,this.zg[f.layer]),Q=Math.max(10,this.Qf[f.layer]),D)180===this.aa?W<=f.M.x?(B=f.M.x,t.w(N++,B-X,Y),t.w(N++,B,Y),t.w(N++,B+Q,Y)):(t.w(N++,W-X,Y),t.w(N++,W,Y),t.w(N++,W+Q,Y)):90===this.aa?Y>=f.M.bottom?(B=f.M.y+f.M.height,t.w(N++,W,B+Q),t.w(N++,W,B),t.w(N++,W,B-X)):(t.w(N++,W,Y+Q),t.w(N++,W,Y),t.w(N++,W,Y-X)):270===this.aa?Y<=f.M.y?(B=f.M.y,t.w(N++,W,B-X),t.w(N++,W,B),t.w(N++,W,B+Q)):(t.w(N++,W,Y-X),t.w(N++,W,Y),t.w(N++,W,Y+Q)):0===this.aa&&(W>=f.M.right?(B=f.M.x+f.M.width,t.w(N++,B+Q,Y),t.w(N++,B,Y),t.w(N++,B-X,Y)):(t.w(N++,W+Q,Y),t.w(N++,W,Y),t.w(N++,W-X,Y)));else{t.w(N++,K,$);var z=0;180===this.aa||0===this.aa?((180===this.aa?W>=f.M.right:W<=f.M.x)&&(z=(0===this.aa?-X:Q)/2),t.w(N++,K+z,Y)):((270===this.aa?Y>=f.M.bottom:Y<=f.M.y)&&(z=(90===this.aa?-X:Q)/2),t.w(N++,W,$+z)),t.w(N++,W,Y)}else X=Math.max(10,this.zg[F.layer]),Q=Math.max(10,this.Qf[F.layer]),180===this.aa?(D&&t.w(N++,W-X,Y),t.w(N++,W,Y),D&&t.w(N++,W+Q,Y)):90===this.aa?(D&&t.w(N++,W,Y+Q),t.w(N++,W,Y),D&&t.w(N++,W,Y-X)):270===this.aa?(D&&t.w(N++,W,Y-X),t.w(N++,W,Y),D&&t.w(N++,W,Y+Q)):(D&&t.w(N++,W+Q,Y),t.w(N++,W,Y),D&&t.w(N++,W-X,Y));f=F}if(null===a||u!==tu||O)if(K=t.l(N-1).x,$=t.l(N-1).y,W=t.l(N).x,Y=t.l(N).y,O){var q=this.Qf[p.layer],G=0;180===this.aa||0===this.aa?(G=$,G>=p.M.y&&G<=p.M.bottom&&(180===this.aa?W>=p.M.x:W<=p.M.right)&&(B=p.la+(180===this.aa?-q:q),G=G<p.M.y+p.M.height/2?p.M.y-this.Yd/2:p.M.bottom+this.Yd/2,t.w(N++,B,$),t.w(N++,B,G)),t.w(N++,W,G)):(G=K,G>=p.M.x&&G<=p.M.right&&(270===this.aa?Y>=p.M.y:Y<=p.M.bottom)&&(B=p.ra+(270===this.aa?-q:q),G=G<p.M.x+p.M.width/2?p.M.x-this.Yd/2:p.M.right+this.Yd/2,t.w(N++,K,B),t.w(N++,G,B)),t.w(N++,G,Y)),t.w(N++,W,Y)}else D?(X=Math.max(10,this.zg[p.layer]),Q=Math.max(10,this.Qf[p.layer]),180===this.aa&&W>=p.M.x?(B=p.M.x+p.M.width,t.ba(N-2,B,$),t.ba(N-1,B+Q,$)):90===this.aa&&Y<=p.M.bottom?(B=p.M.y,t.ba(N-2,K,B),t.ba(N-1,K,B-X)):270===this.aa&&Y>=p.M.y?(B=p.M.y+p.M.height,t.ba(N-2,K,B),t.ba(N-1,K,B+Q)):0===this.aa&&W<=p.M.right&&(B=p.M.x,t.ba(N-2,B,$),t.ba(N-1,B-X,$))):(X=Math.max(10,this.zg[p.layer]),Q=Math.max(10,this.Qf[p.layer]),z=0,180===this.aa||0===this.aa?((180===this.aa?W<=p.M.x:W>=p.M.right)&&(z=(0===this.aa?Q:-X)/2),t.w(N++,W+z,$)):((270===this.aa?Y<=p.M.y:Y>=p.M.bottom)&&(z=(90===this.aa?Q:-X)/2),t.w(N++,K,Y+z)),t.w(N++,W,Y))}else{for(;null!==p&&p!==f;){A=F=null;for(var _=p.kc.i;_.next();){var U=_.value;if(U.link===i.link&&(F=U.toVertex,A=U.fromVertex,null!==A.td&&(A=null),null===F.td))break}var K=0,$=0,W=0,Y=0,J=0,X=0,Q=0;if(F!==f)if(K=t.l(N-1).x,$=t.l(N-1).y,W=F.la,Y=F.ra,O)if(180===this.aa||0===this.aa){var Z=null!==A?A.ra:$;Z!==Y&&(J=this.Ob[F.layer],2===N&&(J=0===this.aa?Math.max(J,K):Math.min(J,K)),t.w(N++,J,$),t.w(N++,J,Y))}else{var tt=null!==A?A.la:K;tt!==W&&(J=this.Ob[F.layer],2===N&&(J=90===this.aa?Math.max(J,$):Math.min(J,$)),t.w(N++,K,J),t.w(N++,W,J))}else X=Math.max(10,this.zg[F.layer]),Q=Math.max(10,this.Qf[F.layer]),180===this.aa?(t.w(N++,W+Q,Y),D&&t.w(N++,W,Y),t.w(N++,W-X,Y)):90===this.aa?(t.w(N++,W,Y-X),D&&t.w(N++,W,Y),t.w(N++,W,Y+Q)):270===this.aa?(t.w(N++,W,Y+Q),D&&t.w(N++,W,Y),t.w(N++,W,Y-X)):(t.w(N++,W-X,Y),D&&t.w(N++,W,Y),t.w(N++,W+Q,Y));p=F}O&&(K=t.l(N-1).x,$=t.l(N-1).y,W=t.l(N).x,Y=t.l(N).y,180===this.aa||0===this.aa?$!==Y&&(J=0===this.aa?Math.min(Math.max((W+K)/2,this.Ob[f.layer]),W):Math.max(Math.min((W+K)/2,this.Ob[f.layer]),W),t.w(N++,J,$),t.w(N++,J,Y)):K!==W&&(J=90===this.aa?Math.min(Math.max((Y+$)/2,this.Ob[f.layer]),Y):Math.max(Math.min((Y+$)/2,this.Ob[f.layer]),Y),t.w(N++,K,J),t.w(N++,W,J)))}if(null!==n&&D){if(null!==s){if(u===tu){var et=t.l(0),it=t.l(2);et.L(it)||t.ba(1,(et.x+it.x)/2,(et.y+it.y)/2)}P=t.getLinkPoint(o,s,tu,!0,!1,r,a),P.I()||P.set(o.W.Ll),t.ba(0,P.x,P.y)}null!==a&&(d===tu&&(et=t.l(t.qa-1),it=t.l(t.qa-3),et.L(it)||t.ba(t.qa-2,(et.x+it.x)/2,(et.y+it.y)/2)),P=t.getLinkPoint(r,a,tu,!1,!1,o,s),P.I()||P.set(r.W.Ll),t.ba(t.qa-1,P.x,P.y))}t.kj(),i.commit()}}}for(var nt=new c(Ws),ot=this.network.edges.i;ot.next();){var rt=ot.value.link;null!==rt&&rt.ac&&!nt.contains(rt)&&nt.add(rt)}if(0<nt.count)if(90===this.aa||270===this.aa){for(var st,at,lt=0,ht=new c(nh),ut=nt.i;ut.next();){var ct=ut.value;if(null!==ct&&ct.ac)for(var dt=2;dt<ct.qa-3;dt++)if(st=ct.l(dt),at=ct.l(dt+1),th(st.y,at.y)&&!th(st.x,at.x)){var pt=new nh;pt.layer=Math.floor(st.y/2);var ft=ct.l(0),yt=ct.l(ct.qa-1);if(pt.first=ft.x*ft.x+ft.y,pt.fe=yt.x*yt.x+yt.y,pt.Ze=Math.min(st.x,at.x),pt.re=Math.max(st.x,at.x),pt.index=dt,pt.link=ct,dt+2<ct.qa){var gt=ct.l(dt-1),vt=ct.l(dt+2),mt=0;gt.y<st.y?mt=vt.y<st.y?3:st.x<at.x?2:1:gt.y>st.y&&(mt=vt.y>st.y?0:at.x<st.x?2:1),pt.ui=mt}ht.add(pt)}}if(1<ht.count){ht.sort(this.gG);for(var bt=0;bt<ht.count;){for(var wt=ht.n[bt].layer,xt=bt+1;xt<ht.count&&ht.n[xt].layer===wt;)xt++;if(1<xt-bt)for(var Ct=bt;Ct<xt;){for(var kt=ht.n[Ct].re,St=bt+1;St<xt&&ht.n[St].Ze<kt;)kt=Math.max(kt,ht.n[St].re),St++;var Mt=St-Ct;if(1<Mt){ht.vq(this.hy,Ct,Ct+Mt);for(var Tt=1,Et=ht.n[Ct].fe,dt=Ct;dt<St;dt++){var It=ht.n[dt];It.fe!==Et&&(Tt++,Et=It.fe)}ht.vq(this.fG,Ct,Ct+Mt);for(var Pt=1,Et=ht.n[Ct].first,dt=Ct;dt<St;dt++)It=ht.n[dt],It.first!==Et&&(Pt++,Et=It.first);var Dt=!0,Ot=Pt;Tt<Pt?(Dt=!1,Ot=Tt,Et=ht.n[Ct].fe,ht.vq(this.hy,Ct,Ct+Mt)):Et=ht.n[Ct].first;for(var Lt=0,dt=Ct;dt<St;dt++){It=ht.n[dt],(Dt?It.first:It.fe)!==Et&&(Lt++,Et=Dt?It.first:It.fe),ct=It.link,st=ct.l(It.index),at=ct.l(It.index+1);var Nt=this.CF*(Lt-(Ot-1)/2);lt++,ct.hm(),ct.ba(It.index,st.x,st.y+Nt),ct.ba(It.index+1,at.x,at.y+Nt),ct.kj()}}Ct=St}bt=xt}}}else{for(var jt,Rt,Ft=0,At=new c(nh),Bt=nt.i;Bt.next();){var Vt=Bt.value;if(null!==Vt&&Vt.ac)for(var Ht=2;Ht<Vt.qa-3;Ht++)if(jt=Vt.l(Ht),Rt=Vt.l(Ht+1),th(jt.x,Rt.x)&&!th(jt.y,Rt.y)){var zt=new nh;zt.layer=Math.floor(jt.x/2);var qt=Vt.l(0),Gt=Vt.l(Vt.qa-1);if(zt.first=qt.x+qt.y*qt.y,zt.fe=Gt.x+Gt.y*Gt.y,zt.Ze=Math.min(jt.y,Rt.y),zt.re=Math.max(jt.y,Rt.y),zt.index=Ht,zt.link=Vt,Ht+2<Vt.qa){var _t=Vt.l(Ht-1),Ut=Vt.l(Ht+2),Kt=0;_t.x<jt.x?Kt=Ut.x<jt.x?3:jt.y<Rt.y?2:1:_t.x>jt.x&&(Kt=Ut.x>jt.x?0:Rt.y<jt.y?2:1),zt.ui=Kt}At.add(zt)}}if(1<At.count){At.sort(this.gG);for(var $t=0;$t<At.count;){for(var Wt=At.n[$t].layer,Yt=$t+1;Yt<At.count&&At.n[Yt].layer===Wt;)Yt++;if(1<Yt-$t)for(var Jt=$t;Jt<Yt;){for(var Xt=At.n[Jt].re,Qt=$t+1;Qt<Yt&&At.n[Qt].Ze<Xt;)Xt=Math.max(Xt,At.n[Qt].re),Qt++;var Zt=Qt-Jt;if(1<Zt){At.vq(this.hy,Jt,Jt+Zt);for(var te=1,ee=At.n[Jt].fe,Ht=Jt;Ht<Qt;Ht++){var ie=At.n[Ht];ie.fe!==ee&&(te++,ee=ie.fe)}At.vq(this.fG,Jt,Jt+Zt);for(var ne=1,ee=At.n[Jt].first,Ht=Jt;Ht<Qt;Ht++)ie=At.n[Ht],ie.first!==ee&&(ne++,ee=ie.first);var oe=!0,re=ne;te<ne?(oe=!1,re=te,ee=At.n[Jt].fe,At.vq(this.hy,Jt,Jt+Zt)):ee=At.n[Jt].first;for(var se=0,Ht=Jt;Ht<Qt;Ht++){ie=At.n[Ht],(oe?ie.first:ie.fe)!==ee&&(se++,ee=oe?ie.first:ie.fe),Vt=ie.link,jt=Vt.l(ie.index),Rt=Vt.l(ie.index+1);var ae=this.CF*(se-(re-1)/2);Ft++,Vt.hm(),Vt.ba(ie.index,jt.x+ae,jt.y),Vt.ba(ie.index+1,Rt.x+ae,Rt.y),Vt.kj()}}Jt=Qt}$t=Yt}}}},kl.prototype.gG=function(t,e){return t instanceof nh&&e instanceof nh&&t!==e?t.layer<e.layer?-1:t.layer>e.layer?1:t.Ze<e.Ze?-1:t.Ze>e.Ze?1:t.re<e.re?-1:t.re>e.re?1:0:0},kl.prototype.fG=function(t,e){return t instanceof nh&&e instanceof nh&&t!==e?t.first<e.first?-1:t.first>e.first||t.ui<e.ui?1:t.ui>e.ui||t.Ze<e.Ze?-1:t.Ze>e.Ze?1:t.re<e.re?-1:t.re>e.re?1:0:0},kl.prototype.hy=function(t,e){return t instanceof nh&&e instanceof nh&&t!==e?t.fe<e.fe?-1:t.fe>e.fe||t.ui<e.ui?1:t.ui>e.ui||t.Ze<e.Ze?-1:t.Ze>e.Ze?1:t.re<e.re?-1:t.re>e.re?1:0:0},Kh.defineProperty(kl,{layerSpacing:"layerSpacing"},function(){return this.Km},function(t){this.Km!==t&&(Kh.j(t,"number",kl,"layerSpacing"),0<=t&&(this.Km=t,this.J()))}),Kh.defineProperty(kl,{EK:"columnSpacing"},function(){return this.Yd},function(t){this.Yd!==t&&(Kh.j(t,"number",kl,"columnSpacing"),0<t&&(this.Yd=t,this.J()))}),Kh.defineProperty(kl,{direction:"direction"},function(){return this.aa},function(t){this.aa!==t&&(Kh.j(t,"number",kl,"direction"),0===t||90===t||180===t||270===t?(this.aa=t,this.J()):Kh.k("LayeredDigraphLayout.direction must be 0, 90, 180, or 270"))}),Kh.defineProperty(kl,{angle:"angle"},function(){return this.direction},function(t){this.direction=t}),Kh.defineProperty(kl,{GH:"cycleRemoveOption"},function(){return this.uo},function(t){this.uo!==t&&(Kh.mb(t,kl,kl,"cycleRemoveOption"),t===If||t===Ef)&&(this.uo=t,this.J())}),Kh.defineProperty(kl,{HI:"layeringOption"},function(){return this.Uo},function(t){this.Uo!==t&&(Kh.mb(t,kl,kl,"layeringOption"),t===Pf||t===Df||t===Of)&&(this.Uo=t,this.J())}),Kh.defineProperty(kl,{sI:"initializeOption"},function(){return this.Ko},function(t){this.Ko!==t&&(Kh.mb(t,kl,kl,"initializeOption"),t===Lf||t===Nf||t===jf)&&(this.Ko=t,this.J())}),Kh.defineProperty(kl,{iL:"iterations"},function(){return this.Im},function(t){this.Im!==t&&(Kh.wd(t,oh,"iterations"),0<=t&&(this.Im=t,this.J()))}),Kh.defineProperty(kl,{iH:"aggressiveOption"},function(){return this.io},function(t){this.io!==t&&(Kh.mb(t,kl,kl,"aggressiveOption"),t===Rf||t===Ff||t===Af)&&(this.io=t,this.J())}),Kh.defineProperty(kl,{CL:"packOption"},function(){return this.$i},function(t){this.$i!==t&&(Kh.j(t,"number",kl,"packOption"),0<=t&&8>t&&(this.$i=t,this.J()))}),Kh.defineProperty(kl,{sq:"setsPortSpots"},function(){return this.ci},function(t){this.ci!==t&&(Kh.j(t,"boolean",kl,"setsPortSpots"),this.ci=t,this.J())}),Kh.defineProperty(kl,{CF:"linkSpacing"},function(){return this.Zr},function(t){this.Zr!==t&&(Kh.j(t,"number",kl,"linkSpacing"),0<=t&&(this.Zr=t,this.J()))}),Kh.u(kl,{QI:"maxLayer"},function(){return this.rb}),Kh.u(kl,{oL:"maxIndex"},function(){return this.Yv}),Kh.u(kl,{nL:"maxColumn"},function(){return this.Kb}),Kh.u(kl,{tL:"minIndexLayer"},function(){return this.hs}),Kh.u(kl,{pL:"maxIndexLayer"},function(){return this.Rf});var Ef;kl.CycleDepthFirst=Ef=Kh.p(kl,"CycleDepthFirst",0);var If;kl.CycleGreedy=If=Kh.p(kl,"CycleGreedy",1);var Pf;kl.LayerOptimalLinkLength=Pf=Kh.p(kl,"LayerOptimalLinkLength",0);var Df;kl.LayerLongestPathSink=Df=Kh.p(kl,"LayerLongestPathSink",1);var Of;kl.LayerLongestPathSource=Of=Kh.p(kl,"LayerLongestPathSource",2);var Lf;kl.InitDepthFirstOut=Lf=Kh.p(kl,"InitDepthFirstOut",0);var Nf;kl.InitDepthFirstIn=Nf=Kh.p(kl,"InitDepthFirstIn",1);var jf;kl.InitNaive=jf=Kh.p(kl,"InitNaive",2);var Rf;kl.AggressiveNone=Rf=Kh.p(kl,"AggressiveNone",0);var Ff;kl.AggressiveLess=Ff=Kh.p(kl,"AggressiveLess",1);var Af;kl.AggressiveMore=Af=Kh.p(kl,"AggressiveMore",2),kl.PackNone=0;var Bf;kl.PackExpand=Bf=1;var Vf;kl.PackStraighten=Vf=2;var Hf;kl.PackMedian=Hf=4;var zf;kl.PackAll=zf=7,Kh.ce(nh,{layer:!0,first:!0,fe:!0,Ze:!0,re:!0,index:!0,link:!0,ui:!0}),Kh.Ka(oh,Ba),Kh.ga("LayeredDigraphNetwork",oh),oh.prototype.createVertex=function(){return new rh},oh.prototype.createEdge=function(){return new sh},Kh.Ka(rh,Ga),Kh.ga("LayeredDigraphVertex",rh),Kh.Ka(sh,_a),Kh.ga("LayeredDigraphEdge",sh),Kh.Ka(ah,Ra),Kh.ga("TreeLayout",ah),ah.prototype.cloneProtected=function(t){Ra.prototype.cloneProtected.call(this,t),t.Bs=this.Bs,t.rt=this.rt,t.Vv=this.Vv,t.Lh=this.Lh,t.nd=this.nd,t.ng.assign(this.ng),t.va.copyInheritedPropertiesFrom(this.va),t.wa.copyInheritedPropertiesFrom(this.wa)},ah.prototype.ic=function(t){t.Ee===ah?0===t.name.indexOf("Alignment")?this.alignment=t:0===t.name.indexOf("Arrangement")?this.Vf=t:0===t.name.indexOf("Compaction")?this.compaction=t:0===t.name.indexOf("Path")?this.path=t:0===t.name.indexOf("Sorting")?this.sorting=t:0===t.name.indexOf("Style")?this.UJ=t:Kh.k("Unknown enum value: "+t):Ra.prototype.ic.call(this,t)},ah.prototype.createNetwork=function(){return new Hh},ah.prototype.makeNetwork=function(t){function e(t){if(t instanceof js)return!t.Af&&"Comment"!==t.vd;if(t instanceof Ws){var e=t.Y;return null!==e&&!e.Af&&"Comment"!==e.vd&&(null!==(t=t.Z)&&!t.Af&&"Comment"!==t.vd)}return!1}var i=this.createNetwork();return i.Tb=this,t instanceof Vi?(i.sk(t.ig,!0,e),i.sk(t.links,!0,e)):t instanceof Pa?i.sk(t.Oc,!1,e):i.sk(t.i,!1,e),i},ah.prototype.doLayout=function(t){null===t&&Kh.k("Layout.doLayout(collection) argument must not be null but a Diagram, a Group, or an Iterable of Parts"),null===this.network&&(this.network=this.makeNetwork(t)),this.Vf!==cy&&(this.qe=this.initialOrigin(this.qe));var e=this.g;if(null===e&&t instanceof Vi&&(e=t),this.Nf=this.path===qf&&null!==e?e.Td?Gf:_f:this.path===qf?Gf:this.path,0<this.network.vertexes.count){for(this.network.gx(),t=this.network.vertexes.i;t.next();)e=t.value,e.initialized=!1,e.level=0,e.parent=null,e.children=[];if(0<this.ud.count){for(t=new p(zh),e=this.ud.i;e.next();){var i=e.value;i instanceof js?null!==(i=this.network.yn(i))&&t.add(i):i instanceof zh&&t.add(i)}this.ud=t}for(0===this.ud.count&&this.findRoots(),t=this.ud.copy().i;t.next();)e=t.value,e.initialized||(e.initialized=!0,uh(this,e));for(e=this.network.vertexes,t=null;t=lh(e),0<t.count;)e=hh(this,t),null!==e&&this.ud.add(e),e.initialized=!0,uh(this,e),e=t;for(t=this.ud.i;t.next();)(e=t.value)instanceof zh&&dh(this,e);for(t=this.ud.i;t.next();)(e=t.value)instanceof zh&&fh(this,e);for(t=this.ud.i;t.next();)(e=t.value)instanceof zh&&yh(this,e);if(this.Tz(),this.GA===fy){for(i=[],t=this.network.vertexes.i;t.next();){var n=t.value,e=n.parent;null===e&&(e=n);var e=0===e.angle||180===e.angle,o=i[n.level];void 0===o&&(o=0),i[n.level]=Math.max(o,e?n.width:n.height)}for(n=0;n<i.length;n++)void 0===i[n]&&(i[n]=0);for(this.TB=i,t=this.network.vertexes.i;t.next();)n=t.value,e=n.parent,null===e&&(e=n),0===e.angle||180===e.angle?(180===e.angle&&(n.Ut+=i[n.level]-n.width),n.width=i[n.level]):(270===e.angle&&(n.Vt+=i[n.level]-n.height),n.height=i[n.level])}else if(this.GA===py)for(t=this.network.vertexes.i;t.next();){for(i=t.value,e=0===i.angle||180===i.angle,o=-1,n=0;n<i.children.length;n++)var r=i.children[n],o=Math.max(o,e?r.width:r.height);if(0<=o)for(n=0;n<i.children.length;n++)r=i.children[n],e?(180===i.angle&&(r.Ut+=o-r.width),r.width=o):(270===i.angle&&(r.Vt+=o-r.height),r.height=o)}for(t=this.ud.i;t.next();)(e=t.value)instanceof zh&&this.layoutTree(e);this.arrangeTrees(),this.updateParts()}this.network=null,this.ud=new p(Object),this.Cf=!0},ah.prototype.findRoots=function(){for(var t=this.network.vertexes,e=t.i;e.next();){var i=e.value;switch(this.Nf){case Gf:0===i.mc.count&&this.ud.add(i);break;case _f:0===i.kc.count&&this.ud.add(i);break;default:Kh.k("Unhandled path value "+this.Nf.toString())}}0===this.ud.count&&null!==(t=hh(this,t))&&this.ud.add(t)},ah.prototype.removeChild=function(t,e){if(null!==t&&null!==e){for(var i=t.children,n=0,o=0;o<i.length;o++)i[o]===e&&n++;if(0<n){for(var n=Array(i.length-n),r=0,o=0;o<i.length;o++)i[o]!==e&&(n[r++]=i[o]);t.children=n}}},ah.prototype.initializeTreeVertexValues=function(t){var e=ph(this,t);if(t.copyInheritedPropertiesFrom(e),null!==t.parent&&t.parent.alignment===ty){for(var e=t.angle,i=t.parent.children,n=0;n<i.length&&t!==i[n];)n++;0==n%2?n!==i.length-1&&(e=90===e?180:180===e?270:270===e?180:270):e=90===e?0:180===e?90:270===e?0:90,t.angle=e}t.initialized=!0},ah.prototype.assignTreeVertexValues=function(){},ah.prototype.sortTreeVertexChildren=function(t){switch(t.sorting){case Uf:break;case Kf:t.children.reverse();break;case $f:t.children.sort(t.comparer);break;case Wf:t.children.sort(t.comparer),t.children.reverse();break;default:Kh.k("Unhandled sorting value "+t.sorting.toString())}},ah.prototype.Tz=function(){if(this.comments)for(var t=this.network.vertexes.i;t.next();)this.addComments(t.value)},ah.prototype.addComments=function(t){var e=t.angle,i=t.parent,n=0,o=Jf,o=!1;null!==i&&(n=i.angle,o=i.alignment,o=gh(o));var e=90===e||270===e,n=90===n||270===n,i=0===t.on,r=0,s=0,a=0,l=t.commentSpacing;if(null!==t.Pc)for(var h=t.Pc.PE();h.next();){var u=h.value;"Comment"===u.vd&&u.canLayout()&&(null===t.comments&&(t.comments=[]),t.comments.push(u),u.Je(),u=u.za,e&&!i||!o&&!n&&i||o&&n&&i?(r=Math.max(r,u.width),s+=u.height+Math.abs(a)):(r+=u.width+Math.abs(a),s=Math.max(s,u.height)),a=l)}null!==t.comments&&(e&&!i||!o&&!n&&i||o&&n&&i?(r+=Math.abs(t.commentMargin),s=Math.max(0,s-t.height)):(s+=Math.abs(t.commentMargin),r=Math.max(0,r-t.width)),o=Kh.lg(0,0,t.M.width+r,t.M.height+s),t.gb=o,Kh.Db(o))},ah.prototype.layoutComments=function(t){if(null!==t.comments){var e=t.Pc.za,i=t.parent,n=t.angle,o=0,r=Jf,r=!1;null!==i&&(o=i.angle,r=i.alignment,r=gh(r));for(var i=90===n||270===n,n=90===o||270===o,s=0===t.on,a=mh(t),l=0,h=t.comments,u=h.length,c=Kh.K(),d=0;d<u;d++){var p=h[d],f=p.za;if(i&&!s||!r&&!n&&s||r&&n&&s){if(135<o&&!r||n&&a)if(0<=t.commentMargin)for(c.m(t.M.x-t.commentMargin-f.width,t.M.y+l),p.move(c),p=p.Ng();p.next();){var y=p.value;y.Ab=du,y.Bb=pu}else for(c.m(t.M.x+2*t.T.x-t.commentMargin,t.M.y+l),p.move(c),p=p.Ng();p.next();)y=p.value,y.Ab=pu,y.Bb=du;else if(0<=t.commentMargin)for(c.m(t.M.x+2*t.T.x+t.commentMargin,t.M.y+l),p.move(c),p=p.Ng();p.next();)y=p.value,y.Ab=pu,y.Bb=du;else for(c.m(t.M.x+t.commentMargin-f.width,t.M.y+l),p.move(c),p=p.Ng();p.next();)y=p.value,y.Ab=du,y.Bb=pu;l=0<=t.commentSpacing?l+(f.height+t.commentSpacing):l+(t.commentSpacing-f.height)}else{if(135<o&&!r||!n&&a)if(0<=t.commentMargin)for(c.m(t.M.x+l,t.M.y-t.commentMargin-f.height),p.move(c),p=p.Ng();p.next();)y=p.value,y.Ab=cu,y.Bb=fu;else for(c.m(t.M.x+l,t.M.y+2*t.T.y-t.commentMargin),p.move(c),p=p.Ng();p.next();)y=p.value,y.Ab=fu,y.Bb=cu;else if(0<=t.commentMargin)for(c.m(t.M.x+l,t.M.y+2*t.T.y+t.commentMargin),p.move(c),p=p.Ng();p.next();)y=p.value,y.Ab=fu,y.Bb=cu;else for(c.m(t.M.x+l,t.M.y+t.commentMargin-f.height),p.move(c),p=p.Ng();p.next();)y=p.value,y.Ab=cu,y.Bb=fu;l=0<=t.commentSpacing?l+(f.width+t.commentSpacing):l+(t.commentSpacing-f.width)}}if(Kh.v(c),e=l-t.commentSpacing-(i?e.height:e.width),this.Nf===Gf)for(o=t.kc;o.next();)null===(t=o.value.link)||t.Zl||(t.Ul=0<e?e:NaN);else for(o=t.mc;o.next();)null===(t=o.value.link)||t.Zl||(t.mm=0<e?e:NaN)}},ah.prototype.layoutTree=function(t){if(null!==t){for(var e=t.children,i=e.length,n=0;n<i;n++)this.layoutTree(e[n]);switch(t.compaction){case ny:bh(this,t);break;case oy:if(t.alignment===ty)bh(this,t);else if(0===t.on){var n=t.parent,e=!1,i=0,o=Jf;null!==n&&(i=n.angle,o=n.alignment,e=gh(o)),n=mh(t),t.pa.m(0,0),t.kb.m(t.width,t.height),null===t.parent||null===t.comments||(180!==i&&270!==i||e)&&!n?t.Na.m(0,0):180===i&&!e||(90===i||270===i)&&n?t.Na.m(t.width-2*t.T.x,0):t.Na.m(0,t.height-2*t.T.y),t.mu=null,t.Gu=null}else{for(var r=Ah(t),e=90===r||270===r,s=0,a=t.children,l=a.length,h=0;h<l;h++)var u=a[h],s=Math.max(s,e?u.kb.width:u.kb.height);var c=t.alignment,n=c===Xf,d=c===Qf,p=gh(c),f=Math.max(0,t.breadthLimit),i=Bh(t),y=t.nodeSpacing,g=Vh(t),v=t.rowSpacing,m=0;(n||d||t.mq||t.nq&&1===t.maxGenerationCount)&&(m=Math.max(0,t.rowIndent));var n=t.width,o=t.height,b=0,w=0,x=0,C=null,k=null,S=0,M=0,T=0,E=0,I=0,P=0,D=0,O=0,u=0;if(p&&!vh(c)&&135<r&&a.reverse(),vh(c))if(1<l)for(h=0;h<l;h++)0==h%2&&h!==l-1?O=Math.max(O,e?a[h].kb.width:a[h].kb.height):0!=h%2&&(u=Math.max(u,e?a[h].kb.width:a[h].kb.height));else 1===l&&(O=e?a[0].kb.width:a[0].kb.height);if(p){switch(c){case Zf:w=135>r?wh(t,a,O,b,w):xh(t,a,O,b,w),O=w.x,b=w.width,w=w.height;break;case ey:for(h=0;h<l;h++){var u=a[h],L=u.kb,C=0===P?0:v;e?(u.pa.m(s-L.width,E+C),b=Math.max(b,L.width),w=Math.max(w,E+C+L.height),E+=C+L.height):(u.pa.m(T+C,s-L.height),b=Math.max(b,T+C+L.width),w=Math.max(w,L.height),T+=C+L.width),P++}break;case iy:for(h=0;h<l;h++)u=a[h],L=u.kb,C=0===P?0:v,e?(u.pa.m(y/2+t.T.x,E+C),b=Math.max(b,L.width),w=Math.max(w,E+C+L.height),E+=C+L.height):(u.pa.m(T+C,y/2+t.T.y),b=Math.max(b,T+C+L.width),w=Math.max(w,L.height),T+=C+L.width),P++}C=Nh(this,2),k=Nh(this,2),e?(C[0].m(0,0),C[1].m(0,w),k[0].m(b,0)):(C[0].m(0,0),C[1].m(b,0),k[0].m(0,w)),k[1].m(b,w)}else for(h=0;h<l;h++){if(u=a[h],L=u.kb,e){0<f&&0<P&&T+y+L.width>f&&(T<s&&Ih(t,c,s-T,0,D,h-1),I++,P=0,D=h,x=w,T=0,E=135<r?-w-v:w+v),Dh(this,u,0,E);var N=0;if(0===P)C=u.mu,k=u.Gu,S=L.width,M=L.height,(null===C||null===k||r!==Ah(u))&&(C=Nh(this,2),k=Nh(this,2),C[0].m(0,0),C[1].m(0,M),k[0].m(S,0),k[1].m(S,M));else{var j=Kh.cb(),M=Lh(this,t,u,C,k,S,M,j),N=M.x,C=j[0],k=j[1],S=M.width,M=M.height;Kh.ta(j),T<L.width&&0>N&&(Ph(t,-N,0,D,h-1),Oh(C,-N,0),Oh(k,-N,0),N=0)}u.pa.m(N,E),b=Math.max(b,S),w=Math.max(w,x+(0===I?0:v)+L.height),T=S}else 0<f&&0<P&&E+y+L.height>f&&(E<s&&Ih(t,c,0,s-E,D,h-1),I++,P=0,D=h,x=b,E=0,T=135<r?-b-v:b+v),Dh(this,u,T,0),N=0,0===P?(C=u.mu,k=u.Gu,S=L.width,M=L.height,(null===C||null===k||r!==Ah(u))&&(C=Nh(this,2),k=Nh(this,2),C[0].m(0,0),C[1].m(S,0),k[0].m(0,M),k[1].m(S,M))):(j=Kh.cb(),M=Lh(this,t,u,C,k,S,M,j),N=M.x,C=j[0],k=j[1],S=M.width,M=M.height,Kh.ta(j),E<L.height&&0>N&&(Ph(t,0,-N,D,h-1),Oh(C,0,-N),Oh(k,0,-N),N=0)),u.pa.m(T,N),w=Math.max(w,M),b=Math.max(b,x+(0===I?0:v)+L.width),E=M;P++}switch(0<I&&(e?(w+=Math.max(0,i),T<b&&Ih(t,c,b-T,0,D,l-1),0<m&&(d||Ph(t,m,0,0,l-1),b+=m)):(b+=Math.max(0,i),E<w&&Ih(t,c,0,w-E,D,l-1),0<m&&(d||Ph(t,0,m,0,l-1),w+=m))),m=d=0,c){case Yf:e?d+=b/2-t.T.x-g/2:m+=w/2-t.T.y-g/2;break;case Jf:0<I?e?d+=b/2-t.T.x-g/2:m+=w/2-t.T.y-g/2:e?(O=a[0].pa.x+a[0].Na.x,h=a[l-1].pa.x+a[l-1].Na.x+2*a[l-1].T.x,d+=O+(h-O)/2-t.T.x-g/2):(O=a[0].pa.y+a[0].Na.y,h=a[l-1].pa.y+a[l-1].Na.y+2*a[l-1].T.y,m+=O+(h-O)/2-t.T.y-g/2);break;case Xf:e?(d-=g,b+=g):(m-=g,w+=g);break;case Qf:e?(d+=b-t.width+g,b+=g):(m+=w-t.height+g,w+=g);break;case Zf:e?d=1<l?d+(O+y/2-t.T.x):d+(a[0].T.x-t.T.x+a[0].Na.x):m=1<l?m+(O+y/2-t.T.y):m+(a[0].T.y-t.T.y+a[0].Na.y);break;case ey:e?d+=b+y/2-t.T.x:m+=w+y/2-t.T.y;break;case iy:break;default:Kh.k("Unhandled alignment value "+c.toString())}for(h=0;h<l;h++)u=a[h],e?u.pa.m(u.pa.x+u.Na.x-d,u.pa.y+(135<r?(p?-w:-u.kb.height)+u.Na.y-i:o+i+u.Na.y)):u.pa.m(u.pa.x+(135<r?(p?-b:-u.kb.width)+u.Na.x-i:n+i+u.Na.x),u.pa.y+u.Na.y-m);if(l=a=0,p?e?(b=Mh(t,b,d),0>d&&(d=0),135<r&&(m+=w+i),w+=o+i,c===iy&&(a+=y/2+t.T.x),l+=o+i):(135<r&&(d+=b+i),b+=n+i,w=Th(t,w,m),0>m&&(m=0),c===iy&&(l+=y/2+t.T.y),a+=n+i):e?(null===t.comments?n>b&&(c=Eh(c,n-b,0),a=c.x,l=c.y,b=n,d=0):b=Mh(t,b,d),0>d&&(a-=d,d=0),135<r&&(m+=w+i),w=Math.max(Math.max(w,o),w+o+i),l+=o+i):(135<r&&(d+=b+i),b=Math.max(Math.max(b,n),b+n+i),null===t.comments?o>w&&(c=Eh(c,0,o-w),a=c.x,l=c.y,w=o,m=0):w=Th(t,w,m),0>m&&(l-=m,m=0),a+=n+i),0<I)r=Nh(this,4),c=Nh(this,4),e?(r[2].m(0,o+i),r[3].m(r[2].x,w),c[2].m(b,r[2].y),c[3].m(c[2].x,r[3].y)):(r[2].m(n+i,0),r[3].m(b,r[2].y),c[2].m(r[2].x,w),c[3].m(r[3].x,c[2].y));else{for(r=Nh(this,C.length+2),c=Nh(this,k.length+2),h=0;h<C.length;h++)p=C[h],r[h+2].m(p.x+a,p.y+l);for(h=0;h<k.length;h++)p=k[h],c[h+2].m(p.x+a,p.y+l)}e?(r[0].m(d,0),r[1].m(r[0].x,o),r[2].y<r[1].y&&(r[2].x>r[0].x?r[2].assign(r[1]):r[1].assign(r[2])),r[3].y<r[2].y&&(r[3].x>r[0].x?r[3].assign(r[2]):r[2].assign(r[3])),c[0].m(d+n,0),c[1].m(c[0].x,o),c[2].y<c[1].y&&(c[2].x<c[0].x?c[2].assign(c[1]):c[1].assign(c[2])),c[3].y<c[2].y&&(c[3].x<c[0].x?c[3].assign(c[2]):c[2].assign(c[3])),r[2].y-=i/2,c[2].y-=i/2):(r[0].m(0,m),r[1].m(n,r[0].y),r[2].x<r[1].x&&(r[2].y>r[0].y?r[2].assign(r[1]):r[1].assign(r[2])),r[3].x<r[2].x&&(r[3].y>r[0].y?r[3].assign(r[2]):r[2].assign(r[3])),c[0].m(0,m+o),c[1].m(n,c[0].y),c[2].x<c[1].x&&(c[2].y<c[0].y?c[2].assign(c[1]):c[1].assign(c[2])),c[3].x<c[2].x&&(c[3].y<c[0].y?c[3].assign(c[2]):c[2].assign(c[3])),r[2].x-=i/2,c[2].x-=i/2),jh(this,C),jh(this,k),t.mu=r,t.Gu=c,t.Na.m(d,m),t.kb.m(b,w)}break;default:Kh.k("Unhandled compaction value "+t.compaction.toString())}}},ah.prototype.arrangeTrees=function(){if(this.nd===cy)for(var t=this.ud.i;t.next();){var e=t.value;if(e instanceof zh){var i=e.Pc;if(null!==i){var n=i.position,i=n.x,n=n.y;isFinite(i)||(i=0),isFinite(n)||(n=0),Rh(this,e,i,n)}}}else{for(i=[],t=this.ud.i;t.next();)(e=t.value)instanceof zh&&i.push(e);switch(this.sorting){case Uf:break;case Kf:i.reverse();break;case $f:i.sort(this.comparer);break;case Wf:i.sort(this.comparer),i.reverse();break;default:Kh.k("Unhandled sorting value "+this.sorting.toString())}for(e=this.qe,t=e.x,e=e.y,n=0;n<i.length;n++){var o=i[n];switch(Rh(this,o,t+o.Na.x,e+o.Na.y),this.nd){case hy:e+=o.kb.height+this.ng.height;break;case uy:t+=o.kb.width+this.ng.width;break;default:Kh.k("Unhandled arrangement value "+this.nd.toString())}}}},ah.prototype.commitLayout=function(){this.mB(),this.commitNodes(),this.Yz(),this.ku&&this.commitLinks()},ah.prototype.commitNodes=function(){for(var t=this.network.vertexes.i;t.next();)t.value.commit();for(t.reset();t.next();)this.layoutComments(t.value)},ah.prototype.Yz=function(){if(this.GA===fy){for(var t=this.TB,e=[],i=null,n=this.network.vertexes.i;n.next();){var o=n.value;null===i?i=o.gb.copy():i.Jh(o.gb);var r=e[o.level],r=void 0===r?Bh(o):Math.max(r,Bh(o));e[o.level]=r}for(n=0;n<e.length;n++)void 0===e[n]&&(e[n]=0);90===this.angle||270===this.angle?(i.Yf(this.nodeSpacing/2,this.layerSpacing),o=new w(-this.nodeSpacing/2,-this.layerSpacing/2)):(i.Yf(this.layerSpacing,this.nodeSpacing/2),o=new w(-this.layerSpacing/2,-this.nodeSpacing/2));var r=[],i=90===this.angle||270===this.angle?i.width:i.height,s=0;if(180===this.angle||270===this.angle)for(n=0;n<t.length;n++)s+=t[n]+e[n];for(n=0;n<t.length;n++){var a=t[n]+e[n];270===this.angle?(s-=a,r.push(new S(0,s,i,a))):90===this.angle?(r.push(new S(0,s,i,a)),s+=a):180===this.angle?(s-=a,r.push(new S(s,0,a,i))):(r.push(new S(s,0,a,i)),s+=a)}this.commitLayers(r,o)}},ah.prototype.commitLayers=function(){},ah.prototype.commitLinks=function(){for(var t=this.network.edges.i;t.next();)t.value.commit()},ah.prototype.mB=function(){for(var t=this.ud.i;t.next();){var e=t.value;e instanceof zh&&Fh(this,e)}},ah.prototype.setPortSpots=function(t){var e=t.alignment;if(gh(e)){var i,n=this.Nf===Gf,o=Ah(t);switch(o){case 0:i=pu;break;case 90:i=fu;break;case 180:i=du;break;default:i=cu}var r=t.children,s=r.length;switch(e){case Zf:case ty:for(e=0;e<s;e++){var a=r[e],a=(n?a.mc:a.kc).first();if(null!==a&&null!==(a=a.link)){var l=90===o||270===o?du:cu;if(1===s||e===s-1&&1==s%2)switch(o){case 0:l=du;break;case 90:l=cu;break;case 180:l=pu;break;default:l=fu}else 0==e%2&&(l=90===o||270===o?pu:fu);n?(t.setsPortSpot&&(a.Ab=i),t.setsChildPortSpot&&(a.Bb=l)):(t.setsPortSpot&&(a.Ab=l),t.setsChildPortSpot&&(a.Bb=i))}}break;case ey:for(l=90===o||270===o?pu:fu,o=n?t.kc:t.mc;o.next();)null!==(a=o.value.link)&&(n?(t.setsPortSpot&&(a.Ab=i),t.setsChildPortSpot&&(a.Bb=l)):(t.setsPortSpot&&(a.Ab=l),t.setsChildPortSpot&&(a.Bb=i)));break;case iy:for(l=90===o||270===o?du:cu,o=n?t.kc:t.mc;o.next();)null!==(a=o.value.link)&&(n?(t.setsPortSpot&&(a.Ab=i),t.setsChildPortSpot&&(a.Bb=l)):(t.setsPortSpot&&(a.Ab=l),t.setsChildPortSpot&&(a.Bb=i)))}}else if(n=Ah(t),this.Nf===Gf){for(i=t.kc;i.next();)if(null!==(o=i.value.link)){if(t.setsPortSpot)if(t.portSpot.Xc())switch(n){case 0:o.Ab=pu;break;case 90:o.Ab=fu;break;case 180:o.Ab=du;break;default:o.Ab=cu}else o.Ab=t.portSpot;if(t.setsChildPortSpot)if(t.childPortSpot.Xc())switch(n){case 0:o.Bb=du;break;case 90:o.Bb=cu;break;case 180:o.Bb=pu;break;default:o.Bb=fu}else o.Bb=t.childPortSpot}}else for(i=t.mc;i.next();)if(null!==(o=i.value.link)){if(t.setsPortSpot)if(t.portSpot.Xc())switch(n){case 0:o.Bb=pu;break;case 90:o.Bb=fu;break;case 180:o.Bb=du;break;default:o.Bb=cu}else o.Bb=t.portSpot;if(t.setsChildPortSpot)if(t.childPortSpot.Xc())switch(n){case 0:o.Ab=du;break;case 90:o.Ab=cu;break;case 180:o.Ab=pu;break;default:o.Ab=fu}else o.Ab=t.childPortSpot}},Kh.defineProperty(ah,{JL:"roots"},function(){return this.ud},function(t){this.ud!==t&&(Kh.G(t,p,ah,"roots"),this.ud=t,this.J())}),Kh.defineProperty(ah,{path:"path"},function(){return this.Bs},function(t){this.Bs!==t&&(Kh.mb(t,ah,ah,"path"),this.Bs=t,this.J())}),Kh.defineProperty(ah,{UJ:"treeStyle"},function(){return this.rt},function(t){this.nd!==t&&(Kh.mb(t,ah,ah,"treeStyle"),t===ry||t===ay||t===sy||t===ly)&&(this.rt=t,this.J())}),Kh.defineProperty(ah,{GA:"layerStyle"},function(){return this.Vv},function(t){this.nd!==t&&(Kh.mb(t,ah,ah,"layerStyle"),t===dy||t===py||t===fy)&&(this.Vv=t,this.J())}),Kh.defineProperty(ah,{comments:"comments"},function(){return this.Lh},function(t){this.Lh!==t&&(Kh.j(t,"boolean",ah,"comments"),this.Lh=t,this.J())}),Kh.defineProperty(ah,{Vf:"arrangement"},function(){return this.nd},function(t){this.nd!==t&&(Kh.mb(t,ah,ah,"arrangement"),t===hy||t===uy||t===cy)&&(this.nd=t,this.J())}),Kh.defineProperty(ah,{rE:"arrangementSpacing"},function(){return this.ng},function(t){Kh.G(t,k,ah,"arrangementSpacing"),this.ng.L(t)||(this.ng.assign(t),this.J())}),Kh.defineProperty(ah,{IL:"rootDefaults"},function(){return this.va},function(t){this.va!==t&&(Kh.G(t,zh,ah,"rootDefaults"),this.va=t,this.J())}),Kh.defineProperty(ah,{mK:"alternateDefaults"},function(){return this.wa},function(t){this.wa!==t&&(Kh.G(t,zh,ah,"alternateDefaults"),this.wa=t,this.J())}),Kh.defineProperty(ah,{sorting:"sorting"},function(){return this.va.sorting},function(t){this.va.sorting!==t&&(Kh.mb(t,ah,ah,"sorting"),t===Uf||t===Kf||t===$f||Wf)&&(this.va.sorting=t,this.J())}),Kh.defineProperty(ah,{comparer:"comparer"},function(){return this.va.comparer},function(t){this.va.comparer!==t&&(Kh.j(t,"function",ah,"comparer"),this.va.comparer=t,this.J())}),Kh.defineProperty(ah,{angle:"angle"},function(){return this.va.angle},function(t){this.va.angle!==t&&(Kh.j(t,"number",ah,"angle"),0===t||90===t||180===t||270===t?(this.va.angle=t,this.J()):Kh.k("TreeLayout.angle must be 0, 90, 180, or 270"))}),Kh.defineProperty(ah,{alignment:"alignment"},function(){return this.va.alignment},function(t){this.va.alignment!==t&&(Kh.mb(t,ah,ah,"alignment"),this.va.alignment=t,this.J())}),Kh.defineProperty(ah,{nodeIndent:"nodeIndent"},function(){return this.va.nodeIndent},function(t){this.va.nodeIndent!==t&&(Kh.j(t,"number",ah,"nodeIndent"),0<=t&&(this.va.nodeIndent=t,this.J()))}),Kh.defineProperty(ah,{nodeIndentPastParent:"nodeIndentPastParent"},function(){return this.va.nodeIndentPastParent},function(t){this.va.nodeIndentPastParent!==t&&(Kh.j(t,"number",ah,"nodeIndentPastParent"),0<=t&&1>=t&&(this.va.nodeIndentPastParent=t,this.J()))}),Kh.defineProperty(ah,{nodeSpacing:"nodeSpacing"},function(){return this.va.nodeSpacing},function(t){this.va.nodeSpacing!==t&&(Kh.j(t,"number",ah,"nodeSpacing"),this.va.nodeSpacing=t,this.J())}),Kh.defineProperty(ah,{layerSpacing:"layerSpacing"},function(){return this.va.layerSpacing},function(t){this.va.layerSpacing!==t&&(Kh.j(t,"number",ah,"layerSpacing"),this.va.layerSpacing=t,this.J())}),Kh.defineProperty(ah,{layerSpacingParentOverlap:"layerSpacingParentOverlap"},function(){return this.va.layerSpacingParentOverlap},function(t){this.va.layerSpacingParentOverlap!==t&&(Kh.j(t,"number",ah,"layerSpacingParentOverlap"),0<=t&&1>=t&&(this.va.layerSpacingParentOverlap=t,this.J()))}),Kh.defineProperty(ah,{compaction:"compaction"},function(){return this.va.compaction},function(t){this.va.compaction!==t&&(Kh.mb(t,ah,ah,"compaction"),t===ny||t===oy)&&(this.va.compaction=t,this.J())}),Kh.defineProperty(ah,{breadthLimit:"breadthLimit"},function(){return this.va.breadthLimit},function(t){this.va.breadthLimit!==t&&(Kh.j(t,"number",ah,"breadthLimit"),0<=t&&(this.va.breadthLimit=t,this.J()))}),Kh.defineProperty(ah,{rowSpacing:"rowSpacing"},function(){return this.va.rowSpacing},function(t){this.va.rowSpacing!==t&&(Kh.j(t,"number",ah,"rowSpacing"),this.va.rowSpacing=t,this.J())}),Kh.defineProperty(ah,{rowIndent:"rowIndent"},function(){return this.va.rowIndent},function(t){this.va.rowIndent!==t&&(Kh.j(t,"number",ah,"rowIndent"),0<=t&&(this.va.rowIndent=t,this.J()))}),Kh.defineProperty(ah,{commentSpacing:"commentSpacing"},function(){return this.va.commentSpacing},function(t){this.va.commentSpacing!==t&&(Kh.j(t,"number",ah,"commentSpacing"),this.va.commentSpacing=t,this.J())}),Kh.defineProperty(ah,{commentMargin:"commentMargin"},function(){return this.va.commentMargin},function(t){this.va.commentMargin!==t&&(Kh.j(t,"number",ah,"commentMargin"),this.va.commentMargin=t,this.J())}),Kh.defineProperty(ah,{setsPortSpot:"setsPortSpot"},function(){return this.va.setsPortSpot},function(t){this.va.setsPortSpot!==t&&(Kh.j(t,"boolean",ah,"setsPortSpot"),this.va.setsPortSpot=t,this.J())}),Kh.defineProperty(ah,{portSpot:"portSpot"},function(){return this.va.portSpot},function(t){Kh.G(t,N,ah,"portSpot"),this.va.portSpot.L(t)||(this.va.portSpot=t,this.J())}),Kh.defineProperty(ah,{setsChildPortSpot:"setsChildPortSpot"},function(){return this.va.setsChildPortSpot},function(t){this.va.setsChildPortSpot!==t&&(Kh.j(t,"boolean",ah,"setsChildPortSpot"),this.va.setsChildPortSpot=t,this.J())}),Kh.defineProperty(ah,{childPortSpot:"childPortSpot"},function(){return this.va.childPortSpot},function(t){Kh.G(t,N,ah,"childPortSpot"),this.va.childPortSpot.L(t)||(this.va.childPortSpot=t,this.J())}),Kh.defineProperty(ah,{xK:"alternateSorting"},function(){return this.wa.sorting},function(t){this.wa.sorting!==t&&(Kh.mb(t,ah,ah,"alternateSorting"),t===Uf||t===Kf||t===$f||Wf)&&(this.wa.sorting=t,this.J())}),Kh.defineProperty(ah,{lK:"alternateComparer"},function(){return this.wa.comparer},function(t){this.wa.comparer!==t&&(Kh.j(t,"function",ah,"alternateComparer"),this.wa.comparer=t,this.J())}),Kh.defineProperty(ah,{fK:"alternateAngle"},function(){return this.wa.angle},function(t){this.wa.angle!==t&&(Kh.j(t,"number",ah,"alternateAngle"),0===t||90===t||180===t||270===t)&&(this.wa.angle=t,this.J())}),Kh.defineProperty(ah,{eK:"alternateAlignment"},function(){return this.wa.alignment},function(t){this.wa.alignment!==t&&(Kh.mb(t,ah,ah,"alternateAlignment"),this.wa.alignment=t,this.J())}),Kh.defineProperty(ah,{pK:"alternateNodeIndent"},function(){return this.wa.nodeIndent},function(t){this.wa.nodeIndent!==t&&(Kh.j(t,"number",ah,"alternateNodeIndent"),0<=t&&(this.wa.nodeIndent=t,this.J()))}),Kh.defineProperty(ah,{qK:"alternateNodeIndentPastParent"},function(){return this.wa.nodeIndentPastParent},function(t){this.wa.nodeIndentPastParent!==t&&(Kh.j(t,"number",ah,"alternateNodeIndentPastParent"),0<=t&&1>=t&&(this.wa.nodeIndentPastParent=t,this.J()))}),Kh.defineProperty(ah,{rK:"alternateNodeSpacing"},function(){return this.wa.nodeSpacing},function(t){this.wa.nodeSpacing!==t&&(Kh.j(t,"number",ah,"alternateNodeSpacing"),this.wa.nodeSpacing=t,this.J())}),Kh.defineProperty(ah,{nK:"alternateLayerSpacing"},function(){return this.wa.layerSpacing},function(t){this.wa.layerSpacing!==t&&(Kh.j(t,"number",ah,"alternateLayerSpacing"),this.wa.layerSpacing=t,this.J())}),Kh.defineProperty(ah,{oK:"alternateLayerSpacingParentOverlap"},function(){return this.wa.layerSpacingParentOverlap},function(t){this.wa.layerSpacingParentOverlap!==t&&(Kh.j(t,"number",ah,"alternateLayerSpacingParentOverlap"),0<=t&&1>=t&&(this.wa.layerSpacingParentOverlap=t,this.J()))}),Kh.defineProperty(ah,{kK:"alternateCompaction"},function(){return this.wa.compaction},function(t){this.wa.compaction!==t&&(Kh.mb(t,ah,ah,"alternateCompaction"),t===ny||t===oy)&&(this.wa.compaction=t,this.J())}),Kh.defineProperty(ah,{gK:"alternateBreadthLimit"},function(){return this.wa.breadthLimit},function(t){this.wa.breadthLimit!==t&&(Kh.j(t,"number",ah,"alternateBreadthLimit"),0<=t&&(this.wa.breadthLimit=t,this.J()))}),Kh.defineProperty(ah,{uK:"alternateRowSpacing"},function(){return this.wa.rowSpacing},function(t){this.wa.rowSpacing!==t&&(Kh.j(t,"number",ah,"alternateRowSpacing"),this.wa.rowSpacing=t,this.J())}),Kh.defineProperty(ah,{tK:"alternateRowIndent"},function(){return this.wa.rowIndent},function(t){this.wa.rowIndent!==t&&(Kh.j(t,"number",ah,"alternateRowIndent"),0<=t&&(this.wa.rowIndent=t,this.J()))}),Kh.defineProperty(ah,{jK:"alternateCommentSpacing"},function(){return this.wa.commentSpacing},function(t){this.wa.commentSpacing!==t&&(Kh.j(t,"number",ah,"alternateCommentSpacing"),this.wa.commentSpacing=t,this.J())}),Kh.defineProperty(ah,{iK:"alternateCommentMargin"},function(){return this.wa.commentMargin},function(t){this.wa.commentMargin!==t&&(Kh.j(t,"number",ah,"alternateCommentMargin"),this.wa.commentMargin=t,this.J())}),Kh.defineProperty(ah,{wK:"alternateSetsPortSpot"},function(){return this.wa.setsPortSpot},function(t){this.wa.setsPortSpot!==t&&(Kh.j(t,"boolean",ah,"alternateSetsPortSpot"),this.wa.setsPortSpot=t,this.J())}),Kh.defineProperty(ah,{sK:"alternatePortSpot"},function(){return this.wa.portSpot},function(t){Kh.G(t,N,ah,"alternatePortSpot"),this.wa.portSpot.L(t)||(this.wa.portSpot=t,this.J())}),Kh.defineProperty(ah,{vK:"alternateSetsChildPortSpot"},function(){return this.wa.setsChildPortSpot},function(t){this.wa.setsChildPortSpot!==t&&(Kh.j(t,"boolean",ah,"alternateSetsChildPortSpot"),this.wa.setsChildPortSpot=t,this.J())}),Kh.defineProperty(ah,{hK:"alternateChildPortSpot"},function(){return this.wa.childPortSpot},function(t){Kh.G(t,N,ah,"alternateChildPortSpot"),this.wa.childPortSpot.L(t)||(this.wa.childPortSpot=t,this.J())});var qf;ah.PathDefault=qf=Kh.p(ah,"PathDefault",-1);var Gf;ah.PathDestination=Gf=Kh.p(ah,"PathDestination",0);var _f;ah.PathSource=_f=Kh.p(ah,"PathSource",1);var Uf;ah.SortingForwards=Uf=Kh.p(ah,"SortingForwards",10);var Kf;ah.SortingReverse=Kf=Kh.p(ah,"SortingReverse",11);var $f;ah.SortingAscending=$f=Kh.p(ah,"SortingAscending",12);var Wf;ah.SortingDescending=Wf=Kh.p(ah,"SortingDescending",13);var Yf;ah.AlignmentCenterSubtrees=Yf=Kh.p(ah,"AlignmentCenterSubtrees",20);var Jf;ah.AlignmentCenterChildren=Jf=Kh.p(ah,"AlignmentCenterChildren",21);var Xf;ah.AlignmentStart=Xf=Kh.p(ah,"AlignmentStart",22);var Qf;ah.AlignmentEnd=Qf=Kh.p(ah,"AlignmentEnd",23);var Zf;ah.AlignmentBus=Zf=Kh.p(ah,"AlignmentBus",24);var ty;ah.AlignmentBusBranching=ty=Kh.p(ah,"AlignmentBusBranching",25);var ey;ah.AlignmentTopLeftBus=ey=Kh.p(ah,"AlignmentTopLeftBus",26);var iy;ah.AlignmentBottomRightBus=iy=Kh.p(ah,"AlignmentBottomRightBus",27);var ny;ah.CompactionNone=ny=Kh.p(ah,"CompactionNone",30);var oy;ah.CompactionBlock=oy=Kh.p(ah,"CompactionBlock",31);var ry;ah.StyleLayered=ry=Kh.p(ah,"StyleLayered",40);var sy;ah.StyleLastParents=sy=Kh.p(ah,"StyleLastParents",41);var ay;ah.StyleAlternating=ay=Kh.p(ah,"StyleAlternating",42);var ly;ah.StyleRootOnly=ly=Kh.p(ah,"StyleRootOnly",43);var hy;ah.ArrangementVertical=hy=Kh.p(ah,"ArrangementVertical",50);var uy;ah.ArrangementHorizontal=uy=Kh.p(ah,"ArrangementHorizontal",51);var cy;ah.ArrangementFixedRoots=cy=Kh.p(ah,"ArrangementFixedRoots",52);var dy;ah.LayerIndividual=dy=Kh.p(ah,"LayerIndividual",60);var py;ah.LayerSiblings=py=Kh.p(ah,"LayerSiblings",61);var fy;ah.LayerUniform=fy=Kh.p(ah,"LayerUniform",62),Kh.Ka(Hh,Ba),Kh.ga("TreeNetwork",Hh),Hh.prototype.createVertex=function(){return new zh},Hh.prototype.createEdge=function(){return new qh},Kh.Ka(zh,Ga),Kh.ga("TreeVertex",zh),zh.prototype.copyInheritedPropertiesFrom=function(t){null!==t&&(this.sorting=t.sorting,this.comparer=t.comparer,this.angle=t.angle,this.alignment=t.alignment,this.nodeIndent=t.nodeIndent,this.nodeIndentPastParent=t.nodeIndentPastParent,this.nodeSpacing=t.nodeSpacing,this.layerSpacing=t.layerSpacing,this.layerSpacingParentOverlap=t.layerSpacingParentOverlap,this.compaction=t.compaction,this.breadthLimit=t.breadthLimit,this.rowSpacing=t.rowSpacing,this.rowIndent=t.rowIndent,this.commentSpacing=t.commentSpacing,this.commentMargin=t.commentMargin,this.setsPortSpot=t.setsPortSpot,this.portSpot=t.portSpot,this.setsChildPortSpot=t.setsChildPortSpot,this.childPortSpot=t.childPortSpot)},Kh.u(zh,{on:"childrenCount"},function(){return this.children.length}),Kh.defineProperty(zh,{HL:"relativePosition"},function(){return this.pa},function(t){this.pa.set(t)}),Kh.defineProperty(zh,{UL:"subtreeSize"},function(){return this.kb},function(t){this.kb.set(t)}),Kh.defineProperty(zh,{TL:"subtreeOffset"},function(){return this.Na},function(t){this.Na.set(t)}),Kh.Ka(qh,_a),Kh.ga("TreeEdge",qh),qh.prototype.commit=function(){var t=this.link;if(null!==t&&!t.Zl){var e=this.network.Tb,i=null,n=null;switch(e.Nf){case Gf:i=this.fromVertex,n=this.toVertex;break;case _f:i=this.toVertex,n=this.fromVertex;break;default:Kh.k("Unhandled path value "+e.Nf.toString())}if(null!==i&&null!==n)if(e=this.Is,0!==e.x||0!==e.y||i.xJ){var n=i.gb,o=Ah(i),r=Bh(i),s=i.rowSpacing;t.ao();var a,l,h=t.af===zp,u=t.ac,c=0;if(t.hm(),u||h){for(c=2;4<t.qa;)t.WF(2);a=t.l(1),l=t.l(2)}else{for(c=1;3<t.qa;)t.WF(1);a=t.l(0),l=t.l(t.qa-1)}var d=t.l(t.qa-1),p=0;0===o?(i.alignment===Qf?(p=n.bottom+e.y,0===e.y&&a.y>d.y+i.rowIndent&&(p=Math.min(p,Math.max(a.y,p-Vh(i))))):i.alignment===Xf?(p=n.top+e.y,0===e.y&&a.y<d.y-i.rowIndent&&(p=Math.max(p,Math.min(a.y,p+Vh(i))))):p=i.mq||i.nq&&1===i.maxGenerationCount?n.top-i.Na.y+e.y:n.y+n.height/2+e.y,h?(t.w(c,a.x,p),c++,t.w(c,n.right+r,p),c++,t.w(c,n.right+r+(e.x-s)/3,p),c++,t.w(c,n.right+r+2*(e.x-s)/3,p),c++,t.w(c,n.right+r+(e.x-s),p),c++,t.w(c,l.x,p)):(u&&(t.w(c,n.right+r/2,a.y),c++),t.w(c,n.right+r/2,p),c++,t.w(c,n.right+r+e.x-(u?s/2:s),p),c++,u&&t.w(c,t.l(c-1).x,l.y))):90===o?(i.alignment===Qf?(p=n.right+e.x,0===e.x&&a.x>d.x+i.rowIndent&&(p=Math.min(p,Math.max(a.x,p-Vh(i))))):i.alignment===Xf?(p=n.left+e.x,0===e.x&&a.x<d.x-i.rowIndent&&(p=Math.max(p,Math.min(a.x,p+Vh(i))))):p=i.mq||i.nq&&1===i.maxGenerationCount?n.left-i.Na.x+e.x:n.x+n.width/2+e.x,h?(t.w(c,p,a.y),c++,t.w(c,p,n.bottom+r),c++,t.w(c,p,n.bottom+r+(e.y-s)/3),c++,t.w(c,p,n.bottom+r+2*(e.y-s)/3),c++,t.w(c,p,n.bottom+r+(e.y-s)),c++,t.w(c,p,l.y)):(u&&(t.w(c,a.x,n.bottom+r/2),c++),t.w(c,p,n.bottom+r/2),c++,t.w(c,p,n.bottom+r+e.y-(u?s/2:s)),c++,u&&t.w(c,l.x,t.l(c-1).y))):180===o?(i.alignment===Qf?(p=n.bottom+e.y,0===e.y&&a.y>d.y+i.rowIndent&&(p=Math.min(p,Math.max(a.y,p-Vh(i))))):i.alignment===Xf?(p=n.top+e.y,0===e.y&&a.y<d.y-i.rowIndent&&(p=Math.max(p,Math.min(a.y,p+Vh(i))))):p=i.mq||i.nq&&1===i.maxGenerationCount?n.top-i.Na.y+e.y:n.y+n.height/2+e.y,h?(t.w(c,a.x,p),c++,t.w(c,n.left-r,p),c++,t.w(c,n.left-r+(e.x+s)/3,p),c++,t.w(c,n.left-r+2*(e.x+s)/3,p),c++,t.w(c,n.left-r+(e.x+s),p),c++,t.w(c,l.x,p)):(u&&(t.w(c,n.left-r/2,a.y),c++),t.w(c,n.left-r/2,p),c++,t.w(c,n.left-r+e.x+(u?s/2:s),p),c++,u&&t.w(c,t.l(c-1).x,l.y))):270===o?(i.alignment===Qf?(p=n.right+e.x,0===e.x&&a.x>d.x+i.rowIndent&&(p=Math.min(p,Math.max(a.x,p-Vh(i))))):i.alignment===Xf?(p=n.left+e.x,0===e.x&&a.x<d.x-i.rowIndent&&(p=Math.max(p,Math.min(a.x,p+Vh(i))))):p=i.mq||i.nq&&1===i.maxGenerationCount?n.left-i.Na.x+e.x:n.x+n.width/2+e.x,h?(t.w(c,p,a.y),c++,t.w(c,p,n.top-r),c++,t.w(c,p,n.top-r+(e.y+s)/3),c++,t.w(c,p,n.top-r+2*(e.y+s)/3),c++,t.w(c,p,n.top-r+(e.y+s)),c++,t.w(c,p,l.y)):(u&&(t.w(c,a.x,n.top-r/2),c++),t.w(c,p,n.top-r/2),c++,t.w(c,p,n.top-r+e.y+(u?s/2:s)),c++,u&&t.w(c,l.x,t.l(c-1).y))):Kh.k("Invalid angle "+o),t.kj()}else o=i,r=n,t=this.link,(i=Ah(o))!==Ah(r)&&(e=Bh(o),n=o.gb,o=r.gb,0===i&&o.left-n.right<e+1||90===i&&o.top-n.bottom<e+1||180===i&&n.left-o.right<e+1||270===i&&n.top-o.bottom<e+1||(t.ao(),o=t.af===zp,r=t.ac,s=gh(this.fromVertex.alignment),t.hm(),0===i?(i=n.right+e/2,o?4===t.qa&&(e=t.l(3).y,t.ba(1,i-20,t.l(1).y),t.w(2,i-20,e),t.w(3,i,e),t.w(4,i+20,e),t.ba(5,t.l(5).x,e)):r?s?t.ba(3,t.l(2).x,t.l(4).y):6===t.qa&&(t.ba(2,i,t.l(2).y),t.ba(3,i,t.l(3).y)):4===t.qa?t.w(2,i,t.l(2).y):3===t.qa?t.ba(1,i,t.l(2).y):2===t.qa&&t.w(1,i,t.l(1).y)):90===i?(e=n.bottom+e/2,o?4===t.qa&&(i=t.l(3).x,t.ba(1,t.l(1).x,e-20),t.w(2,i,e-20),t.w(3,i,e),t.w(4,i,e+20),t.ba(5,i,t.l(5).y)):r?s?t.ba(3,t.l(2).x,t.l(4).y):6===t.qa&&(t.ba(2,t.l(2).x,e),t.ba(3,t.l(3).x,e)):4===t.qa?t.w(2,t.l(2).x,e):3===t.qa?t.ba(1,t.l(2).x,e):2===t.qa&&t.w(1,t.l(1).x,e)):180===i?(i=n.left-e/2,o?4===t.qa&&(e=t.l(3).y,t.ba(1,i+20,t.l(1).y),t.w(2,i+20,e),t.w(3,i,e),t.w(4,i-20,e),t.ba(5,t.l(5).x,e)):r?s?t.ba(3,t.l(2).x,t.l(4).y):6===t.qa&&(t.ba(2,i,t.l(2).y),t.ba(3,i,t.l(3).y)):4===t.qa?t.w(2,i,t.l(2).y):3===t.qa?t.ba(1,i,t.l(2).y):2===t.qa&&t.w(1,i,t.l(1).y)):270===i&&(e=n.top-e/2,o?4===t.qa&&(i=t.l(3).x,t.ba(1,t.l(1).x,e+20),t.w(2,i,e+20),t.w(3,i,e),t.w(4,i,e-20),t.ba(5,i,t.l(5).y)):r?s?t.ba(3,t.l(2).x,t.l(4).y):6===t.qa&&(t.ba(2,t.l(2).x,e),t.ba(3,t.l(3).x,e)):4===t.qa?t.w(2,t.l(2).x,e):3===t.qa?t.ba(1,t.l(2).x,e):2===t.qa&&t.w(1,t.l(1).x,e)),t.kj()))}},Kh.defineProperty(qh,{GL:"relativePoint"},function(){return this.Is},function(t){this.Is.set(t)}),Kh.Ka(Gh,Eo),Gh.prototype.cloneProtected=function(t){Eo.prototype.cloneProtected.call(this,t),t.element=this.Ue.cloneNode(!0)},Gh.prototype.toString=function(){return"HTMLHost("+this.Ue.toString()+")#"+Kh.Od(this)},Gh.prototype.yk=function(t,e){var i=this.Ue;if(null!==i){var n=this.Wa(su);n.x-=this.W.width/2,n.y-=this.W.height/2,n.x-=this.W.x,n.y-=this.W.y;var n=e.zG(n),o=e.nj;null===o||o.contains(i)||o.appendChild(i),o=this.transform,i.style.transform="matrix("+o.m11+","+o.m12+","+o.m21+","+o.m22+","+o.dx+","+o.dy+")",i.style.transformOrigin="0 0",o=n.y,i.style.left=n.x+"px",i.style.top=o+"px"}},Gh.prototype.Mn=function(t,e,i,n){var o=this.Ca;isFinite(o.width)&&(t=o.width),isFinite(o.height)&&(e=o.height);var o=this.Ff,r=this.si;i=Math.max(i,r.width),n=Math.max(n,r.height),t=Math.min(o.width,t),e=Math.min(o.height,e),t=Math.max(i,t),e=Math.max(n,e),i=this.Ue,null!==i&&(e=i.getBoundingClientRect(),t=e.width,e=e.height),M(this.Uc,t,e),Oo(this,0,0,t,e)},Gh.prototype.jj=function(t,e,i,n){jo(this,t,e,i,n)},Kh.u(Gh,{Ja:"naturalBounds"},function(){return this.Uc}),Kh.defineProperty(Gh,{element:"element"},function(){return this.Ue},function(t){var e=this.Ue;e!==t&&(t instanceof HTMLElement||Kh.k("HTMLHost.element must be an instance of Element."),this.Ue=t,t.className="HTMLHost",this.h("element",e,t),this.oa())}),Uh.version="1.7.27",e&&(e.module&&"object"==typeof e.module&&"object"==typeof e.module.exports?e.module.exports=Uh:e.define&&"function"==typeof e.define&&e.define.amd?(e.go=Uh,e.define(Uh)):e.go=Uh),void 0!==t&&"object"==typeof t.exports&&(t.exports=Uh)}(window)},function(t,e){t.exports=s},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(){this.charts=new Array,this.dimensions=new Array}return t}();e.ViewBandVm=n},function(t,e,i){"use strict";var n=this&&this.__decorate||function(t,e,i,n){var o,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,i,s):o(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};Object.defineProperty(e,"__esModule",{value:!0});var r=i(0),s=i(11),a=function(){function t(t){this.cService=t,this.group="",this.chartDatas=[],t.url=this.url}return t.prototype.ngOnInit=function(){console.log(this),this.me=this,this.cService.url=this.url,this.cService.wsUrl=this.wsUrl},n([r.Input("wsUrl"),o("design:type",String)],t.prototype,"wsUrl",void 0),n([r.Input("url"),o("design:type",String)],t.prototype,"url",void 0),n([r.ViewChild("bandsContainer"),o("design:type",r.ElementRef)],t.prototype,"bandsContainer",void 0),t=n([r.Component({selector:"bi-viewer",template:i(36),styles:[i(37)]}),o("design:paramtypes",[s.BIService])],t)}();e.BIViewerComponent=a},function(t,e){t.exports=a},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){this.methodName=t,this.arguments=e}return t}();e.InvocationDescriptor=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});!function(t){t[t.Text=0]="Text",t[t.MethodInvocation=1]="MethodInvocation",t[t.ConnectionEvent=2]="ConnectionEvent"}(e.MessageType||(e.MessageType={}));var n=function(){function t(){}return t}();e.Message=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(3);e.DomHandler=n.DomHandler;var o=i(25);e.TreeDragDropService=o.TreeDragDropService;var r=i(26);e.ConfirmationService=r.ConfirmationService},function(t,e,i){"use strict";var n=this&&this.__decorate||function(t,e,i,n){var o,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,i,s):o(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s};Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(15),s=function(){function t(){this.dragStartSource=new r.Subject,this.dragStopSource=new r.Subject,this.dragStart$=this.dragStartSource.asObservable(),this.dragStop$=this.dragStopSource.asObservable()}return t.prototype.startDrag=function(t){this.dragStartSource.next(t)},t.prototype.stopDrag=function(t){this.dragStopSource.next(t)},t}();s=n([o.Injectable()],s),e.TreeDragDropService=s},function(t,e,i){"use strict";var n=this&&this.__decorate||function(t,e,i,n){var o,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,i,s):o(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s};Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(15),s=function(){function t(){this.requireConfirmationSource=new r.Subject,this.acceptConfirmationSource=new r.Subject,this.requireConfirmation$=this.requireConfirmationSource.asObservable(),this.accept=this.acceptConfirmationSource.asObservable()}return t.prototype.confirm=function(t){return this.requireConfirmationSource.next(t),this},t.prototype.onAccept=function(){this.acceptConfirmationSource.next()},t}();s=n([o.Injectable()],s),e.ConfirmationService=s},function(t,e,i){"use strict";var n=this&&this.__decorate||function(t,e,i,n){var o,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,i,s):o(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},r=this&&this.__param||function(t,e){return function(i,n){e(i,n,t)}};Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(1),l=i(28),h=function(){function t(t){var e=this;this.messageService=t,this.closable=!0,this.valueChange=new s.EventEmitter,t&&(this.subscription=t.messageObserver.subscribe(function(t){t?t instanceof Array?e.value=t:e.value=[t]:e.value=null}))}return t.prototype.hasMessages=function(){return this.value&&this.value.length>0},t.prototype.getSeverityClass=function(){return this.value[0].severity},t.prototype.clear=function(t){this.value=[],this.valueChange.emit(this.value),t.preventDefault()},Object.defineProperty(t.prototype,"icon",{get:function(){var t=null;if(this.hasMessages()){switch(this.value[0].severity){case"success":t="fa-check";break;case"info":t="fa-info-circle";break;case"error":t="fa-close";break;case"warn":t="fa-warning";break;case"success":t="fa-check";break;default:t="fa-info-circle"}}return t},enumerable:!0,configurable:!0}),t.prototype.ngOnDestroy=function(){this.subscription&&this.subscription.unsubscribe()},t}();n([s.Input(),o("design:type",Array)],h.prototype,"value",void 0),n([s.Input(),o("design:type",Boolean)],h.prototype,"closable",void 0),n([s.Output(),o("design:type",s.EventEmitter)],h.prototype,"valueChange",void 0),h=n([s.Component({selector:"p-messages",template:'\n        <div *ngIf="hasMessages()" class="ui-messages ui-widget ui-corner-all" style="display:block"\n                    [ngClass]="{\'ui-messages-info\':(value[0].severity === \'info\'),\n                    \'ui-messages-warn\':(value[0].severity === \'warn\'),\n                    \'ui-messages-error\':(value[0].severity === \'error\'),\n                    \'ui-messages-success\':(value[0].severity === \'success\')}">\n            <a href="#" class="ui-messages-close" (click)="clear($event)" *ngIf="closable">\n                <i class="fa fa-close"></i>\n            </a>\n            <span class="ui-messages-icon fa fa-fw fa-2x" [ngClass]="icon"></span>\n            <ul>\n                <li *ngFor="let msg of value">\n                    <span class="ui-messages-summary" [innerHTML]="msg.summary"></span>\n                    <span class="ui-messages-detail" [innerHTML]="msg.detail"></span>\n                </li>\n            </ul>\n        </div>\n    '}),r(0,s.Optional()),o("design:paramtypes",[l.MessageService])],h),e.Messages=h;var u=function(){function t(){}return t}();u=n([s.NgModule({imports:[a.CommonModule],exports:[h],declarations:[h]})],u),e.MessagesModule=u},function(t,e,i){"use strict";var n=this&&this.__decorate||function(t,e,i,n){var o,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,i,s):o(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s};Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(15),s=function(){function t(){this.messageSource=new r.Subject,this.messageObserver=this.messageSource.asObservable()}return t.prototype.add=function(t){t&&this.messageSource.next(t)},t.prototype.addAll=function(t){t&&t.length&&this.messageSource.next(t)},t.prototype.clear=function(){this.messageSource.next(null)},t}();s=n([o.Injectable()],s),e.MessageService=s},function(t,e,i){"use strict";var n=this&&this.__decorate||function(t,e,i,n){var o,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,i,s):o(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};Object.defineProperty(e,"__esModule",{value:!0});var r=i(0),s=i(1),a=function(){function t(){this.showValue=!0,this.unit="%"}return t}();n([r.Input(),o("design:type",Object)],a.prototype,"value",void 0),n([r.Input(),o("design:type",Boolean)],a.prototype,"showValue",void 0),n([r.Input(),o("design:type",String)],a.prototype,"unit",void 0),a=n([r.Component({selector:"p-progressBar",template:'\n        <div class="ui-progressbar ui-widget ui-widget-content ui-corner-all" role="progressbar" aria-valuemin="0" [attr.aria-valuenow]="value" aria-valuemax="100">\n            <div class="ui-progressbar-value ui-progressbar-value-animate ui-widget-header ui-corner-all" [style.width]="value + \'%\'" style="display:block"></div>\n            <div class="ui-progressbar-label" [style.display]="value ? \'block\' : \'none\'" *ngIf="showValue">{{value}}{{unit}}</div>\n        </div>\n    '})],a),e.ProgressBar=a;var l=function(){function t(){}return t}();l=n([r.NgModule({imports:[s.CommonModule],exports:[a],declarations:[a]})],l),e.ProgressBarModule=l},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(13);e.ChartViewerComponent=n.ChartViewerComponent,e.LabelViewerComponent=n.LabelViewerComponent,e.TableViewerComponent=n.TableViewerComponent,e.BandsComponent=n.BandsComponent,e.FieldSetComponent=n.FieldSetComponent,e.ProfileDesignerComponent=n.ProfileDesignerComponent,e.BIViewerComponent=n.BIViewerComponent,e.InputLabelComponent=n.InputLabelComponent,e.DiagramEditorComponent=n.DiagramEditorComponent,e.Safe=n.Safe,e.Format=n.Format;var o=i(99);e.QuilModule=o.QuilModule},function(t,e,i){"use strict";function n(t){for(var i in t)e.hasOwnProperty(i)||(e[i]=t[i])}Object.defineProperty(e,"__esModule",{value:!0}),n(i(32)),n(i(20)),n(i(42)),n(i(46)),n(i(50)),n(i(54)),n(i(59)),n(i(66)),n(i(23)),n(i(22)),n(i(67)),n(i(72))},function(t,e,i){"use strict";var n=this&&this.__decorate||function(t,e,i,n){var o,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,i,s):o(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};Object.defineProperty(e,"__esModule",{value:!0});var r=i(0),s=i(19),a=i(20),l=i(11),h=function(){function t(t){this.cService=t,this.band=new s.ViewBandVm,console.log("Get Chart complete")}return t.prototype.checkifLbl=function(t){return"Label"==t.type.toString()},t.prototype.checkifBar=function(t){return"Bar"==t.type.toString()},t.prototype.checkifLine=function(t){return"Line"==t.type.toString()},t.prototype.checkifPie=function(t){return"Pie"==t.type.toString()},t.prototype.checkifDou=function(t){return"Doughnut"==t.type.toString()},t.prototype.checkifTable=function(t){return"Table"==t.type.toString()},t.prototype.ngOnInit=function(){var t=this;this.pBand.charts.forEach(function(e){t.cService.GetChartData(t.pTitle,e.title).subscribe(function(e){t.band.dimensions.push(e),t.parent&&t.parent.chartDatas.push(t)},function(t){console.log(t)},function(){console.log("Get Chart complete")})})},n([r.Input("model"),o("design:type",Object)],t.prototype,"pBand",void 0),n([r.Input("caption"),o("design:type",Object)],t.prototype,"pTitle",void 0),n([r.Input("parent"),o("design:type",a.BIViewerComponent)],t.prototype,"parent",void 0),t=n([r.Component({selector:"bands",template:i(39),styles:[i(40)]}),o("design:paramtypes",[l.BIService])],t)}();e.BandsComponent=h},function(t,e){t.exports=l},function(t,e){t.exports=h},function(t,e){t.exports=u},function(t,e){t.exports='    <div class="ui-g-12">\r\n        <h2> {{cService.profileTitle}}</h2>\r\n    </div>\r\n    <field></field>\r\n    <div #bandsContainer>\r\n        <div *ngFor="let ban of cService.profileBands">\r\n            <bands [parent]="me" [model]="ban" [caption]="cService.profileTitle"> </bands>\r\n        </div>\r\n    </div>\r\n'},function(t,e,i){var n=i(38);t.exports="string"==typeof n?n:n.toString()},function(t,e,i){e=t.exports=i(8)(void 0),e.push([t.i,"/* You can add global styles to this file, and also import other style files */\r\n\r\n@media print\r\n{    \r\n    .no-print, .no-print *\r\n    {\r\n        display: none !important;\r\n    }\r\n}\r\n\r\n.label-card {\r\n    max-height: 165px;\r\n    margin-bottom: auto !important;\r\n}\r\n\r\n.ellipsis {\r\n    text-overflow:ellipsis;\r\n    overflow:hidden;\r\n    max-width:87%;\r\n    white-space:nowrap;\r\n    display:inline-block;\r\n}\r\n\r\n.float-right {\r\n    float:right;\r\n}\r\n.no-margin {\r\n    margin: auto;\r\n}\r\n\r\n.main-value {\r\n    font-size:36px;\r\n    font-weight:bold;\r\n    text-align:center;\r\n}\r\n\r\n.caption {\r\n    font-weight:bold;\r\n}\r\n\r\n.table-view-col {\r\n  width:20px;\r\n  text-align:center;\r\n}\r\n\r\n.ui-datatable-header h4 {\r\n    margin: auto;\r\n}\r\n\r\n.ui-datatable .ui-datatable-footer {\r\n    padding: 4px !important;\r\n}\r\n\r\n.pad4 {\r\n    padding: 4px;\r\n}\r\n\r\n.pad-inherit {\r\n    padding:inherit;\r\n}\r\n\r\n.pad05 {\r\n    padding: 0px 5px 5px 5px;\r\n}\r\n\r\n.marg-top-10 {\r\n    margin-top: 10px;\r\n}\r\n\r\n@media screen and (max-width: 641px) {\r\n    .c-input span input {\r\n    width: 100% !important;\r\n  }\r\n    .c-input span {\r\n    width: 100% !important;\r\n  }\r\n}\r\n\r\n.ui-fieldset {\r\n    padding: 2px !important;\r\n}\r\n\r\nh2 {\r\n    font-weight: 500 !important;\r\n}\r\n\r\n.card {\r\n    margin-bottom: 0px !important;\r\n}\r\n.chart-card {\r\n    padding: 0px 5px;\r\n}\r\n\r\n.add-btn {\r\n    width:20px !important;\r\n    height:20px !important;\r\n    padding:11px !important;\r\n    line-height:0em !important;\r\n    float: right;\r\n}\r\n\r\n.inp-lbl {\r\n    padding: 4px;\r\n}\r\n\r\n.inp-div .ui-g-8 {\r\n    padding: .2em !important;\r\n}\r\n\r\n.ui-tree {\r\n    width: 314px;\r\n    min-height: 40px;\r\n}\r\n\r\n.entity-tree .ui-tree {\r\n    width: 44em;\r\n    max-height: 21%;\r\n    overflow-y: auto;\r\n}\r\n\r\n.pull-right {\r\n    float: right;\r\n}\r\n\r\n.ui-dialog {\r\n    max-height: 99% !important;\r\n}\r\n\r\ndiv .dropdown {\r\n    min-width: 20px !important;\r\n  }\r\n\r\n.ui-dropdown {\r\n    min-width: 75px !important;\r\n}\r\n\r\n  .add-btn .fa {\r\n      font-size: 15px;\r\n  }\r\n\r\n.ui-treenode-label {\r\n    min-width: 74%;\r\n}\r\n\r\n.pad-left-0 {\r\n    padding-left: 0pc;\r\n}\r\n\r\n.ui-accordion-header {\r\n    margin: 3px 0px;\r\n}\r\n\r\n.remove-button {\r\n    font-size: 21px;\r\n    background-color: white;\r\n    color: #555555;\r\n    display: block;\r\n    text-align: center;\r\n    border-radius: 13px;\r\n    width: 28px;\r\n    cursor: pointer;\r\n    float: right;\r\n}\r\n\r\n.remove-button:hover {\r\n    background-color: #374b69;\r\n    color: white;\r\n  }\r\n\r\n.ui-treetable thead th, body .ui-treetable thead tr th {\r\n    padding: 0px;\r\n}\r\n\r\n.dropdown div {\r\n    width: auto !important;\r\n}\r\n\r\n.ddfill div {\r\nwidth: 100% !important;\r\n}\r\n\r\nbody .ddfill .ui-dropdown .ui-dropdown-trigger .fa {\r\n    margin-left: 90% !important;\r\n}\r\n\r\n.newConDialog .ui-dialog .ui-dialog-content {\r\n    overflow: inherit !important;\r\n}\r\n\r\n.newConDialog .ui-dialog {\r\n   top: 70px !important;\r\n}\r\n\r\n.conddwn div {\r\n    display: block;\r\n    margin-bottom: 15px;\r\n}\r\n\r\nbody .ui-treetable thead tr {\r\n    border: 1px solid #bdbdbd;\r\n}",""])},function(t,e){t.exports='<div [ngClass]="checkifLbl(dim) ? \'ui-lg-3 ui-md-6 ui-g-12\' :\'ui-lg-6 ui-md-12 ui-g-12 chart-card\'" *ngFor="let dim of band.dimensions">\r\n  <label-viewer *ngIf="checkifLbl(dim)" [labelModel]="dim"></label-viewer>\r\n  <table-viewer *ngIf="checkifTable(dim)" [tableModel]="dim"></table-viewer>\r\n  <chart-viewer *ngIf="checkifBar(dim)" [barModel]="dim"></chart-viewer>\r\n  <chart-viewer *ngIf="checkifLine(dim)" [lineModel]="dim"></chart-viewer>\r\n  <chart-viewer *ngIf="checkifPie(dim)" [pieModel]="dim"></chart-viewer>\r\n  <chart-viewer *ngIf="checkifDou(dim)" [douModel]="dim"></chart-viewer>\r\n</div>'},function(t,e,i){var n=i(41);t.exports="string"==typeof n?n:n.toString()},function(t,e,i){e=t.exports=i(8)(void 0),e.push([t.i,"/* You can add global styles to this file, and also import other style files */\r\n\r\n@media print\r\n{    \r\n    .no-print, .no-print *\r\n    {\r\n        display: none !important;\r\n    }\r\n}\r\n\r\n.label-card {\r\n    max-height: 165px;\r\n    margin-bottom: auto !important;\r\n}\r\n\r\n.ellipsis {\r\n    text-overflow:ellipsis;\r\n    overflow:hidden;\r\n    max-width:87%;\r\n    white-space:nowrap;\r\n    display:inline-block;\r\n}\r\n\r\n.float-right {\r\n    float:right;\r\n}\r\n.no-margin {\r\n    margin: auto;\r\n}\r\n\r\n.main-value {\r\n    font-size:36px;\r\n    font-weight:bold;\r\n    text-align:center;\r\n}\r\n\r\n.caption {\r\n    font-weight:bold;\r\n}\r\n\r\n.table-view-col {\r\n  width:20px;\r\n  text-align:center;\r\n}\r\n\r\n.ui-datatable-header h4 {\r\n    margin: auto;\r\n}\r\n\r\n.ui-datatable .ui-datatable-footer {\r\n    padding: 4px !important;\r\n}\r\n\r\n.pad4 {\r\n    padding: 4px;\r\n}\r\n\r\n.pad-inherit {\r\n    padding:inherit;\r\n}\r\n\r\n.pad05 {\r\n    padding: 0px 5px 5px 5px;\r\n}\r\n\r\n.marg-top-10 {\r\n    margin-top: 10px;\r\n}\r\n\r\n@media screen and (max-width: 641px) {\r\n    .c-input span input {\r\n    width: 100% !important;\r\n  }\r\n    .c-input span {\r\n    width: 100% !important;\r\n  }\r\n}\r\n\r\n.ui-fieldset {\r\n    padding: 2px !important;\r\n}\r\n\r\nh2 {\r\n    font-weight: 500 !important;\r\n}\r\n\r\n.card {\r\n    margin-bottom: 0px !important;\r\n}\r\n.chart-card {\r\n    padding: 0px 5px;\r\n}\r\n\r\n.add-btn {\r\n    width:20px !important;\r\n    height:20px !important;\r\n    padding:11px !important;\r\n    line-height:0em !important;\r\n    float: right;\r\n}\r\n\r\n.inp-lbl {\r\n    padding: 4px;\r\n}\r\n\r\n.inp-div .ui-g-8 {\r\n    padding: .2em !important;\r\n}\r\n\r\n.ui-tree {\r\n    width: 314px;\r\n    min-height: 40px;\r\n}\r\n\r\n.entity-tree .ui-tree {\r\n    width: 44em;\r\n    max-height: 21%;\r\n    overflow-y: auto;\r\n}\r\n\r\n.pull-right {\r\n    float: right;\r\n}\r\n\r\n.ui-dialog {\r\n    max-height: 99% !important;\r\n}\r\n\r\ndiv .dropdown {\r\n    min-width: 20px !important;\r\n  }\r\n\r\n.ui-dropdown {\r\n    min-width: 75px !important;\r\n}\r\n\r\n  .add-btn .fa {\r\n      font-size: 15px;\r\n  }\r\n\r\n.ui-treenode-label {\r\n    min-width: 74%;\r\n}\r\n\r\n.pad-left-0 {\r\n    padding-left: 0pc;\r\n}\r\n\r\n.ui-accordion-header {\r\n    margin: 3px 0px;\r\n}\r\n\r\n.remove-button {\r\n    font-size: 21px;\r\n    background-color: white;\r\n    color: #555555;\r\n    display: block;\r\n    text-align: center;\r\n    border-radius: 13px;\r\n    width: 28px;\r\n    cursor: pointer;\r\n    float: right;\r\n}\r\n\r\n.remove-button:hover {\r\n    background-color: #374b69;\r\n    color: white;\r\n  }\r\n\r\n.ui-treetable thead th, body .ui-treetable thead tr th {\r\n    padding: 0px;\r\n}\r\n\r\n.dropdown div {\r\n    width: auto !important;\r\n}\r\n\r\n.ddfill div {\r\nwidth: 100% !important;\r\n}\r\n\r\nbody .ddfill .ui-dropdown .ui-dropdown-trigger .fa {\r\n    margin-left: 90% !important;\r\n}\r\n\r\n.newConDialog .ui-dialog .ui-dialog-content {\r\n    overflow: inherit !important;\r\n}\r\n\r\n.newConDialog .ui-dialog {\r\n   top: 70px !important;\r\n}\r\n\r\n.conddwn div {\r\n    display: block;\r\n    margin-bottom: 15px;\r\n}\r\n\r\nbody .ui-treetable thead tr {\r\n    border: 1px solid #bdbdbd;\r\n}",""])},function(t,e,i){"use strict";var n=this&&this.__decorate||function(t,e,i,n){var o,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,i,s):o(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};Object.defineProperty(e,"__esModule",{value:!0});var r=i(0),s=i(14),a=function(){function t(){this.lineData=new s.ChartDataVm,this.barData=new s.ChartDataVm,this.pieData=new s.ChartDataVm,this.douData=new s.ChartDataVm}return t.prototype.ngOnInit=function(){this.barDatas},n([r.Input("barModel"),o("design:type",s.ChartDataVm)],t.prototype,"barDatas",void 0),n([r.Input("lineModel"),o("design:type",s.ChartDataVm)],t.prototype,"lineDatas",void 0),n([r.Input("pieModel"),o("design:type",s.ChartDataVm)],t.prototype,"pieDatas",void 0),n([r.Input("douModel"),o("design:type",s.ChartDataVm)],t.prototype,"douDatas",void 0),t=n([r.Component({selector:"chart-viewer",template:i(43),styles:[i(44)]}),o("design:paramtypes",[])],t)}();e.ChartViewerComponent=a},function(t,e){t.exports='    <div class="ui-g">\r\n        <div class="ui-g-12">\r\n\r\n            <div *ngIf="lineDatas" class="card">\r\n                <div class="ui-g-12">\r\n                    <h2 class="ellipsis"> {{lineDatas.caption}} </h2>\r\n                </div>\r\n                <p-chart type="line" [data]="lineDatas"></p-chart>\r\n\r\n            </div>\r\n\r\n            <div *ngIf="barDatas" class="card">\r\n                <div class="ui-g-12">\r\n                    <h2 class="ellipsis"> {{ barDatas.caption }} </h2>\r\n                </div>\r\n                <p-chart type="bar" [data]="barDatas"></p-chart>\r\n\r\n            </div>\r\n\r\n            <div *ngIf="pieDatas" class="card">\r\n                <div class="ui-g-12">\r\n                    <h2 class="ellipsis"> {{ pieDatas.caption }} </h2>\r\n                </div>\r\n                <p-chart type="pie" [data]="pieDatas"></p-chart>\r\n\r\n            </div>\r\n\r\n            <div *ngIf="douDatas" class="card">\r\n                <div class="ui-g-12">\r\n                    <h2 class="ellipsis"> {{ douDatas.caption }} </h2>\r\n                </div>\r\n                <p-chart type="doughnut" [data]="douDatas"></p-chart>\r\n\r\n            </div>\r\n\r\n        </div>\r\n    </div>'},function(t,e,i){var n=i(45);t.exports="string"==typeof n?n:n.toString()},function(t,e,i){e=t.exports=i(8)(void 0),e.push([t.i,"/* You can add global styles to this file, and also import other style files */\r\n\r\n@media print\r\n{    \r\n    .no-print, .no-print *\r\n    {\r\n        display: none !important;\r\n    }\r\n}\r\n\r\n.label-card {\r\n    max-height: 165px;\r\n    margin-bottom: auto !important;\r\n}\r\n\r\n.ellipsis {\r\n    text-overflow:ellipsis;\r\n    overflow:hidden;\r\n    max-width:87%;\r\n    white-space:nowrap;\r\n    display:inline-block;\r\n}\r\n\r\n.float-right {\r\n    float:right;\r\n}\r\n.no-margin {\r\n    margin: auto;\r\n}\r\n\r\n.main-value {\r\n    font-size:36px;\r\n    font-weight:bold;\r\n    text-align:center;\r\n}\r\n\r\n.caption {\r\n    font-weight:bold;\r\n}\r\n\r\n.table-view-col {\r\n  width:20px;\r\n  text-align:center;\r\n}\r\n\r\n.ui-datatable-header h4 {\r\n    margin: auto;\r\n}\r\n\r\n.ui-datatable .ui-datatable-footer {\r\n    padding: 4px !important;\r\n}\r\n\r\n.pad4 {\r\n    padding: 4px;\r\n}\r\n\r\n.pad-inherit {\r\n    padding:inherit;\r\n}\r\n\r\n.pad05 {\r\n    padding: 0px 5px 5px 5px;\r\n}\r\n\r\n.marg-top-10 {\r\n    margin-top: 10px;\r\n}\r\n\r\n@media screen and (max-width: 641px) {\r\n    .c-input span input {\r\n    width: 100% !important;\r\n  }\r\n    .c-input span {\r\n    width: 100% !important;\r\n  }\r\n}\r\n\r\n.ui-fieldset {\r\n    padding: 2px !important;\r\n}\r\n\r\nh2 {\r\n    font-weight: 500 !important;\r\n}\r\n\r\n.card {\r\n    margin-bottom: 0px !important;\r\n}\r\n.chart-card {\r\n    padding: 0px 5px;\r\n}\r\n\r\n.add-btn {\r\n    width:20px !important;\r\n    height:20px !important;\r\n    padding:11px !important;\r\n    line-height:0em !important;\r\n    float: right;\r\n}\r\n\r\n.inp-lbl {\r\n    padding: 4px;\r\n}\r\n\r\n.inp-div .ui-g-8 {\r\n    padding: .2em !important;\r\n}\r\n\r\n.ui-tree {\r\n    width: 314px;\r\n    min-height: 40px;\r\n}\r\n\r\n.entity-tree .ui-tree {\r\n    width: 44em;\r\n    max-height: 21%;\r\n    overflow-y: auto;\r\n}\r\n\r\n.pull-right {\r\n    float: right;\r\n}\r\n\r\n.ui-dialog {\r\n    max-height: 99% !important;\r\n}\r\n\r\ndiv .dropdown {\r\n    min-width: 20px !important;\r\n  }\r\n\r\n.ui-dropdown {\r\n    min-width: 75px !important;\r\n}\r\n\r\n  .add-btn .fa {\r\n      font-size: 15px;\r\n  }\r\n\r\n.ui-treenode-label {\r\n    min-width: 74%;\r\n}\r\n\r\n.pad-left-0 {\r\n    padding-left: 0pc;\r\n}\r\n\r\n.ui-accordion-header {\r\n    margin: 3px 0px;\r\n}\r\n\r\n.remove-button {\r\n    font-size: 21px;\r\n    background-color: white;\r\n    color: #555555;\r\n    display: block;\r\n    text-align: center;\r\n    border-radius: 13px;\r\n    width: 28px;\r\n    cursor: pointer;\r\n    float: right;\r\n}\r\n\r\n.remove-button:hover {\r\n    background-color: #374b69;\r\n    color: white;\r\n  }\r\n\r\n.ui-treetable thead th, body .ui-treetable thead tr th {\r\n    padding: 0px;\r\n}\r\n\r\n.dropdown div {\r\n    width: auto !important;\r\n}\r\n\r\n.ddfill div {\r\nwidth: 100% !important;\r\n}\r\n\r\nbody .ddfill .ui-dropdown .ui-dropdown-trigger .fa {\r\n    margin-left: 90% !important;\r\n}\r\n\r\n.newConDialog .ui-dialog .ui-dialog-content {\r\n    overflow: inherit !important;\r\n}\r\n\r\n.newConDialog .ui-dialog {\r\n   top: 70px !important;\r\n}\r\n\r\n.conddwn div {\r\n    display: block;\r\n    margin-bottom: 15px;\r\n}\r\n\r\nbody .ui-treetable thead tr {\r\n    border: 1px solid #bdbdbd;\r\n}",""])},function(t,e,i){"use strict";var n=this&&this.__decorate||function(t,e,i,n){var o,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,i,s):o(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};Object.defineProperty(e,"__esModule",{value:!0});var r=i(0),s=function(){function t(){}return t.prototype.ngOnInit=function(){},t=n([r.Component({selector:"field",template:i(47),styles:[i(48)]}),o("design:paramtypes",[])],t)}();e.FieldSetComponent=s},function(t,e){t.exports='<p-fieldset legend="" collapsed="true" [toggleable]="true">\r\n    <div class="ui-g-12 pad-inherit">\r\n        <div class="ui-lg-3 ui-md-4 ui-g-12 pad05">\r\n            <div class="ui-g-12">\r\n                From:\r\n            </div>\r\n            <p-calendar class="c-input" [showTime]="true" [showIcon]="true"></p-calendar>\r\n            <span style="margin-left:35px"></span>\r\n        </div>\r\n        <div class="ui-lg-3 ui-md-4 ui-g-12 pad05">\r\n            <div class="ui-g-12">\r\n                To:\r\n            </div>\r\n            <p-calendar class="c-input" [showTime]="true" [showIcon]="true"></p-calendar>\r\n            <span style="margin-left:35px"></span>\r\n        </div>\r\n\r\n        <div class="ui-lg-4 ui-md-4 ui-g-12 pad05">\r\n            <div class="ui-helper-clearfix ui-g-12">\r\n                <button type="button" icon="ui-icon-check" pButton label="View"></button>\r\n            </div>\r\n\r\n        </div>\r\n    </div>\r\n</p-fieldset>\r\n'},function(t,e,i){var n=i(49);t.exports="string"==typeof n?n:n.toString()},function(t,e,i){e=t.exports=i(8)(void 0),e.push([t.i," /* You can add global styles to this file, and also import other style files */\r\n\r\n@media print\r\n{    \r\n    .no-print, .no-print *\r\n    {\r\n        display: none !important;\r\n    }\r\n}\r\n\r\n.label-card {\r\n    max-height: 165px;\r\n    margin-bottom: auto !important;\r\n}\r\n\r\n.ellipsis {\r\n    text-overflow:ellipsis;\r\n    overflow:hidden;\r\n    max-width:87%;\r\n    white-space:nowrap;\r\n    display:inline-block;\r\n}\r\n\r\n.float-right {\r\n    float:right;\r\n}\r\n.no-margin {\r\n    margin: auto;\r\n}\r\n\r\n.main-value {\r\n    font-size:36px;\r\n    font-weight:bold;\r\n    text-align:center;\r\n}\r\n\r\n.caption {\r\n    font-weight:bold;\r\n}\r\n\r\n.table-view-col {\r\n  width:20px;\r\n  text-align:center;\r\n}\r\n\r\n.ui-datatable-header h4 {\r\n    margin: auto;\r\n}\r\n\r\n.ui-datatable .ui-datatable-footer {\r\n    padding: 4px !important;\r\n}\r\n\r\n.pad4 {\r\n    padding: 4px;\r\n}\r\n\r\n.pad-inherit {\r\n    padding:inherit;\r\n}\r\n\r\n.pad05 {\r\n    padding: 0px 5px 5px 5px;\r\n}\r\n\r\n.marg-top-10 {\r\n    margin-top: 10px;\r\n}\r\n\r\n@media screen and (max-width: 641px) {\r\n    .c-input span input {\r\n    width: 100% !important;\r\n  }\r\n    .c-input span {\r\n    width: 100% !important;\r\n  }\r\n}\r\n\r\n.ui-fieldset {\r\n    padding: 2px !important;\r\n}\r\n\r\nh2 {\r\n    font-weight: 500 !important;\r\n}\r\n\r\n.card {\r\n    margin-bottom: 0px !important;\r\n}\r\n.chart-card {\r\n    padding: 0px 5px;\r\n}\r\n\r\n.add-btn {\r\n    width:20px !important;\r\n    height:20px !important;\r\n    padding:11px !important;\r\n    line-height:0em !important;\r\n    float: right;\r\n}\r\n\r\n.inp-lbl {\r\n    padding: 4px;\r\n}\r\n\r\n.inp-div .ui-g-8 {\r\n    padding: .2em !important;\r\n}\r\n\r\n.ui-tree {\r\n    width: 314px;\r\n    min-height: 40px;\r\n}\r\n\r\n.entity-tree .ui-tree {\r\n    width: 44em;\r\n    max-height: 21%;\r\n    overflow-y: auto;\r\n}\r\n\r\n.pull-right {\r\n    float: right;\r\n}\r\n\r\n.ui-dialog {\r\n    max-height: 99% !important;\r\n}\r\n\r\ndiv .dropdown {\r\n    min-width: 20px !important;\r\n  }\r\n\r\n.ui-dropdown {\r\n    min-width: 75px !important;\r\n}\r\n\r\n  .add-btn .fa {\r\n      font-size: 15px;\r\n  }\r\n\r\n.ui-treenode-label {\r\n    min-width: 74%;\r\n}\r\n\r\n.pad-left-0 {\r\n    padding-left: 0pc;\r\n}\r\n\r\n.ui-accordion-header {\r\n    margin: 3px 0px;\r\n}\r\n\r\n.remove-button {\r\n    font-size: 21px;\r\n    background-color: white;\r\n    color: #555555;\r\n    display: block;\r\n    text-align: center;\r\n    border-radius: 13px;\r\n    width: 28px;\r\n    cursor: pointer;\r\n    float: right;\r\n}\r\n\r\n.remove-button:hover {\r\n    background-color: #374b69;\r\n    color: white;\r\n  }\r\n\r\n.ui-treetable thead th, body .ui-treetable thead tr th {\r\n    padding: 0px;\r\n}\r\n\r\n.dropdown div {\r\n    width: auto !important;\r\n}\r\n\r\n.ddfill div {\r\nwidth: 100% !important;\r\n}\r\n\r\nbody .ddfill .ui-dropdown .ui-dropdown-trigger .fa {\r\n    margin-left: 90% !important;\r\n}\r\n\r\n.newConDialog .ui-dialog .ui-dialog-content {\r\n    overflow: inherit !important;\r\n}\r\n\r\n.newConDialog .ui-dialog {\r\n   top: 70px !important;\r\n}\r\n\r\n.conddwn div {\r\n    display: block;\r\n    margin-bottom: 15px;\r\n}\r\n\r\nbody .ui-treetable thead tr {\r\n    border: 1px solid #bdbdbd;\r\n}",""])},function(t,e,i){"use strict";var n=this&&this.__decorate||function(t,e,i,n){var o,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,i,s):o(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};Object.defineProperty(e,"__esModule",{value:!0});var r=i(0),s=i(14),a=function(){function t(){}return t.prototype.ngOnInit=function(){this.labelData;console.log("Called")},n([r.Input("labelModel"),o("design:type",s.ChartDataVm)],t.prototype,"labelData",void 0),t=n([r.Component({selector:"label-viewer",template:i(51),styles:[i(52)]}),o("design:paramtypes",[])],t)}();e.LabelViewerComponent=a},function(t,e){t.exports='<div *ngIf="labelData" class="card label-cards ui-g" [style.color]="labelData.foreColor" [style.background]="labelData.backgroundColor">\r\n    <div class="ui-g-12">\r\n        <div class="ui-g-6 caption ellipsis" pTooltip="{{labelData.caption}}">\r\n            {{labelData.caption}}\r\n        </div>\r\n        <div class="ui-g-6">\r\n            <div class="ellipsis float-right" pTooltip="{{labelData.subValue}}">\r\n                {{labelData.subValue}}\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <div class="ui-g-12 main-value ellipsis" pTooltip="{{labelData.mainValue| number:\'1.2-2\'}}">\r\n        {{labelData.mainValue| number:\'1.2-2\'}}\r\n    </div>\r\n</div>'},function(t,e,i){var n=i(53);t.exports="string"==typeof n?n:n.toString()},function(t,e,i){e=t.exports=i(8)(void 0),e.push([t.i,"/* You can add global styles to this file, and also import other style files */\r\n\r\n@media print\r\n{    \r\n    .no-print, .no-print *\r\n    {\r\n        display: none !important;\r\n    }\r\n}\r\n\r\n.label-card {\r\n    max-height: 165px;\r\n    margin-bottom: auto !important;\r\n}\r\n\r\n.ellipsis {\r\n    text-overflow:ellipsis;\r\n    overflow:hidden;\r\n    max-width:87%;\r\n    white-space:nowrap;\r\n    display:inline-block;\r\n}\r\n\r\n.float-right {\r\n    float:right;\r\n}\r\n.no-margin {\r\n    margin: auto;\r\n}\r\n\r\n.main-value {\r\n    font-size:36px;\r\n    font-weight:bold;\r\n    text-align:center;\r\n}\r\n\r\n.caption {\r\n    font-weight:bold;\r\n}\r\n\r\n.table-view-col {\r\n  width:20px;\r\n  text-align:center;\r\n}\r\n\r\n.ui-datatable-header h4 {\r\n    margin: auto;\r\n}\r\n\r\n.ui-datatable .ui-datatable-footer {\r\n    padding: 4px !important;\r\n}\r\n\r\n.pad4 {\r\n    padding: 4px;\r\n}\r\n\r\n.pad-inherit {\r\n    padding:inherit;\r\n}\r\n\r\n.pad05 {\r\n    padding: 0px 5px 5px 5px;\r\n}\r\n\r\n.marg-top-10 {\r\n    margin-top: 10px;\r\n}\r\n\r\n@media screen and (max-width: 641px) {\r\n    .c-input span input {\r\n    width: 100% !important;\r\n  }\r\n    .c-input span {\r\n    width: 100% !important;\r\n  }\r\n}\r\n\r\n.ui-fieldset {\r\n    padding: 2px !important;\r\n}\r\n\r\nh2 {\r\n    font-weight: 500 !important;\r\n}\r\n\r\n.card {\r\n    margin-bottom: 0px !important;\r\n}\r\n.chart-card {\r\n    padding: 0px 5px;\r\n}\r\n\r\n.add-btn {\r\n    width:20px !important;\r\n    height:20px !important;\r\n    padding:11px !important;\r\n    line-height:0em !important;\r\n    float: right;\r\n}\r\n\r\n.inp-lbl {\r\n    padding: 4px;\r\n}\r\n\r\n.inp-div .ui-g-8 {\r\n    padding: .2em !important;\r\n}\r\n\r\n.ui-tree {\r\n    width: 314px;\r\n    min-height: 40px;\r\n}\r\n\r\n.entity-tree .ui-tree {\r\n    width: 44em;\r\n    max-height: 21%;\r\n    overflow-y: auto;\r\n}\r\n\r\n.pull-right {\r\n    float: right;\r\n}\r\n\r\n.ui-dialog {\r\n    max-height: 99% !important;\r\n}\r\n\r\ndiv .dropdown {\r\n    min-width: 20px !important;\r\n  }\r\n\r\n.ui-dropdown {\r\n    min-width: 75px !important;\r\n}\r\n\r\n  .add-btn .fa {\r\n      font-size: 15px;\r\n  }\r\n\r\n.ui-treenode-label {\r\n    min-width: 74%;\r\n}\r\n\r\n.pad-left-0 {\r\n    padding-left: 0pc;\r\n}\r\n\r\n.ui-accordion-header {\r\n    margin: 3px 0px;\r\n}\r\n\r\n.remove-button {\r\n    font-size: 21px;\r\n    background-color: white;\r\n    color: #555555;\r\n    display: block;\r\n    text-align: center;\r\n    border-radius: 13px;\r\n    width: 28px;\r\n    cursor: pointer;\r\n    float: right;\r\n}\r\n\r\n.remove-button:hover {\r\n    background-color: #374b69;\r\n    color: white;\r\n  }\r\n\r\n.ui-treetable thead th, body .ui-treetable thead tr th {\r\n    padding: 0px;\r\n}\r\n\r\n.dropdown div {\r\n    width: auto !important;\r\n}\r\n\r\n.ddfill div {\r\nwidth: 100% !important;\r\n}\r\n\r\nbody .ddfill .ui-dropdown .ui-dropdown-trigger .fa {\r\n    margin-left: 90% !important;\r\n}\r\n\r\n.newConDialog .ui-dialog .ui-dialog-content {\r\n    overflow: inherit !important;\r\n}\r\n\r\n.newConDialog .ui-dialog {\r\n   top: 70px !important;\r\n}\r\n\r\n.conddwn div {\r\n    display: block;\r\n    margin-bottom: 15px;\r\n}\r\n\r\nbody .ui-treetable thead tr {\r\n    border: 1px solid #bdbdbd;\r\n}",""])},function(t,e,i){"use strict";var n=this&&this.__decorate||function(t,e,i,n){var o,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,i,s):o(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};Object.defineProperty(e,"__esModule",{value:!0});var r=i(0),s=i(14),a=i(55),l=function(){function t(){this.realData=new Array,this.tableLabels=new Array}return t.prototype.ngOnInit=function(){var t=this;this.tableLabels.push({label:"Title"}),this.tableChart.labels.forEach(function(e){t.tableLabels.push({label:e})});for(var e=new Array,i=0,n=this.tableChart.datasets;i<n.length;i++){var o=n[i],r={};Object.defineProperty(r,this.tableLabels[0].label,{value:o.label,writable:!0,enumerable:!0,configurable:!0});for(var s=0;s<o.data.length;s++)Object.defineProperty(r,this.tableChart.labels[s],{value:o.data[s],writable:!0,enumerable:!0,configurable:!0});e.push(r)}this.realData=[{labels:this.tableLabels,rows:e}],this.tableData=this.realData[0]},t.prototype.downloadFormat=function(){this.download()},t.prototype.download=function(){var t=a.General.ConvertToCSV(this.realData[0].rows),e=document.createElement("a");e.setAttribute("style","display:none;"),document.body.appendChild(e);var i=new Blob([t],{type:"text/csv"}),n=window.URL.createObjectURL(i);e.href=n,e.download=this.tableChart.caption+".csv",e.click()},t.prototype.transform=function(t){return t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")},n([r.Input("tableModel"),o("design:type",s.ChartDataVm)],t.prototype,"tableChart",void 0),t=n([r.Component({selector:"table-viewer",template:i(56),styles:[i(57)]}),o("design:paramtypes",[])],t)}();e.TableViewerComponent=l},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(){}return t.empty=function(t){return!t||!/[^\s]+/.test(t)},t.ConvertToCSV=function(t){var e="object"!=typeof t?JSON.parse(t):t,i="",n="";for(var o in t[0])n+=o+",";n=n.slice(0,-1),i+=n+"\r\n";for(var r=0;r<e.length;r++){var s="";for(var o in e[r])""!=s&&(s+=","),s+=e[r][o];i+=s+"\r\n"}return i},t}();e.General=n},function(t,e){t.exports='<div class="ui-g" *ngIf="tableChart">\r\n  <div class="ui-g-12">\r\n    <p-dataTable [resizableColumns]="fit" [value]="tableData.rows" [responsive]="true" [style]="{\'max-height\':\'500px\', \'overflow-y\':\'auto\'}">\r\n      <p-header>\r\n        <h4> {{ tableChart.caption }} </h4>\r\n      </p-header>\r\n      <p-column *ngFor="let etem of tableData.labels" class="table-view-col" [(field)]="etem.label " [(header)]="etem.label">\r\n\r\n\r\n      </p-column>\r\n      <p-footer>\r\n        <div class="ui-helper-clearfix"><button type="button" pButton icon="ui-icon-file-download" style="float:left" (click)="download()" label="Download .csv"></button></div>\r\n      </p-footer>\r\n    </p-dataTable>\r\n  </div>\r\n</div>'},function(t,e,i){var n=i(58);t.exports="string"==typeof n?n:n.toString()},function(t,e,i){e=t.exports=i(8)(void 0),e.push([t.i,"/* You can add global styles to this file, and also import other style files */\r\n\r\n@media print\r\n{    \r\n    .no-print, .no-print *\r\n    {\r\n        display: none !important;\r\n    }\r\n}\r\n\r\n.label-card {\r\n    max-height: 165px;\r\n    margin-bottom: auto !important;\r\n}\r\n\r\n.ellipsis {\r\n    text-overflow:ellipsis;\r\n    overflow:hidden;\r\n    max-width:87%;\r\n    white-space:nowrap;\r\n    display:inline-block;\r\n}\r\n\r\n.float-right {\r\n    float:right;\r\n}\r\n.no-margin {\r\n    margin: auto;\r\n}\r\n\r\n.main-value {\r\n    font-size:36px;\r\n    font-weight:bold;\r\n    text-align:center;\r\n}\r\n\r\n.caption {\r\n    font-weight:bold;\r\n}\r\n\r\n.table-view-col {\r\n  width:20px;\r\n  text-align:center;\r\n}\r\n\r\n.ui-datatable-header h4 {\r\n    margin: auto;\r\n}\r\n\r\n.ui-datatable .ui-datatable-footer {\r\n    padding: 4px !important;\r\n}\r\n\r\n.pad4 {\r\n    padding: 4px;\r\n}\r\n\r\n.pad-inherit {\r\n    padding:inherit;\r\n}\r\n\r\n.pad05 {\r\n    padding: 0px 5px 5px 5px;\r\n}\r\n\r\n.marg-top-10 {\r\n    margin-top: 10px;\r\n}\r\n\r\n@media screen and (max-width: 641px) {\r\n    .c-input span input {\r\n    width: 100% !important;\r\n  }\r\n    .c-input span {\r\n    width: 100% !important;\r\n  }\r\n}\r\n\r\n.ui-fieldset {\r\n    padding: 2px !important;\r\n}\r\n\r\nh2 {\r\n    font-weight: 500 !important;\r\n}\r\n\r\n.card {\r\n    margin-bottom: 0px !important;\r\n}\r\n.chart-card {\r\n    padding: 0px 5px;\r\n}\r\n\r\n.add-btn {\r\n    width:20px !important;\r\n    height:20px !important;\r\n    padding:11px !important;\r\n    line-height:0em !important;\r\n    float: right;\r\n}\r\n\r\n.inp-lbl {\r\n    padding: 4px;\r\n}\r\n\r\n.inp-div .ui-g-8 {\r\n    padding: .2em !important;\r\n}\r\n\r\n.ui-tree {\r\n    width: 314px;\r\n    min-height: 40px;\r\n}\r\n\r\n.entity-tree .ui-tree {\r\n    width: 44em;\r\n    max-height: 21%;\r\n    overflow-y: auto;\r\n}\r\n\r\n.pull-right {\r\n    float: right;\r\n}\r\n\r\n.ui-dialog {\r\n    max-height: 99% !important;\r\n}\r\n\r\ndiv .dropdown {\r\n    min-width: 20px !important;\r\n  }\r\n\r\n.ui-dropdown {\r\n    min-width: 75px !important;\r\n}\r\n\r\n  .add-btn .fa {\r\n      font-size: 15px;\r\n  }\r\n\r\n.ui-treenode-label {\r\n    min-width: 74%;\r\n}\r\n\r\n.pad-left-0 {\r\n    padding-left: 0pc;\r\n}\r\n\r\n.ui-accordion-header {\r\n    margin: 3px 0px;\r\n}\r\n\r\n.remove-button {\r\n    font-size: 21px;\r\n    background-color: white;\r\n    color: #555555;\r\n    display: block;\r\n    text-align: center;\r\n    border-radius: 13px;\r\n    width: 28px;\r\n    cursor: pointer;\r\n    float: right;\r\n}\r\n\r\n.remove-button:hover {\r\n    background-color: #374b69;\r\n    color: white;\r\n  }\r\n\r\n.ui-treetable thead th, body .ui-treetable thead tr th {\r\n    padding: 0px;\r\n}\r\n\r\n.dropdown div {\r\n    width: auto !important;\r\n}\r\n\r\n.ddfill div {\r\nwidth: 100% !important;\r\n}\r\n\r\nbody .ddfill .ui-dropdown .ui-dropdown-trigger .fa {\r\n    margin-left: 90% !important;\r\n}\r\n\r\n.newConDialog .ui-dialog .ui-dialog-content {\r\n    overflow: inherit !important;\r\n}\r\n\r\n.newConDialog .ui-dialog {\r\n   top: 70px !important;\r\n}\r\n\r\n.conddwn div {\r\n    display: block;\r\n    margin-bottom: 15px;\r\n}\r\n\r\nbody .ui-treetable thead tr {\r\n    border: 1px solid #bdbdbd;\r\n}",""])},function(t,e,i){"use strict";var n=this&&this.__decorate||function(t,e,i,n){var o,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,i,s):o(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};Object.defineProperty(e,"__esModule",{value:!0});var r=i(0),s=i(17),a=i(18),l=i(13),h=i(11),u=i(60),c=function(){function t(t){this.pService=t,this.edittableLink=!1,this.conType="PreserveLeft",this.listOfSwapChoices=new Array,this.listOfRightChoices=new Array,this.listOfLeftChoices=new Array,this.connectorTypes=new Array,this.leftEntityFields=new Array,this.rightEntityFields=new Array,this.swapEntityFields=new Array,this.filteredEntities=new Array,this.selectedGoCharts=new Array,this.profilesObj=new Array,this.profiles=new Array,this.profileExists=!1,this.chartName=new l.ChartStructureVm,this.types=new Array,this.clonedEntities=new Array,this.selectedEntity=new Array,this.entities=new Array,this.selectedEntities=new Array,this.links=new Array,this.model=new s.GraphLinksModel([]),this.entityDiagrams=new Array,this.ops=new Array,this.operators=new Array,this.allFields=new Array,this.fields=new Array,this.orders=new Array,this.nodeTypes=new Array,this.nTypes=new Array,this.dimensions=new Array,this.addedEntDim=new l.DimensionVm}return t.prototype.ngOnDestroy=function(){console.log("Destroyed")},t.prototype.showDetails=function(t){var e=this;if(this.node=t,this.fields=[],t){var i=t.key;this.dimensions.forEach(function(t){i===t.entity&&(e.newEntDim=t,e.fieldDefault={label:"Select",value:null},t.dimensions.forEach(function(t){e.field={label:t.entity,value:t.entity},e.fields.push(e.field)}),e.fields.unshift(e.fieldDefault),e.orders=[{label:"Ascending",value:"Asc"},{label:"Descending",value:"Desc"}])}),this.loadLinkTypes()}},t.prototype.onModelChanged=function(t){this.showDetails(this.node)},t.prototype.ngOnInit=function(){var t=this;this.url=this.pService.url,Object.keys(l.Operator).forEach(function(e){isNaN(Number(l.Operator[e]))||t.ops.push({label:e,value:e})}),this.addedEntDim.operation=this.ops[0].value,this.getProfileStructureInit(),Object.keys(l.ChartType).forEach(function(e){isNaN(Number(l.ChartType[e]))||t.types.push({label:e,value:e})}),this.pService.GetEntities().subscribe(function(e){t.entitiesObj=e,t.entitiesObj.forEach(function(e){var i={label:e.name,data:e,icon:"ui-icon-functions",children:[]};t.entities.push(i),e.fields.forEach(function(n){var o={label:n.name,data:n,parent:t.entities[t.entities.length-1],icon:"ui-icon-power-input",children:[]};t.allField={label:e.name+"."+n.name,value:n},t.allFields.push(t.allField),i.children.push(o)})}),t.clonedEntities=u(t.entities)},function(t){console.log(t)},function(){})},t.prototype.loadProfileOnTab=function(t){this.profileIsSelected&&(1===t.index&&0!==t.index?(this.previewSet=!0,this.pService.loadProfile(this.selectedNode.label)):this.previewSet=!1)},t.prototype.getProfileStructureInit=function(){var t=this;this.pService.GetProfileStructure().subscribe(function(e){e&&(t.profilesObj=e,t.profilesObj.forEach(function(e){var i={label:e.title,data:e,icon:"ui-icon-person",expanded:!0,children:[]};t.profiles.push(i),e.bands.forEach(function(t){var n={label:"Band "+(e.bands.indexOf(t)+1),data:t,icon:"ui-icon-format-bold",expanded:!0,children:[]};i.children.push(n),t.charts.forEach(function(t){var e;"Pie"===t.type.toString()&&(e="ui-icon-pie-chart"),"Doughnut"===t.type.toString()&&(e="ui-icon-data-usage"),"Label"===t.type.toString()&&(e="ui-icon-font-download"),"Line"===t.type.toString()&&(e="ui-icon-trending-up"),"Table"===t.type.toString()&&(e="ui-icon-grid-on"),"Bar"===t.type.toString()&&(e="ui-icon-insert-chart");var i={label:t.title,data:t,icon:e,expanded:!0};n.children.push(i)})})}),t.profileReady=!0)})},t.prototype.nodeSelect=function(t){var e=this;if(this.nodeSelected=!0,this.selectedNode.parent&&this.selectedNode.children&&(console.log("Band Selected"),this.bandIsSelected=!0,this.profileIsSelected=!1,this.chartIsSelected=!1,this.previewSet&&this.pService.loadProfile(this.selectedNode.parent.label)),this.selectedNode.parent&&!this.selectedNode.children){console.log("Chart Selected"),this.bandIsSelected=!1,this.profileIsSelected=!1,this.chartIsSelected=!0,this.previewSet&&this.pService.loadProfile(this.selectedNode.parent.parent.label),this.entityDiagrams=[],this.dimensions=[];var i=this.selectedNode.data;i.dimensions.forEach(function(t){var i={key:t.entity,items:[],isSelected:!1};t.dimensions.forEach(function(t){i.items.push({name:t.entity,iskey:!1,figure:"Decision",color:"#333333"})}),e.entityDiagrams.push(i),e.dimensions.push(t)}),this.chartName=i,this.selectedNode.label,this.viewChartDesigner()}!this.selectedNode.parent&&this.selectedNode.children&&(console.log("Profile Selected"),this.bandIsSelected=!1,this.profileIsSelected=!0,this.chartIsSelected=!1,this.previewSet&&this.pService.loadProfile(this.selectedNode.label)),this.firstNode&&(this.copyInitiated||this.cutInitiated)?this.secondNode=this.selectedNode:this.firstNode=this.selectedNode,(this.copyInitiated||this.cutInitiated)&&(this.secondNode=this.selectedNode,this.selectedNode.parent&&this.selectedNode.children&&(this.secondNodeType="band"),this.selectedNode.parent&&!this.selectedNode.children&&(this.secondNodeType="chart"),!this.selectedNode.parent&&this.selectedNode.children&&(this.secondNodeType="profile"),"band"==this.firstNodeType&&"profile"==this.secondNodeType||"chart"==this.firstNodeType&&"band"==this.secondNodeType?this.copyValid=!0:this.copyValid=!1)},t.prototype.nodeUnselect=function(t){this.nodeSelected=!1},t.prototype.blur=function(){this.nodeSelected=!1},t.prototype.copy=function(){(this.initNewProfile||this.profileReady)&&(this.selectedNode.parent&&this.selectedNode.children&&(this.firstNodeType="band"),this.selectedNode.parent&&!this.selectedNode.children&&(this.firstNodeType="chart"),!this.selectedNode.parent&&this.selectedNode.children&&(this.firstNodeType="profile",this.firstNode=null),this.cloneNode=u(this.firstNode),this.copyInitiated=!0)},t.prototype.cut=function(){(this.initNewProfile||this.profileReady)&&(this.selectedNode.parent&&this.selectedNode.children&&(this.firstNodeType="band"),this.selectedNode.parent&&!this.selectedNode.children&&(this.firstNodeType="chart"),!this.selectedNode.parent&&this.selectedNode.children&&(this.firstNodeType="profile",this.firstNode=null),this.cloneNode=u(this.firstNode),this.cutInitiated=!0)},t.prototype.paste=function(){this.copyInitiated&&this.copyValid&&(this.secondNode.children.push(this.cloneNode),"chart"===this.firstNodeType&&"band"===this.secondNodeType&&this.selectedNode.data.charts.push(this.cloneNode.data),"band"===this.firstNodeType&&"profile"===this.secondNodeType&&this.secondNode.data.bands.push(this.cloneNode.data),this.copyInitiated=!1,this.copyValid=!1),this.cutInitiated&&(this.secondNode.children.push(this.cloneNode),"chart"===this.firstNodeType&&"band"===this.secondNodeType&&(this.firstNode.parent.data.charts.splice(this.firstNode.parent.children.indexOf(this.firstNode),1),this.firstNode.parent.children.splice(this.firstNode.parent.children.indexOf(this.firstNode),1),this.selectedNode.data.charts.push(this.cloneNode.data)),"band"===this.firstNodeType&&"profile"===this.secondNodeType&&(this.selectedNode.parent.data.bands.splice(this.firstNode.parent.children.indexOf(this.firstNode),1),this.selectedNode.parent.children.splice(this.firstNode.parent.children.indexOf(this.firstNode),1),this.secondNode.data.bands.push(this.cloneNode.data)),this.cutInitiated=!1)},t.prototype.createNewChart=function(){this.addNewEntity?this.NewChartHeader="Edit Chart":this.NewChartHeader="New Chart",this.chartName=new l.ChartStructureVm,this.chartName.dimensions=[],this.showNewChartModal=!0,this.clonedEntities.length>0&&(this.entities=u(this.clonedEntities))},t.prototype.editChart=function(){var t=this;this.showNewChartModal=!0,this.addNewEntity=!0,this.addNewEntity?this.NewChartHeader="Edit Chart":this.NewChartHeader="New Chart";var e=this.selectedNode.data.type;this.chartType=0===e?"Bar":1===e?"Pie":2===e?"Doughnut":3===e?"Label":4===e?"Line":5===e?"Table":this.selectedNode.data.type,this.selectedNode.data.dimensions.forEach(function(e){t.entities.filter(function(t){return t.label===e.entity})[0].expanded=!0,e.dimensions.forEach(function(e){t.entities.forEach(function(i){if(i.label===e.parent.entity){var n=i.children.filter(function(t){return t.label===e.entity}),o=n[0];t.selectedEntity.push(o)}})})})},t.prototype.createProfile=function(){var t=new l.ProfileStructureVm;t.title="New Profile";var e=(new Array,new l.BandVm);e.row=0;new l.ChartStructureVm;t.bands.push(e),this.profileNode={label:t.title,data:t,icon:"ui-icon-person",expanded:!0,children:[{label:"Band 1",data:e,icon:"ui-icon-format-bold",children:[]}]},this.profiles.push(this.profileNode),this.initNewProfile=!this.initNewProfile},t.prototype.createNewBand=function(){var t=new l.BandVm,e=(new l.ChartStructureVm,this.selectedNode.children);t.row=e.length,this.selectedNode.data.bands.push(t);var i={label:"Band "+(e.length+1),icon:"ui-icon-format-bold",expanded:!0,data:t,children:[]};this.selectedNode.children.push(i)},t.prototype.addChartToBand=function(){var t="";"Pie"===this.chartType.toString()&&(t="ui-icon-pie-chart"),"Doughnut"===this.chartType.toString()&&(t="ui-icon-data-usage"),"Label"===this.chartType.toString()&&(t="ui-icon-font-download"),"Line"===this.chartType.toString()&&(t="ui-icon-trending-up"),"Table"===this.chartType.toString()&&(t="ui-icon-grid-on"),"Bar"===this.chartType.toString()&&(t="ui-icon-insert-chart");var e=new l.ChartStructureVm;e.title=this.chartName.title;var i=l.ChartType[this.chartType];e.type=i,e.dimensions=[],(o=e.dimensions).push.apply(o,this.chartName.dimensions);this.selectedNode.children;this.selectedNode.data.charts.push(e);var n={label:""+this.chartName.title,expanded:!0,icon:t,data:e};this.selectedNode.children.push(n),this.chartName.title="",this.chartType="Select";var o},t.prototype.createNew=function(){this.nodeSelected=!0,this.profileIsSelected&&(console.log("Creating band in "+this.selectedNode.label),this.createNewBand()),this.bandIsSelected&&this.createNewChart(),this.chartIsSelected&&this.editChart()},t.prototype.saveProfile=function(){var t=this;try{if("New Profile"!==this.selectedNode.label&&(e=this.selectedNode.data,this.profilesObj.forEach(function(i){t.selectedNode.label===i.title&&i!==e?(console.log("Profile already exists"),e.title="New Profile",t.selectedNode.label="New Profile",t.profileExists=!0):(e.title=t.selectedNode.label,t.profileExists=!1)})),this.profileIsSelected&&"New Profile"!==this.selectedNode.label&&""!==this.selectedNode.label&&!1===this.profileExists){console.log(this.selectedNode),this.initNewProfile=!1,console.log("Selected node "+this.selectedNode.label);var e=new l.ProfileStructureVm;e=this.selectedNode.data,e.title=this.selectedNode.label,this.pService.AddProfileStructure(e).subscribe(function(e){t.profiles=[],t.profilesObj=e,t.profilesObj.forEach(function(e){var i={label:e.title,data:e,icon:"ui-icon-person",expanded:!0,children:[]};t.profiles.push(i),e.bands.forEach(function(t){var n={label:"Band "+(e.bands.indexOf(t)+1),data:t,icon:"ui-icon-format-bold",expanded:!0,children:[]};i.children.push(n),t.charts.forEach(function(t){var e;"Pie"===t.type.toString()&&(e="ui-icon-pie-chart"),"Doughnut"===t.type.toString()&&(e="ui-icon-data-usage"),"Label"===t.type.toString()&&(e="ui-icon-font-download"),"Line"===t.type.toString()&&(e="ui-icon-trending-up"),"Table"===t.type.toString()&&(e="ui-icon-grid-on"),"Bar"===t.type.toString()&&(e="ui-icon-insert-chart");var i={label:t.title,data:t,expanded:!0,icon:e};n.children.push(i)})})}),t.profileReady=!0},function(t){return console.log(t)})}}catch(t){}},t.prototype.deleteNode=function(){this.profileIsSelected&&this.deleteProfile(),this.bandIsSelected&&this.deleteBand(),this.chartIsSelected&&this.deleteChart()},t.prototype.deleteProfile=function(){var t=this;if(!this.profileIsSelected)return void console.log("Select a profile");console.log("Delete profile?");var e=new l.ProfileStructureVm;e.title=this.selectedNode.label,this.pService.deleteProfileStructure(e.title).subscribe(function(e){t.profilesObj=[],t.profiles=[],t.profilesObj=e,t.profilesObj.forEach(function(e){var i={label:e.title,data:e,icon:"ui-icon-person",expanded:!0,children:[]};t.profiles.push(i),e.bands.forEach(function(t){var n={label:"Band "+(e.bands.indexOf(t)+1),data:t,icon:"ui-icon-format-bold",expanded:!0,children:[]};i.children.push(n),t.charts.forEach(function(t){var e;"Pie"===t.type.toString()&&(e="ui-icon-pie-chart"),"Doughnut"===t.type.toString()&&(e="ui-icon-data-usage"),"Label"===t.type.toString()&&(e="ui-icon-font-download"),"Line"===t.type.toString()&&(e="ui-icon-trending-up"),"Table"===t.type.toString()&&(e="ui-icon-grid-on"),"Bar"===t.type.toString()&&(e="ui-icon-insert-chart");var i={label:t.title,data:t,expanded:!0,icon:e};n.children.push(i)})})}),t.profileReady=!0}),console.log("Deleted profile "+e.title),this.initNewProfile=!1},t.prototype.deleteBand=function(){this.bandIsSelected&&(this.selectedNode.parent.data.bands.splice(this.firstNode.parent.children.indexOf(this.firstNode),1),this.selectedNode.parent.children.splice(this.firstNode.parent.children.indexOf(this.firstNode),1))},t.prototype.deleteChart=function(){if(!this.chartIsSelected)return void console.log("Select a chart");console.log("Delete chart?"),this.selectedNode.parent.data.charts.splice(this.firstNode.parent.children.indexOf(this.firstNode),1),this.selectedNode.parent.children.splice(this.firstNode.parent.children.indexOf(this.firstNode),1)},t.prototype.makeChart=function(){var t=this;this.chartName.title&&"Select"!==this.chartType.toString()&&this.selectedEntity.length>0&&(this.entityDiagrams=[],this.dimensions=[],this.entitiesnode=new Array,this.selectedEntity.forEach(function(e){if(e.parent){var i=e.parent.label,n=t.entitiesnode.filter(function(t){return t.parent_.label===i});if(1===n.length)n[0].children_.push(e);else{var o={parent_:e.parent,children_:new Array};o.children_.push(e),t.entitiesnode.push(o)}}else{if(1===t.entitiesnode.filter(function(t){return t.parent_.label===e.label}).length);else{var r={parent_:e,children_:new Array};t.entitiesnode.push(r)}}}),this.chartName.dimensions=new Array,this.entitiesnode.forEach(function(e){var i=new l.DimensionVm,n=new l.DimensionVm;i.dimensions=new Array,i.entity=e.parent_.label,n.entity=e.parent_.label;var o=new l.DataElementVm;o.name=e.parent_.data.name,o.friendlyName=e.parent_.data.friendlyName,i.dataElement=o,n.dataElement=o,Object.keys(l.NodeType).forEach(function(e){isNaN(Number(l.NodeType[e]))||t.nodeTypes.push({label:e,value:e})}),i.nodeType=t.nodeTypes[0].value,n.nodeType=t.nodeTypes[0].value,t.dimensions.push(i),e.children_.forEach(function(e){var o=new l.DimensionVm;o.entity=e.label;var r=new l.DataElementVm;r.name=e.data.name,r.friendlyName=e.data.friendlyName,r.type=e.data.type,o.dataElement=r,o.nodeType=t.nodeTypes[1].value,o.parent=n,i.dimensions.push(o)}),t.chartName.dimensions.push(i)}),this.selectedEntities=[],this.entitiesnode.forEach(function(e){t.selectedEntities.push(e.parent_.data.name)}),this.chartName.dimensions.forEach(function(e){var i={key:e.dataElement.name,items:[]};e.dimensions.forEach(function(t){i.items.push({name:t.dataElement.name,iskey:!1,figure:"Decision",color:"#333333"})}),t.entityDiagrams.push(i)}),this.showNewChartModal=!1,this.selectedEntity=[],this.selectedEntities=[],this.addChartToBand())},t.prototype.onNewChart_EntityHide=function(){this.addNewEntity=!1,this.selectedEntities=[],this.selectedEntity=[],this.chartType="Select"},t.prototype.saveEdittedChart=function(){var t=this;if(this.selectedEntity.length>0){this.addNewEntity=!1,this.showNewChartModal=!1,this.entityDiagrams=[],this.dimensions=[],this.chartName.dimensions=[],this.entitiesnode=new Array,this.selectedEntity.forEach(function(e){if(e.parent){var i=e.parent.label,n=t.entitiesnode.filter(function(t){return t.parent_.label===i});if(1===n.length)n[0].children_.push(e);else{var o={parent_:e.parent,children_:new Array};o.children_.push(e),t.entitiesnode.push(o)}}else{if(1===t.entitiesnode.filter(function(t){return t.parent_.label===e.label}).length);else{var r={parent_:e,children_:new Array};t.entitiesnode.push(r)}}}),this.entitiesnode.forEach(function(e){var i=new l.DimensionVm,n=new l.DimensionVm;i.dimensions=new Array,i.entity=e.parent_.label,n.entity=e.parent_.label;var o=new l.DataElementVm;o.name=e.parent_.data.name,o.friendlyName=e.parent_.data.friendlyName,i.dataElement=o,n.dataElement=o,Object.keys(l.NodeType).forEach(function(e){isNaN(Number(l.NodeType[e]))||t.nodeTypes.push({label:e,value:e})}),i.nodeType=t.nodeTypes[0].value,n.nodeType=t.nodeTypes[0].value,t.dimensions.push(i),e.children_.forEach(function(e){var o=new l.DimensionVm;o.entity=e.label;var r=new l.DataElementVm;r.name=e.data.name,r.friendlyName=e.data.friendlyName,r.type=e.data.type,o.dataElement=r,o.nodeType=t.nodeTypes[1].value,o.parent=n,i.dimensions.push(o)}),t.chartName.dimensions.push(i)}),this.chartName.dimensions.forEach(function(e){var i={key:e.dataElement.name,items:[]};e.dimensions.forEach(function(t){i.items.push({name:t.dataElement.name,iskey:!1,figure:"Decision",color:"#333333"})}),t.entityDiagrams.push(i)}),this.selectedEntities=[],this.addNewEntity=!1,this.selectedNode.label=this.chartName.title,this.selectedNode.icon=e;var e="";"Pie"===this.chartType.toString()&&(e="ui-icon-pie-chart"),"Doughnut"===this.chartType.toString()&&(e="ui-icon-data-usage"),"Label"===this.chartType.toString()&&(e="ui-icon-font-download"),"Line"===this.chartType.toString()&&(e="ui-icon-trending-up"),"Table"===this.chartType.toString()&&(e="ui-icon-grid-on"),"Bar"===this.chartType.toString()&&(e="ui-icon-insert-chart");var i=l.ChartType[this.chartType];this.chartName.type=i,this.selectedNode.icon=e}},t.prototype.viewChartDesigner=function(){var t=this;this.makeChartInit=!0,this.selectedEntities=[],this.links=[],this.chartName.dimensions.forEach(function(e){t.selectedEntities.push(e.dataElement.name)}),this.pService.GetConnections(this.selectedEntities).subscribe(function(e){t.links=new Array;var i=t.chartName.links.filter(function(t){return t.isAdded});t.chartName.links=e,(n=t.chartName.links).push.apply(n,i),e.forEach(function(e){t.links.push({from:e.left.name,to:e.right.name,text:"1",toText:"0..N"})}),t.model=new s.GraphLinksModel(t.entityDiagrams,t.links);var n},function(t){console.log(t)},function(){console.log("Get Connections complete")}),this.selectedEntities=[]},t.prototype.loadLinkTypes=function(){this.nTypes=[{label:"AvgLeaf",value:"AvgLeaf"},{label:"SumLeaf",value:"SumLeaf"},{label:"CountLeaf",value:"CountLeaf"}]},t.prototype.editField=function(t){this.operators=[{label:"None",value:"None"},{label:"+",value:"Add"},{label:"x",value:"Multiply"},{label:"-",value:"Subtract"},{label:"/",value:"Divide"}],this.editFieldSelect=!0,this.showNewFieldModal=!0,this.addedEntDim=t,this.operand1=this.addedEntDim.dataElement.parent.name+"."+this.addedEntDim.dataElement.name,this.addedEntDim.operand.name?""!==this.addedEntDim.operand.name.toString()&&(this.operand2=this.addedEntDim.operand.parent.name+"."+this.addedEntDim.operand.name):(this.operand2="Operand 2",this.newOperandVisible=!1)},t.prototype.deleteField=function(t){try{this.newEntDim.dimensions.splice(this.newEntDim.dimensions.indexOf(t),1)}catch(t){console.log(t+", "+t.message)}},t.prototype.deleteLink=function(t){this.chartName.links.splice(this.chartName.links.indexOf(t),1)},t.prototype.editLink=function(t){var e=this;this.linkToBeEditted=t,this.leftEntityFields=[],this.rightEntityFields=[],this.showNewConnectionModal=!0,this.rightEntity=t.right,this.leftEntity=t.left,this.pService.GetEntities().subscribe(function(t){e.entitiesObj=t}),this.entitiesObj.forEach(function(t){e.rightEntity.name===t.name&&(e.rightEntity=t),e.leftEntity.name===t.name&&(e.leftEntity=t)}),this.leftEntity.fields.forEach(function(t){e.leftEntityField={label:t.name,value:t},e.leftEntityFields.push(e.leftEntityField)}),this.rightEntity.fields.forEach(function(t){e.rightEntityField={label:t.name,value:t},e.rightEntityFields.push(e.rightEntityField)}),t.right&&(this.rightEntity.name=t.right.name,t.connectorLinks.forEach(function(t){e.listOfRightChoices.push(t.to)})),t.connectorLinks.forEach(function(t){e.listOfLeftChoices.push(t.from)}),Object.keys(l.ConnectorType).forEach(function(t){isNaN(Number(l.ConnectorType[t]))||e.connectorTypes.push({label:t,value:t})}),this.leftEntity.name=t.left.name,this.conType=t.type,this.edittableLink=!0},t.prototype.saveEdittedLink=function(){var t=this;if(this.listOfLeftChoices.length===this.listOfRightChoices.length){this.chartName.links.splice(this.chartName.links.indexOf(this.linkToBeEditted),1),this.newEntityCon=new l.ConnectorVm;var e=new l.EntityVm,i=new l.EntityVm;this.links=[],e=this.leftEntity,i=this.rightEntity,e.fields=[],i.fields=[],this.rightEntity,this.newEntityCon.left=e,this.newEntityCon.right=i,this.newEntityCon.type=this.conType,this.lEntityChanged&&this.rEntityChanged&&(this.listOfLeftChoices.pop(),this.listOfRightChoices.pop());for(var n=0;n<this.listOfLeftChoices.length;n++){var o=new l.ConnectorLinkVm;o.from=this.listOfLeftChoices[n],o.to=this.listOfRightChoices[n],this.newEntityCon.connectorLinks.push(o)}this.chartName.links.push(this.newEntityCon),this.showNewConnectionModal=!1,this.edittableLink=!1,this.listOfLeftChoices=[],this.listOfRightChoices=[],this.leftEntityFields=[],this.rightEntityFields=[],this.filteredEntities=[],this.conType="PreserveLeft",this.linkToBeEditted=null,this.rEntityChanged=!1,this.lEntityChanged=!1,this.pService.GetEntities().subscribe(function(e){t.entitiesObj=e})}},t.prototype.saveField=function(){this.addedEntDim.dataElement.name&&this.addedEntDim.nodeType&&this.addedEntDim.entity&&("None"===this.addedEntDim.operation.toString()&&this.addedEntDim.operand.name&&(this.addedEntDim.operand=new l.DataElementVm),this.editFieldSelect=!1,this.showNewFieldModal=!1,this.operatorVisible=!1,this.operand1="Operand 1",this.operand2="Operand 2")},t.prototype.newField=function(){this.addedEntDim=new l.DimensionVm,this.addedEntDim.dataElement=new l.DataElementVm,this.addedEntDim.operand=new l.DataElementVm,this.showNewFieldModal=!0,this.operand1="Operand 1",this.operand2="Operand 2",this.operators=[{label:"None",value:"None"},{label:"+",value:"Add"},{label:"x",value:"Multiply"},{label:"-",value:"Subtract"},{label:"/",value:"Divide"}]},t.prototype.createNewField=function(){var t=this;if(this.addedEntDim.dataElement.name&&this.addedEntDim.nodeType&&this.addedEntDim.entity){this.addedEntDim.operation&&"None"===this.addedEntDim.operation.toString()&&this.addedEntDim.operand.name&&(this.addedEntDim.operand=new l.DataElementVm),this.node;var e=this.node.key;this.dimensions.forEach(function(i){i.entity==e&&"DataLeaf"===i.dimensions[0].nodeType.toString()&&(t.addedEntDim.parent=i.dimensions[0].parent)}),this.newEntDim.dimensions.push(this.addedEntDim),this.showNewFieldModal=!1,this.newOperandVisible=!1}},t.prototype.operatorChange=function(){"None"===this.addedEntDim.operation.toString()&&(this.addedEntDim.operand=new l.DataElementVm,this.operand2="Operand 2",this.newOperandVisible=!1),this.newOperandVisible=!0},t.prototype.onNewFieldHide=function(){this.newOperandVisible=!1,this.operatorVisible=!1,this.editFieldSelect=!1,this.operand1="Operand 1",this.operand2="Operand 2"},t.prototype.dataElementChange=function(t){this.operatorVisible=!0,this.addedEntDim.dataElement=t.value},t.prototype.operandChange=function(t){this.addedEntDim.operand=t.value},t.prototype.newConnection=function(){var t=this;this.edittableLink=!1,this.leftEntityFields=[],this.rightEntityFields=[],this.showNewConnectionModal=!0,Object.keys(l.ConnectorType).forEach(function(e){isNaN(Number(l.ConnectorType[e]))||t.connectorTypes.push({label:e,value:e})}),this.pService.diagram.selection.toArray().forEach(function(e){e instanceof s.Node&&t.selectedGoCharts.push(e.data.key)}),this.entitiesObj.forEach(function(e){t.selectedGoCharts.filter(function(t){return t===e.name}).length>0&&t.filteredEntities.push(e)}),this.leftEntity=this.filteredEntities[0],this.leftEntity.fields.forEach(function(e){t.leftEntityField={label:e.name,value:e},t.leftEntityFields.push(t.leftEntityField)}),this.listOfLeftChoices.push({}),this.selectedGoCharts.length>1&&(this.rightEntity=this.filteredEntities[1],this.listOfRightChoices.push({}),this.rightEntity.fields.forEach(function(e){t.rightEntityField={label:e.name,value:e},t.rightEntityFields.push(t.rightEntityField)})),1==this.selectedGoCharts.length&&(this.rightEntity=this.leftEntity,this.rightEntity=this.filteredEntities[0],this.listOfRightChoices.push({}),this.rightEntity.fields.forEach(function(e){t.rightEntityField={label:e.name,value:e},t.rightEntityFields.push(t.rightEntityField)}))},t.prototype.onNewConnectionHide=function(){this.showNewConnectionModal=!1,this.selectedGoCharts=[],this.connectorTypes=[],this.listOfLeftChoices=[],this.listOfRightChoices=[],this.filteredEntities=[],this.conType="PreserveLeft"},t.prototype.leftEntityChange=function(t){this.lEntityChanged=!0,1===this.listOfLeftChoices.length&&this.listOfLeftChoices.push({});this.listOfLeftChoices.indexOf(t.value);this.listOfLeftChoices.indexOf(t.value)===this.listOfLeftChoices.length-1&&1!==this.listOfLeftChoices.length&&this.listOfLeftChoices.push({})},t.prototype.rightEntityChange=function(t){this.rEntityChanged=!0,1===this.listOfRightChoices.length&&this.listOfRightChoices.push({});this.listOfRightChoices.indexOf(t.value);this.listOfRightChoices.indexOf(t.value)===this.listOfRightChoices.length-1&&1!==this.listOfRightChoices.length&&this.listOfRightChoices.push({})},t.prototype.createNewConnection=function(){var t=this;if(this.listOfLeftChoices.length===this.listOfRightChoices.length){this.newEntityCon=new l.ConnectorVm,this.links=[],this.rightEntity.fields=this.rightEntityFields,this.leftEntity.fields=this.leftEntityFields,this.leftEntity.fields=[],this.rightEntity.fields=[],this.newEntityCon.left=this.leftEntity,this.newEntityCon.right=this.rightEntity,this.newEntityCon.type=this.conType,this.newEntityCon.isAdded=!0,this.lEntityChanged&&this.rEntityChanged&&(this.listOfLeftChoices.pop(),this.listOfRightChoices.pop());for(var e=0;e<this.listOfLeftChoices.length;e++){var i=new l.ConnectorLinkVm;i.from=this.listOfLeftChoices[e],i.to=this.listOfRightChoices[e],this.newEntityCon.connectorLinks.push(i)}this.chartName.links.push(this.newEntityCon),this.chartName.links.forEach(function(e){t.links.push({from:e.left.name,to:e.right.name,text:"1",toText:"0..N"})}),this.model=new s.GraphLinksModel(this.entityDiagrams,this.links),this.showNewConnectionModal=!1,this.selectedGoCharts=[],this.connectorTypes=[],this.listOfLeftChoices=[],this.listOfRightChoices=[],this.leftEntityFields=[],this.rightEntityFields=[],this.filteredEntities=[],this.conType="PreserveLeft",this.rEntityChanged=!1,this.lEntityChanged=!1,this.pService.GetEntities().subscribe(function(e){t.entitiesObj=e})}},t.prototype.swapLeftAndRightEntities=function(){this.swapEntity=this.rightEntity,this.swapEntityFields=this.rightEntityFields,this.listOfSwapChoices=this.listOfRightChoices,this.rightEntity=this.leftEntity,this.rightEntityFields=this.leftEntityFields,this.listOfRightChoices=this.listOfLeftChoices,this.leftEntity=this.swapEntity,this.leftEntityFields=this.swapEntityFields,this.listOfLeftChoices=this.listOfSwapChoices,this.swapEntity=null,this.swapEntityFields=null,this.listOfSwapChoices=[]},t.prototype.setDefaultSortOrder=function(){this.newEntDim.sortOrder="Asc",null===this.newEntDim.orderBy&&(this.newEntDim.sortOrder=null)},n([r.Input("url"),o("design:type",String)],t.prototype,"url",void 0),n([r.ViewChild("text"),o("design:type",r.ElementRef)],t.prototype,"textField",void 0),t=n([r.Component({selector:"profile-designer",template:i(63),styles:[i(64)]}),o("design:paramtypes",[h.BIService])],t)}();e.ProfileDesignerComponent=c;var d=function(){function t(t){this.sanitized=t}return t.prototype.transform=function(t){return t=t.slice(0,-4)},t=n([r.Pipe({name:"safeHtml"}),o("design:paramtypes",[a.DomSanitizer])],t)}();e.Safe=d;var p=function(){function t(t){this.sanitized=t}return t.prototype.transform=function(t){return"Add"===t&&(t="+"),"Multiply"===t&&(t="x"),"Subtract"===t&&(t="-"),"Divide"===t&&(t="/"),t},t=n([r.Pipe({name:"formatOp"}),o("design:paramtypes",[a.DomSanitizer])],t)}();e.Format=p},function(t,e,i){(function(t,i){function n(t,e){return t.set(e[0],e[1]),t}function o(t,e){return t.add(e),t}function r(t,e){for(var i=-1,n=t?t.length:0;++i<n&&!1!==e(t[i],i,t););return t}function s(t,e){for(var i=-1,n=e.length,o=t.length;++i<n;)t[o+i]=e[i];return t}function a(t,e,i,n){var o=-1,r=t?t.length:0;for(n&&r&&(i=t[++o]);++o<r;)i=e(i,t[o],o,t);return i}function l(t,e){for(var i=-1,n=Array(t);++i<t;)n[i]=e(i);return n}function h(t,e){return null==t?void 0:t[e]}function u(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(t){}return e}function c(t){var e=-1,i=Array(t.size);return t.forEach(function(t,n){i[++e]=[n,t]}),i}function d(t,e){return function(i){return t(e(i))}}function p(t){var e=-1,i=Array(t.size);return t.forEach(function(t){i[++e]=t}),i}function f(t){var e=-1,i=t?t.length:0;for(this.clear();++e<i;){var n=t[e];this.set(n[0],n[1])}}function y(){this.__data__=Re?Re(null):{}}function g(t){return this.has(t)&&delete this.__data__[t]}function v(t){var e=this.__data__;if(Re){var i=e[t];return i===Pt?void 0:i}return ve.call(e,t)?e[t]:void 0}function m(t){var e=this.__data__;return Re?void 0!==e[t]:ve.call(e,t)}function b(t,e){return this.__data__[t]=Re&&void 0===e?Pt:e,this}function w(t){var e=-1,i=t?t.length:0;for(this.clear();++e<i;){var n=t[e];this.set(n[0],n[1])}}function x(){this.__data__=[]}function C(t){var e=this.__data__,i=H(e,t);return!(i<0)&&(i==e.length-1?e.pop():Te.call(e,i,1),!0)}function k(t){var e=this.__data__,i=H(e,t);return i<0?void 0:e[i][1]}function S(t){return H(this.__data__,t)>-1}function M(t,e){var i=this.__data__,n=H(i,t);return n<0?i.push([t,e]):i[n][1]=e,this}function T(t){var e=-1,i=t?t.length:0;for(this.clear();++e<i;){var n=t[e];this.set(n[0],n[1])}}function E(){this.__data__={hash:new f,map:new(Oe||w),string:new f}}function I(t){return st(this,t).delete(t)}function P(t){return st(this,t).get(t)}function D(t){return st(this,t).has(t)}function O(t,e){return st(this,t).set(t,e),this}function L(t){this.__data__=new w(t)}function N(){this.__data__=new w}function j(t){return this.__data__.delete(t)}function R(t){return this.__data__.get(t)}function F(t){return this.__data__.has(t)}function A(t,e){var i=this.__data__;if(i instanceof w){var n=i.__data__;if(!Oe||n.length<It-1)return n.push([t,e]),this;i=this.__data__=new T(n)}return i.set(t,e),this}function B(t,e){var i=Ue(t)||mt(t)?l(t.length,String):[],n=i.length,o=!!n;for(var r in t)!e&&!ve.call(t,r)||o&&("length"==r||ct(r,n))||i.push(r);return i}function V(t,e,i){var n=t[e];ve.call(t,e)&&vt(n,i)&&(void 0!==i||e in t)||(t[e]=i)}function H(t,e){for(var i=t.length;i--;)if(vt(t[i][0],e))return i;return-1}function z(t,e){return t&&nt(e,Mt(e),t)}function q(t,e,i,n,o,s,a){var l;if(n&&(l=s?n(t,o,s,a):n(t)),void 0!==l)return l;if(!kt(t))return t;var h=Ue(t);if(h){if(l=lt(t),!e)return it(t,l)}else{var c=_e(t),d=c==jt||c==Rt;if(Ke(t))return W(t,e);if(c==Bt||c==Ot||d&&!s){if(u(t))return s?t:{};if(l=ht(d?{}:t),!e)return ot(t,z(l,t))}else{if(!oe[c])return s?t:{};l=ut(t,c,q,e)}}a||(a=new L);var p=a.get(t);if(p)return p;if(a.set(t,l),!h)var f=i?rt(t):Mt(t);return r(f||t,function(o,r){f&&(r=o,o=t[r]),V(l,r,q(o,e,i,n,r,t,a))}),l}function G(t){return kt(t)?Se(t):{}}function _(t,e,i){var n=e(t);return Ue(t)?n:s(n,i(t))}function U(t){return me.call(t)}function K(t){return!(!kt(t)||pt(t))&&(xt(t)||u(t)?be:ie).test(yt(t))}function $(t){if(!ft(t))return Pe(t);var e=[];for(var i in Object(t))ve.call(t,i)&&"constructor"!=i&&e.push(i);return e}function W(t,e){if(e)return t.slice();var i=new t.constructor(t.length);return t.copy(i),i}function Y(t){var e=new t.constructor(t.byteLength);return new Ce(e).set(new Ce(t)),e}function J(t,e){var i=e?Y(t.buffer):t.buffer;return new t.constructor(i,t.byteOffset,t.byteLength)}function X(t,e,i){return a(e?i(c(t),!0):c(t),n,new t.constructor)}function Q(t){var e=new t.constructor(t.source,ee.exec(t));return e.lastIndex=t.lastIndex,e}function Z(t,e,i){return a(e?i(p(t),!0):p(t),o,new t.constructor)}function tt(t){return qe?Object(qe.call(t)):{}}function et(t,e){var i=e?Y(t.buffer):t.buffer;return new t.constructor(i,t.byteOffset,t.length)}function it(t,e){var i=-1,n=t.length;for(e||(e=Array(n));++i<n;)e[i]=t[i];return e}function nt(t,e,i,n){i||(i={});for(var o=-1,r=e.length;++o<r;){var s=e[o],a=n?n(i[s],t[s],s,i,t):void 0;V(i,s,void 0===a?t[s]:a)}return i}function ot(t,e){return nt(t,Ge(t),e)}function rt(t){return _(t,Mt,Ge)}function st(t,e){var i=t.__data__;return dt(e)?i["string"==typeof e?"string":"hash"]:i.map}function at(t,e){var i=h(t,e);return K(i)?i:void 0}function lt(t){var e=t.length,i=t.constructor(e);return e&&"string"==typeof t[0]&&ve.call(t,"index")&&(i.index=t.index,i.input=t.input),i}function ht(t){return"function"!=typeof t.constructor||ft(t)?{}:G(ke(t))}function ut(t,e,i,n){var o=t.constructor;switch(e){case Gt:return Y(t);case Lt:case Nt:return new o(+t);case _t:return J(t,n);case Ut:case Kt:case $t:case Wt:case Yt:case Jt:case Xt:case Qt:case Zt:return et(t,n);case Ft:return X(t,n,i);case At:case zt:return new o(t);case Vt:return Q(t);case Ht:return Z(t,n,i);case qt:return tt(t)}}function ct(t,e){return!!(e=null==e?Dt:e)&&("number"==typeof t||ne.test(t))&&t>-1&&t%1==0&&t<e}function dt(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}function pt(t){return!!ye&&ye in t}function ft(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||pe)}function yt(t){if(null!=t){try{return ge.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function gt(t){return q(t,!0,!0)}function vt(t,e){return t===e||t!==t&&e!==e}function mt(t){return wt(t)&&ve.call(t,"callee")&&(!Me.call(t,"callee")||me.call(t)==Ot)}function bt(t){return null!=t&&Ct(t.length)&&!xt(t)}function wt(t){return St(t)&&bt(t)}function xt(t){var e=kt(t)?me.call(t):"";return e==jt||e==Rt}function Ct(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=Dt}function kt(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function St(t){return!!t&&"object"==typeof t}function Mt(t){return bt(t)?B(t):$(t)}function Tt(){return[]}function Et(){return!1}var It=200,Pt="__lodash_hash_undefined__",Dt=9007199254740991,Ot="[object Arguments]",Lt="[object Boolean]",Nt="[object Date]",jt="[object Function]",Rt="[object GeneratorFunction]",Ft="[object Map]",At="[object Number]",Bt="[object Object]",Vt="[object RegExp]",Ht="[object Set]",zt="[object String]",qt="[object Symbol]",Gt="[object ArrayBuffer]",_t="[object DataView]",Ut="[object Float32Array]",Kt="[object Float64Array]",$t="[object Int8Array]",Wt="[object Int16Array]",Yt="[object Int32Array]",Jt="[object Uint8Array]",Xt="[object Uint8ClampedArray]",Qt="[object Uint16Array]",Zt="[object Uint32Array]",te=/[\\^$.*+?()[\]{}|]/g,ee=/\w*$/,ie=/^\[object .+?Constructor\]$/,ne=/^(?:0|[1-9]\d*)$/,oe={};oe[Ot]=oe["[object Array]"]=oe[Gt]=oe[_t]=oe[Lt]=oe[Nt]=oe[Ut]=oe[Kt]=oe[$t]=oe[Wt]=oe[Yt]=oe[Ft]=oe[At]=oe[Bt]=oe[Vt]=oe[Ht]=oe[zt]=oe[qt]=oe[Jt]=oe[Xt]=oe[Qt]=oe[Zt]=!0,oe["[object Error]"]=oe[jt]=oe["[object WeakMap]"]=!1;var re="object"==typeof t&&t&&t.Object===Object&&t,se="object"==typeof self&&self&&self.Object===Object&&self,ae=re||se||Function("return this")(),le="object"==typeof e&&e&&!e.nodeType&&e,he=le&&"object"==typeof i&&i&&!i.nodeType&&i,ue=he&&he.exports===le,ce=Array.prototype,de=Function.prototype,pe=Object.prototype,fe=ae["__core-js_shared__"],ye=function(){var t=/[^.]+$/.exec(fe&&fe.keys&&fe.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),ge=de.toString,ve=pe.hasOwnProperty,me=pe.toString,be=RegExp("^"+ge.call(ve).replace(te,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),we=ue?ae.Buffer:void 0,xe=ae.Symbol,Ce=ae.Uint8Array,ke=d(Object.getPrototypeOf,Object),Se=Object.create,Me=pe.propertyIsEnumerable,Te=ce.splice,Ee=Object.getOwnPropertySymbols,Ie=we?we.isBuffer:void 0,Pe=d(Object.keys,Object),De=at(ae,"DataView"),Oe=at(ae,"Map"),Le=at(ae,"Promise"),Ne=at(ae,"Set"),je=at(ae,"WeakMap"),Re=at(Object,"create"),Fe=yt(De),Ae=yt(Oe),Be=yt(Le),Ve=yt(Ne),He=yt(je),ze=xe?xe.prototype:void 0,qe=ze?ze.valueOf:void 0;f.prototype.clear=y,f.prototype.delete=g,f.prototype.get=v,f.prototype.has=m,f.prototype.set=b,w.prototype.clear=x,w.prototype.delete=C,w.prototype.get=k,w.prototype.has=S,w.prototype.set=M,T.prototype.clear=E,T.prototype.delete=I,T.prototype.get=P,T.prototype.has=D,T.prototype.set=O,L.prototype.clear=N,L.prototype.delete=j,L.prototype.get=R,L.prototype.has=F,L.prototype.set=A;var Ge=Ee?d(Ee,Object):Tt,_e=U;(De&&_e(new De(new ArrayBuffer(1)))!=_t||Oe&&_e(new Oe)!=Ft||Le&&"[object Promise]"!=_e(Le.resolve())||Ne&&_e(new Ne)!=Ht||je&&"[object WeakMap]"!=_e(new je))&&(_e=function(t){var e=me.call(t),i=e==Bt?t.constructor:void 0,n=i?yt(i):void 0;if(n)switch(n){case Fe:return _t;case Ae:return Ft;case Be:return"[object Promise]";case Ve:return Ht;case He:return"[object WeakMap]"}return e});var Ue=Array.isArray,Ke=Ie||Et;i.exports=gt}).call(e,i(61),i(62)(t))},function(t,e){var i;i=function(){return this}();try{i=i||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(i=window)}t.exports=i},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e){t.exports='<div class="ui-g">\r\n  <div class="card ui-g-12" style="margin:7px 10px">\r\n    <div class="ui-g-3">\r\n      <div class="ui-g-12">\r\n        <button pButton type="button" icon="ui-icon-person-add" [disabled]="initNewProfile" (click)="createProfile()"></button>\r\n        <button pButton type="button" icon="ui-icon-close" [disabled]="!profileIsSelected" (click)="deleteProfile()" pTooltip="Delete profile"></button>\r\n        <button pButton type="button" icon="ui-icon-check" [disabled]="!profileIsSelected" (click)="saveProfile()" pTooltip="Save profile"></button>\r\n\r\n        <button pButton type="button" icon="ui-icon-content-cut" [disabled]="profileIsSelected" pTooltip="Cut" (click)="cut()"></button>\r\n        <button pButton type="button" icon="ui-icon-content-copy" [disabled]="profileIsSelected" pTooltip="Copy" (click)="copy()"></button>\r\n        <button pButton type="button" icon="ui-icon-content-paste" [disabled]="!copyValid" (click)="paste()"></button>\r\n\r\n        <button pButton type="button" icon="ui-icon-insert-chart" [disabled]="!bandIsSelected" (click)="createNewChart()" pTooltip="Create new chart"></button>\r\n\r\n\r\n      </div>\r\n      <div class="ui-g-12 pad-left-0">\r\n        <div class="ui-g-3">\r\n          <p-tree [value]="profiles" selectionMode="single" [(selection)]="selectedNode" (onNodeSelect)="nodeSelect($event)" (onNodeUnselect)="nodeUnselect($event)">\r\n            <ng-template let-node pTemplate="default">\r\n              <div class="ui-g inp-div">\r\n                <input-lbl (blur)="blur(node)" class="inp-lbl ui-g-4" [(ngModel)]="node.label" [required]="true" type="text"> </input-lbl>\r\n                <div class="ui-g-8" *ngIf="selectedNode && node===selectedNode">\r\n                  <button pButton class="add-btn" icon="ui-icon-close" type="button" *ngIf="node.parent && nodeSelected" (click)="deleteNode()"></button>\r\n                  <button pButton class="add-btn" icon="ui-icon-add" type="button" *ngIf="nodeSelected && !chartIsSelected" (click)="createNew()"></button>\r\n                  <button pButton class="add-btn" icon="ui-icon-edit" type="button" *ngIf="chartIsSelected" (click)="editChart()"></button>\r\n\r\n                </div>\r\n              </div>\r\n            </ng-template>\r\n          </p-tree>\r\n        </div>\r\n      </div>\r\n      <div class="ui-g-12">\r\n        \x3c!-- <button pButton type="button" label="Refresh" icon="" (click)="refreshDesigner()"></button> --\x3e\r\n      </div>\r\n\r\n\r\n      <p-dialog header={{NewChartHeader}} [(visible)]="showNewChartModal" [responsive]="true" [modal]="true" width="750" (onHide)="onNewChart_EntityHide()">\r\n        <div class="ui-g">\r\n          <div class="ui-g-12">\r\n            <div class="ui-g-2">Title:</div>\r\n            <div class="ui-g-10">\r\n              <input id="input" type="text" class="ui-g-12" pInputText [(ngModel)]="chartName.title" />\r\n            </div>\r\n          </div>\r\n          <div class="ui-g-12">\r\n            <div class="ui-g-2">Type:</div>\r\n            <div class="ui-g-10">\r\n              <p-dropdown class="dropdown" [options]="types" placeholder="Select" [(ngModel)]="chartType"></p-dropdown>\r\n            </div>\r\n          </div>\r\n          <div class="ui-g-12">\r\n\r\n            <p-treeTable>\r\n              <p-column header="Entity name"></p-column>\r\n              <p-column header="Type"></p-column>\r\n            </p-treeTable>\r\n            <p-treeTable [value]="entities" [(selection)]="selectedEntity" selectionMode="checkbox" [style]="{\'max-height\':\'500px\', \'overflow-y\':\'auto\'}">\r\n              <p-column field="friendlyName"></p-column>\r\n              <p-column field="type"></p-column>\r\n            </p-treeTable>\r\n            <button pButton type="button" *ngIf="!addNewEntity" label="Create" class="pull-right marg-top-10" icon="ui-icon-check" (click)="makeChart()"></button>\r\n            <button pButton type="button" *ngIf="addNewEntity" label="Save" class="pull-right marg-top-10" icon="ui-icon-check"\r\n              (click)="saveEdittedChart()"></button>\r\n\r\n          </div>\r\n        </div>\r\n      </p-dialog>\r\n    </div>\r\n\r\n    <div class="ui-g-9">\r\n      <p-tabView *ngIf="makeChartInit" (onChange)="loadProfileOnTab($event)">\r\n        <p-tabPanel header="Chart Designer">\r\n          <div class="ui-g">\r\n            <div class="ui-g-12">\r\n              <div class="ui-g-9">\r\n                <app-diagram-editor [model]="model" (nodeSelected)="showDetails($event)" (modelChanged)="onModelChanged($event)">\r\n                </app-diagram-editor>\r\n              </div>\r\n              <div class="ui-g-3" *ngIf="node">\r\n                Entity:\r\n                <p-accordion>\r\n                  <p-accordionTab [selected]="true">\r\n                    <p-header class="ellipsis">{{newEntDim.entity}}</p-header>\r\n                    <div class="ui-g">\r\n                      <div class="ui-g-12">\r\n                        Caption:\r\n                      </div>\r\n                      <div class="ui-g-12">\r\n                        <div class="ui-g inp-div">\r\n                          <input pInputText [(ngModel)]="newEntDim.entity" [required]="true" type="text" />\r\n                        </div>\r\n                      </div>\r\n                      <div class="ui-g-12">\r\n                        Order by:\r\n                      </div>\r\n                      <div class="ui-g-6">\r\n                        <p-dropdown class="ddfill" [options]="fields" (onChange)="setDefaultSortOrder()" placeholder="Select" [(ngModel)]="newEntDim.orderBy"></p-dropdown>\r\n                      </div>\r\n                      \x3c!-- <div class="ui-g-12">\r\n                        Sort Order:\r\n                      </div> --\x3e\r\n                      <div class="ui-g-6">\r\n                        <p-dropdown class="ddfill" [options]="orders" placeholder="Select" [(ngModel)]="newEntDim.sortOrder"></p-dropdown>\r\n                        </div>\r\n                      <div class="ui-g-12">\r\n                        Record Count:\r\n                      </div>\r\n                      <div class="ui-g-12">\r\n                        <p-spinner class="ddfill" size="10" [(ngModel)]="newEntDim.recordCount" [min]="0" [placeholder]="0" [placeholder]="0"></p-spinner>\r\n                      </div>\r\n                    </div>\r\n                  </p-accordionTab>\r\n                </p-accordion>\r\n                <div class="ui-g-12">\r\n                  <button pButton type="button" label="Add field" icon="ui-icon-add" (click)="newField()"></button>\r\n                  <button pButton type="button" label="New link" icon="ui-icon-subdirectory-arrow-right" (click)="newConnection()"></button>\r\n\r\n                </div>\r\n                <div style="margin-top:60px">\r\n                  Fields:\r\n                  <p-accordion>\r\n                    <p-accordionTab *ngFor="let acc of newEntDim.dimensions ">\r\n                      <p-header>\r\n                        <span class="ellipsis"> {{acc.entity}} </span>\r\n                        <span (click)="deleteField(acc)" class="remove-button">×</span>\r\n                      </p-header>\r\n                      <div class="ui-g" *ngIf="acc.nodeType===\'Branch\' || acc.nodeType===\'DataLeaf\'">\r\n                        <div class="ui-g-12">\r\n                          Caption:\r\n                        </div>\r\n                        <div class="ui-g-12">\r\n                          <div class="ui-g inp-div">\r\n                            <input pInputText [(ngModel)]="acc.entity" [required]="true" type="text" />\r\n                          </div>\r\n                        </div>\r\n\r\n                        <div class="ui-g-12">\r\n                          <p-checkbox [(ngModel)]="acc.isMultiValue" binary="true" label="Multi value:"></p-checkbox>\r\n                        </div>\r\n                        <div class="ui-g-12">\r\n                          <p-checkbox [(ngModel)]="acc.isUnique" binary="true" label="Is Unique:"></p-checkbox>\r\n                        </div>\r\n                        <div class="ui-g-12">\r\n                          Group:\r\n                        </div>\r\n                        <div class="ui-g-12">\r\n                          <p-spinner class="ddfill" size="10" [(ngModel)]="acc.group" [min]="0" [placeholder]="0"></p-spinner>\r\n                        </div>\r\n\r\n                        <div class="ui-g-12">\r\n                          <p-checkbox [(ngModel)]="acc.isRefDate" binary="true" label="Filter by:"></p-checkbox>\r\n                        </div>\r\n                      </div>\r\n\r\n\r\n                      <div class="ui-g" *ngIf="acc.nodeType===\'SumLeaf\' || acc.nodeType===\'AvgLeaf\' || acc.nodeType===\'CountLeaf\'">\r\n                        <div class="ui-g-12">\r\n                          Caption:\r\n                        </div>\r\n                        <div class="ui-g-12">\r\n                          <div class="ui-g inp-div">\r\n                            <input pInputText [(ngModel)]="acc.entity" [required]="true" type="text" />\r\n                          </div>\r\n                        </div>\r\n\r\n                        <div class="ui-g-12">\r\n                          Expression:\r\n                        </div>\r\n                        <div class="ui-g-12" *ngIf="acc.operand && acc.dataElement">\r\n                          {{acc.nodeType | safeHtml}} ( {{acc.dataElement.parent.name}}.{{acc.dataElement.name}}\r\n\r\n                          <span *ngIf="acc.operand.name && acc.operand.parent.name"> {{acc.operation | formatOp}} {{acc.operand.parent.name}}.{{acc.operand.name}} </span> )\r\n\r\n                          <button pButton type="button" class="pull-right" icon="ui-icon-edit" (click)="editField(acc)"></button>\r\n\r\n                        </div>\r\n\r\n                      </div>\r\n                    </p-accordionTab>\r\n                  </p-accordion>\r\n                </div>\r\n\r\n                <div style="margin-top:20px" *ngIf="chartName.links.length > 0">\r\n                  Links:\r\n                  <p-accordion>\r\n                    <p-accordionTab *ngFor="let lnk of chartName.links">\r\n                      <p-header>\r\n                        <span class="ellipsis"> {{lnk.left.name}} => {{lnk.right.name}} </span>\r\n                        <span (click)="deleteLink(lnk)" class="remove-button">×</span>\r\n                      </p-header>\r\n                      <div class="ui-g">\r\n                        <div class="ui-g-12" *ngIf="lnk">\r\n                          {{lnk.left.name}} => {{lnk.right.name}} ( {{lnk.type}} )\r\n                          <button pButton type="button" class="pull-right" icon="ui-icon-edit" (click)="editLink(lnk)"></button>\r\n                        </div>\r\n                      </div>\r\n                    </p-accordionTab>\r\n                  </p-accordion>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </p-tabPanel>\r\n        <p-tabPanel header="Preview">\r\n          <div class="ui-g">\r\n            <bi-viewer [url]="url"></bi-viewer>\r\n          </div>\r\n        </p-tabPanel>\r\n      </p-tabView>\r\n    </div>\r\n  </div>\r\n</div>\r\n\x3c!--  --\x3e\r\n\r\n<p-dialog header="Add Field" *ngIf="addedEntDim.dataElement" (onHide)=\'onNewFieldHide()\' [(visible)]="showNewFieldModal"\r\n  [responsive]="true" [modal]="true" width="750" class="newConDialog">\r\n  <div class="ui-g">\r\n    <div class="ui-g-12">\r\n      <div class="ui-g-2">\r\n        <p-dropdown class="dropdown" [options]="nTypes" placeholder="Function" [(ngModel)]="addedEntDim.nodeType"></p-dropdown>\r\n      </div>\r\n      <div class="ui-g-4">\r\n        <p-dropdown class="dropdown conddwn" (onChange)="dataElementChange($event)" [options]="allFields" placeholder={{operand1}}\r\n          [(ngModel)]="operand1"></p-dropdown>\r\n      </div>\r\n      <div class="ui-g-2" *ngIf="operatorVisible  || editFieldSelect">\r\n        <p-dropdown class="dropdown" [options]="operators" (onChange)="operatorChange()" [(ngModel)]="addedEntDim.operation"></p-dropdown>\r\n      </div>\r\n      <div class="ui-g-4" *ngIf="newOperandVisible || editFieldSelect">\r\n        <p-dropdown class="dropdown conddwn" (onChange)="operandChange($event)" [options]="allFields" placeholder={{operand2}} [(ngModel)]="operand2"></p-dropdown>\r\n      </div>\r\n    </div>\r\n    <div class="ui-g-12">\r\n      <span *ngIf="addedEntDim.dataElement.parent">\r\n        {{addedEntDim.nodeType | safeHtml}} ( {{addedEntDim.dataElement.parent.name}}.{{addedEntDim.dataElement.name}}\r\n        <span *ngIf="addedEntDim.operand.parent && addedEntDim.operand">\r\n          {{addedEntDim.operation | formatOp}} {{addedEntDim.operand.parent.name}}.{{addedEntDim.operand.name}}\r\n        </span>\r\n        )\r\n      </span>\r\n    </div>\r\n    <div class="ui-g-12">\r\n      <div class="ui-g-2">Caption:</div>\r\n      <div class="ui-g-10">\r\n        <input id="input" type="text" class="ui-g-12" pInputText [(ngModel)]="addedEntDim.entity" />\r\n      </div>\r\n    </div>\r\n\r\n    <div class="ui-g-12">\r\n      <button pButton type="button" *ngIf="editFieldSelect" label="Save" class="pull-right" icon="ui-icon-check" (click)="saveField()"></button>\r\n      <button pButton type="button" *ngIf="!editFieldSelect" label="Create" class="pull-right" icon="ui-icon-check" (click)="createNewField()"></button>\r\n    </div>\r\n  </div>\r\n</p-dialog>\r\n\r\n<p-dialog class="newConDialog" header="New Connection" (onHide)=\'onNewConnectionHide()\' [(visible)]="showNewConnectionModal"\r\n  [responsive]="true" [modal]="true" width="750">\r\n  <div class="ui-g">\r\n    <div class="ui-g-12" *ngIf="showNewConnectionModal">\r\n      <div class="ui-g-4">\r\n\r\n        <p-panel header="{{leftEntity.name}}">\r\n          <div *ngIf="listOfLeftChoices.length > 0">\r\n            <p-dropdown class="dropdown conddwn" [(ngModel)]="listOfLeftChoices[i]" *ngFor="let choice of listOfLeftChoices ;let i = index"\r\n              [options]="leftEntityFields" placeholder="Select" (onChange)="leftEntityChange($event)"></p-dropdown>\r\n          </div>\r\n        </p-panel>\r\n\r\n      </div>\r\n\r\n      <div class="ui-g-4">\r\n        <button pButton type="button" icon="ui-icon-compare-arrows" (click)="swapLeftAndRightEntities()"></button>\r\n        <p-dropdown class="dropdown" [options]="connectorTypes" [(ngModel)]="conType" placeholder="PreserveLeft"></p-dropdown>\r\n      </div>\r\n\r\n      <div class="ui-g-4">\r\n        <p-panel header="{{rightEntity.name}}">\r\n          <div *ngIf="listOfRightChoices.length > 0">\r\n            <p-dropdown class="dropdown conddwn" [(ngModel)]="listOfRightChoices[i]" *ngFor="let choice of listOfRightChoices ;let i = index"\r\n              [options]="rightEntityFields" placeholder="Select" (onChange)="rightEntityChange($event)"></p-dropdown>\r\n          </div>\r\n        </p-panel>\r\n\r\n      </div>\r\n    </div>\r\n\r\n    <div class="ui-g-12">\r\n      <button pButton type="button" *ngIf="edittableLink" label="Save" class="pull-right" icon="ui-icon-check" (click)="saveEdittedLink()"></button>\r\n      <button pButton type="button" *ngIf="!edittableLink" label="Create" class="pull-right" icon="ui-icon-check" (click)="createNewConnection()"></button>\r\n    </div>\r\n  </div>\r\n</p-dialog>'},function(t,e,i){var n=i(65);t.exports="string"==typeof n?n:n.toString()},function(t,e,i){e=t.exports=i(8)(void 0),e.push([t.i,"/* You can add global styles to this file, and also import other style files */\r\n\r\n@media print\r\n{    \r\n    .no-print, .no-print *\r\n    {\r\n        display: none !important;\r\n    }\r\n}\r\n\r\n.label-card {\r\n    max-height: 165px;\r\n    margin-bottom: auto !important;\r\n}\r\n\r\n.ellipsis {\r\n    text-overflow:ellipsis;\r\n    overflow:hidden;\r\n    max-width:87%;\r\n    white-space:nowrap;\r\n    display:inline-block;\r\n}\r\n\r\n.float-right {\r\n    float:right;\r\n}\r\n.no-margin {\r\n    margin: auto;\r\n}\r\n\r\n.main-value {\r\n    font-size:36px;\r\n    font-weight:bold;\r\n    text-align:center;\r\n}\r\n\r\n.caption {\r\n    font-weight:bold;\r\n}\r\n\r\n.table-view-col {\r\n  width:20px;\r\n  text-align:center;\r\n}\r\n\r\n.ui-datatable-header h4 {\r\n    margin: auto;\r\n}\r\n\r\n.ui-datatable .ui-datatable-footer {\r\n    padding: 4px !important;\r\n}\r\n\r\n.pad4 {\r\n    padding: 4px;\r\n}\r\n\r\n.pad-inherit {\r\n    padding:inherit;\r\n}\r\n\r\n.pad05 {\r\n    padding: 0px 5px 5px 5px;\r\n}\r\n\r\n.marg-top-10 {\r\n    margin-top: 10px;\r\n}\r\n\r\n@media screen and (max-width: 641px) {\r\n    .c-input span input {\r\n    width: 100% !important;\r\n  }\r\n    .c-input span {\r\n    width: 100% !important;\r\n  }\r\n}\r\n\r\n.ui-fieldset {\r\n    padding: 2px !important;\r\n}\r\n\r\nh2 {\r\n    font-weight: 500 !important;\r\n}\r\n\r\n.card {\r\n    margin-bottom: 0px !important;\r\n}\r\n.chart-card {\r\n    padding: 0px 5px;\r\n}\r\n\r\n.add-btn {\r\n    width:20px !important;\r\n    height:20px !important;\r\n    padding:11px !important;\r\n    line-height:0em !important;\r\n    float: right;\r\n}\r\n\r\n.inp-lbl {\r\n    padding: 4px;\r\n}\r\n\r\n.inp-div .ui-g-8 {\r\n    padding: .2em !important;\r\n}\r\n\r\n.ui-tree {\r\n    width: 314px;\r\n    min-height: 40px;\r\n}\r\n\r\n.entity-tree .ui-tree {\r\n    width: 44em;\r\n    max-height: 21%;\r\n    overflow-y: auto;\r\n}\r\n\r\n.pull-right {\r\n    float: right;\r\n}\r\n\r\n.ui-dialog {\r\n    max-height: 99% !important;\r\n}\r\n\r\ndiv .dropdown {\r\n    min-width: 20px !important;\r\n  }\r\n\r\n.ui-dropdown {\r\n    min-width: 75px !important;\r\n}\r\n\r\n  .add-btn .fa {\r\n      font-size: 15px;\r\n  }\r\n\r\n.ui-treenode-label {\r\n    min-width: 74%;\r\n}\r\n\r\n.pad-left-0 {\r\n    padding-left: 0pc;\r\n}\r\n\r\n.ui-accordion-header {\r\n    margin: 3px 0px;\r\n}\r\n\r\n.remove-button {\r\n    font-size: 21px;\r\n    background-color: white;\r\n    color: #555555;\r\n    display: block;\r\n    text-align: center;\r\n    border-radius: 13px;\r\n    width: 28px;\r\n    cursor: pointer;\r\n    float: right;\r\n}\r\n\r\n.remove-button:hover {\r\n    background-color: #374b69;\r\n    color: white;\r\n  }\r\n\r\n.ui-treetable thead th, body .ui-treetable thead tr th {\r\n    padding: 0px;\r\n}\r\n\r\n.dropdown div {\r\n    width: auto !important;\r\n}\r\n\r\n.ddfill div {\r\nwidth: 100% !important;\r\n}\r\n\r\nbody .ddfill .ui-dropdown .ui-dropdown-trigger .fa {\r\n    margin-left: 90% !important;\r\n}\r\n\r\n.newConDialog .ui-dialog .ui-dialog-content {\r\n    overflow: inherit !important;\r\n}\r\n\r\n.newConDialog .ui-dialog {\r\n   top: 70px !important;\r\n}\r\n\r\n.conddwn div {\r\n    display: block;\r\n    margin-bottom: 15px;\r\n}\r\n\r\nbody .ui-treetable thead tr {\r\n    border: 1px solid #bdbdbd;\r\n}",""])},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(22),o=i(23),r=function(){function t(t,e){void 0===e&&(e=!1);var i=this;this.enableLogging=!1,this.clientMethods={},this.connectionMethods={},this.url=t,this.enableLogging=e,this.connectionMethods.onConnected=function(){i.enableLogging&&console.log("Connected! connectionId: "+i.connectionId)},this.connectionMethods.onDisconnected=function(){i.enableLogging&&console.log("Connection closed from: "+i.url)},this.connectionMethods.onOpen=function(t){i.enableLogging&&console.log("WebSockets connection opened!")}}return t.prototype.start=function(){var t=this;this.socket=new WebSocket(this.url),this.socket.onopen=function(e){t.connectionMethods.onOpen.apply(t,e)},this.socket.onmessage=function(e){if(t.message=JSON.parse(e.data),t.message.messageType==o.MessageType.Text)t.enableLogging&&console.log("Text message received. Message: "+t.message.data);else if(t.message.messageType==o.MessageType.MethodInvocation){var i=JSON.parse(t.message.data);t.clientMethods[i.methodName].apply(t,i.arguments)}else t.message.messageType==o.MessageType.ConnectionEvent&&(t.connectionId=t.message.data,t.connectionMethods.onConnected.apply(t))},this.socket.onclose=function(e){t.connectionMethods.onDisconnected.apply(t)},this.socket.onerror=function(e){t.enableLogging&&console.log("Error data: "+e.error)}},t.prototype.invoke=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];var o=new n.InvocationDescriptor(t,e);this.enableLogging&&console.log(o),this.socket.send(JSON.stringify(o))},t}();e.Connection=r},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){for(var i in t)e.hasOwnProperty(i)||(e[i]=t[i])}(i(68))},function(t,e,i){"use strict";var n=this&&this.__decorate||function(t,e,i,n){var o,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,i,s):o(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};Object.defineProperty(e,"__esModule",{value:!0});var r=i(0),s=i(17),a=i(11),l=function(){function t(t){var e=this;this.service=t,this.nodeSelected=new r.EventEmitter,this.modelChanged=new r.EventEmitter;var i=s.GraphObject.make;this.service.diagram=new s.Diagram,this.service.diagram.initialContentAlignment=s.Spot.Center,this.service.diagram.undoManager.isEnabled=!0,this.service.diagram.addDiagramListener("ChangedSelection",function(t){var i=t.diagram.selection.first();e.nodeSelected.emit(i instanceof s.Node?i:null)}),this.service.diagram.addModelChangedListener(function(t){return t.isTransactionFinished&&e.modelChanged.emit(t)});var n=i(s.Brush,"Linear",{1:"#E5E5E5",0:"#FFFFFF"}),o=i(s.Panel,"Horizontal",i(s.Shape,{desiredSize:new s.Size(10,10)},new s.Binding("figure","figure"),new s.Binding("fill","color")),i(s.TextBlock,{margin:new s.Margin(5,0,0,5),stroke:"#333333",font:"bold 14px sans-serif"},new s.Binding("text","name")));this.service.diagram.nodeTemplate=i(s.Node,"Auto",{minSize:new s.Size(180,150),selectionAdorned:!0,resizable:!0,layoutConditions:s.Part.LayoutStandard&~s.Part.LayoutNodeSized,fromSpot:s.Spot.AllSides,toSpot:s.Spot.AllSides,isShadowed:!0,shadowColor:"#C5C1AA"},new s.Binding("location","loc",s.Point.parse).makeTwoWay(s.Point.stringify),i(s.Shape,"Rectangle",{fill:n,stroke:"#756875",strokeWidth:3}),i(s.Panel,"Table",{margin:8,stretch:s.GraphObject.Fill},i(s.RowColumnDefinition,{row:0,sizing:s.RowColumnDefinition.None}),new s.Binding("fill","color")),i(s.TextBlock,{row:0,alignment:s.Spot.TopCenter,margin:new s.Margin(5,14,10,2),font:"bold 16px sans-serif"},new s.Binding("text","key")),i(s.Panel,"Vertical",{name:"LIST",row:1,padding:3,alignment:s.Spot.Center,defaultAlignment:s.Spot.Left,stretch:s.GraphObject.Horizontal,itemTemplate:o},new s.Binding("itemArray","items"))),this.service.diagram.linkTemplate=i(s.Link,{selectionAdorned:!0,layerName:"Foreground",reshapable:!0,routing:s.Link.AvoidsNodes,corner:5,curve:s.Link.JumpOver},i(s.Shape,{stroke:"#303B45",strokeWidth:2.5}),i(s.TextBlock,{editable:!0,textAlign:"center",font:"bold 14px sans-serif",stroke:"#1967B3",segmentIndex:0,segmentOffset:new s.Point(NaN,NaN),segmentOrientation:s.Link.OrientUpright},new s.Binding("text","text")),i(s.TextBlock,{editable:!0,textAlign:"center",font:"bold 14px sans-serif",stroke:"#1967B3",segmentIndex:-1,segmentOffset:new s.Point(NaN,NaN),segmentOrientation:s.Link.OrientUpright},new s.Binding("text","toText")))}return Object.defineProperty(t.prototype,"model",{get:function(){return this.service.diagram.model},set:function(t){this.service.diagram.model=t},enumerable:!0,configurable:!0}),t.prototype.ngOnInit=function(){this.service.diagram.div=this.diagramRef.nativeElement},n([r.ViewChild("diagramDiv"),o("design:type",r.ElementRef)],t.prototype,"diagramRef",void 0),n([r.Input(),o("design:type",s.Model),o("design:paramtypes",[s.Model])],t.prototype,"model",null),n([r.Output(),o("design:type",Object)],t.prototype,"nodeSelected",void 0),n([r.Output(),o("design:type",Object)],t.prototype,"modelChanged",void 0),t=n([r.Component({selector:"app-diagram-editor",template:i(69),styles:[i(70)]}),o("design:paramtypes",[a.BIService])],t)}();e.DiagramEditorComponent=l},function(t,e){t.exports='<div class="diagramsPanel">\n  \x3c!-- <div #paletteDiv class="paletteDiv"></div> --\x3e\n  <div #diagramDiv class="diagramDiv"></div>\n</div>'},function(t,e,i){var n=i(71);t.exports="string"==typeof n?n:n.toString()},function(t,e,i){e=t.exports=i(8)(void 0),e.push([t.i,".diagramsPanel {\r\n  width:100%;\r\n  white-space:nowrap;\r\n  position: relative;\r\n}\r\n\r\n.diagramDiv {\r\n  border: 1px solid black;\r\n  display: inline-block;\r\n  vertical-align: top;\r\n  width: 100%;\r\n  height: 700px;\r\n}",""])},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){for(var i in t)e.hasOwnProperty(i)||(e[i]=t[i])}(i(73))},function(t,e,i){"use strict";var n=this&&this.__decorate||function(t,e,i,n){var o,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,i,s):o(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};Object.defineProperty(e,"__esModule",{value:!0});var r=i(0),s=i(5),a={provide:s.NG_VALUE_ACCESSOR,useExisting:r.forwardRef(function(){return l}),multi:!0},l=function(){function t(t,e){this._renderer=e,this.label="",this.type="text",this.required=!1,this.disabled=!1,this.blur=new r.EventEmitter,this._value="",this.preValue="",this.editing=!1,this.onChange=Function.prototype,this.onTouched=Function.prototype,this.editCaption="Click to edit"}return Object.defineProperty(t.prototype,"value",{get:function(){return this._value},set:function(t){t!==this._value&&(this._value=t,this.onChange(t))},enumerable:!0,configurable:!0}),t.prototype.writeValue=function(t){this._value=t},t.prototype.registerOnChange=function(t){this.onChange=t},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.onBlur=function(t){this.editing=!1,this.blur.next(t)},t.prototype.edit=function(t){var e=this;this.disabled||(this.preValue=t,this.editing=!0,setTimeout(function(t){return e._renderer.invokeElementMethod(e.inlineEditControl.nativeElement,"focus")}))},t.prototype.ngOnInit=function(){this.disabled&&(this.editCaption="")},n([r.ViewChild("inputlabel"),o("design:type",r.ElementRef)],t.prototype,"inlineEditControl",void 0),n([r.Input(),o("design:type",String)],t.prototype,"label",void 0),n([r.Input(),o("design:type",String)],t.prototype,"type",void 0),n([r.Input(),o("design:type",Boolean)],t.prototype,"required",void 0),n([r.Input(),o("design:type",Boolean)],t.prototype,"disabled",void 0),n([r.Output("blur"),o("design:type",r.EventEmitter)],t.prototype,"blur",void 0),t=n([r.Component({selector:"input-lbl",template:i(74),providers:[a],styles:[i(75)]}),o("design:paramtypes",[r.ElementRef,r.Renderer])],t)}();e.InputLabelComponent=l},function(t,e){t.exports='  <div *ngIf="editing && !disabled">\r\n    <input class="input-label" pInputText #inputlabel [required]="required" (blur)="onBlur($event)" [name]="value" [(ngModel)]="value"\r\n      [type]="type" [placeholder]="label" />\r\n  </div>\r\n  <div *ngIf="!editing">\r\n    \x3c!--<label >{{label}}</label>--\x3e\r\n    <div [title]="editCaption" (click)="edit(value)" (focus)="edit(value);" tabindex="0" class="inline-edit">{{value}}&nbsp;</div>\r\n  </div>\r\n'},function(t,e,i){var n=i(76);t.exports="string"==typeof n?n:n.toString()},function(t,e,i){e=t.exports=i(8)(void 0),e.push([t.i,"/* You can add global styles to this file, and also import other style files */\r\n\r\n@media print\r\n{    \r\n    .no-print, .no-print *\r\n    {\r\n        display: none !important;\r\n    }\r\n}\r\n\r\n.label-card {\r\n    max-height: 165px;\r\n    margin-bottom: auto !important;\r\n}\r\n\r\n.ellipsis {\r\n    text-overflow:ellipsis;\r\n    overflow:hidden;\r\n    max-width:87%;\r\n    white-space:nowrap;\r\n    display:inline-block;\r\n}\r\n\r\n.float-right {\r\n    float:right;\r\n}\r\n.no-margin {\r\n    margin: auto;\r\n}\r\n\r\n.main-value {\r\n    font-size:36px;\r\n    font-weight:bold;\r\n    text-align:center;\r\n}\r\n\r\n.caption {\r\n    font-weight:bold;\r\n}\r\n\r\n.table-view-col {\r\n  width:20px;\r\n  text-align:center;\r\n}\r\n\r\n.ui-datatable-header h4 {\r\n    margin: auto;\r\n}\r\n\r\n.ui-datatable .ui-datatable-footer {\r\n    padding: 4px !important;\r\n}\r\n\r\n.pad4 {\r\n    padding: 4px;\r\n}\r\n\r\n.pad-inherit {\r\n    padding:inherit;\r\n}\r\n\r\n.pad05 {\r\n    padding: 0px 5px 5px 5px;\r\n}\r\n\r\n.marg-top-10 {\r\n    margin-top: 10px;\r\n}\r\n\r\n@media screen and (max-width: 641px) {\r\n    .c-input span input {\r\n    width: 100% !important;\r\n  }\r\n    .c-input span {\r\n    width: 100% !important;\r\n  }\r\n}\r\n\r\n.ui-fieldset {\r\n    padding: 2px !important;\r\n}\r\n\r\nh2 {\r\n    font-weight: 500 !important;\r\n}\r\n\r\n.card {\r\n    margin-bottom: 0px !important;\r\n}\r\n.chart-card {\r\n    padding: 0px 5px;\r\n}\r\n\r\n.add-btn {\r\n    width:20px !important;\r\n    height:20px !important;\r\n    padding:11px !important;\r\n    line-height:0em !important;\r\n    float: right;\r\n}\r\n\r\n.inp-lbl {\r\n    padding: 4px;\r\n}\r\n\r\n.inp-div .ui-g-8 {\r\n    padding: .2em !important;\r\n}\r\n\r\n.ui-tree {\r\n    width: 314px;\r\n    min-height: 40px;\r\n}\r\n\r\n.entity-tree .ui-tree {\r\n    width: 44em;\r\n    max-height: 21%;\r\n    overflow-y: auto;\r\n}\r\n\r\n.pull-right {\r\n    float: right;\r\n}\r\n\r\n.ui-dialog {\r\n    max-height: 99% !important;\r\n}\r\n\r\ndiv .dropdown {\r\n    min-width: 20px !important;\r\n  }\r\n\r\n.ui-dropdown {\r\n    min-width: 75px !important;\r\n}\r\n\r\n  .add-btn .fa {\r\n      font-size: 15px;\r\n  }\r\n\r\n.ui-treenode-label {\r\n    min-width: 74%;\r\n}\r\n\r\n.pad-left-0 {\r\n    padding-left: 0pc;\r\n}\r\n\r\n.ui-accordion-header {\r\n    margin: 3px 0px;\r\n}\r\n\r\n.remove-button {\r\n    font-size: 21px;\r\n    background-color: white;\r\n    color: #555555;\r\n    display: block;\r\n    text-align: center;\r\n    border-radius: 13px;\r\n    width: 28px;\r\n    cursor: pointer;\r\n    float: right;\r\n}\r\n\r\n.remove-button:hover {\r\n    background-color: #374b69;\r\n    color: white;\r\n  }\r\n\r\n.ui-treetable thead th, body .ui-treetable thead tr th {\r\n    padding: 0px;\r\n}\r\n\r\n.dropdown div {\r\n    width: auto !important;\r\n}\r\n\r\n.ddfill div {\r\nwidth: 100% !important;\r\n}\r\n\r\nbody .ddfill .ui-dropdown .ui-dropdown-trigger .fa {\r\n    margin-left: 90% !important;\r\n}\r\n\r\n.newConDialog .ui-dialog .ui-dialog-content {\r\n    overflow: inherit !important;\r\n}\r\n\r\n.newConDialog .ui-dialog {\r\n   top: 70px !important;\r\n}\r\n\r\n.conddwn div {\r\n    display: block;\r\n    margin-bottom: 15px;\r\n}\r\n\r\nbody .ui-treetable thead tr {\r\n    border: 1px solid #bdbdbd;\r\n}",""])},function(t,e,i){"use strict";function n(t){for(var i in t)e.hasOwnProperty(i)||(e[i]=t[i])}Object.defineProperty(e,"__esModule",{value:!0}),n(i(78)),n(i(79)),n(i(80)),n(i(81)),n(i(82))},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});!function(t){t[t.Bar=0]="Bar",t[t.Pie=1]="Pie",t[t.Doughnut=2]="Doughnut",t[t.Label=3]="Label",t[t.Line=4]="Line",t[t.Table=5]="Table"}(e.ChartType||(e.ChartType={}))},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});!function(t){t[t.FullMatch=0]="FullMatch",t[t.PreserveRight=1]="PreserveRight",t[t.PreserveLeft=2]="PreserveLeft"}(e.ConnectorType||(e.ConnectorType={}))},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});!function(t){t[t.ShortText=0]="ShortText",t[t.Text=1]="Text",t[t.LargeText=2]="LargeText",t[t.SmallInteger=3]="SmallInteger",t[t.Integer=4]="Integer",t[t.Float=5]="Float",t[t.Currency=6]="Currency",t[t.YesNo=7]="YesNo",t[t.DateTime=8]="DateTime",t[t.Binary=9]="Binary"}(e.DataType||(e.DataType={}))},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});!function(t){t[t.Branch=0]="Branch",t[t.DataLeaf=1]="DataLeaf",t[t.AvgLeaf=2]="AvgLeaf",t[t.SumLeaf=3]="SumLeaf",t[t.CountLeaf=4]="CountLeaf"}(e.NodeType||(e.NodeType={}))},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});!function(t){t[t.None=0]="None",t[t.Add=1]="Add",t[t.Multiply=2]="Multiply",t[t.Subtract=3]="Subtract",t[t.Divide=4]="Divide"}(e.Operator||(e.Operator={}))},function(t,e,i){"use strict";function n(t){for(var i in t)e.hasOwnProperty(i)||(e[i]=t[i])}Object.defineProperty(e,"__esModule",{value:!0}),n(i(84)),n(i(14)),n(i(85)),n(i(86)),n(i(87)),n(i(88)),n(i(89)),n(i(90)),n(i(91)),n(i(92)),n(i(93)),n(i(94)),n(i(95)),n(i(96)),n(i(97)),n(i(98)),n(i(19))},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(){this.charts=new Array}return t}();e.BandVm=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(){this.links=new Array}return t}();e.ChartStructureVm=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(){}return t}();e.ChartVm=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(){}return t}();e.ConnectorLinkVm=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(){this.connectorLinks=new Array}return t}();e.ConnectorVm=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(){}return t}();e.DataElementVm=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(){this.data=new Array,this.backgroundColor=new Array,this.hoverBackgroundColor=new Array}return t}();e.DataSetVm=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});!function(t){t[t.ShortText=0]="ShortText",t[t.Text=1]="Text",t[t.LargeText=2]="LargeText",t[t.SmallInteger=3]="SmallInteger",t[t.Integer=4]="Integer",t[t.Float=5]="Float",t[t.Currency=6]="Currency",t[t.YesNo=7]="YesNo",t[t.DateTime=8]="DateTime",t[t.Binary=9]="Binary"}(e.DataTypeVm||(e.DataTypeVm={}))},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(){}return t}();e.DimensionVm=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(){this.fields=new Array}return t}();e.EntityVm=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(){}return t}();e.FieldVm=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});!function(t){t[t.Branch=0]="Branch",t[t.DataLeaf=1]="DataLeaf",t[t.AvgLeaf=2]="AvgLeaf",t[t.SumLeaf=3]="SumLeaf",t[t.CountLeaf=4]="CountLeaf"}(e.NodeTypeVm||(e.NodeTypeVm={}))},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});!function(t){t[t.None=0]="None",t[t.Add=1]="Add",t[t.Multiply=2]="Multiply",t[t.Subtract=3]="Subtract",t[t.Divide=4]="Divide"}(e.OperatorVm||(e.OperatorVm={}))},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(){}return t}();e.ProfileVm=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(){this.bands=new Array}return t}();e.ProfileStructureVm=n},function(t,e,i){"use strict";var n=this&&this.__decorate||function(t,e,i,n){var o,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,i,s):o(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s};Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(5),s=i(1);i(100);var a=i(2),l=i(2),h=i(2),u=i(2),c=i(2),d=i(2),p=i(2),f=i(2),y=i(2),g=i(2),v=i(2),m=i(2),b=i(2),w=i(2),x=i(2),C=i(2),k=i(2),S=i(2),M=i(2),T=i(2),E=i(2),I=i(2),P=i(2),D=i(2),O=i(2),L=i(2),N=i(2),j=i(2),R=i(2),F=i(2),A=i(2),B=i(2),V=i(2),H=i(2),z=i(2),q=i(2),G=i(2),_=i(2),U=i(2),K=i(2),$=i(2),W=i(2),Y=i(2),J=i(2),X=i(2),Q=i(2),Z=i(2),tt=i(2),et=i(2),it=i(2),nt=i(2),ot=i(2),rt=i(2),st=i(2),at=i(2),lt=i(2),ht=i(2),ut=i(2),ct=i(2),dt=i(2),pt=i(2),ft=i(2),yt=i(21),gt=i(13),vt=i(18),mt=i(24),bt=i(11),wt=function(){function t(){}return t=n([o.NgModule({imports:[vt.BrowserModule,r.FormsModule,a.AccordionModule,l.AutoCompleteModule,h.BreadcrumbModule,u.ButtonModule,c.CalendarModule,d.CarouselModule,p.ChartModule,f.CheckboxModule,y.ChipsModule,g.CodeHighlighterModule,v.ConfirmDialogModule,m.SharedModule,b.ContextMenuModule,w.DataGridModule,x.DataListModule,C.DataScrollerModule,k.DataTableModule,S.DialogModule,M.DragDropModule,T.DropdownModule,E.EditorModule,I.FieldsetModule,P.FileUploadModule,D.GalleriaModule,O.GMapModule,L.GrowlModule,N.InputMaskModule,j.InputSwitchModule,R.InputTextModule,F.InputTextareaModule,A.LightboxModule,B.ListboxModule,V.MegaMenuModule,H.MenuModule,z.MenubarModule,q.MessagesModule,G.MultiSelectModule,_.OrderListModule,U.OverlayPanelModule,K.PaginatorModule,$.PanelModule,W.PanelMenuModule,Y.PasswordModule,J.PickListModule,X.ProgressBarModule,Q.RadioButtonModule,Z.RatingModule,tt.ScheduleModule,et.SelectButtonModule,it.SlideMenuModule,nt.SliderModule,ot.SpinnerModule,rt.StepsModule,st.TabMenuModule,at.TabViewModule,lt.TerminalModule,ht.TieredMenuModule,ut.ToggleButtonModule,ct.ToolbarModule,dt.TooltipModule,pt.TreeModule,ft.TreeTableModule,yt.HttpModule],declarations:[gt.ChartViewerComponent,gt.LabelViewerComponent,gt.TableViewerComponent,gt.BandsComponent,gt.FieldSetComponent,gt.BIViewerComponent,gt.ProfileDesignerComponent,gt.InputLabelComponent,gt.DiagramEditorComponent,gt.Safe,gt.Format],providers:[{provide:s.LocationStrategy,useClass:s.HashLocationStrategy},bt.BIService,mt.TreeDragDropService,gt.BIViewerComponent],exports:[gt.ChartViewerComponent,gt.LabelViewerComponent,gt.TableViewerComponent,gt.BandsComponent,gt.FieldSetComponent,gt.ProfileDesignerComponent,gt.BIViewerComponent,gt.InputLabelComponent,gt.DiagramEditorComponent,gt.Safe,gt.Format]})],t)}();e.QuilModule=wt},function(t,e){t.exports=c},function(t,e,i){"use strict";var n=this&&this.__decorate||function(t,e,i,n){var o,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,i,s):o(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};Object.defineProperty(e,"__esModule",{value:!0});var r=i(0),s=i(7),a=i(1),l=i(4),h=function(){function t(t){this.el=t,this.onClose=new r.EventEmitter,this.onOpen=new r.EventEmitter,this.tabs=[]}return t.prototype.addTab=function(t){this.tabs.push(t)},t.prototype.getBlockableElement=function(){return this.el.nativeElement.children[0]},Object.defineProperty(t.prototype,"activeIndex",{get:function(){return this._activeIndex},set:function(t){if(this._activeIndex=t,this.tabs&&this.tabs.length&&null!=this._activeIndex)for(var e=0;e<this.tabs.length;e++){var i=this.multiple?this._activeIndex.includes(e):e===this._activeIndex,n=i!==this.tabs[e].selected;n&&(this.tabs[e].animating=!0),this.tabs[e].selected=i,this.tabs[e].selectedChange.emit(i)}},enumerable:!0,configurable:!0}),t}();n([r.Input(),o("design:type",Boolean)],h.prototype,"multiple",void 0),n([r.Output(),o("design:type",r.EventEmitter)],h.prototype,"onClose",void 0),n([r.Output(),o("design:type",r.EventEmitter)],h.prototype,"onOpen",void 0),n([r.Input(),o("design:type",Object)],h.prototype,"style",void 0),n([r.Input(),o("design:type",String)],h.prototype,"styleClass",void 0),n([r.Input(),o("design:type",Boolean)],h.prototype,"lazy",void 0),n([r.Input(),o("design:type",Object),o("design:paramtypes",[Object])],h.prototype,"activeIndex",null),h=n([r.Component({selector:"p-accordion",template:'\n        <div [ngClass]="\'ui-accordion ui-widget ui-helper-reset\'" [ngStyle]="style" [class]="styleClass">\n            <ng-content></ng-content>\n        </div>\n    '}),o("design:paramtypes",[r.ElementRef])],h),e.Accordion=h;var u=function(){function t(t){this.accordion=t,this.selectedChange=new r.EventEmitter,this.accordion.addTab(this)}return t.prototype.toggle=function(t){if(this.disabled||this.animating)return!1;this.animating=!0;var e=this.findTabIndex();if(this.selected)this.selected=!1,this.accordion.onClose.emit({originalEvent:t,index:e});else{if(!this.accordion.multiple)for(var i=0;i<this.accordion.tabs.length;i++)this.accordion.tabs[i].selected=!1,this.accordion.tabs[i].selectedChange.emit(!1);this.selected=!0,this.accordion.onOpen.emit({originalEvent:t,index:e})}this.selectedChange.emit(this.selected),t.preventDefault()},t.prototype.findTabIndex=function(){for(var t=-1,e=0;e<this.accordion.tabs.length;e++)if(this.accordion.tabs[e]==this){t=e;break}return t},Object.defineProperty(t.prototype,"lazy",{get:function(){return this.accordion.lazy},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hasHeaderFacet",{get:function(){return this.headerFacet&&this.headerFacet.length>0},enumerable:!0,configurable:!0}),t.prototype.onToggleDone=function(t){this.animating=!1},t.prototype.ngOnDestroy=function(){this.accordion.tabs.splice(this.findTabIndex(),1)},t}();n([r.Input(),o("design:type",String)],u.prototype,"header",void 0),n([r.Input(),o("design:type",Boolean)],u.prototype,"selected",void 0),n([r.Input(),o("design:type",Boolean)],u.prototype,"disabled",void 0),n([r.Output(),o("design:type",r.EventEmitter)],u.prototype,"selectedChange",void 0),n([r.ContentChildren(l.Header),o("design:type",r.QueryList)],u.prototype,"headerFacet",void 0),u=n([r.Component({selector:"p-accordionTab",template:'\n        <div class="ui-accordion-header ui-state-default ui-corner-all" [ngClass]="{\'ui-state-active\': selected,\'ui-state-disabled\':disabled}"\n            (click)="toggle($event)">\n            <span class="fa fa-fw" [ngClass]="{\'fa-caret-down\': selected, \'fa-caret-right\': !selected}"></span>\n            <a href="#" *ngIf="!hasHeaderFacet" role="tab" [attr.aria-expanded]="selected" [attr.aria-selected]="selected">{{header}}</a>\n            <a href="#" *ngIf="hasHeaderFacet" role="tab" [attr.aria-expanded]="selected" [attr.aria-selected]="selected">\n                <ng-content select="p-header"></ng-content>\n            </a>\n        </div>\n        <div class="ui-accordion-content-wrapper" [@tabContent]="selected ? \'visible\' : \'hidden\'" (@tabContent.done)="onToggleDone($event)"\n            [ngClass]="{\'ui-accordion-content-wrapper-overflown\': !selected||animating}" role="tabpanel" [attr.aria-hidden]="!selected">\n            <div class="ui-accordion-content ui-widget-content" *ngIf="lazy ? selected : true">\n                <ng-content></ng-content>\n            </div>\n        </div>\n    ',animations:[s.trigger("tabContent",[s.state("hidden",s.style({height:"0"})),s.state("visible",s.style({height:"*"})),s.transition("visible <=> hidden",s.animate("400ms cubic-bezier(0.86, 0, 0.07, 1)"))])]}),o("design:paramtypes",[h])],u),e.AccordionTab=u;var c=function(){function t(){}return t}();c=n([r.NgModule({imports:[a.CommonModule],exports:[h,u],declarations:[h,u]})],c),e.AccordionModule=c},function(t,e,i){"use strict";var n=this&&this.__decorate||function(t,e,i,n){var o,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,i,s):o(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};Object.defineProperty(e,"__esModule",{value:!0});var r=i(0),s=i(1),a=i(12),l=i(9),h=i(4),u=i(3),c=i(10),d=i(5);e.AUTOCOMPLETE_VALUE_ACCESSOR={provide:d.NG_VALUE_ACCESSOR,useExisting:r.forwardRef(function(){return p}),multi:!0};var p=function(){function t(t,e,i,n,o,s){this.el=t,this.domHandler=e,this.renderer=i,this.objectUtils=n,this.cd=o,this.differs=s,this.minLength=1,this.delay=300,this.type="text",this.completeMethod=new r.EventEmitter,this.onSelect=new r.EventEmitter,this.onUnselect=new r.EventEmitter,this.onFocus=new r.EventEmitter,this.onBlur=new r.EventEmitter,this.onDropdownClick=new r.EventEmitter,this.onClear=new r.EventEmitter,this.onKeyUp=new r.EventEmitter,this.scrollHeight="200px",this.dropdownMode="blank",this.immutable=!0,this.onModelChange=function(){},this.onModelTouched=function(){},this.panelVisible=!1,this.focus=!1,this.inputFieldValue=null,this.differ=s.find([]).create(null)}return Object.defineProperty(t.prototype,"suggestions",{get:function(){return this._suggestions},set:function(t){this._suggestions=t,this.immutable&&this.handleSuggestionsChange()},enumerable:!0,configurable:!0}),t.prototype.ngDoCheck=function(){if(!this.immutable){this.differ.diff(this.suggestions)&&this.handleSuggestionsChange()}},t.prototype.handleSuggestionsChange=function(){this.panelEL&&this.panelEL.nativeElement&&this.loading&&(this.highlightOption=null,this._suggestions&&this._suggestions.length?(this.noResults=!1,this.show(),this.suggestionsUpdated=!0,this.autoHighlight&&(this.highlightOption=this._suggestions[0])):(this.noResults=!0,this.emptyMessage?(this.show(),this.suggestionsUpdated=!0):this.hide())),this.loading=!1},t.prototype.ngAfterContentInit=function(){var t=this;this.templates.forEach(function(e){switch(e.getType()){case"item":t.itemTemplate=e.template;break;case"selectedItem":t.selectedItemTemplate=e.template;break;default:t.itemTemplate=e.template}})},t.prototype.ngAfterViewInit=function(){this.appendTo&&("body"===this.appendTo?document.body.appendChild(this.panelEL.nativeElement):this.domHandler.appendChild(this.panelEL.nativeElement,this.appendTo))},t.prototype.ngAfterViewChecked=function(){var t=this;this.suggestionsUpdated&&this.panelEL.nativeElement&&this.panelEL.nativeElement.offsetParent&&(setTimeout(function(){return t.align()},1),this.suggestionsUpdated=!1),this.highlightOptionChanged&&(setTimeout(function(){var e=t.domHandler.findSingle(t.panelEL.nativeElement,"li.ui-state-highlight");e&&t.domHandler.scrollInView(t.panelEL.nativeElement,e)},1),this.highlightOptionChanged=!1)},t.prototype.writeValue=function(t){this.value=t,this.filled=this.value&&""!=this.value,this.updateInputField()},t.prototype.registerOnChange=function(t){this.onModelChange=t},t.prototype.registerOnTouched=function(t){this.onModelTouched=t},t.prototype.setDisabledState=function(t){this.disabled=t},t.prototype.onInput=function(t){var e=this;if(this.inputKeyDown){this.timeout&&clearTimeout(this.timeout);var i=t.target.value;this.multiple||this.onModelChange(i),0===i.length&&(this.hide(),this.onClear.emit(t)),i.length>=this.minLength?this.timeout=setTimeout(function(){e.search(t,i)},this.delay):(this.suggestions=null,this.hide()),this.updateFilledState(),this.inputKeyDown=!1}},t.prototype.onInputClick=function(t){this.documentClickListener&&(this.inputClick=!0)},t.prototype.search=function(t,e){void 0!==e&&null!==e&&(this.loading=!0,this.completeMethod.emit({originalEvent:t,query:e}))},t.prototype.selectItem=function(t){this.multiple?(this.multiInputEL.nativeElement.value="",this.value=this.value||[],this.isSelected(t)||(this.value=this.value.concat([t]),this.onModelChange(this.value))):(this.inputEL.nativeElement.value=this.field?this.objectUtils.resolveFieldData(t,this.field)||"":t,this.value=t,this.onModelChange(this.value)),this.onSelect.emit(t),this.focusInput()},t.prototype.show=function(){if(this.multiInputEL||this.inputEL){var t=this.multiple?document.activeElement==this.multiInputEL.nativeElement:document.activeElement==this.inputEL.nativeElement;!this.panelVisible&&t&&(this.panelVisible=!0,this.panelEL.nativeElement.style.zIndex=++u.DomHandler.zindex,this.domHandler.fadeIn(this.panelEL.nativeElement,200),this.bindDocumentClickListener())}},t.prototype.align=function(){this.appendTo?this.domHandler.absolutePosition(this.panelEL.nativeElement,this.multiple?this.multiContainerEL.nativeElement:this.inputEL.nativeElement):this.domHandler.relativePosition(this.panelEL.nativeElement,this.multiple?this.multiContainerEL.nativeElement:this.inputEL.nativeElement)},t.prototype.hide=function(){this.panelVisible=!1,this.unbindDocumentClickListener()},t.prototype.handleDropdownClick=function(t){this.focusInput(),this.dropdownClick=!0;var e=this.multiple?this.multiInputEL.nativeElement.value:this.inputEL.nativeElement.value;"blank"===this.dropdownMode?this.search(t,""):"current"===this.dropdownMode&&this.search(t,e),this.onDropdownClick.emit({originalEvent:t,query:e})},t.prototype.focusInput=function(){this.multiple?this.multiInputEL.nativeElement.focus():this.inputEL.nativeElement.focus()},t.prototype.removeItem=function(t){var e=this.domHandler.index(t),i=this.value[e];this.value=this.value.filter(function(t,i){return i!=e}),this.onUnselect.emit(i),this.onModelChange(this.value)},t.prototype.onKeydown=function(t){if(this.panelVisible){var e=this.findOptionIndex(this.highlightOption);switch(t.which){case 40:if(-1!=e){var i=e+1;i!=this.suggestions.length&&(this.highlightOption=this.suggestions[i],this.highlightOptionChanged=!0)}else this.highlightOption=this.suggestions[0];t.preventDefault();break;case 38:if(e>0){var n=e-1;this.highlightOption=this.suggestions[n],this.highlightOptionChanged=!0}t.preventDefault();break;case 13:this.highlightOption&&(this.selectItem(this.highlightOption),this.hide()),t.preventDefault();break;case 27:this.hide(),t.preventDefault();break;case 9:this.highlightOption&&this.selectItem(this.highlightOption),this.hide()}}else 40===t.which&&this.suggestions&&this.search(t,t.target.value);if(this.multiple)switch(t.which){case 8:if(this.value&&this.value.length&&!this.multiInputEL.nativeElement.value){this.value=this.value.slice();var o=this.value.pop();this.onUnselect.emit(o),this.onModelChange(this.value)}}this.inputKeyDown=!0},t.prototype.onKeyup=function(t){this.onKeyUp.emit(t)},t.prototype.onInputFocus=function(t){this.focus=!0,this.onFocus.emit(t)},t.prototype.onInputBlur=function(t){if(this.focus=!1,this.onModelTouched(),this.onBlur.emit(t),this.forceSelection){var e=!1,i=t.target.value.toLowerCase().trim();if(this.suggestions)for(var n=0,o=this.suggestions;n<o.length;n++){var r=o[n],s=this.field?this.objectUtils.resolveFieldData(r,this.field):r;if(s&&i===s.toLowerCase()){e=!0;break}}e||(this.multiple?this.multiInputEL.nativeElement.value="":(this.value=null,this.inputEL.nativeElement.value=""),this.onModelChange(this.value))}},t.prototype.isSelected=function(t){var e=!1;if(this.value&&this.value.length)for(var i=0;i<this.value.length;i++)if(this.objectUtils.equals(this.value[i],t,this.dataKey)){e=!0;break}return e},t.prototype.findOptionIndex=function(t){var e=-1;if(this.suggestions)for(var i=0;i<this.suggestions.length;i++)if(this.objectUtils.equals(t,this.suggestions[i])){e=i;break}return e},t.prototype.updateFilledState=function(){this.multiple?this.filled=this.value&&this.value.length||this.multiInputEL&&this.multiInputEL.nativeElement&&""!=this.multiInputEL.nativeElement.value:this.filled=this.inputFieldValue&&""!=this.inputFieldValue},t.prototype.updateInputField=function(){var t=this.value?this.field?this.objectUtils.resolveFieldData(this.value,this.field)||"":this.value:"";this.inputFieldValue=t,this.inputEL&&this.inputEL.nativeElement&&(this.inputEL.nativeElement.value=t),this.updateFilledState()},t.prototype.bindDocumentClickListener=function(){var t=this;this.documentClickListener||(this.documentClickListener=this.renderer.listen("document","click",function(e){3!==e.which&&(t.inputClick||t.dropdownClick||t.hide(),t.inputClick=!1,t.dropdownClick=!1,t.cd.markForCheck())}))},t.prototype.unbindDocumentClickListener=function(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null)},t.prototype.ngOnDestroy=function(){this.unbindDocumentClickListener(),this.appendTo&&this.el.nativeElement.appendChild(this.panelEL.nativeElement)},t}();n([r.Input(),o("design:type",Number)],p.prototype,"minLength",void 0),n([r.Input(),o("design:type",Number)],p.prototype,"delay",void 0),n([r.Input(),o("design:type",Object)],p.prototype,"style",void 0),n([r.Input(),o("design:type",String)],p.prototype,"styleClass",void 0),n([r.Input(),o("design:type",Object)],p.prototype,"inputStyle",void 0),n([r.Input(),o("design:type",String)],p.prototype,"inputId",void 0),n([r.Input(),o("design:type",String)],p.prototype,"inputStyleClass",void 0),n([r.Input(),o("design:type",String)],p.prototype,"placeholder",void 0),n([r.Input(),o("design:type",Boolean)],p.prototype,"readonly",void 0),n([r.Input(),o("design:type",Boolean)],p.prototype,"disabled",void 0),n([r.Input(),o("design:type",Number)],p.prototype,"maxlength",void 0),n([r.Input(),o("design:type",Boolean)],p.prototype,"required",void 0),n([r.Input(),o("design:type",Number)],p.prototype,"size",void 0),n([r.Input(),o("design:type",Object)],p.prototype,"appendTo",void 0),n([r.Input(),o("design:type",Boolean)],p.prototype,"autoHighlight",void 0),n([r.Input(),o("design:type",Boolean)],p.prototype,"forceSelection",void 0),n([r.Input(),o("design:type",String)],p.prototype,"type",void 0),n([r.Output(),o("design:type",r.EventEmitter)],p.prototype,"completeMethod",void 0),n([r.Output(),o("design:type",r.EventEmitter)],p.prototype,"onSelect",void 0),n([r.Output(),o("design:type",r.EventEmitter)],p.prototype,"onUnselect",void 0),n([r.Output(),o("design:type",r.EventEmitter)],p.prototype,"onFocus",void 0),n([r.Output(),o("design:type",r.EventEmitter)],p.prototype,"onBlur",void 0),n([r.Output(),o("design:type",r.EventEmitter)],p.prototype,"onDropdownClick",void 0),n([r.Output(),o("design:type",r.EventEmitter)],p.prototype,"onClear",void 0),n([r.Output(),o("design:type",r.EventEmitter)],p.prototype,"onKeyUp",void 0),n([r.Input(),o("design:type",String)],p.prototype,"field",void 0),n([r.Input(),o("design:type",String)],p.prototype,"scrollHeight",void 0),n([r.Input(),o("design:type",Boolean)],p.prototype,"dropdown",void 0),n([r.Input(),o("design:type",String)],p.prototype,"dropdownMode",void 0),n([r.Input(),o("design:type",Boolean)],p.prototype,"multiple",void 0),n([r.Input(),o("design:type",Number)],p.prototype,"tabindex",void 0),n([r.Input(),o("design:type",String)],p.prototype,"dataKey",void 0),n([r.Input(),o("design:type",String)],p.prototype,"emptyMessage",void 0),n([r.Input(),o("design:type",Boolean)],p.prototype,"immutable",void 0),n([r.ViewChild("in"),o("design:type",r.ElementRef)],p.prototype,"inputEL",void 0),n([r.ViewChild("multiIn"),o("design:type",r.ElementRef)],p.prototype,"multiInputEL",void 0),n([r.ViewChild("panel"),o("design:type",r.ElementRef)],p.prototype,"panelEL",void 0),n([r.ViewChild("multiContainer"),o("design:type",r.ElementRef)],p.prototype,"multiContainerEL",void 0),n([r.ContentChildren(h.PrimeTemplate),o("design:type",r.QueryList)],p.prototype,"templates",void 0),n([r.Input(),o("design:type",Array),o("design:paramtypes",[Array])],p.prototype,"suggestions",null),p=n([r.Component({selector:"p-autoComplete",template:'\n        <span [ngClass]="{\'ui-autocomplete ui-widget\':true,\'ui-autocomplete-dd\':dropdown,\'ui-autocomplete-multiple\':multiple}" [ngStyle]="style" [class]="styleClass">\n            <input *ngIf="!multiple" #in [attr.type]="type" [attr.id]="inputId" [ngStyle]="inputStyle" [class]="inputStyleClass" autocomplete="off" [attr.required]="required"\n            [ngClass]="\'ui-inputtext ui-widget ui-state-default ui-corner-all ui-autocomplete-input\'" [value]="inputFieldValue"\n            (click)="onInputClick($event)" (input)="onInput($event)" (keydown)="onKeydown($event)" (keyup)="onKeyup($event)" (focus)="onInputFocus($event)" (blur)="onInputBlur($event)"\n            [attr.placeholder]="placeholder" [attr.size]="size" [attr.maxlength]="maxlength" [attr.tabindex]="tabindex" [readonly]="readonly" [disabled]="disabled"\n            ><ul *ngIf="multiple" #multiContainer class="ui-autocomplete-multiple-container ui-widget ui-inputtext ui-state-default ui-corner-all" [ngClass]="{\'ui-state-disabled\':disabled,\'ui-state-focus\':focus}" (click)="multiIn.focus()">\n                <li #token *ngFor="let val of value" class="ui-autocomplete-token ui-state-highlight ui-corner-all">\n                    <span class="ui-autocomplete-token-icon fa fa-fw fa-close" (click)="removeItem(token)" *ngIf="!disabled"></span>\n                    <span *ngIf="!selectedItemTemplate" class="ui-autocomplete-token-label">{{field ? val[field] : val}}</span>\n                    <ng-template *ngIf="selectedItemTemplate" [pTemplateWrapper]="selectedItemTemplate" [item]="val"></ng-template>\n                </li>\n                <li class="ui-autocomplete-input-token">\n                    <input #multiIn [attr.type]="type" [attr.id]="inputId" [disabled]="disabled" [attr.placeholder]="(value&&value.length ? null : placeholder)" [attr.tabindex]="tabindex" (input)="onInput($event)"  (click)="onInputClick($event)"\n                            (keydown)="onKeydown($event)" (keyup)="onKeyup($event)" (focus)="onInputFocus($event)" (blur)="onInputBlur($event)" autocomplete="off" [ngStyle]="inputStyle" [class]="inputStyleClass">\n                </li>\n            </ul\n            ><i *ngIf="loading" class="ui-autocomplete-loader fa fa-circle-o-notch fa-spin fa-fw"></i><button type="button" pButton icon="fa-fw fa-caret-down" class="ui-autocomplete-dropdown" [disabled]="disabled"\n                (click)="handleDropdownClick($event)" *ngIf="dropdown"></button>\n            <div #panel class="ui-autocomplete-panel ui-widget-content ui-corner-all ui-shadow" [style.display]="panelVisible ? \'block\' : \'none\'" [style.width]="appendTo ? \'auto\' : \'100%\'" [style.max-height]="scrollHeight">\n                <ul class="ui-autocomplete-items ui-autocomplete-list ui-widget-content ui-widget ui-corner-all ui-helper-reset" *ngIf="panelVisible">\n                    <li *ngFor="let option of suggestions; let idx = index" [ngClass]="{\'ui-autocomplete-list-item ui-corner-all\':true,\'ui-state-highlight\':(highlightOption==option)}"\n                        (mouseenter)="highlightOption=option" (mouseleave)="highlightOption=null" (click)="selectItem(option)">\n                        <span *ngIf="!itemTemplate">{{field ? option[field] : option}}</span>\n                        <ng-template *ngIf="itemTemplate" [pTemplateWrapper]="itemTemplate" [item]="option" [index]="idx"></ng-template>\n                    </li>\n                    <li *ngIf="noResults && emptyMessage" class="ui-autocomplete-list-item ui-corner-all">{{emptyMessage}}</li>\n                </ul>\n            </div>\n        </span>\n    ',host:{"[class.ui-inputwrapper-filled]":"filled","[class.ui-inputwrapper-focus]":"focus"},providers:[u.DomHandler,c.ObjectUtils,e.AUTOCOMPLETE_VALUE_ACCESSOR]}),o("design:paramtypes",[r.ElementRef,u.DomHandler,r.Renderer2,c.ObjectUtils,r.ChangeDetectorRef,r.IterableDiffers])],p),e.AutoComplete=p;var f=function(){function t(){}return t}();f=n([r.NgModule({imports:[s.CommonModule,a.InputTextModule,l.ButtonModule,h.SharedModule],exports:[p,h.SharedModule],declarations:[p]})],f),e.AutoCompleteModule=f},function(t,e,i){"use strict";var n=this&&this.__decorate||function(t,e,i,n){var o,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,i,s):o(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};Object.defineProperty(e,"__esModule",{value:!0});var r=i(0),s=i(1),a=i(3),l=function(){function t(t,e){this.el=t,this.domHandler=e}return Object.defineProperty(t.prototype,"blocked",{get:function(){return this._blocked},set:function(t){this._blocked=t,this.mask.nativeElement&&(this._blocked?this.block():this.unblock())},enumerable:!0,configurable:!0}),t.prototype.ngAfterViewInit=function(){if(this.target&&!this.target.getBlockableElement)throw"Target of BlockUI must implement BlockableUI interface"},t.prototype.block=function(){if(this.target){this.target.getBlockableElement().appendChild(this.mask.nativeElement);var t=this.target.style||{};t.position="relative",this.target.style=t}else document.body.appendChild(this.mask.nativeElement);this.mask.nativeElement.style.zIndex=String(++a.DomHandler.zindex)},t.prototype.unblock=function(){this.el.nativeElement.appendChild(this.mask.nativeElement)},t.prototype.ngOnDestroy=function(){this.unblock()},t}();n([r.Input(),o("design:type",Object)],l.prototype,"target",void 0),n([r.ViewChild("mask"),o("design:type",r.ElementRef)],l.prototype,"mask",void 0),n([r.Input(),o("design:type",Boolean),o("design:paramtypes",[Boolean])],l.prototype,"blocked",null),l=n([r.Component({selector:"p-blockUI",template:"\n        <div #mask class=\"ui-blockui ui-widget-overlay\" [ngClass]=\"{'ui-blockui-document':!target}\" [ngStyle]=\"{display: blocked ? 'block' : 'none'}\">\n            <ng-content></ng-content>\n        </div>\n    ",providers:[a.DomHandler]}),o("design:paramtypes",[r.ElementRef,a.DomHandler])],l),e.BlockUI=l;var h=function(){function t(){}return t}();h=n([r.NgModule({imports:[s.CommonModule],exports:[l],declarations:[l]})],h),e.BlockUIModule=h},function(t,e,i){"use strict";var n=this&&this.__decorate||function(t,e,i,n){var o,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,i,s):o(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};Object.defineProperty(e,"__esModule",{value:!0});var r=i(0),s=i(1),a=i(6),l=function(){function t(){}return t.prototype.itemClick=function(t,e){if(e.disabled)return void t.preventDefault();e.url||t.preventDefault(),e.command&&e.command({originalEvent:t,item:e})},t.prototype.onHomeClick=function(t){this.home&&this.itemClick(t,this.home)},t}();n([r.Input(),o("design:type",Array)],l.prototype,"model",void 0),n([r.Input(),o("design:type",Object)],l.prototype,"style",void 0),n([r.Input(),o("design:type",String)],l.prototype,"styleClass",void 0),n([r.Input(),o("design:type",Object)],l.prototype,"home",void 0),l=n([r.Component({selector:"p-breadcrumb",template:'\n        <div [class]="styleClass" [ngStyle]="style" [ngClass]="\'ui-breadcrumb ui-widget ui-widget-header ui-helper-clearfix ui-corner-all\'">\n            <ul>\n                <li class="ui-breadcrumb-home fa fa-home" *ngIf="!home"></li>\n                <li class="ui-breadcrumb-home" *ngIf="home">\n                    <a *ngIf="!home.routerLink" [href]="home.url||\'#\'" class="ui-menuitem-link" (click)="itemClick($event, home)" \n                        [ngClass]="{\'ui-state-disabled\':home.disabled}" [attr.target]="home.target" [attr.title]="home.title">\n                        <span class="fa fa-home"></span>\n                    </a>\n                    <a *ngIf="home.routerLink" [routerLink]="home.routerLink" [routerLinkActive]="\'ui-state-active\'" [routerLinkActiveOptions]="home.routerLinkActiveOptions||{exact:false}" class="ui-menuitem-link" (click)="itemClick($event, home)" \n                        [ngClass]="{\'ui-state-disabled\':home.disabled}" [attr.target]="home.target" [attr.title]="home.title">\n                        <span class="fa fa-home"></span>\n                    </a>\n                </li>\n                <li class="ui-breadcrumb-chevron fa fa-chevron-right" *ngIf="model"></li>\n                <ng-template ngFor let-item let-end="last" [ngForOf]="model">\n                    <li role="menuitem">\n                        <a *ngIf="!item.routerLink" [href]="item.url||\'#\'" class="ui-menuitem-link" (click)="itemClick($event, item)" \n                            [ngClass]="{\'ui-state-disabled\':item.disabled}" [attr.target]="item.target" [attr.title]="item.title">\n                            <span class="ui-menuitem-text">{{item.label}}</span>\n                        </a>\n                        <a *ngIf="item.routerLink" [routerLink]="item.routerLink" [routerLinkActive]="\'ui-state-active\'" [routerLinkActiveOptions]="item.routerLinkActiveOptions||{exact:false}" class="ui-menuitem-link" (click)="itemClick($event, item)" \n                            [ngClass]="{\'ui-state-disabled\':item.disabled}" [attr.target]="item.target" [attr.title]="item.title">\n                            <span class="ui-menuitem-text">{{item.label}}</span>\n                        </a>\n                    </li>\n                    <li class="ui-breadcrumb-chevron fa fa-chevron-right" *ngIf="!end"></li>\n                </ng-template>\n            </ul>\n        </div>\n    '})],l),e.Breadcrumb=l;var h=function(){function t(){}return t}();h=n([r.NgModule({imports:[s.CommonModule,a.RouterModule],exports:[l,a.RouterModule],declarations:[l]})],h),e.BreadcrumbModule=h},function(t,e,i){"use strict";var n=this&&this.__decorate||function(t,e,i,n){var o,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,i,s):o(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};Object.defineProperty(e,"__esModule",{value:!0});var r=i(0),s=i(1),a=function(){function t(t,e){this.el=t,this._zone=e,this.siteKey=null,this.theme="light",this.type="image",this.size="normal",this.tabindex=0,this.language=null,this.initCallback="initRecaptcha",this.onResponse=new r.EventEmitter,this.onExpire=new r.EventEmitter,this._instance=null}return t.prototype.ngAfterViewInit=function(){var t=this;window.grecaptcha?this.init():window[this.initCallback]=function(){t.init()}},t.prototype.init=function(){var t=this;this._instance=window.grecaptcha.render(this.el.nativeElement.children[0],{sitekey:this.siteKey,theme:this.theme,type:this.type,size:this.size,tabindex:this.tabindex,hl:this.language,callback:function(e){t._zone.run(function(){return t.recaptchaCallback(e)})},"expired-callback":function(){t._zone.run(function(){return t.recaptchaExpiredCallback()})}})},t.prototype.reset=function(){null!==this._instance&&window.grecaptcha.reset(this._instance)},t.prototype.getResponse=function(){return null===this._instance?null:window.grecaptcha.getResponse(this._instance)},t.prototype.recaptchaCallback=function(t){this.onResponse.emit({response:t})},t.prototype.recaptchaExpiredCallback=function(){this.onExpire.emit()},t.prototype.ngOnDestroy=function(){null!=this._instance&&window.grecaptcha.reset(this._instance)},t}();n([r.Input(),o("design:type",String)],a.prototype,"siteKey",void 0),n([r.Input(),o("design:type",Object)],a.prototype,"theme",void 0),n([r.Input(),o("design:type",Object)],a.prototype,"type",void 0),n([r.Input(),o("design:type",Object)],a.prototype,"size",void 0),n([r.Input(),o("design:type",Object)],a.prototype,"tabindex",void 0),n([r.Input(),o("design:type",String)],a.prototype,"language",void 0),n([r.Input(),o("design:type",Object)],a.prototype,"initCallback",void 0),n([r.Output(),o("design:type",r.EventEmitter)],a.prototype,"onResponse",void 0),n([r.Output(),o("design:type",r.EventEmitter)],a.prototype,"onExpire",void 0),a=n([r.Component({selector:"p-captcha",template:"<div></div>"}),o("design:paramtypes",[r.ElementRef,r.NgZone])],a),e.Captcha=a;var l=function(){function t(){}return t}();l=n([r.NgModule({imports:[s.CommonModule],exports:[a],declarations:[a]})],l),e.CaptchaModule=l},function(t,e,i){"use strict";var n=this&&this.__decorate||function(t,e,i,n){var o,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,i,s):o(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};Object.defineProperty(e,"__esModule",{value:!0});var r=i(0),s=i(7),a=i(1),l=i(9),h=i(3),u=i(4),c=i(5);e.CALENDAR_VALUE_ACCESSOR={provide:c.NG_VALUE_ACCESSOR,useExisting:r.forwardRef(function(){return d}),multi:!0};var d=function(){function t(t,e,i,n){this.el=t,this.domHandler=e,this.renderer=i,this.cd=n,this.dateFormat="mm/dd/yy",this.inline=!1,this.showOtherMonths=!0,this.icon="fa-calendar",this.shortYearCutoff="+10",this.hourFormat="24",this.stepHour=1,this.stepMinute=1,this.stepSecond=1,this.showSeconds=!1,this.showOnFocus=!0,this.dataType="date",this.selectionMode="single",this.todayButtonStyleClass="ui-button-secondary",this.clearButtonStyleClass="ui-button-secondary",this.onFocus=new r.EventEmitter,this.onBlur=new r.EventEmitter,this.onClose=new r.EventEmitter,this.onSelect=new r.EventEmitter,this.onInput=new r.EventEmitter,this.onTodayClick=new r.EventEmitter,this.onClearClick=new r.EventEmitter,this.onMonthChange=new r.EventEmitter,this._locale={firstDayOfWeek:0,dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],today:"Today",clear:"Clear"},this.onModelChange=function(){},this.onModelTouched=function(){},this.inputFieldValue=null}return Object.defineProperty(t.prototype,"minDate",{get:function(){return this._minDate},set:function(t){this._minDate=t,this.currentMonth&&this.currentYear&&this.createMonth(this.currentMonth,this.currentYear)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxDate",{get:function(){return this._maxDate},set:function(t){this._maxDate=t,this.currentMonth&&this.currentYear&&this.createMonth(this.currentMonth,this.currentYear)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"disabledDates",{get:function(){return this._disabledDates},set:function(t){this._disabledDates=t,this.currentMonth&&this.currentYear&&this.createMonth(this.currentMonth,this.currentYear)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"disabledDays",{get:function(){return this._disabledDays},set:function(t){this._disabledDays=t,this.currentMonth&&this.currentYear&&this.createMonth(this.currentMonth,this.currentYear)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showTime",{get:function(){return this._showTime},set:function(t){this._showTime=t,void 0===this.currentHour&&this.initTime(this.value||new Date)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"locale",{get:function(){return this._locale},set:function(t){this._locale=t,this.createWeekDays(),this.createMonth(this.currentMonth,this.currentYear)},enumerable:!0,configurable:!0}),t.prototype.ngOnInit=function(){var t=this.defaultDate||new Date;if(this.createWeekDays(),this.currentMonth=t.getMonth(),this.currentYear=t.getFullYear(),this.initTime(t),this.createMonth(this.currentMonth,this.currentYear),this.ticksTo1970=24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925))*60*60*1e7,this.yearNavigator&&this.yearRange){this.yearOptions=[];for(var e=this.yearRange.split(":"),i=parseInt(e[0]),n=parseInt(e[1]),o=i;o<=n;o++)this.yearOptions.push(o)}},t.prototype.ngAfterViewInit=function(){!this.inline&&this.appendTo&&("body"===this.appendTo?document.body.appendChild(this.overlayViewChild.nativeElement):this.domHandler.appendChild(this.overlayViewChild.nativeElement,this.appendTo))},t.prototype.ngAfterViewChecked=function(){this.overlayShown&&(this.alignOverlay(),this.overlayShown=!1)},t.prototype.ngAfterContentInit=function(){var t=this;this.templates.forEach(function(e){switch(e.getType()){case"date":default:t.dateTemplate=e.template}})},t.prototype.createWeekDays=function(){this.weekDays=[];for(var t=this.locale.firstDayOfWeek,e=0;e<7;e++)this.weekDays.push(this.locale.dayNamesMin[t]),t=6==t?0:++t},t.prototype.createMonth=function(t,e){this.dates=[],this.currentMonth=t,this.currentYear=e,this.currentMonthText=this.locale.monthNames[t];for(var i=this.getFirstDayOfMonthIndex(t,e),n=this.getDaysCountInMonth(t,e),o=this.getDaysCountInPrevMonth(t,e),r=(this.getSundayIndex(),1),s=new Date,a=0;a<6;a++){var l=[];if(0==a){for(var h=o-i+1;h<=o;h++){var u=this.getPreviousMonthAndYear(t,e);l.push({day:h,month:u.month,year:u.year,otherMonth:!0,today:this.isToday(s,h,u.month,u.year),selectable:this.isSelectable(h,u.month,u.year)})}for(var c=7-l.length,h=0;h<c;h++)l.push({day:r,month:t,year:e,today:this.isToday(s,r,t,e),selectable:this.isSelectable(r,t,e)}),r++}else for(var h=0;h<7;h++){if(r>n){var d=this.getNextMonthAndYear(t,e);l.push({day:r-n,month:d.month,year:d.year,otherMonth:!0,today:this.isToday(s,r-n,d.month,d.year),selectable:this.isSelectable(r-n,d.month,d.year)})}else l.push({day:r,month:t,year:e,today:this.isToday(s,r,t,e),selectable:this.isSelectable(r,t,e)});r++}this.dates.push(l)}},t.prototype.initTime=function(t){this.pm=t.getHours()>11,this.showTime?(this.currentMinute=t.getMinutes(),this.currentSecond=t.getSeconds(),"12"==this.hourFormat?this.currentHour=0==t.getHours()?12:t.getHours()%12:this.currentHour=t.getHours()):this.timeOnly&&(this.currentMinute=0,this.currentHour=0,this.currentSecond=0)},t.prototype.prevMonth=function(t){if(this.disabled)return void t.preventDefault();0===this.currentMonth?(this.currentMonth=11,this.currentYear--,this.yearNavigator&&this.currentYear<this.yearOptions[0]&&(this.currentYear=this.yearOptions[this.yearOptions.length-1])):this.currentMonth--,this.onMonthChange.emit({month:this.currentMonth+1,year:this.currentYear}),this.createMonth(this.currentMonth,this.currentYear),t.preventDefault()},t.prototype.nextMonth=function(t){if(this.disabled)return void t.preventDefault();11===this.currentMonth?(this.currentMonth=0,this.currentYear++,this.yearNavigator&&this.currentYear>this.yearOptions[this.yearOptions.length-1]&&(this.currentYear=this.yearOptions[0])):this.currentMonth++,this.onMonthChange.emit({month:this.currentMonth+1,year:this.currentYear}),this.createMonth(this.currentMonth,this.currentYear),t.preventDefault()},t.prototype.onDateSelect=function(t,e){var i=this;if(this.disabled||!e.selectable)return void t.preventDefault();this.isMultipleSelection()&&this.isSelected(e)?this.value=this.value.filter(function(t,n){return!i.isDateEquals(t,e)}):this.shouldSelectDate(e)&&(e.otherMonth?this.selectOtherMonths&&(this.currentMonth=e.month,this.currentYear=e.year,this.createMonth(this.currentMonth,this.currentYear),this.selectDate(e)):this.selectDate(e)),this.isSingleSelection()&&(this.overlayVisible=!1),this.updateInputfield(),t.preventDefault()},t.prototype.shouldSelectDate=function(t){return!this.isMultipleSelection()||(!this.maxDateCount||!this.value||this.maxDateCount>this.value.length)},t.prototype.updateInputfield=function(){var t="";if(this.value)if(this.isSingleSelection())t=this.formatDateTime(this.value);else if(this.isMultipleSelection())for(var e=0;e<this.value.length;e++){var i=this.formatDateTime(this.value[e]);t+=i,e!==this.value.length-1&&(t+=", ")}else if(this.isRangeSelection()&&this.value&&this.value.length){var n=this.value[0],o=this.value[1];t=this.formatDateTime(n),o&&(t+=" - "+this.formatDateTime(o))}this.inputFieldValue=t,this.updateFilledState(),this.inputfieldViewChild&&this.inputfieldViewChild.nativeElement&&(this.inputfieldViewChild.nativeElement.value=this.inputFieldValue)},t.prototype.formatDateTime=function(t){var e=null;return t&&(this.timeOnly?e=this.formatTime(t):(e=this.formatDate(t,this.dateFormat),this.showTime&&(e+=" "+this.formatTime(t)))),e},t.prototype.selectDate=function(t){var e;if(e=this.utc?new Date(Date.UTC(t.year,t.month,t.day)):new Date(t.year,t.month,t.day),this.showTime&&("12"===this.hourFormat&&this.pm&&12!=this.currentHour?e.setHours(this.currentHour+12):e.setHours(this.currentHour),e.setMinutes(this.currentMinute),e.setSeconds(this.currentSecond)),this.isSingleSelection())this.updateModel(e);else if(this.isMultipleSelection())this.updateModel(this.value?this.value.concat([e]):[e]);else if(this.isRangeSelection())if(this.value&&this.value.length){var i=this.value[0],n=this.value[1];!n&&e.getTime()>=i.getTime()?n=e:(i=e,n=null),this.updateModel([i,n])}else this.updateModel([e,null]);this.onSelect.emit(e)},t.prototype.updateModel=function(t){this.value=t,"date"==this.dataType?this.onModelChange(this.value):"string"==this.dataType&&this.onModelChange(this.formatDateTime(this.value))},t.prototype.getFirstDayOfMonthIndex=function(t,e){var i=new Date;i.setDate(1),i.setMonth(t),i.setFullYear(e);var n=i.getDay()+this.getSundayIndex();return n>=7?n-7:n},t.prototype.getDaysCountInMonth=function(t,e){return 32-this.daylightSavingAdjust(new Date(e,t,32)).getDate()},t.prototype.getDaysCountInPrevMonth=function(t,e){var i=this.getPreviousMonthAndYear(t,e);return this.getDaysCountInMonth(i.month,i.year)},t.prototype.getPreviousMonthAndYear=function(t,e){var i,n;return 0===t?(i=11,n=e-1):(i=t-1,n=e),{month:i,year:n}},t.prototype.getNextMonthAndYear=function(t,e){var i,n;return 11===t?(i=0,n=e+1):(i=t+1,n=e),{month:i,year:n}},t.prototype.getSundayIndex=function(){return this.locale.firstDayOfWeek>0?7-this.locale.firstDayOfWeek:0},t.prototype.isSelected=function(t){if(!this.value)return!1;if(this.isSingleSelection())return this.isDateEquals(this.value,t);if(this.isMultipleSelection()){for(var e=!1,i=0,n=this.value;i<n.length;i++){var o=n[i];if(e=this.isDateEquals(o,t))break}return e}return this.isRangeSelection()?this.value[1]?this.isDateEquals(this.value[0],t)||this.isDateEquals(this.value[1],t)||this.isDateBetween(this.value[0],this.value[1],t):this.isDateEquals(this.value[0],t):void 0},t.prototype.isDateEquals=function(t,e){return!!t&&(t.getDate()===e.day&&t.getMonth()===e.month&&t.getFullYear()===e.year)},t.prototype.isDateBetween=function(t,e,i){return!(!t||!e)&&(t.getDate()<i.day&&t.getMonth()<=i.month&&t.getFullYear()<=i.year&&e.getDate()>i.day&&e.getMonth()>=i.month&&e.getFullYear()>=i.year)},t.prototype.isSingleSelection=function(){return"single"===this.selectionMode},t.prototype.isRangeSelection=function(){return"range"===this.selectionMode},t.prototype.isMultipleSelection=function(){return"multiple"===this.selectionMode},t.prototype.isToday=function(t,e,i,n){return t.getDate()===e&&t.getMonth()===i&&t.getFullYear()===n},t.prototype.isSelectable=function(t,e,i){var n=!0,o=!0,r=!0,s=!0;return this.minDate&&(this.minDate.getFullYear()>i?n=!1:this.minDate.getFullYear()===i&&(this.minDate.getMonth()>e?n=!1:this.minDate.getMonth()===e&&this.minDate.getDate()>t&&(n=!1))),this.maxDate&&(this.maxDate.getFullYear()<i?o=!1:this.maxDate.getFullYear()===i&&(this.maxDate.getMonth()<e?o=!1:this.maxDate.getMonth()===e&&this.maxDate.getDate()<t&&(o=!1))),this.disabledDates&&(r=!this.isDateDisabled(t,e,i)),this.disabledDays&&(s=!this.isDayDisabled(t,e,i)),n&&o&&r&&s},t.prototype.isDateDisabled=function(t,e,i){if(this.disabledDates)for(var n=0,o=this.disabledDates;n<o.length;n++){var r=o[n];if(r.getFullYear()===i&&r.getMonth()===e&&r.getDate()===t)return!0}return!1},t.prototype.isDayDisabled=function(t,e,i){if(this.disabledDays){var n=new Date(i,e,t),o=n.getDay();return-1!==this.disabledDays.indexOf(o)}return!1},t.prototype.onInputFocus=function(t){this.focus=!0,this.showOnFocus&&this.showOverlay(),this.onFocus.emit(t)},t.prototype.onInputBlur=function(t){this.focus=!1,this.onBlur.emit(t),this.updateInputfield(),this.onModelTouched()},t.prototype.onButtonClick=function(t,e){this.overlayViewChild.nativeElement.offsetParent&&"none"!==this.overlayViewChild.nativeElement.style.display?this.overlayVisible=!1:(e.focus(),this.showOverlay()),this.datepickerClick=!0},t.prototype.onInputKeydown=function(t){this.isKeydown=!0,9===t.keyCode&&(this.overlayVisible=!1)},t.prototype.onMonthDropdownChange=function(t){this.currentMonth=parseInt(t),this.createMonth(this.currentMonth,this.currentYear)},t.prototype.onYearDropdownChange=function(t){this.currentYear=parseInt(t),this.createMonth(this.currentMonth,this.currentYear)},t.prototype.incrementHour=function(t){var e=this.currentHour+this.stepHour;"24"==this.hourFormat?this.currentHour=e>=24?e-24:e:"12"==this.hourFormat&&(this.currentHour=e>=13?e-12:e),this.updateTime(),t.preventDefault()},t.prototype.decrementHour=function(t){var e=this.currentHour-this.stepHour;"24"==this.hourFormat?this.currentHour=e<0?24+e:e:"12"==this.hourFormat&&(this.currentHour=e<=0?12+e:e),this.updateTime(),t.preventDefault()},t.prototype.incrementMinute=function(t){var e=this.currentMinute+this.stepMinute;this.currentMinute=e>59?e-60:e,this.updateTime(),t.preventDefault()},t.prototype.decrementMinute=function(t){var e=this.currentMinute-this.stepMinute;this.currentMinute=e<0?60+e:e,this.updateTime(),t.preventDefault()},t.prototype.incrementSecond=function(t){var e=this.currentSecond+this.stepSecond;this.currentSecond=e>59?e-60:e,this.updateTime(),t.preventDefault()},t.prototype.decrementSecond=function(t){var e=this.currentSecond-this.stepSecond;this.currentSecond=e<0?60+e:e,this.updateTime(),t.preventDefault()},t.prototype.updateTime=function(){var t=this.value||new Date;"12"===this.hourFormat&&this.pm&&12!=this.currentHour?t.setHours(this.currentHour+12):t.setHours(this.currentHour),t.setMinutes(this.currentMinute),t.setSeconds(this.currentSecond),this.updateModel(t),this.onSelect.emit(t),this.updateInputfield()},t.prototype.toggleAMPM=function(t){this.pm=!this.pm,this.updateTime(),t.preventDefault()},t.prototype.onUserInput=function(t){if(this.isKeydown){this.isKeydown=!1;var e=t.target.value;try{var i=this.parseValueFromString(e);this.updateModel(i),this.updateUI()}catch(t){this.updateModel(null)}this.filled=null!=e&&e.length,this.onInput.emit(t)}},t.prototype.parseValueFromString=function(t){if(!t||0===t.trim().length)return null;var e;if(this.isSingleSelection())e=this.parseDateTime(t);else if(this.isMultipleSelection()){var i=t.split(",");e=[];for(var n=0,o=i;n<o.length;n++){var r=o[n];e.push(this.parseDateTime(r.trim()))}}else if(this.isRangeSelection()){var i=t.split(" - ");e=[];for(var s=0;s<i.length;s++)e[s]=this.parseDateTime(i[s].trim())}return e},t.prototype.parseDateTime=function(t){var e,i=t.split(" ");return this.timeOnly?(e=new Date,this.populateTime(e,i[0],i[1])):this.showTime?(e=this.parseDate(i[0],this.dateFormat),this.populateTime(e,i[1],i[2])):e=this.parseDate(t,this.dateFormat),e},t.prototype.populateTime=function(t,e,i){if("12"==this.hourFormat&&!i)throw"Invalid Time";this.pm="PM"===i||"pm"===i;var n=this.parseTime(e);t.setHours(n.hour),t.setMinutes(n.minute),t.setSeconds(n.second)},t.prototype.updateUI=function(){var t=this.value||this.defaultDate||new Date;if(Array.isArray(t)&&(t=t[0]),this.createMonth(t.getMonth(),t.getFullYear()),this.showTime||this.timeOnly){var e=t.getHours();"12"==this.hourFormat?this.currentHour=e>=12?12==e?12:e-12:0==e?12:e:this.currentHour=t.getHours(),this.currentMinute=t.getMinutes(),this.currentSecond=t.getSeconds()}},t.prototype.onDatePickerClick=function(t){this.datepickerClick=!0},t.prototype.showOverlay=function(){this.overlayVisible=!0,this.overlayShown=!0,this.overlayViewChild.nativeElement.style.zIndex=String(++h.DomHandler.zindex),this.bindDocumentClickListener()},t.prototype.alignOverlay=function(){this.appendTo?this.domHandler.absolutePosition(this.overlayViewChild.nativeElement,this.inputfieldViewChild.nativeElement):this.domHandler.relativePosition(this.overlayViewChild.nativeElement,this.inputfieldViewChild.nativeElement)},t.prototype.writeValue=function(t){this.value=t,this.value&&"string"==typeof this.value&&(this.value=this.parseValueFromString(this.value)),this.updateInputfield(),this.updateUI()},t.prototype.registerOnChange=function(t){this.onModelChange=t},t.prototype.registerOnTouched=function(t){this.onModelTouched=t},t.prototype.setDisabledState=function(t){this.disabled=t},t.prototype.formatDate=function(t,e){if(!t)return"";var i,n=function(t){var n=i+1<e.length&&e.charAt(i+1)===t;return n&&i++,n},o=function(t,e,i){var o=""+e;if(n(t))for(;o.length<i;)o="0"+o;return o},r=function(t,e,i,o){return n(t)?o[e]:i[e]},s="",a=!1;if(t)for(i=0;i<e.length;i++)if(a)"'"!==e.charAt(i)||n("'")?s+=e.charAt(i):a=!1;else switch(e.charAt(i)){case"d":s+=o("d",t.getDate(),2);break;case"D":s+=r("D",t.getDay(),this.locale.dayNamesShort,this.locale.dayNames);break;case"o":s+=o("o",Math.round((new Date(t.getFullYear(),t.getMonth(),t.getDate()).getTime()-new Date(t.getFullYear(),0,0).getTime())/864e5),3);break;case"m":s+=o("m",t.getMonth()+1,2);break;case"M":s+=r("M",t.getMonth(),this.locale.monthNamesShort,this.locale.monthNames);break;case"y":s+=n("y")?t.getFullYear():(t.getFullYear()%100<10?"0":"")+t.getFullYear()%100;break;case"@":s+=t.getTime();break;case"!":s+=1e4*t.getTime()+this.ticksTo1970;break;case"'":n("'")?s+="'":a=!0;break;default:s+=e.charAt(i)}return s},t.prototype.formatTime=function(t){if(!t)return"";var e="",i=t.getHours(),n=t.getMinutes(),o=t.getSeconds();return"12"==this.hourFormat&&i>11&&12!=i&&(i-=12),e+=i<10?"0"+i:i,e+=":",e+=n<10?"0"+n:n,this.showSeconds&&(e+=":",e+=o<10?"0"+o:o),"12"==this.hourFormat&&(e+=t.getHours()>11?" PM":" AM"),e},t.prototype.parseTime=function(t){var e=t.split(":"),i=this.showSeconds?3:2;if(e.length!==i)throw"Invalid time";var n=parseInt(e[0]),o=parseInt(e[1]),r=this.showSeconds?parseInt(e[2]):null;if(isNaN(n)||isNaN(o)||n>23||o>59||"12"==this.hourFormat&&n>12||this.showSeconds&&(isNaN(r)||r>59))throw"Invalid time";return"12"==this.hourFormat&&12!==n&&this.pm&&(n+=12),{hour:n,minute:o,second:r}},t.prototype.parseDate=function(t,e){if(null==e||null==t)throw"Invalid arguments";if(""===(t="object"==typeof t?t.toString():t+""))return null;var i,n,o,r,s=0,a="string"!=typeof this.shortYearCutoff?this.shortYearCutoff:(new Date).getFullYear()%100+parseInt(this.shortYearCutoff,10),l=-1,h=-1,u=-1,c=-1,d=!1,p=function(t){var n=i+1<e.length&&e.charAt(i+1)===t;return n&&i++,n},f=function(e){var i=p(e),n="@"===e?14:"!"===e?20:"y"===e&&i?4:"o"===e?3:2,o="y"===e?n:1,r=new RegExp("^\\d{"+o+","+n+"}"),a=t.substring(s).match(r);if(!a)throw"Missing number at position "+s;return s+=a[0].length,parseInt(a[0],10)},y=function(e,i,n){for(var o=-1,r=p(e)?n:i,a=[],l=0;l<r.length;l++)a.push([l,r[l]]);a.sort(function(t,e){return-(t[1].length-e[1].length)});for(var l=0;l<a.length;l++){var h=a[l][1];if(t.substr(s,h.length).toLowerCase()===h.toLowerCase()){o=a[l][0],s+=h.length;break}}if(-1!==o)return o+1;throw"Unknown name at position "+s},g=function(){if(t.charAt(s)!==e.charAt(i))throw"Unexpected literal at position "+s;s++};for(i=0;i<e.length;i++)if(d)"'"!==e.charAt(i)||p("'")?g():d=!1;else switch(e.charAt(i)){case"d":u=f("d");break;case"D":y("D",this.locale.dayNamesShort,this.locale.dayNames);break;case"o":c=f("o");break;case"m":h=f("m");break;case"M":h=y("M",this.locale.monthNamesShort,this.locale.monthNames);break;case"y":l=f("y");break;case"@":r=new Date(f("@")),l=r.getFullYear(),h=r.getMonth()+1,u=r.getDate();break;case"!":r=new Date((f("!")-this.ticksTo1970)/1e4),l=r.getFullYear(),h=r.getMonth()+1,u=r.getDate();break;case"'":p("'")?g():d=!0;break;default:g()}if(s<t.length&&(o=t.substr(s),!/^\s+/.test(o)))throw"Extra/unparsed characters found in date: "+o;if(-1===l?l=(new Date).getFullYear():l<100&&(l+=(new Date).getFullYear()-(new Date).getFullYear()%100+(l<=a?0:-100)),c>-1)for(h=1,u=c;;){if(n=this.getDaysCountInMonth(l,h-1),u<=n)break;h++,u-=n}if(r=this.utc?new Date(Date.UTC(l,h-1,u)):this.daylightSavingAdjust(new Date(l,h-1,u)),r.getFullYear()!==l||r.getMonth()+1!==h||r.getDate()!==u)throw"Invalid date";return r},t.prototype.daylightSavingAdjust=function(t){return t?(t.setHours(t.getHours()>12?t.getHours()+2:0),t):null},t.prototype.updateFilledState=function(){this.filled=this.inputFieldValue&&""!=this.inputFieldValue},t.prototype.onTodayButtonClick=function(t){var e=new Date,i={day:e.getDate(),month:e.getMonth(),year:e.getFullYear(),today:!0,selectable:!0};this.onDateSelect(t,i),this.onTodayClick.emit(t)},t.prototype.onClearButtonClick=function(t){this.updateModel(null),this.updateInputfield(),this.overlayVisible=!1,this.onClearClick.emit(t)},t.prototype.bindDocumentClickListener=function(){var t=this;this.documentClickListener||(this.documentClickListener=this.renderer.listen("document","click",function(e){!t.datepickerClick&&t.overlayVisible&&(t.overlayVisible=!1,t.onClose.emit(e)),t.datepickerClick=!1,t.cd.detectChanges()}))},t.prototype.unbindDocumentClickListener=function(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null)},t.prototype.ngOnDestroy=function(){this.unbindDocumentClickListener(),!this.inline&&this.appendTo&&this.el.nativeElement.appendChild(this.overlayViewChild.nativeElement)},t}();n([r.Input(),o("design:type",Date)],d.prototype,"defaultDate",void 0),n([r.Input(),o("design:type",String)],d.prototype,"style",void 0),n([r.Input(),o("design:type",String)],d.prototype,"styleClass",void 0),n([r.Input(),o("design:type",String)],d.prototype,"inputStyle",void 0),n([r.Input(),o("design:type",String)],d.prototype,"inputId",void 0),n([r.Input(),o("design:type",String)],d.prototype,"name",void 0),n([r.Input(),o("design:type",String)],d.prototype,"inputStyleClass",void 0),n([r.Input(),o("design:type",String)],d.prototype,"placeholder",void 0),n([r.Input(),o("design:type",Object)],d.prototype,"disabled",void 0),n([r.Input(),o("design:type",String)],d.prototype,"dateFormat",void 0),n([r.Input(),o("design:type",Boolean)],d.prototype,"inline",void 0),n([r.Input(),o("design:type",Boolean)],d.prototype,"showOtherMonths",void 0),n([r.Input(),o("design:type",Boolean)],d.prototype,"selectOtherMonths",void 0),n([r.Input(),o("design:type",Boolean)],d.prototype,"showIcon",void 0),n([r.Input(),o("design:type",String)],d.prototype,"icon",void 0),n([r.Input(),o("design:type",Object)],d.prototype,"appendTo",void 0),n([r.Input(),o("design:type",Boolean)],d.prototype,"readonlyInput",void 0),n([r.Input(),o("design:type",Object)],d.prototype,"shortYearCutoff",void 0),n([r.Input(),o("design:type",Boolean)],d.prototype,"monthNavigator",void 0),n([r.Input(),o("design:type",Boolean)],d.prototype,"yearNavigator",void 0),n([r.Input(),o("design:type",String)],d.prototype,"yearRange",void 0),n([r.Input(),o("design:type",String)],d.prototype,"hourFormat",void 0),n([r.Input(),o("design:type",Boolean)],d.prototype,"timeOnly",void 0),n([r.Input(),o("design:type",Number)],d.prototype,"stepHour",void 0),n([r.Input(),o("design:type",Number)],d.prototype,"stepMinute",void 0),n([r.Input(),o("design:type",Number)],d.prototype,"stepSecond",void 0),n([r.Input(),o("design:type",Boolean)],d.prototype,"showSeconds",void 0),n([r.Input(),o("design:type",Boolean)],d.prototype,"required",void 0),n([r.Input(),o("design:type",Boolean)],d.prototype,"showOnFocus",void 0),n([r.Input(),o("design:type",String)],d.prototype,"dataType",void 0),n([r.Input(),o("design:type",Boolean)],d.prototype,"utc",void 0),n([r.Input(),o("design:type",String)],d.prototype,"selectionMode",void 0),n([r.Input(),o("design:type",Number)],d.prototype,"maxDateCount",void 0),n([r.Input(),o("design:type",Boolean)],d.prototype,"showButtonBar",void 0),n([r.Input(),o("design:type",String)],d.prototype,"todayButtonStyleClass",void 0),n([r.Input(),o("design:type",String)],d.prototype,"clearButtonStyleClass",void 0),n([r.Output(),o("design:type",r.EventEmitter)],d.prototype,"onFocus",void 0),n([r.Output(),o("design:type",r.EventEmitter)],d.prototype,"onBlur",void 0),n([r.Output(),o("design:type",r.EventEmitter)],d.prototype,"onClose",void 0),n([r.Output(),o("design:type",r.EventEmitter)],d.prototype,"onSelect",void 0),n([r.Output(),o("design:type",r.EventEmitter)],d.prototype,"onInput",void 0),n([r.Output(),o("design:type",r.EventEmitter)],d.prototype,"onTodayClick",void 0),n([r.Output(),o("design:type",r.EventEmitter)],d.prototype,"onClearClick",void 0),n([r.Output(),o("design:type",r.EventEmitter)],d.prototype,"onMonthChange",void 0),n([r.ContentChildren(u.PrimeTemplate),o("design:type",r.QueryList)],d.prototype,"templates",void 0),n([r.Input(),o("design:type",Number)],d.prototype,"tabindex",void 0),n([r.ViewChild("datepicker"),o("design:type",r.ElementRef)],d.prototype,"overlayViewChild",void 0),n([r.ViewChild("inputfield"),o("design:type",r.ElementRef)],d.prototype,"inputfieldViewChild",void 0),n([r.Input(),o("design:type",Date),o("design:paramtypes",[Date])],d.prototype,"minDate",null),n([r.Input(),o("design:type",Date),o("design:paramtypes",[Date])],d.prototype,"maxDate",null),n([r.Input(),o("design:type",Array),o("design:paramtypes",[Array])],d.prototype,"disabledDates",null),n([r.Input(),o("design:type",Array),o("design:paramtypes",[Array])],d.prototype,"disabledDays",null),n([r.Input(),o("design:type",Boolean),o("design:paramtypes",[Boolean])],d.prototype,"showTime",null),n([r.Input(),o("design:type",Object),o("design:paramtypes",[Object])],d.prototype,"locale",null),d=n([r.Component({selector:"p-calendar",template:'\n        <span [ngClass]="{\'ui-calendar\':true,\'ui-calendar-w-btn\':showIcon}" [ngStyle]="style" [class]="styleClass">\n            <ng-template [ngIf]="!inline">\n                <input #inputfield type="text" [attr.id]="inputId" [attr.name]="name" [attr.required]="required" [value]="inputFieldValue" (focus)="onInputFocus($event)" (keydown)="onInputKeydown($event)" (click)="datepickerClick=true" (blur)="onInputBlur($event)"\n                    [readonly]="readonlyInput" (input)="onUserInput($event)" [ngStyle]="inputStyle" [class]="inputStyleClass" [placeholder]="placeholder||\'\'" [disabled]="disabled" [attr.tabindex]="tabindex"\n                    [ngClass]="\'ui-inputtext ui-widget ui-state-default ui-corner-all\'"\n                    ><button type="button" [icon]="icon" pButton *ngIf="showIcon" (click)="onButtonClick($event,inputfield)" class="ui-datepicker-trigger ui-calendar-button"\n                    [ngClass]="{\'ui-state-disabled\':disabled}" [disabled]="disabled" tabindex="-1"></button>\n            </ng-template>\n            <div #datepicker class="ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all" [ngClass]="{\'ui-datepicker-inline\':inline,\'ui-shadow\':!inline,\'ui-state-disabled\':disabled,\'ui-datepicker-timeonly\':timeOnly}" \n                [ngStyle]="{\'display\': inline ? \'inline-block\' : (overlayVisible ? \'block\' : \'none\')}" (click)="onDatePickerClick($event)" [@overlayState]="inline ? \'visible\' : (overlayVisible ? \'visible\' : \'hidden\')">\n\n                <div class="ui-datepicker-header ui-widget-header ui-helper-clearfix ui-corner-all" *ngIf="!timeOnly && (overlayVisible || inline)">\n                    <ng-content select="p-header"></ng-content>\n                    <a class="ui-datepicker-prev ui-corner-all" href="#" (click)="prevMonth($event)">\n                        <span class="fa fa-angle-left"></span>\n                    </a>\n                    <a class="ui-datepicker-next ui-corner-all" href="#" (click)="nextMonth($event)">\n                        <span class="fa fa-angle-right"></span>\n                    </a>\n                    <div class="ui-datepicker-title">\n                        <span class="ui-datepicker-month" *ngIf="!monthNavigator">{{locale.monthNames[currentMonth]}}</span>\n                        <select class="ui-datepicker-month" *ngIf="monthNavigator" (change)="onMonthDropdownChange($event.target.value)">\n                            <option [value]="i" *ngFor="let month of locale.monthNames;let i = index" [selected]="i == currentMonth">{{month}}</option>\n                        </select>\n                        <select class="ui-datepicker-year" *ngIf="yearNavigator" (change)="onYearDropdownChange($event.target.value)">\n                            <option [value]="year" *ngFor="let year of yearOptions" [selected]="year == currentYear">{{year}}</option>\n                        </select>\n                        <span class="ui-datepicker-year" *ngIf="!yearNavigator">{{currentYear}}</span>\n                    </div>\n                </div>\n                <table class="ui-datepicker-calendar" *ngIf="!timeOnly && (overlayVisible || inline)">\n                    <thead>\n                        <tr>\n                            <th scope="col" *ngFor="let weekDay of weekDays;let begin = first; let end = last">\n                                <span>{{weekDay}}</span>\n                            </th>\n                        </tr>\n                    </thead>\n                    <tbody>\n                        <tr *ngFor="let week of dates">\n                            <td *ngFor="let date of week" [ngClass]="{\'ui-datepicker-other-month ui-state-disabled\':date.otherMonth,\n                                \'ui-datepicker-current-day\':isSelected(date),\'ui-datepicker-today\':date.today}">\n                                <a class="ui-state-default" href="#" *ngIf="date.otherMonth ? showOtherMonths : true" \n                                    [ngClass]="{\'ui-state-active\':isSelected(date), \'ui-state-highlight\':date.today, \'ui-state-disabled\':!date.selectable}"\n                                    (click)="onDateSelect($event,date)">\n                                    <ng-container *ngIf="!dateTemplate">{{date.day}}</ng-container>\n                                    <ng-template [pTemplateWrapper]="dateTemplate" [item]="date" *ngIf="dateTemplate"></ng-template>\n                                </a>\n                            </td>\n                        </tr>\n                    </tbody>\n                </table>\n                <div class="ui-timepicker ui-widget-header ui-corner-all" *ngIf="showTime||timeOnly">\n                    <div class="ui-hour-picker">\n                        <a href="#" (click)="incrementHour($event)">\n                            <span class="fa fa-angle-up"></span>\n                        </a>\n                        <span [ngStyle]="{\'display\': currentHour < 10 ? \'inline\': \'none\'}">0</span><span>{{currentHour}}</span>\n                        <a href="#" (click)="decrementHour($event)">\n                            <span class="fa fa-angle-down"></span>\n                        </a>\n                    </div>\n                    <div class="ui-separator">\n                        <a href="#">\n                            <span class="fa fa-angle-up"></span>\n                        </a>\n                        <span>:</span>\n                        <a href="#">\n                            <span class="fa fa-angle-down"></span>\n                        </a>\n                    </div>\n                    <div class="ui-minute-picker">\n                        <a href="#" (click)="incrementMinute($event)">\n                            <span class="fa fa-angle-up"></span>\n                        </a>\n                        <span [ngStyle]="{\'display\': currentMinute < 10 ? \'inline\': \'none\'}">0</span><span>{{currentMinute}}</span>\n                        <a href="#" (click)="decrementMinute($event)">\n                            <span class="fa fa-angle-down"></span>\n                        </a>\n                    </div>\n                    <div class="ui-separator" *ngIf="showSeconds">\n                        <a href="#">\n                            <span class="fa fa-angle-up"></span>\n                        </a>\n                        <span>:</span>\n                        <a href="#">\n                            <span class="fa fa-angle-down"></span>\n                        </a>\n                    </div>\n                    <div class="ui-second-picker" *ngIf="showSeconds">\n                        <a href="#" (click)="incrementSecond($event)">\n                            <span class="fa fa-angle-up"></span>\n                        </a>\n                        <span [ngStyle]="{\'display\': currentSecond < 10 ? \'inline\': \'none\'}">0</span><span>{{currentSecond}}</span>\n                        <a href="#" (click)="decrementSecond($event)">\n                            <span class="fa fa-angle-down"></span>\n                        </a>\n                    </div>\n                    <div class="ui-ampm-picker" *ngIf="hourFormat==\'12\'">\n                        <a href="#" (click)="toggleAMPM($event)">\n                            <span class="fa fa-angle-up"></span>\n                        </a>\n                        <span>{{pm ? \'PM\' : \'AM\'}}</span>\n                        <a href="#" (click)="toggleAMPM($event)">\n                            <span class="fa fa-angle-down"></span>\n                        </a>\n                    </div>\n                </div>\n                <div class="ui-datepicker-buttonbar ui-widget-header" *ngIf="showButtonBar">\n                    <div class="ui-g">\n                        <div class="ui-g-6">\n                            <button type="button" [label]="_locale.today" (click)="onTodayButtonClick($event)" pButton [ngClass]="[todayButtonStyleClass]"></button>\n                        </div>\n                        <div class="ui-g-6">\n                            <button type="button" [label]="_locale.clear" (click)="onClearButtonClick($event)" pButton [ngClass]="[clearButtonStyleClass]"></button>\n                        </div>\n                    </div>\n                </div>\n                <ng-content select="p-footer"></ng-content>\n            </div>\n        </span>\n    ',animations:[s.trigger("overlayState",[s.state("hidden",s.style({opacity:0})),s.state("visible",s.style({opacity:1})),s.transition("visible => hidden",s.animate("400ms ease-in")),s.transition("hidden => visible",s.animate("400ms ease-out"))])],host:{"[class.ui-inputwrapper-filled]":"filled","[class.ui-inputwrapper-focus]":"focus"},providers:[h.DomHandler,e.CALENDAR_VALUE_ACCESSOR]}),o("design:paramtypes",[r.ElementRef,h.DomHandler,r.Renderer2,r.ChangeDetectorRef])],d),e.Calendar=d;var p=function(){function t(){}return t}();p=n([r.NgModule({imports:[a.CommonModule,l.ButtonModule,u.SharedModule],exports:[d,l.ButtonModule,u.SharedModule],declarations:[d]})],p),e.CalendarModule=p},function(t,e,i){"use strict";var n=this&&this.__decorate||function(t,e,i,n){var o,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,i,s):o(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};Object.defineProperty(e,"__esModule",{value:!0});var r=i(0),s=i(3),a=i(4),l=i(1),h=function(){function t(t,e,i,n){this.el=t,this.domHandler=e,this.renderer=i,this.cd=n,this.numVisible=3,this.firstVisible=0,this.circular=!1,this.breakpoint=560,this.responsive=!0,this.autoplayInterval=0,this.effectDuration="1s",this.easing="ease-out",this.pageLinks=3,this.onPage=new r.EventEmitter,this.left=0}return t.prototype.ngAfterContentInit=function(){var t=this;this.templates.forEach(function(e){switch(e.getType()){case"item":default:t.itemTemplate=e.template}})},Object.defineProperty(t.prototype,"value",{get:function(){return this._value},set:function(t){this._value=t,this.handleDataChange()},enumerable:!0,configurable:!0}),t.prototype.handleDataChange=function(){this.value&&this.value.length?this.value.length&&this.firstVisible>=this.value.length&&this.setPage(this.totalPages-1):this.setPage(0),this.valuesChanged=!0},t.prototype.ngAfterViewChecked=function(){this.valuesChanged&&this.containerViewChild.nativeElement.offsetParent&&(this.render(),this.valuesChanged=!1)},t.prototype.ngAfterViewInit=function(){var t=this;this.responsive&&(this.documentResponsiveListener=this.renderer.listen("window","resize",function(e){t.updateState()}))},t.prototype.updateLinks=function(){this.anchorPageLinks=[];for(var t=0;t<this.totalPages;t++)this.anchorPageLinks.push(t)},t.prototype.updateDropdown=function(){this.selectDropdownOptions=[];for(var t=0;t<this.totalPages;t++)this.selectDropdownOptions.push(t)},t.prototype.updateMobileDropdown=function(){this.mobileDropdownOptions=[];for(var t=0;t<this.value.length;t++)this.mobileDropdownOptions.push(t)},t.prototype.render=function(){this.autoplayInterval&&this.stopAutoplay(),this.items=this.domHandler.find(this.itemsViewChild.nativeElement,"li"),this.calculateColumns(),this.calculateItemWidths(),this.responsive||(this.containerViewChild.nativeElement.style.width=this.domHandler.width(this.containerViewChild.nativeElement)+"px"),this.autoplayInterval&&(this.circular=!0,this.startAutoplay()),this.updateMobileDropdown(),this.updateLinks(),this.updateDropdown(),this.cd.detectChanges()},t.prototype.calculateItemWidths=function(){var t=this.items&&this.items.length?this.items[0]:null;if(t)for(var e=0;e<this.items.length;e++)this.items[e].style.width=(this.domHandler.innerWidth(this.viewportViewChild.nativeElement)-this.domHandler.getHorizontalMargin(t)*this.columns)/this.columns+"px"},t.prototype.calculateColumns=function(){window.innerWidth<=this.breakpoint?(this.shrinked=!0,this.columns=1):(this.shrinked=!1,this.columns=this.numVisible),this.page=Math.floor(this.firstVisible/this.columns)},t.prototype.onNextNav=function(){this.page===this.totalPages-1?this.circular&&this.setPage(0):this.setPage(this.page+1)},t.prototype.onPrevNav=function(){0!==this.page?this.setPage(this.page-1):this.circular&&this.setPage(this.totalPages-1)},t.prototype.setPageWithLink=function(t,e){this.setPage(e),t.preventDefault()},t.prototype.setPage=function(t,e){(t!==this.page||e)&&(this.page=t,this.left=this.domHandler.innerWidth(this.viewportViewChild.nativeElement)*this.page*-1,this.firstVisible=this.page*this.columns,this.onPage.emit({page:this.page}))},t.prototype.onDropdownChange=function(t){this.setPage(parseInt(t))},Object.defineProperty(t.prototype,"displayPageLinks",{get:function(){return this.totalPages<=this.pageLinks&&!this.shrinked},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"displayPageDropdown",{get:function(){return this.totalPages>this.pageLinks&&!this.shrinked},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"totalPages",{get:function(){return this.value&&this.value.length?Math.ceil(this.value.length/this.columns):0},enumerable:!0,configurable:!0}),t.prototype.routerDisplay=function(){return window.innerWidth<=this.breakpoint},t.prototype.updateState=function(){window.innerWidth<=this.breakpoint?(this.shrinked=!0,this.columns=1):this.shrinked&&(this.shrinked=!1,this.columns=this.numVisible,this.updateLinks(),this.updateDropdown()),this.calculateItemWidths(),this.setPage(Math.floor(this.firstVisible/this.columns),!0)},t.prototype.startAutoplay=function(){var t=this;this.interval=setInterval(function(){t.page===t.totalPages-1?t.setPage(0):t.setPage(t.page+1)},this.autoplayInterval)},t.prototype.stopAutoplay=function(){clearInterval(this.interval)},t.prototype.ngOnDestroy=function(){this.documentResponsiveListener&&this.documentResponsiveListener(),this.autoplayInterval&&this.stopAutoplay()},t}();n([r.Input(),o("design:type",Number)],h.prototype,"numVisible",void 0),n([r.Input(),o("design:type",Number)],h.prototype,"firstVisible",void 0),n([r.Input(),o("design:type",String)],h.prototype,"headerText",void 0),n([r.Input(),o("design:type",Boolean)],h.prototype,"circular",void 0),n([r.Input(),o("design:type",Number)],h.prototype,"breakpoint",void 0),n([r.Input(),o("design:type",Boolean)],h.prototype,"responsive",void 0),n([r.Input(),o("design:type",Number)],h.prototype,"autoplayInterval",void 0),n([r.Input(),o("design:type",Object)],h.prototype,"effectDuration",void 0),n([r.Input(),o("design:type",String)],h.prototype,"easing",void 0),n([r.Input(),o("design:type",Number)],h.prototype,"pageLinks",void 0),n([r.Input(),o("design:type",Object)],h.prototype,"style",void 0),n([r.Input(),o("design:type",String)],h.prototype,"styleClass",void 0),n([r.Output(),o("design:type",r.EventEmitter)],h.prototype,"onPage",void 0),n([r.ContentChildren(a.PrimeTemplate),o("design:type",r.QueryList)],h.prototype,"templates",void 0),n([r.ViewChild("container"),o("design:type",r.ElementRef)],h.prototype,"containerViewChild",void 0),n([r.ViewChild("viewport"),o("design:type",r.ElementRef)],h.prototype,"viewportViewChild",void 0),n([r.ViewChild("items"),o("design:type",r.ElementRef)],h.prototype,"itemsViewChild",void 0),n([r.Input(),o("design:type",Array),o("design:paramtypes",[Array])],h.prototype,"value",null),h=n([r.Component({selector:"p-carousel",template:'\n        <div #container [ngClass]="{\'ui-carousel ui-widget ui-widget-content ui-corner-all\':true}" [ngStyle]="style" [class]="styleClass">\n            <div class="ui-carousel-header ui-widget-header ui-corner-all">\n                <span class="ui-carousel-header-title">{{headerText}}</span>\n                <span class="ui-carousel-button ui-carousel-next-button fa fa-arrow-circle-right" (click)="onNextNav()" \n                        [ngClass]="{\'ui-state-disabled\':(page === (totalPages-1)) && !circular}" *ngIf="value&&value.length"></span>\n                <span class="ui-carousel-button ui-carousel-prev-button fa fa-arrow-circle-left" (click)="onPrevNav()" \n                        [ngClass]="{\'ui-state-disabled\':(page === 0 && !circular)}" *ngIf="value&&value.length"></span>\n                <div *ngIf="displayPageLinks" class="ui-carousel-page-links">\n                    <a href="#" (click)="setPageWithLink($event,i)" class="ui-carousel-page-link fa fa-circle-o" *ngFor="let links of anchorPageLinks;let i=index" [ngClass]="{\'fa-dot-circle-o\':page===i}"></a>\n                </div>\n                <select *ngIf="displayPageDropdown" class="ui-carousel-dropdown ui-widget ui-state-default ui-corner-left" [value]="page" (change)="onDropdownChange($event.target.value)">\n                    <option *ngFor="let option of selectDropdownOptions" [value]="option" [selected]="value == option">{{option+1}}</option>\n                </select>\n                <select *ngIf="responsive&&value&&value.length" class="ui-carousel-mobiledropdown ui-widget ui-state-default ui-corner-left" [value]="page" (change)="onDropdownChange($event.target.value)"\n                    [style.display]="shrinked ? \'block\' : \'none\'">\n                    <option *ngFor="let option of mobileDropdownOptions" [value]="option" [selected]="value == option">{{option+1}}</option>\n                </select>\n            </div>\n            <div #viewport class="ui-carousel-viewport">\n                <ul #items class="ui-carousel-items" [style.left.px]="left" [style.transitionProperty]="\'left\'" \n                            [style.transitionDuration]="effectDuration" [style.transitionTimingFunction]="easing">\n                    <li *ngFor="let item of value" class="ui-carousel-item ui-widget-content ui-corner-all">\n                        <ng-template [pTemplateWrapper]="itemTemplate" [item]="item"></ng-template>\n                    </li>\n                </ul>\n            </div>\n        </div>\n    ',providers:[s.DomHandler]}),o("design:paramtypes",[r.ElementRef,s.DomHandler,r.Renderer2,r.ChangeDetectorRef])],h),e.Carousel=h;var u=function(){function t(){}return t}();u=n([r.NgModule({imports:[l.CommonModule,a.SharedModule],exports:[h,a.SharedModule],declarations:[h]})],u),e.CarouselModule=u},function(t,e,i){"use strict";var n=this&&this.__decorate||function(t,e,i,n){var o,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,i,s):o(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};Object.defineProperty(e,"__esModule",{value:!0});var r=i(0),s=i(1),a=function(){function t(t){this.el=t,this.onDataSelect=new r.EventEmitter}return Object.defineProperty(t.prototype,"data",{get:function(){return this._data},set:function(t){this._data=t,this.reinit()},enumerable:!0,configurable:!0}),t.prototype.ngAfterViewInit=function(){this.initChart(),this.initialized=!0},t.prototype.onCanvasClick=function(t){if(this.chart){var e=this.chart.getElementAtEvent(t),i=this.chart.getDatasetAtEvent(t);e&&e[0]&&i&&this.onDataSelect.emit({originalEvent:t,element:e[0],dataset:i})}},t.prototype.initChart=function(){this.chart=new Chart(this.el.nativeElement.children[0].children[0],{type:this.type,data:this.data,options:this.options})},t.prototype.getCanvas=function(){return this.el.nativeElement.children[0].children[0]},t.prototype.getBase64Image=function(){return this.chart.toBase64Image()},t.prototype.generateLegend=function(){this.chart&&this.chart.generateLegend()},t.prototype.refresh=function(){this.chart&&this.chart.update()},t.prototype.reinit=function(){this.chart&&(this.chart.destroy(),this.initChart())},t.prototype.ngOnDestroy=function(){this.chart&&(this.chart.destroy(),this.initialized=!1,this.chart=null)},t}();n([r.Input(),o("design:type",String)],a.prototype,"type",void 0),n([r.Input(),o("design:type",Object)],a.prototype,"options",void 0),n([r.Input(),o("design:type",String)],a.prototype,"width",void 0),n([r.Input(),o("design:type",String)],a.prototype,"height",void 0),n([r.Output(),o("design:type",r.EventEmitter)],a.prototype,"onDataSelect",void 0),n([r.Input(),o("design:type",Object),o("design:paramtypes",[Object])],a.prototype,"data",null),a=n([r.Component({selector:"p-chart",template:'\n        <div>\n            <canvas [attr.width]="width" [attr.height]="height" (click)="onCanvasClick($event)"></canvas>\n        </div>\n    '}),o("design:paramtypes",[r.ElementRef])],a),e.UIChart=a;var l=function(){function t(){}return t}();l=n([r.NgModule({imports:[s.CommonModule],exports:[a],declarations:[a]})],l),e.ChartModule=l},function(t,e,i){"use strict";var n=this&&this.__decorate||function(t,e,i,n){var o,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,i,s):o(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};Object.defineProperty(e,"__esModule",{value:!0});var r=i(0),s=i(1),a=i(5);e.CHECKBOX_VALUE_ACCESSOR={provide:a.NG_VALUE_ACCESSOR,useExisting:r.forwardRef(function(){return l}),multi:!0};var l=function(){function t(t){this.cd=t,this.onChange=new r.EventEmitter,this.onModelChange=function(){},this.onModelTouched=function(){},this.focused=!1,this.checked=!1}return t.prototype.onClick=function(t,e,i){t.preventDefault(),this.disabled||(this.checked=!this.checked,this.updateModel(),i&&e.focus())},t.prototype.updateModel=function(){this.binary?this.onModelChange(this.checked):(this.checked?this.addValue():this.removeValue(),this.onModelChange(this.model),this.formControl&&this.formControl.setValue(this.model)),this.onChange.emit(this.checked)},t.prototype.handleChange=function(t){this.checked=t.target.checked,this.updateModel()},t.prototype.isChecked=function(){return this.binary?this.model:this.model&&this.model.indexOf(this.value)>-1},t.prototype.removeValue=function(){var t=this;this.model=this.model.filter(function(e){return e!==t.value})},t.prototype.addValue=function(){this.model?this.model=this.model.concat([this.value]):this.model=[this.value]},t.prototype.onFocus=function(t){this.focused=!0},t.prototype.onBlur=function(t){this.focused=!1,this.onModelTouched()},t.prototype.writeValue=function(t){this.model=t,this.checked=this.isChecked(),this.cd.markForCheck()},t.prototype.registerOnChange=function(t){this.onModelChange=t},t.prototype.registerOnTouched=function(t){this.onModelTouched=t},t.prototype.setDisabledState=function(t){this.disabled=t},t}();n([r.Input(),o("design:type",Object)],l.prototype,"value",void 0),n([r.Input(),o("design:type",String)],l.prototype,"name",void 0),n([r.Input(),o("design:type",Boolean)],l.prototype,"disabled",void 0),n([r.Input(),o("design:type",String)],l.prototype,"binary",void 0),n([r.Input(),o("design:type",String)],l.prototype,"label",void 0),n([r.Input(),o("design:type",Number)],l.prototype,"tabindex",void 0),n([r.Input(),o("design:type",String)],l.prototype,"inputId",void 0),n([r.Input(),o("design:type",Object)],l.prototype,"style",void 0),n([r.Input(),o("design:type",String)],l.prototype,"styleClass",void 0),n([r.Input(),o("design:type",a.FormControl)],l.prototype,"formControl",void 0),n([r.Output(),o("design:type",r.EventEmitter)],l.prototype,"onChange",void 0),l=n([r.Component({selector:"p-checkbox",template:'\n        <div [ngStyle]="style" [ngClass]="\'ui-chkbox ui-widget\'" [class]="styleClass">\n            <div class="ui-helper-hidden-accessible">\n                <input #cb type="checkbox" [attr.id]="inputId" [name]="name" [value]="value" [checked]="checked" (focus)="onFocus($event)" (blur)="onBlur($event)"\n                [ngClass]="{\'ui-state-focus\':focused}" (change)="handleChange($event)" [disabled]="disabled" [attr.tabindex]="tabindex">\n            </div>\n            <div class="ui-chkbox-box ui-widget ui-corner-all ui-state-default" (click)="onClick($event,cb,true)"\n                        [ngClass]="{\'ui-state-active\':checked,\'ui-state-disabled\':disabled,\'ui-state-focus\':focused}">\n                <span class="ui-chkbox-icon ui-clickable" [ngClass]="{\'fa fa-check\':checked}"></span>\n            </div>\n        </div>\n        <label class="ui-chkbox-label" (click)="onClick($event,cb,true)" \n                [ngClass]="{\'ui-label-active\':checked, \'ui-label-disabled\':disabled, \'ui-label-focus\':focused}"\n                *ngIf="label" [attr.for]="inputId">{{label}}</label>\n    ',providers:[e.CHECKBOX_VALUE_ACCESSOR]}),o("design:paramtypes",[r.ChangeDetectorRef])],l),e.Checkbox=l;var h=function(){function t(){}return t}();h=n([r.NgModule({imports:[s.CommonModule],exports:[l],declarations:[l]})],h),e.CheckboxModule=h},function(t,e,i){"use strict";var n=this&&this.__decorate||function(t,e,i,n){var o,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,i,s):o(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};Object.defineProperty(e,"__esModule",{value:!0});var r=i(0),s=i(1),a=i(4),l=i(12),h=i(3),u=i(5);e.CHIPS_VALUE_ACCESSOR={provide:u.NG_VALUE_ACCESSOR,useExisting:r.forwardRef(function(){return c}),multi:!0};var c=function(){function t(t,e){this.el=t,this.domHandler=e,this.onAdd=new r.EventEmitter,this.onRemove=new r.EventEmitter,this.allowDuplicate=!0,this.onFocus=new r.EventEmitter,this.onBlur=new r.EventEmitter,this.onModelChange=function(){},this.onModelTouched=function(){}}return t.prototype.ngAfterContentInit=function(){var t=this;this.templates.forEach(function(e){switch(e.getType()){case"item":default:t.itemTemplate=e.template}})},t.prototype.writeValue=function(t){this.value=t},t.prototype.registerOnChange=function(t){this.onModelChange=t},t.prototype.registerOnTouched=function(t){this.onModelTouched=t},t.prototype.setDisabledState=function(t){this.disabled=t},t.prototype.resolveFieldData=function(t,e){if(t&&e){if(-1==e.indexOf("."))return t[e];for(var i=e.split("."),n=t,o=0,r=i.length;o<r;++o)n=n[i[o]];return n}return null},t.prototype.onInputFocus=function(){this.focus=!0,this.onFocus.emit()},t.prototype.onInputBlur=function(){this.focus=!1,this.onModelTouched(),this.onBlur.emit()},t.prototype.removeItem=function(t,e){if(!this.disabled){var i=this.value[e];this.value=this.value.filter(function(t,i){return i!=e}),this.onModelChange(this.value),this.onRemove.emit({originalEvent:t,value:i})}},t.prototype.addItem=function(t,e){this.value=this.value||[],e&&e.trim().length&&(!this.max||this.max>e.length)&&(!this.allowDuplicate&&this.value.includes(e)||(this.value=this.value.concat([e]),this.onModelChange(this.value),this.onAdd.emit({originalEvent:t,value:e})))},t.prototype.onKeydown=function(t,e){switch(t.which){case 8:if(0===e.value.length&&this.value&&this.value.length>0){this.value=this.value.slice();var i=this.value.pop();this.onModelChange(this.value),this.onRemove.emit({originalEvent:t,value:i})}break;case 13:this.addItem(t,e.value),e.value="",t.preventDefault();break;case 9:this.addOnTab&&""!==e.value&&(this.addItem(t,e.value),e.value="",t.preventDefault());break;default:this.max&&this.value&&this.max===this.value.length&&t.preventDefault()}},Object.defineProperty(t.prototype,"maxedOut",{get:function(){return this.max&&this.value&&this.max===this.value.length},enumerable:!0,configurable:!0}),t}();n([r.Input(),o("design:type",Object)],c.prototype,"style",void 0),n([r.Input(),o("design:type",String)],c.prototype,"styleClass",void 0),n([r.Input(),o("design:type",Boolean)],c.prototype,"disabled",void 0),n([r.Output(),o("design:type",r.EventEmitter)],c.prototype,"onAdd",void 0),n([r.Output(),o("design:type",r.EventEmitter)],c.prototype,"onRemove",void 0),n([r.Input(),o("design:type",String)],c.prototype,"field",void 0),n([r.Input(),o("design:type",String)],c.prototype,"placeholder",void 0),n([r.Input(),o("design:type",Number)],c.prototype,"max",void 0),n([r.Input(),o("design:type",Number)],c.prototype,"tabindex",void 0),n([r.Input(),o("design:type",String)],c.prototype,"inputId",void 0),n([r.Input(),o("design:type",Boolean)],c.prototype,"allowDuplicate",void 0),n([r.Input(),o("design:type",Object)],c.prototype,"inputStyle",void 0),n([r.Input(),o("design:type",Object)],c.prototype,"inputStyleClass",void 0),n([r.Input(),o("design:type",Boolean)],c.prototype,"addOnTab",void 0),n([r.Output(),o("design:type",r.EventEmitter)],c.prototype,"onFocus",void 0),n([r.Output(),o("design:type",r.EventEmitter)],c.prototype,"onBlur",void 0),n([r.ContentChildren(a.PrimeTemplate),o("design:type",r.QueryList)],c.prototype,"templates",void 0),c=n([r.Component({selector:"p-chips",template:'\n        <div [ngClass]="\'ui-chips ui-widget\'" [ngStyle]="style" [class]="styleClass">\n            <ul [ngClass]="{\'ui-inputtext ui-state-default ui-corner-all\':true,\'ui-state-focus\':focus,\'ui-state-disabled\':disabled}" (click)="inputtext.focus()">\n                <li #token *ngFor="let item of value; let i = index;" class="ui-chips-token ui-state-highlight ui-corner-all">\n                    <span *ngIf="!disabled" class="ui-chips-token-icon fa fa-fw fa-close" (click)="removeItem($event,i)"></span>\n                    <span *ngIf="!itemTemplate" class="ui-chips-token-label">{{field ? resolveFieldData(item,field) : item}}</span>\n                    <ng-template *ngIf="itemTemplate" [pTemplateWrapper]="itemTemplate" [item]="item"></ng-template>\n                </li>\n                <li class="ui-chips-input-token">\n                    <input #inputtext type="text" [attr.id]="inputId" [attr.placeholder]="placeholder" [attr.tabindex]="tabindex" (keydown)="onKeydown($event,inputtext)" \n                        (focus)="onInputFocus()" (blur)="onInputBlur()" [disabled]="maxedOut||disabled" [disabled]="disabled" [ngStyle]="inputStyle" [class]="inputStyleClass">\n                </li>\n            </ul>\n        </div>\n    ',providers:[h.DomHandler,e.CHIPS_VALUE_ACCESSOR]}),o("design:paramtypes",[r.ElementRef,h.DomHandler])],c),e.Chips=c;var d=function(){function t(){}return t}();d=n([r.NgModule({imports:[s.CommonModule,l.InputTextModule,a.SharedModule],exports:[c,l.InputTextModule,a.SharedModule],declarations:[c]})],d),e.ChipsModule=d},function(t,e,i){"use strict";var n=this&&this.__decorate||function(t,e,i,n){var o,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,i,s):o(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};Object.defineProperty(e,"__esModule",{value:!0});var r=i(0),s=i(1),a=function(){function t(t){this.el=t}return t.prototype.ngOnInit=function(){Prism.highlightElement(this.el.nativeElement)},t}();a=n([r.Directive({selector:"[pCode]"}),o("design:paramtypes",[r.ElementRef])],a),e.CodeHighlighter=a;var l=function(){function t(){}return t}();l=n([r.NgModule({imports:[s.CommonModule],exports:[a],declarations:[a]})],l),e.CodeHighlighterModule=l},function(t,e,i){"use strict";var n=this&&this.__decorate||function(t,e,i,n){var o,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,i,s):o(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};Object.defineProperty(e,"__esModule",{value:!0});var r=i(0),s=i(7),a=i(1),l=i(3),h=i(5);e.COLORPICKER_VALUE_ACCESSOR={provide:h.NG_VALUE_ACCESSOR,useExisting:r.forwardRef(function(){return u}),multi:!0};var u=function(){function t(t,e,i,n){this.el=t,this.domHandler=e,this.renderer=i,this.cd=n,this.format="hex",this.onChange=new r.EventEmitter,this.defaultColor="ff0000",this.onModelChange=function(){},this.onModelTouched=function(){}}return t.prototype.ngAfterViewChecked=function(){this.shown&&(this.onShow(),this.shown=!1)},t.prototype.onHueMousedown=function(t){this.disabled||(this.bindDocumentMousemoveListener(),this.bindDocumentMouseupListener(),this.hueDragging=!0,this.pickHue(t))},t.prototype.pickHue=function(t){var e=this.hueViewChild.nativeElement.getBoundingClientRect().top+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0);this.value=this.validateHSB({h:Math.floor(360*(150-Math.max(0,Math.min(150,t.pageY-e)))/150),s:this.value.s,b:this.value.b}),this.updateColorSelector(),this.updateUI(),this.updateModel(),this.onChange.emit({originalEvent:t,value:this.getValueToUpdate()})},t.prototype.onColorMousedown=function(t){this.disabled||(this.bindDocumentMousemoveListener(),this.bindDocumentMouseupListener(),this.colorDragging=!0,this.pickColor(t))},t.prototype.pickColor=function(t){var e=this.colorSelectorViewChild.nativeElement.getBoundingClientRect(),i=e.top+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0),n=e.left+document.body.scrollLeft,o=Math.floor(100*Math.max(0,Math.min(150,t.pageX-n))/150),r=Math.floor(100*(150-Math.max(0,Math.min(150,t.pageY-i)))/150);this.value=this.validateHSB({h:this.value.h,s:o,b:r}),this.updateUI(),this.updateModel(),this.onChange.emit({originalEvent:t,value:this.getValueToUpdate()})},t.prototype.getValueToUpdate=function(){var t;switch(this.format){case"hex":t="#"+this.HSBtoHEX(this.value);break;case"rgb":t=this.HSBtoRGB(this.value);break;case"hsb":t=this.value}return t},t.prototype.updateModel=function(){this.onModelChange(this.getValueToUpdate())},t.prototype.writeValue=function(t){if(t)switch(this.format){case"hex":this.value=this.HEXtoHSB(t);break;case"rgb":this.value=this.RGBtoHSB(t);break;case"hsb":this.value=t}else this.value=this.HEXtoHSB(this.defaultColor);this.updateColorSelector(),this.updateUI()},t.prototype.updateColorSelector=function(){this.colorSelectorViewChild.nativeElement.style.backgroundColor="#"+this.HSBtoHEX(this.value)},t.prototype.updateUI=function(){this.colorHandleViewChild.nativeElement.style.left=Math.floor(150*this.value.s/100)+"px",this.colorHandleViewChild.nativeElement.style.top=Math.floor(150*(100-this.value.b)/100)+"px",this.hueHandleViewChild.nativeElement.style.top=Math.floor(150-150*this.value.h/360)+"px",this.inputBgColor="#"+this.HSBtoHEX(this.value)},t.prototype.onInputFocus=function(){this.onModelTouched()},t.prototype.show=function(){this.panelViewChild.nativeElement.style.zIndex=String(++l.DomHandler.zindex),this.panelVisible=!0,this.shown=!0},t.prototype.hide=function(){this.panelVisible=!1,this.unbindDocumentClickListener()},t.prototype.onShow=function(){this.alignPanel(),this.bindDocumentClickListener()},t.prototype.alignPanel=function(){this.appendTo?this.domHandler.absolutePosition(this.panelViewChild.nativeElement,this.inputViewChild.nativeElement):this.domHandler.relativePosition(this.panelViewChild.nativeElement,this.inputViewChild.nativeElement)},t.prototype.onInputClick=function(){this.selfClick=!0,this.togglePanel()},t.prototype.togglePanel=function(){this.panelVisible?this.hide():this.show()},t.prototype.onInputKeydown=function(t){switch(t.which){case 32:this.togglePanel(),t.preventDefault();break;case 27:case 9:this.hide()}},t.prototype.onPanelClick=function(){this.selfClick=!0},t.prototype.registerOnChange=function(t){this.onModelChange=t},t.prototype.registerOnTouched=function(t){this.onModelTouched=t},t.prototype.setDisabledState=function(t){this.disabled=t},t.prototype.bindDocumentClickListener=function(){var t=this;this.documentClickListener||(this.documentClickListener=this.renderer.listen("document","click",function(){t.selfClick||(t.panelVisible=!1,t.unbindDocumentClickListener()),t.selfClick=!1,t.cd.markForCheck()}))},t.prototype.unbindDocumentClickListener=function(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null)},t.prototype.bindDocumentMousemoveListener=function(){var t=this;this.documentMousemoveListener||(this.documentMousemoveListener=this.renderer.listen("document","mousemove",function(e){t.colorDragging&&t.pickColor(e),t.hueDragging&&t.pickHue(e)}))},t.prototype.unbindDocumentMousemoveListener=function(){this.documentMousemoveListener&&(this.documentMousemoveListener(),this.documentMousemoveListener=null)},t.prototype.bindDocumentMouseupListener=function(){var t=this;this.documentMouseupListener||(this.documentMouseupListener=this.renderer.listen("document","mouseup",function(){t.colorDragging=!1,t.hueDragging=!1,t.unbindDocumentMousemoveListener(),t.unbindDocumentMouseupListener()}))},t.prototype.unbindDocumentMouseupListener=function(){this.documentMouseupListener&&(this.documentMouseupListener(),this.documentMouseupListener=null)},t.prototype.validateHSB=function(t){return{h:Math.min(360,Math.max(0,t.h)),s:Math.min(100,Math.max(0,t.s)),b:Math.min(100,Math.max(0,t.b))}},t.prototype.validateRGB=function(t){return{r:Math.min(255,Math.max(0,t.r)),g:Math.min(255,Math.max(0,t.g)),b:Math.min(255,Math.max(0,t.b))}},t.prototype.validateHEX=function(t){var e=6-t.length;if(e>0){for(var i=[],n=0;n<e;n++)i.push("0");i.push(t),t=i.join("")}return t},t.prototype.HEXtoRGB=function(t){var e=parseInt(t.indexOf("#")>-1?t.substring(1):t,16);return{r:e>>16,g:(65280&e)>>8,b:255&e}},t.prototype.HEXtoHSB=function(t){return this.RGBtoHSB(this.HEXtoRGB(t))},t.prototype.RGBtoHSB=function(t){var e={h:0,s:0,b:0},i=Math.min(t.r,t.g,t.b),n=Math.max(t.r,t.g,t.b),o=n-i;return e.b=n,e.s=0!=n?255*o/n:0,0!=e.s?t.r==n?e.h=(t.g-t.b)/o:t.g==n?e.h=2+(t.b-t.r)/o:e.h=4+(t.r-t.g)/o:e.h=-1,e.h*=60,e.h<0&&(e.h+=360),e.s*=100/255,e.b*=100/255,e},t.prototype.HSBtoRGB=function(t){var e={r:null,g:null,b:null},i=Math.round(t.h),n=Math.round(255*t.s/100),o=Math.round(255*t.b/100);if(0==n)e={r:o,g:o,b:o};else{var r=o,s=(255-n)*o/255,a=i%60*(r-s)/60;360==i&&(i=0),i<60?(e.r=r,e.b=s,e.g=s+a):i<120?(e.g=r,e.b=s,e.r=r-a):i<180?(e.g=r,e.r=s,e.b=s+a):i<240?(e.b=r,e.r=s,e.g=r-a):i<300?(e.b=r,e.g=s,e.r=s+a):i<360?(e.r=r,e.g=s,e.b=r-a):(e.r=0,e.g=0,e.b=0)}return{r:Math.round(e.r),g:Math.round(e.g),b:Math.round(e.b)}},t.prototype.RGBtoHEX=function(t){var e=[t.r.toString(16),t.g.toString(16),t.b.toString(16)];for(var i in e)1==e[i].length&&(e[i]="0"+e[i]);return e.join("")},t.prototype.HSBtoHEX=function(t){return this.RGBtoHEX(this.HSBtoRGB(t))},t.prototype.ngOnDestroy=function(){this.unbindDocumentClickListener()},t}();n([r.Input(),o("design:type",Object)],u.prototype,"style",void 0),n([r.Input(),o("design:type",String)],u.prototype,"styleClass",void 0),n([r.Input(),o("design:type",Boolean)],u.prototype,"inline",void 0),n([r.Input(),o("design:type",String)],u.prototype,"format",void 0),n([r.Input(),o("design:type",String)],u.prototype,"appendTo",void 0),n([r.Input(),o("design:type",Boolean)],u.prototype,"disabled",void 0),n([r.Input(),o("design:type",String)],u.prototype,"tabindex",void 0),n([r.Input(),o("design:type",String)],u.prototype,"inputId",void 0),n([r.Output(),o("design:type",r.EventEmitter)],u.prototype,"onChange",void 0),n([r.ViewChild("panel"),o("design:type",r.ElementRef)],u.prototype,"panelViewChild",void 0),n([r.ViewChild("colorSelector"),o("design:type",r.ElementRef)],u.prototype,"colorSelectorViewChild",void 0),n([r.ViewChild("colorHandle"),o("design:type",r.ElementRef)],u.prototype,"colorHandleViewChild",void 0),n([r.ViewChild("hue"),o("design:type",r.ElementRef)],u.prototype,"hueViewChild",void 0),n([r.ViewChild("hueHandle"),o("design:type",r.ElementRef)],u.prototype,"hueHandleViewChild",void 0),n([r.ViewChild("input"),o("design:type",r.ElementRef)],u.prototype,"inputViewChild",void 0),u=n([r.Component({selector:"p-colorPicker",template:'\n        <div [ngStyle]="style" [class]="styleClass" [ngClass]="{\'ui-colorpicker ui-widget\':true,\'ui-colorpicker-overlay\':!inline,\'ui-colorpicker-dragging\':colorDragging||hueDragging}">\n            <input #input type="text" *ngIf="!inline" class="ui-colorpicker-preview ui-inputtext ui-state-default ui-corner-all" readonly="readonly" [ngClass]="{\'ui-state-disabled\': disabled}"\n                (focus)="onInputFocus()" (click)="onInputClick()" (keydown)="onInputKeydown($event)" [attr.id]="inputId" [attr.tabindex]="tabindex" [disabled]="disabled"\n                [style.backgroundColor]="inputBgColor">\n            <div #panel [ngClass]="{\'ui-colorpicker-panel ui-corner-all\': true, \'ui-colorpicker-overlay-panel ui-shadow\':!inline, \'ui-state-disabled\': disabled}" (click)="onPanelClick()"\n                [@panelState]="inline ? \'visible\' : (panelVisible ? \'visible\' : \'hidden\')" [style.display]="inline ? \'block\' : (panelVisible ? \'block\' : \'none\')">\n                <div class="ui-colorpicker-content">\n                    <div #colorSelector class="ui-colorpicker-color-selector" (mousedown)="onColorMousedown($event)">\n                        <div class="ui-colorpicker-color">\n                            <div #colorHandle class="ui-colorpicker-color-handle"></div>\n                        </div>\n                    </div>\n                    <div #hue class="ui-colorpicker-hue" (mousedown)="onHueMousedown($event)">\n                        <div #hueHandle class="ui-colorpicker-hue-handle"></div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    ',animations:[s.trigger("panelState",[s.state("hidden",s.style({opacity:0})),s.state("visible",s.style({opacity:1})),s.transition("visible => hidden",s.animate("400ms ease-in")),s.transition("hidden => visible",s.animate("400ms ease-out"))])],providers:[l.DomHandler,e.COLORPICKER_VALUE_ACCESSOR]}),o("design:paramtypes",[r.ElementRef,l.DomHandler,r.Renderer2,r.ChangeDetectorRef])],u),e.ColorPicker=u;var c=function(){function t(){}return t}();c=n([r.NgModule({imports:[a.CommonModule],exports:[u],declarations:[u]})],c),e.ColorPickerModule=c},function(t,e,i){"use strict";var n=this&&this.__decorate||function(t,e,i,n){var o,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,i,s):o(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},r=this&&this.__param||function(t,e){return function(i,n){e(i,n,t)}};Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(1),l=i(3),h=i(6),u=function(){function t(t,e){this.domHandler=t,this.contextMenu=e}return t.prototype.onItemMouseEnter=function(t,e,i){if(!i.disabled){this.activeItem=e;var n=e.children[0].nextElementSibling;if(n){var o=n.children[0];o.style.zIndex=++l.DomHandler.zindex,this.position(o,e)}}},t.prototype.onItemMouseLeave=function(t,e){this.activeItem=null},t.prototype.itemClick=function(t,e){if(e.disabled)return void t.preventDefault();e.url||t.preventDefault(),e.command&&e.command({originalEvent:t,item:e})},t.prototype.listClick=function(t){this.activeItem=null},t.prototype.position=function(t,e){this.containerLeft=this.domHandler.getOffset(e.parentElement);var i=this.domHandler.getViewport(),n=t.offsetParent?t.offsetWidth:this.domHandler.getHiddenElementOuterWidth(t),o=this.domHandler.getOuterWidth(e.children[0]);t.style.top="0px",parseInt(this.containerLeft.left)+o+n>i.width-this.calculateScrollbarWidth()?t.style.left=-n+"px":t.style.left=o+"px"},t.prototype.calculateScrollbarWidth=function(){var t=document.createElement("div");t.className="ui-scrollbar-measure",document.body.appendChild(t);var e=t.offsetWidth-t.clientWidth;return document.body.removeChild(t),e},t}();n([s.Input(),o("design:type",Object)],u.prototype,"item",void 0),n([s.Input(),o("design:type",Boolean)],u.prototype,"root",void 0),u=n([s.Component({selector:"p-contextMenuSub",template:'\n        <ul [ngClass]="{\'ui-helper-reset\':root, \'ui-widget-content ui-corner-all ui-helper-clearfix ui-menu-child ui-shadow\':!root}" class="ui-menu-list"\n            (click)="listClick($event)">\n            <ng-template ngFor let-child [ngForOf]="(root ? item : item.items)">\n                <li *ngIf="child.separator" class="ui-menu-separator ui-widget-content">\n                <li *ngIf="!child.separator" #item [ngClass]="{\'ui-menuitem ui-widget ui-corner-all\':true,\'ui-menu-parent\':child.items,\'ui-menuitem-active\':item==activeItem}"\n                    (mouseenter)="onItemMouseEnter($event,item,child)" (mouseleave)="onItemMouseLeave($event,item)" [style.display]="child.visible === false ? \'none\' : \'block\'">\n                    <a *ngIf="!child.routerLink" [href]="child.url||\'#\'" [attr.target]="child.target" [attr.title]="child.title" (click)="itemClick($event, child)"\n                        [ngClass]="{\'ui-menuitem-link ui-corner-all\':true,\'ui-state-disabled\':child.disabled}" [ngStyle]="child.style" [class]="child.styleClass">\n                        <span class="ui-submenu-icon fa fa-fw fa-caret-right" *ngIf="child.items"></span>\n                        <span class="ui-menuitem-icon fa fa-fw" *ngIf="child.icon" [ngClass]="child.icon"></span>\n                        <span class="ui-menuitem-text">{{child.label}}</span>\n                    </a>\n                    <a *ngIf="child.routerLink" [routerLink]="child.routerLink" [routerLinkActive]="\'ui-state-active\'" \n                        [routerLinkActiveOptions]="child.routerLinkActiveOptions||{exact:false}" [attr.target]="child.target" [attr.title]="child.title"\n                        (click)="itemClick($event, child)" [ngClass]="{\'ui-menuitem-link ui-corner-all\':true,\'ui-state-disabled\':child.disabled}" \n                        [ngStyle]="child.style" [class]="child.styleClass">\n                        <span class="ui-submenu-icon fa fa-fw fa-caret-right" *ngIf="child.items"></span>\n                        <span class="ui-menuitem-icon fa fa-fw" *ngIf="child.icon" [ngClass]="child.icon"></span>\n                        <span class="ui-menuitem-text">{{child.label}}</span>\n                    </a>\n                    <p-contextMenuSub class="ui-submenu" [item]="child" *ngIf="child.items"></p-contextMenuSub>\n                </li>\n            </ng-template>\n        </ul>\n    ',providers:[l.DomHandler]}),r(1,s.Inject(s.forwardRef(function(){return c}))),o("design:paramtypes",[l.DomHandler,c])],u),e.ContextMenuSub=u;var c=function(){function t(t,e,i){this.el=t,this.domHandler=e,this.renderer=i}return t.prototype.ngAfterViewInit=function(){var t=this;this.container=this.containerViewChild.nativeElement,this.global?this.rightClickListener=this.renderer.listen("document","contextmenu",function(e){t.show(e),e.preventDefault()}):this.target&&(this.rightClickListener=this.renderer.listen(this.target,"contextmenu",function(e){t.show(e),e.preventDefault(),e.stopPropagation()})),this.appendTo&&("body"===this.appendTo?document.body.appendChild(this.container):this.domHandler.appendChild(this.container,this.appendTo))},t.prototype.show=function(t){this.position(t),this.visible=!0,this.domHandler.fadeIn(this.container,250),this.bindDocumentClickListener(),t&&t.preventDefault()},t.prototype.hide=function(){this.visible=!1,this.unbindDocumentClickListener()},t.prototype.toggle=function(t){this.visible?this.hide():this.show(t)},t.prototype.position=function(t){if(t){var e=t.pageX+1,i=t.pageY+1,n=this.container.offsetParent?this.container.offsetWidth:this.domHandler.getHiddenElementOuterWidth(this.container),o=this.container.offsetParent?this.container.offsetHeight:this.domHandler.getHiddenElementOuterHeight(this.container),r=this.domHandler.getViewport();e+n-document.body.scrollLeft>r.width&&(e-=n),i+o-document.body.scrollTop>r.height&&(i-=o),e<document.body.scrollLeft&&(e=document.body.scrollLeft),i<document.body.scrollTop&&(i=document.body.scrollTop),this.container.style.left=e+"px",this.container.style.top=i+"px"}},t.prototype.bindDocumentClickListener=function(){var t=this;this.documentClickListener||(this.documentClickListener=this.renderer.listen("document","click",function(e){t.visible&&2!==e.button&&t.hide()}))},t.prototype.unbindDocumentClickListener=function(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null)},t.prototype.ngOnDestroy=function(){this.unbindDocumentClickListener(),this.rightClickListener&&this.rightClickListener(),this.appendTo&&this.el.nativeElement.appendChild(this.container)},t}();n([s.Input(),o("design:type",Array)],c.prototype,"model",void 0),n([s.Input(),o("design:type",Boolean)],c.prototype,"global",void 0),n([s.Input(),o("design:type",Object)],c.prototype,"target",void 0),n([s.Input(),o("design:type",Object)],c.prototype,"style",void 0),n([s.Input(),o("design:type",String)],c.prototype,"styleClass",void 0),n([s.Input(),o("design:type",Object)],c.prototype,"appendTo",void 0),n([s.ViewChild("container"),o("design:type",s.ElementRef)],c.prototype,"containerViewChild",void 0),c=n([s.Component({selector:"p-contextMenu",template:'\n        <div #container [ngClass]="\'ui-contextmenu ui-menu ui-widget ui-widget-content ui-corner-all ui-helper-clearfix ui-menu-dynamic ui-shadow\'" \n            [class]="styleClass" [ngStyle]="style" [style.display]="visible ? \'block\' : \'none\'">\n            <p-contextMenuSub [item]="model" root="root"></p-contextMenuSub>\n        </div>\n    ',providers:[l.DomHandler]}),o("design:paramtypes",[s.ElementRef,l.DomHandler,s.Renderer2])],c),e.ContextMenu=c;var d=function(){function t(){}return t}();d=n([s.NgModule({imports:[a.CommonModule,h.RouterModule],exports:[c,h.RouterModule],declarations:[c,u]})],d),e.ContextMenuModule=d},function(t,e,i){"use strict";var n=this&&this.__decorate||function(t,e,i,n){var o,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,i,s):o(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};Object.defineProperty(e,"__esModule",{value:!0});var r=i(0),s=i(1),a=i(4),l=i(16),h=function(){function t(t,e){this.el=t,this.differs=e,this.pageLinks=5,this.emptyMessage="No records found",this.onLazyLoad=new r.EventEmitter,this.paginatorPosition="bottom",this.alwaysShowPaginator=!0,this.trackBy=function(t,e){return e},this.immutable=!0,this.onPage=new r.EventEmitter,this.first=0,this.page=0,this.differ=e.find([]).create(null)}return t.prototype.ngAfterViewInit=function(){this.lazy&&this.onLazyLoad.emit({first:this.first,rows:this.rows})},t.prototype.ngAfterContentInit=function(){var t=this;this.templates.forEach(function(e){switch(e.getType()){case"item":default:t.itemTemplate=e.template}})},Object.defineProperty(t.prototype,"value",{get:function(){return this._value},set:function(t){this._value=t,this.immutable&&this.handleDataChange()},enumerable:!0,configurable:!0}),t.prototype.handleDataChange=function(){this.paginator&&this.updatePaginator(),this.updateDataToRender(this.value)},t.prototype.ngDoCheck=function(){if(!this.immutable){this.differ.diff(this.value)&&this.handleDataChange()}},t.prototype.updatePaginator=function(){if(this.totalRecords=this.lazy?this.totalRecords:this.value?this.value.length:0,this.totalRecords&&this.first>=this.totalRecords){var t=Math.ceil(this.totalRecords/this.rows);this.first=Math.max((t-1)*this.rows,0)}},t.prototype.paginate=function(t){this.first=t.first,this.rows=t.rows,this.lazy?this.onLazyLoad.emit(this.createLazyLoadMetadata()):this.updateDataToRender(this.value),this.onPage.emit({first:this.first,rows:this.rows})},t.prototype.updateDataToRender=function(t){if(this.paginator&&t){this.dataToRender=[];for(var e=this.lazy?0:this.first,i=e;i<e+this.rows&&!(i>=t.length);i++)this.dataToRender.push(t[i])}else this.dataToRender=t},t.prototype.isEmpty=function(){return!this.dataToRender||0==this.dataToRender.length},t.prototype.createLazyLoadMetadata=function(){return{first:this.first,rows:this.rows}},t.prototype.getBlockableElement=function(){return this.el.nativeElement.children[0]},t}();n([r.Input(),o("design:type",Boolean)],h.prototype,"paginator",void 0),n([r.Input(),o("design:type",Number)],h.prototype,"rows",void 0),n([r.Input(),o("design:type",Number)],h.prototype,"totalRecords",void 0),n([r.Input(),o("design:type",Number)],h.prototype,"pageLinks",void 0),n([r.Input(),o("design:type",Array)],h.prototype,"rowsPerPageOptions",void 0),n([r.Input(),o("design:type",Boolean)],h.prototype,"lazy",void 0),n([r.Input(),o("design:type",String)],h.prototype,"emptyMessage",void 0),n([r.Output(),o("design:type",r.EventEmitter)],h.prototype,"onLazyLoad",void 0),n([r.Input(),o("design:type",Object)],h.prototype,"style",void 0),n([r.Input(),o("design:type",String)],h.prototype,"styleClass",void 0),n([r.Input(),o("design:type",String)],h.prototype,"paginatorPosition",void 0),n([r.Input(),o("design:type",Boolean)],h.prototype,"alwaysShowPaginator",void 0),n([r.Input(),o("design:type",Function)],h.prototype,"trackBy",void 0),n([r.Input(),o("design:type",Boolean)],h.prototype,"immutable",void 0),n([r.Output(),o("design:type",r.EventEmitter)],h.prototype,"onPage",void 0),n([r.ContentChild(a.Header),o("design:type",Object)],h.prototype,"header",void 0),n([r.ContentChild(a.Footer),o("design:type",Object)],h.prototype,"footer",void 0),n([r.ContentChildren(a.PrimeTemplate),o("design:type",r.QueryList)],h.prototype,"templates",void 0),n([r.Input(),o("design:type",Array),o("design:paramtypes",[Array])],h.prototype,"value",null),h=n([r.Component({selector:"p-dataGrid",template:'\n        <div [ngClass]="\'ui-datagrid ui-widget\'" [ngStyle]="style" [class]="styleClass">\n            <div class="ui-datagrid-header ui-widget-header ui-corner-top" *ngIf="header">\n                <ng-content select="p-header"></ng-content>\n            </div>\n            <p-paginator [rows]="rows" [first]="first" [totalRecords]="totalRecords" [pageLinkSize]="pageLinks" [alwaysShow]="alwaysShowPaginator"\n                (onPageChange)="paginate($event)" styleClass="ui-paginator-bottom" [rowsPerPageOptions]="rowsPerPageOptions" *ngIf="paginator && paginatorPosition!=\'bottom\' || paginatorPosition ==\'both\'"></p-paginator>\n            <div class="ui-datagrid-content ui-widget-content">\n                <div class="ui-g">\n                    <ng-template ngFor [ngForOf]="dataToRender" [ngForTemplate]="itemTemplate" [ngForTrackBy]="trackBy"></ng-template>\n                    <div *ngIf="isEmpty()" class="ui-widget-content ui-g-12">{{emptyMessage}}</div>\n                </div>\n            </div>\n            <p-paginator [rows]="rows" [first]="first" [totalRecords]="totalRecords" [pageLinkSize]="pageLinks" [alwaysShow]="alwaysShowPaginator"\n                (onPageChange)="paginate($event)" styleClass="ui-paginator-bottom" [rowsPerPageOptions]="rowsPerPageOptions" *ngIf="paginator && paginatorPosition!=\'top\' || paginatorPosition ==\'both\'"></p-paginator>\n            <div class="ui-datagrid-footer ui-widget-header ui-corner-top" *ngIf="footer">\n                <ng-content select="p-footer"></ng-content>\n            </div>\n        </div>\n    '}),o("design:paramtypes",[r.ElementRef,r.IterableDiffers])],h),e.DataGrid=h;var u=function(){function t(){}return t}();u=n([r.NgModule({imports:[s.CommonModule,a.SharedModule,l.PaginatorModule],exports:[h,a.SharedModule],declarations:[h]})],u),e.DataGridModule=u},function(t,e,i){"use strict";var n=this&&this.__decorate||function(t,e,i,n){var o,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,i,s):o(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};Object.defineProperty(e,"__esModule",{value:!0});var r=i(0),s=i(1),a=i(4),l=i(16),h=function(){function t(t,e){this.el=t,this.differs=e,this.pageLinks=5,this.onLazyLoad=new r.EventEmitter,this.paginatorPosition="bottom",this.emptyMessage="No records found",this.alwaysShowPaginator=!0,this.trackBy=function(t,e){return e},this.immutable=!0,this.onPage=new r.EventEmitter,this.first=0,this.page=0,this.differ=e.find([]).create(null)}return t.prototype.ngAfterContentInit=function(){var t=this;this.templates.forEach(function(e){switch(e.getType()){case"item":default:t.itemTemplate=e.template}})},t.prototype.ngAfterViewInit=function(){this.lazy&&this.onLazyLoad.emit({first:this.first,rows:this.rows})},Object.defineProperty(t.prototype,"value",{get:function(){return this._value},set:function(t){this._value=t,this.immutable&&this.handleDataChange()},enumerable:!0,configurable:!0}),t.prototype.handleDataChange=function(){this.paginator&&this.updatePaginator(),this.updateDataToRender(this.value)},t.prototype.ngDoCheck=function(){if(!this.immutable){this.differ.diff(this.value)&&this.handleDataChange()}},t.prototype.updatePaginator=function(){if(this.totalRecords=this.lazy?this.totalRecords:this.value?this.value.length:0,this.totalRecords&&this.first>=this.totalRecords){var t=Math.ceil(this.totalRecords/this.rows);this.first=Math.max((t-1)*this.rows,0)}},t.prototype.paginate=function(t){this.first=t.first,this.rows=t.rows,this.lazy?this.onLazyLoad.emit(this.createLazyLoadMetadata()):this.updateDataToRender(this.value),this.onPage.emit({first:this.first,rows:this.rows})},t.prototype.updateDataToRender=function(t){if(this.paginator&&t){this.dataToRender=[];for(var e=this.lazy?0:this.first,i=e;i<e+this.rows&&!(i>=t.length);i++)this.dataToRender.push(t[i])}else this.dataToRender=t},t.prototype.isEmpty=function(){return!this.dataToRender||0==this.dataToRender.length},t.prototype.createLazyLoadMetadata=function(){return{first:this.first,rows:this.rows}},t.prototype.getBlockableElement=function(){return this.el.nativeElement.children[0]},t}();n([r.Input(),o("design:type",Boolean)],h.prototype,"paginator",void 0),n([r.Input(),o("design:type",Number)],h.prototype,"rows",void 0),n([r.Input(),o("design:type",Number)],h.prototype,"totalRecords",void 0),n([r.Input(),o("design:type",Number)],h.prototype,"pageLinks",void 0),n([r.Input(),o("design:type",Array)],h.prototype,"rowsPerPageOptions",void 0),n([r.Input(),o("design:type",Boolean)],h.prototype,"lazy",void 0),n([r.Output(),o("design:type",r.EventEmitter)],h.prototype,"onLazyLoad",void 0),n([r.Input(),o("design:type",Object)],h.prototype,"style",void 0),n([r.Input(),o("design:type",String)],h.prototype,"styleClass",void 0),n([r.Input(),o("design:type",String)],h.prototype,"paginatorPosition",void 0),n([r.Input(),o("design:type",String)],h.prototype,"emptyMessage",void 0),n([r.Input(),o("design:type",Boolean)],h.prototype,"alwaysShowPaginator",void 0),n([r.Input(),o("design:type",Function)],h.prototype,"trackBy",void 0),n([r.Input(),o("design:type",Boolean)],h.prototype,"immutable",void 0),n([r.Input(),o("design:type",Boolean)],h.prototype,"scrollable",void 0),n([r.Input(),o("design:type",String)],h.prototype,"scrollHeight",void 0),n([r.Output(),o("design:type",r.EventEmitter)],h.prototype,"onPage",void 0),n([r.ContentChild(a.Header),o("design:type",Object)],h.prototype,"header",void 0),n([r.ContentChild(a.Footer),o("design:type",Object)],h.prototype,"footer",void 0),n([r.ContentChildren(a.PrimeTemplate),o("design:type",r.QueryList)],h.prototype,"templates",void 0),n([r.Input(),o("design:type",Array),o("design:paramtypes",[Array])],h.prototype,"value",null),h=n([r.Component({selector:"p-dataList",template:'\n        <div [ngClass]="{\'ui-datalist ui-widget\': true, \'ui-datalist-scrollable\': scrollable}" [ngStyle]="style" [class]="styleClass">\n            <div class="ui-datalist-header ui-widget-header ui-corner-top" *ngIf="header">\n                <ng-content select="p-header"></ng-content>\n            </div>\n            <p-paginator [rows]="rows" [first]="first" [totalRecords]="totalRecords" [pageLinkSize]="pageLinks" [alwaysShow]="alwaysShowPaginator"\n            (onPageChange)="paginate($event)" styleClass="ui-paginator-bottom" [rowsPerPageOptions]="rowsPerPageOptions" *ngIf="paginator  && paginatorPosition!=\'bottom\' || paginatorPosition ==\'both\'"></p-paginator>\n            <div class="ui-datalist-content ui-widget-content" [ngStyle]="{\'max-height\': scrollHeight}">\n                <div *ngIf="isEmpty()" class="ui-datalist-emptymessage">{{emptyMessage}}</div>\n                <ul class="ui-datalist-data">\n                    <li *ngFor="let item of dataToRender;let i = index;trackBy: trackBy">\n                        <ng-template [pTemplateWrapper]="itemTemplate" [item]="item" [index]="i"></ng-template>\n                    </li>\n                </ul>\n            </div>\n            <p-paginator [rows]="rows" [first]="first" [totalRecords]="totalRecords" [pageLinkSize]="pageLinks" [alwaysShow]="alwaysShowPaginator"\n            (onPageChange)="paginate($event)" styleClass="ui-paginator-bottom" [rowsPerPageOptions]="rowsPerPageOptions" *ngIf="paginator  && paginatorPosition!=\'top\' || paginatorPosition ==\'both\'"></p-paginator>\n            <div class="ui-datalist-footer ui-widget-header ui-corner-bottom" *ngIf="footer">\n                <ng-content select="p-footer"></ng-content>\n            </div>\n        </div>\n    '}),o("design:paramtypes",[r.ElementRef,r.IterableDiffers])],h),e.DataList=h;var u=function(){function t(){}return t}();u=n([r.NgModule({imports:[s.CommonModule,a.SharedModule,l.PaginatorModule],exports:[h,a.SharedModule],declarations:[h]})],u),e.DataListModule=u},function(t,e,i){"use strict";var n=this&&this.__decorate||function(t,e,i,n){var o,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,i,s):o(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};Object.defineProperty(e,"__esModule",{value:!0});var r=i(0),s=i(1),a=i(4),l=i(3),h=function(){function t(t,e,i){this.el=t,this.renderer=e,this.domHandler=i,this.onLazyLoad=new r.EventEmitter,this.buffer=.9,this.dataToRender=[],this.first=0}return t.prototype.ngAfterViewInit=function(){var t=this;this.lazy&&this.load(),this.loader?this.scrollFunction=this.renderer.listen(this.loader,"click",function(){t.load()}):this.bindScrollListener()},t.prototype.ngAfterContentInit=function(){var t=this;this.templates.forEach(function(e){switch(e.getType()){case"item":default:t.itemTemplate=e.template}})},Object.defineProperty(t.prototype,"value",{get:function(){return this._value},set:function(t){this._value=t,this.handleDataChange()},enumerable:!0,configurable:!0}),t.prototype.handleDataChange=function(){this.lazy?this.dataToRender=this.value:this.load()},t.prototype.load=function(){if(this.lazy)this.onLazyLoad.emit({first:this.first,rows:this.rows}),this.first=this.first+this.rows;else if(this.value){for(var t=this.first;t<this.first+this.rows&&!(t>=this.value.length);t++)this.dataToRender.push(this.value[t]);this.first=this.first+this.rows}},t.prototype.reset=function(){this.first=0,this.dataToRender=[],this.load()},t.prototype.isEmpty=function(){return!this.dataToRender||0==this.dataToRender.length},t.prototype.createLazyLoadMetadata=function(){return{first:this.first,rows:this.rows}},t.prototype.bindScrollListener=function(){var t=this;this.inline?(this.contentElement=this.contentViewChild.nativeElement,this.scrollFunction=this.renderer.listen(this.contentElement,"scroll",function(){var e=t.contentElement.scrollTop,i=t.contentElement.scrollHeight,n=t.contentElement.clientHeight;e>=i*t.buffer-n&&t.load()})):this.scrollFunction=this.renderer.listen("window","scroll",function(){var e=document.body,i=document.documentElement,n=window.pageYOffset||document.documentElement.scrollTop,o=i.clientHeight;n>=Math.max(e.scrollHeight,e.offsetHeight,o,i.scrollHeight,i.offsetHeight)*t.buffer-o&&t.load()})},t.prototype.ngOnDestroy=function(){this.scrollFunction&&(this.scrollFunction(),this.contentElement=null)},t}();n([r.Input(),o("design:type",Number)],h.prototype,"rows",void 0),n([r.Input(),o("design:type",Boolean)],h.prototype,"lazy",void 0),n([r.Output(),o("design:type",r.EventEmitter)],h.prototype,"onLazyLoad",void 0),n([r.Input(),o("design:type",Object)],h.prototype,"style",void 0),n([r.Input(),o("design:type",String)],h.prototype,"styleClass",void 0),n([r.Input(),o("design:type",Number)],h.prototype,"buffer",void 0),n([r.Input(),o("design:type",Boolean)],h.prototype,"inline",void 0),n([r.Input(),o("design:type",Object)],h.prototype,"scrollHeight",void 0),n([r.Input(),o("design:type",Object)],h.prototype,"loader",void 0),n([r.ViewChild("content"),o("design:type",r.ElementRef)],h.prototype,"contentViewChild",void 0),n([r.ContentChild(a.Header),o("design:type",Object)],h.prototype,"header",void 0),n([r.ContentChild(a.Footer),o("design:type",Object)],h.prototype,"footer",void 0),n([r.ContentChildren(a.PrimeTemplate),o("design:type",r.QueryList)],h.prototype,"templates",void 0),n([r.Input(),o("design:type",Array),o("design:paramtypes",[Array])],h.prototype,"value",null),h=n([r.Component({selector:"p-dataScroller",template:'\n    <div [ngClass]="{\'ui-datascroller ui-widget\': true, \'ui-datascroller-inline\': inline}" [ngStyle]="style" [class]="styleClass">\n        <div class="ui-datascroller-header ui-widget-header ui-corner-top" *ngIf="header">\n            <ng-content select="p-header"></ng-content>\n        </div>\n        <div #content class="ui-datascroller-content ui-widget-content" [ngStyle]="{\'max-height\': scrollHeight}">\n            <ul class="ui-datascroller-list">\n                <li *ngFor="let item of dataToRender">\n                    <ng-template [pTemplateWrapper]="itemTemplate" [item]="item"></ng-template>\n                </li>\n            </ul>\n        </div>\n        <div class="ui-datascroller-footer ui-widget-header ui-corner-bottom" *ngIf="footer">\n            <ng-content select="p-footer"></ng-content>\n        </div>\n    </div>\n    ',providers:[l.DomHandler]}),o("design:paramtypes",[r.ElementRef,r.Renderer2,l.DomHandler])],h),e.DataScroller=h;var u=function(){function t(){}return t}();u=n([r.NgModule({imports:[s.CommonModule,a.SharedModule],exports:[h,a.SharedModule],declarations:[h]})],u),e.DataScrollerModule=u},function(t,e,i){"use strict";var n=this&&this.__decorate||function(t,e,i,n){var o,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,i,s):o(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},r=this&&this.__param||function(t,e){return function(i,n){e(i,n,t)}};Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(1),l=i(5),h=i(4),u=i(16),c=i(4),d=i(3),p=i(10),f=function(){function t(){this.onClick=new s.EventEmitter}return t.prototype.handleClick=function(t){this.onClick.emit(t)},t}();n([s.Input(),o("design:type",Boolean)],f.prototype,"checked",void 0),n([s.Output(),o("design:type",s.EventEmitter)],f.prototype,"onClick",void 0),f=n([s.Component({selector:"p-dtRadioButton",template:'\n        <div class="ui-radiobutton ui-widget">\n            <div class="ui-helper-hidden-accessible">\n                <input type="radio" [checked]="checked">\n            </div>\n            <div class="ui-radiobutton-box ui-widget ui-radiobutton-relative ui-state-default" (click)="handleClick($event)"\n                        (mouseenter)="hover=true" (mouseleave)="hover=false"\n                        [ngClass]="{\'ui-state-hover\':hover,\'ui-state-active\':checked}">\n                <span class="ui-radiobutton-icon ui-clickable" [ngClass]="{\'fa fa-circle\':checked}"></span>\n            </div>\n        </div>\n    '})],f),e.DTRadioButton=f;var y=function(){function t(){this.onChange=new s.EventEmitter}return t.prototype.handleClick=function(t){this.disabled||this.onChange.emit({originalEvent:t,checked:!this.checked})},t}();n([s.Input(),o("design:type",Boolean)],y.prototype,"checked",void 0),n([s.Input(),o("design:type",Boolean)],y.prototype,"disabled",void 0),n([s.Output(),o("design:type",s.EventEmitter)],y.prototype,"onChange",void 0),y=n([s.Component({selector:"p-dtCheckbox",template:'\n        <div class="ui-chkbox ui-widget">\n            <div class="ui-helper-hidden-accessible">\n                <input type="checkbox" [checked]="checked">\n            </div>\n            <div class="ui-chkbox-box ui-widget ui-corner-all ui-state-default" (click)="handleClick($event)"\n                        (mouseover)="hover=true" (mouseout)="hover=false"\n                        [ngClass]="{\'ui-state-hover\':hover&&!disabled,\'ui-state-active\':checked&&!disabled,\'ui-state-disabled\':disabled}">\n                <span class="ui-chkbox-icon ui-clickable" [ngClass]="{\'fa fa-check\':checked}"></span>\n            </div>\n        </div>\n    '})],y),e.DTCheckbox=y;var g=function(){function t(t){this.viewContainer=t}return t.prototype.ngOnInit=function(){this.view=this.viewContainer.createEmbeddedView(this.template,{$implicit:this.rowData,rowIndex:this.rowIndex})},t.prototype.ngOnDestroy=function(){this.view.destroy()},t}();n([s.Input(),o("design:type",s.TemplateRef)],g.prototype,"template",void 0),n([s.Input(),o("design:type",Object)],g.prototype,"rowData",void 0),n([s.Input(),o("design:type",Object)],g.prototype,"rowIndex",void 0),g=n([s.Component({selector:"p-rowExpansionLoader",template:""}),o("design:paramtypes",[s.ViewContainerRef])],g),e.RowExpansionLoader=g;var v=function(){function t(t){this.dt=t}return t}();n([s.Input("pColumnHeaders"),o("design:type",Array)],v.prototype,"columns",void 0),v=n([s.Component({selector:"[pColumnHeaders]",template:'\n        <ng-template ngFor let-col [ngForOf]="columns" let-lastCol="last">\n            <th #headerCell [attr.id]="col.colId" [ngStyle]="col.style" [class]="col.styleClass" (click)="dt.sort($event,col)" [attr.colspan]="col.colspan" [attr.rowspan]="col.rowspan"\n                [ngClass]="{\'ui-state-default ui-unselectable-text\':true, \'ui-sortable-column\': col.sortable, \'ui-state-active\': dt.isSorted(col), \'ui-resizable-column\': dt.resizableColumns, \'ui-selection-column\':col.selectionMode,\n                            \'ui-helper-hidden\': col.hidden}"\n                (dragstart)="dt.onColumnDragStart($event)" (dragleave)="dt.onColumnDragleave($event)" (drop)="dt.onColumnDrop($event)" (mousedown)="dt.onHeaderMousedown($event,headerCell)"\n                [attr.tabindex]="col.sortable ? tabindex : null" (keydown)="dt.onHeaderKeydown($event,col)">\n                <span class="ui-column-resizer ui-clickable" *ngIf="dt.resizableColumns && ((dt.columnResizeMode == \'fit\' && !lastCol) || dt.columnResizeMode == \'expand\')" (mousedown)="dt.initColumnResize($event)"></span>\n                <span class="ui-column-title" *ngIf="!col.selectionMode&&!col.headerTemplate">{{col.header}}</span>\n                <span class="ui-column-title" *ngIf="col.headerTemplate">\n                    <p-columnHeaderTemplateLoader [column]="col"></p-columnHeaderTemplateLoader>\n                </span>\n                <span class="ui-sortable-column-icon fa fa-fw fa-sort" *ngIf="col.sortable"\n                     [ngClass]="{\'fa-sort-desc\': (dt.getSortOrder(col) == -1),\'fa-sort-asc\': (dt.getSortOrder(col) == 1)}"></span>\n                <input [attr.type]="col.filterType" class="ui-column-filter ui-inputtext ui-widget ui-state-default ui-corner-all" [attr.maxlength]="col.filterMaxlength" [attr.placeholder]="col.filterPlaceholder" *ngIf="col.filter&&!col.filterTemplate" [value]="dt.filters[col.filterField||col.field] ? dt.filters[col.filterField||col.field].value : \'\'"\n                    (click)="dt.onFilterInputClick($event)" (input)="dt.onFilterKeyup($event.target.value, col.filterField||col.field, col.filterMatchMode)"/>\n                <p-columnFilterTemplateLoader [column]="col" *ngIf="col.filterTemplate"></p-columnFilterTemplateLoader>\n                <p-dtCheckbox *ngIf="col.selectionMode==\'multiple\'" (onChange)="dt.toggleRowsWithCheckbox($event)" [checked]="dt.allSelected" [disabled]="dt.isEmpty()"></p-dtCheckbox>\n            </th>\n        </ng-template>\n    '}),r(0,s.Inject(s.forwardRef(function(){return x}))),o("design:paramtypes",[x])],v),e.ColumnHeaders=v;var m=function(){function t(t){this.dt=t}return t}();n([s.Input("pColumnFooters"),o("design:type",Array)],m.prototype,"columns",void 0),m=n([s.Component({selector:"[pColumnFooters]",template:'\n        <td *ngFor="let col of columns" [ngStyle]="col.style" [class]="col.styleClass"\n            [attr.colspan]="col.colspan" [attr.rowspan]="col.rowspan"\n            [ngClass]="{\'ui-state-default\':true, \'ui-helper-hidden\': col.hidden}">\n            <span class="ui-column-footer" *ngIf="!col.footerTemplate">{{col.footer}}</span>\n            <span class="ui-column-footer" *ngIf="col.footerTemplate">\n                <p-columnFooterTemplateLoader [column]="col"></p-columnFooterTemplateLoader>\n            </span>\n        </td>\n    '}),r(0,s.Inject(s.forwardRef(function(){return x}))),o("design:paramtypes",[x])],m),e.ColumnFooters=m;var b=function(){function t(t){this.dt=t}return t.prototype.visibleColumns=function(){return this.columns?this.columns.filter(function(t){return!t.hidden}):[]},t}();n([s.Input("pTableBody"),o("design:type",Array)],b.prototype,"columns",void 0),n([s.Input(),o("design:type",Array)],b.prototype,"data",void 0),b=n([s.Component({selector:"[pTableBody]",template:'\n        <ng-template ngFor let-rowData [ngForOf]="data" let-even="even" let-odd="odd" let-rowIndex="index" [ngForTrackBy]="dt.rowTrackBy">\n            <tr #rowGroupElement class="ui-widget-header ui-rowgroup-header"\n                *ngIf="dt.rowGroupMode==\'subheader\' && (rowIndex === 0||(dt.resolveFieldData(rowData,dt.groupField) !== dt.resolveFieldData(dt.dataToRender[rowIndex - 1], dt.groupField)))"\n                (click)="dt.onRowGroupClick($event)" [ngStyle]="{\'cursor\': dt.sortableRowGroup ? \'pointer\' : \'auto\'}">\n                <td [attr.colspan]="dt.visibleColumns().length">\n                    <a href="#" *ngIf="dt.expandableRowGroups" (click)="dt.toggleRowGroup($event,rowData)">\n                        <span class="fa fa-fw" [ngClass]="dt.isRowGroupExpanded(rowData) ? dt.expandedIcon : dt.collapsedIcon"></span>\n                    </a>\n                    <span class="ui-rowgroup-header-name">\n                        <p-templateLoader [template]="dt.rowGroupHeaderTemplate" [data]="rowData"></p-templateLoader>\n                    </span>\n                </td>\n            </tr>\n            <tr #rowElement *ngIf="!dt.expandableRowGroups||dt.isRowGroupExpanded(rowData)"\n                    (click)="dt.handleRowClick($event, rowData, rowIndex)" (dblclick)="dt.rowDblclick($event,rowData)" (contextmenu)="dt.onRowRightClick($event,rowData)" (touchend)="dt.handleRowTouchEnd($event)"\n                    [ngClass]="[even&&dt.rowGroupMode!=\'rowspan\'? \'ui-datatable-even\':\'\',\n                                odd&&dt.rowGroupMode!=\'rowspan\'?\'ui-datatable-odd\':\'\',\n                                dt.isSelected(rowData)? \'ui-state-highlight\': \'\',\n                                dt.isRowExpanded(rowData) ? \'ui-expanded-row\': \'\',\n                                dt.getRowStyleClass(rowData,rowIndex)]">\n                <ng-template ngFor let-col [ngForOf]="columns" let-colIndex="index">\n                    <td #cell *ngIf="!dt.rowGroupMode || (dt.rowGroupMode == \'subheader\') ||\n                        (dt.rowGroupMode==\'rowspan\' && ((dt.sortField==col.field && dt.rowGroupMetadata[dt.resolveFieldData(rowData,dt.sortField)].index == rowIndex) || (dt.sortField!=col.field)))"\n                        [ngStyle]="col.style" [class]="col.styleClass" (click)="dt.switchCellToEditMode(cell,col,rowData)"\n                        [ngClass]="{\'ui-editable-column\':col.editable,\'ui-selection-column\':col.selectionMode, \'ui-helper-hidden\': col.hidden}"\n                        [attr.rowspan]="(dt.rowGroupMode==\'rowspan\' && dt.sortField == col.field && dt.rowGroupMetadata[dt.resolveFieldData(rowData,dt.sortField)].index == rowIndex) ? dt.rowGroupMetadata[dt.resolveFieldData(rowData,dt.sortField)].size : null">\n                        <span class="ui-column-title" *ngIf="dt.responsive">{{col.header}}</span>\n                        <span class="ui-cell-data" *ngIf="!col.bodyTemplate && !col.expander && !col.selectionMode">{{dt.resolveFieldData(rowData,col.field)}}</span>\n                        <span class="ui-cell-data" *ngIf="col.bodyTemplate">\n                            <p-columnBodyTemplateLoader [column]="col" [rowData]="rowData" [rowIndex]="rowIndex + dt.first"></p-columnBodyTemplateLoader>\n                        </span>\n                        <div class="ui-cell-editor" *ngIf="col.editable">\n                            <input *ngIf="!col.editorTemplate" type="text" [(ngModel)]="rowData[col.field]" required="true"\n                                (keydown)="dt.onCellEditorKeydown($event, col, rowData, rowIndex)" (blur)="dt.onCellEditorBlur($event, col, rowData, rowIndex)"\n                                (input)="dt.onCellEditorInput($event, col, rowData, rowIndex)" (change)="dt.onCellEditorChange($event, col, rowData, rowIndex)"\n                                class="ui-inputtext ui-widget ui-state-default ui-corner-all"/>\n                            <a *ngIf="col.editorTemplate" class="ui-cell-editor-proxy-focus" href="#" (focus)="dt.onCustomEditorFocusPrev($event, colIndex)"></a>\n                            <p-columnEditorTemplateLoader *ngIf="col.editorTemplate" [column]="col" [rowData]="rowData" [rowIndex]="rowIndex"></p-columnEditorTemplateLoader>\n                            <a *ngIf="col.editorTemplate" class="ui-cell-editor-proxy-focus" href="#" (focus)="dt.onCustomEditorFocusNext($event, colIndex)"></a>\n                        </div>\n                        <a href="#" *ngIf="col.expander" (click)="dt.toggleRow(rowData,$event)">\n                            <span class="ui-row-toggler fa fa-fw ui-clickable" [ngClass]="dt.isRowExpanded(rowData) ? dt.expandedIcon : dt.collapsedIcon"></span>\n                        </a>\n                        <p-dtRadioButton *ngIf="col.selectionMode==\'single\'" (onClick)="dt.selectRowWithRadio($event, rowData)" [checked]="dt.isSelected(rowData)"></p-dtRadioButton>\n                        <p-dtCheckbox *ngIf="col.selectionMode==\'multiple\'" (onChange)="dt.toggleRowWithCheckbox($event,rowData)" [checked]="dt.isSelected(rowData)"></p-dtCheckbox>\n                    </td>\n                </ng-template>\n            </tr>\n            <tr *ngIf="dt.expandableRows && dt.isRowExpanded(rowData)" class="ui-expanded-row-content">\n                <td [attr.colspan]="dt.visibleColumns().length">\n                    <p-rowExpansionLoader [rowData]="rowData" [rowIndex]="rowIndex" [template]="dt.rowExpansionTemplate"></p-rowExpansionLoader>\n                </td>\n            </tr>\n            <tr class="ui-widget-header" *ngIf="dt.rowGroupFooterTemplate && dt.rowGroupMode==\'subheader\' && ((rowIndex === dt.dataToRender.length - 1)||(dt.resolveFieldData(rowData,dt.groupField) !== dt.resolveFieldData(dt.dataToRender[rowIndex + 1],dt.groupField))) && (!dt.expandableRowGroups || dt.isRowGroupExpanded(rowData))">\n                <p-templateLoader class="ui-helper-hidden" [data]="rowData" [template]="dt.rowGroupFooterTemplate"></p-templateLoader>\n            </tr>\n        </ng-template>\n\n        <tr *ngIf="dt.isEmpty()" class="ui-widget-content ui-datatable-emptymessage-row">\n            <td [attr.colspan]="dt.visibleColumns().length" class="ui-datatable-emptymessage">\n                <span *ngIf="!dt.emptyMessageTemplate">{{dt.emptyMessage}}</span>\n                <p-templateLoader [template]="dt.emptyMessageTemplate"></p-templateLoader>\n            </td>\n        </tr>\n    '}),r(0,s.Inject(s.forwardRef(function(){return x}))),o("design:paramtypes",[x])],b),e.TableBody=b;var w=function(){function t(t,e,i,n,o){this.dt=t,this.domHandler=e,this.el=i,this.renderer=n,this.zone=o,this.onVirtualScroll=new s.EventEmitter}return t.prototype.ngAfterViewInit=function(){this.initScrolling()},t.prototype.ngAfterViewChecked=function(){var t=this;if(this.virtualScroll&&!this.rowHeight){var e=this.domHandler.findSingle(this.scrollTable,"tr.ui-widget-content:not(.ui-datatable-emptymessage-row)");e&&(this.rowHeight=this.domHandler.getOuterHeight(e))}this.frozen||this.zone.runOutsideAngular(function(){setTimeout(function(){t.alignScrollBar()},1)})},t.prototype.initScrolling=function(){var t=this;this.scrollHeader=this.scrollHeaderViewChild.nativeElement,this.scrollHeaderBox=this.scrollHeaderBoxViewChild.nativeElement,this.scrollBody=this.scrollBodyViewChild.nativeElement,this.scrollTable=this.scrollTableViewChild.nativeElement,this.scrollTableWrapper=this.scrollTableWrapperViewChild.nativeElement,this.scrollFooter=this.scrollFooterViewChild?this.scrollFooterViewChild.nativeElement:null,this.scrollFooterBox=this.scrollFooterBoxViewChild?this.scrollFooterBoxViewChild.nativeElement:null,this.setScrollHeight(),this.frozen||this.zone.runOutsideAngular(function(){t.scrollHeader.addEventListener("scroll",t.onHeaderScroll.bind(t)),t.scrollBody.addEventListener("scroll",t.onBodyScroll.bind(t))}),this.frozen?this.scrollBody.style.paddingBottom=this.domHandler.calculateScrollbarWidth()+"px":this.alignScrollBar()},t.prototype.onBodyScroll=function(t){var e=this.el.nativeElement.previousElementSibling;if(e)var i=this.domHandler.findSingle(e,".ui-datatable-scrollable-body");if(this.scrollHeaderBox.style.marginLeft=-1*this.scrollBody.scrollLeft+"px",this.scrollFooterBox&&(this.scrollFooterBox.style.marginLeft=-1*this.scrollBody.scrollLeft+"px"),i&&(i.scrollTop=this.scrollBody.scrollTop),this.virtualScroll){var n=this.domHandler.getOuterHeight(this.scrollBody),o=this.domHandler.getOuterHeight(this.scrollTable),r=this.rowHeight*this.dt.rows,s=this.domHandler.getOuterHeight(this.scrollTableWrapper),a=s/r||1;if(this.scrollBody.scrollTop+n>parseFloat(this.scrollTable.style.top)+o||this.scrollBody.scrollTop<parseFloat(this.scrollTable.style.top)){var l=Math.floor(this.scrollBody.scrollTop*a/this.scrollBody.scrollHeight)+1;this.onVirtualScroll.emit({page:l}),this.scrollTable.style.top=(l-1)*r+"px"}}},t.prototype.setScrollHeight=function(){if(this.dt.scrollHeight)if(-1!==this.dt.scrollHeight.indexOf("%")){this.scrollBody.style.visibility="hidden",this.scrollBody.style.height="100px";var t=this.domHandler.getOuterHeight(this.dt.el.nativeElement.children[0]),e=this.domHandler.getOuterHeight(this.dt.el.nativeElement.parentElement)*parseInt(this.dt.scrollHeight)/100,i=t-100,n=e-i;this.scrollBody.style.height="auto",this.scrollBody.style.maxHeight=n+"px",this.scrollBody.style.visibility="visible"}else this.scrollBody.style.maxHeight=this.dt.scrollHeight},t.prototype.onHeaderScroll=function(t){this.scrollHeader.scrollLeft=0},t.prototype.hasVerticalOverflow=function(){return this.domHandler.getOuterHeight(this.scrollTable)>this.domHandler.getOuterHeight(this.scrollBody)},t.prototype.alignScrollBar=function(){var t=this.hasVerticalOverflow()?this.domHandler.calculateScrollbarWidth():0;this.scrollHeaderBox.style.marginRight=t+"px",this.scrollFooterBox&&(this.scrollFooterBox.style.marginRight=t+"px")},t.prototype.ngOnDestroy=function(){this.scrollHeader.removeEventListener("scroll",this.onHeaderScroll),this.scrollBody.removeEventListener("scroll",this.onBodyScroll)},t}();n([s.Input("pScrollableView"),o("design:type",Array)],w.prototype,"columns",void 0),n([s.Input(),o("design:type",c.HeaderColumnGroup)],w.prototype,"headerColumnGroup",void 0),n([s.Input(),o("design:type",c.HeaderColumnGroup)],w.prototype,"footerColumnGroup",void 0),n([s.ViewChild("scrollHeader"),o("design:type",s.ElementRef)],w.prototype,"scrollHeaderViewChild",void 0),n([s.ViewChild("scrollHeaderBox"),o("design:type",s.ElementRef)],w.prototype,"scrollHeaderBoxViewChild",void 0),n([s.ViewChild("scrollBody"),o("design:type",s.ElementRef)],w.prototype,"scrollBodyViewChild",void 0),n([s.ViewChild("scrollTable"),o("design:type",s.ElementRef)],w.prototype,"scrollTableViewChild",void 0),n([s.ViewChild("scrollTableWrapper"),o("design:type",s.ElementRef)],w.prototype,"scrollTableWrapperViewChild",void 0),n([s.ViewChild("scrollFooter"),o("design:type",s.ElementRef)],w.prototype,"scrollFooterViewChild",void 0),n([s.ViewChild("scrollFooterBox"),o("design:type",s.ElementRef)],w.prototype,"scrollFooterBoxViewChild",void 0),n([s.Input(),o("design:type",Boolean)],w.prototype,"frozen",void 0),n([s.Input(),o("design:type",String)],w.prototype,"width",void 0),n([s.Input(),o("design:type",Boolean)],w.prototype,"virtualScroll",void 0),n([s.Output(),o("design:type",s.EventEmitter)],w.prototype,"onVirtualScroll",void 0),w=n([s.Component({selector:"[pScrollableView]",template:'\n        <div #scrollHeader class="ui-widget-header ui-datatable-scrollable-header" [ngStyle]="{\'width\': width}">\n            <div #scrollHeaderBox  class="ui-datatable-scrollable-header-box">\n                <table [ngClass]="dt.tableStyleClass" [ngStyle]="dt.tableStyle">\n                    <thead class="ui-datatable-thead">\n                        <tr *ngIf="!headerColumnGroup" class="ui-state-default" [pColumnHeaders]="columns"></tr>\n                        <ng-template [ngIf]="headerColumnGroup">\n                            <tr *ngFor="let headerRow of headerColumnGroup.rows" class="ui-state-default" [pColumnHeaders]="headerRow.columns"></tr>\n                        </ng-template>\n                    </thead>\n                    <tbody *ngIf="dt.frozenValue" [ngClass]="{\'ui-datatable-data ui-widget-content\': true, \'ui-datatable-hoverable-rows\': (dt.rowHover||dt.selectionMode)}" [pTableBody]="columns" [data]="dt.frozenValue"></tbody>\n                </table>\n            </div>\n        </div>\n        <div #scrollBody class="ui-datatable-scrollable-body" [ngStyle]="{\'width\': width}">\n            <div #scrollTableWrapper class="ui-datatable-scrollable-table-wrapper" style="position:relative">\n                <table #scrollTable [class]="dt.tableStyleClass" [ngStyle]="dt.tableStyle" [ngClass]="{\'ui-datatable-virtual-table\':virtualScroll}" style="top:0px">\n                    <colgroup class="ui-datatable-scrollable-colgroup">\n                        <col *ngFor="let col of columns" [ngStyle]="col.style" [ngClass]="{\'ui-helper-hidden\': col.hidden}"/>\n                    </colgroup>\n                    <tbody [ngClass]="{\'ui-datatable-data ui-widget-content\': true, \'ui-datatable-hoverable-rows\': (dt.rowHover||dt.selectionMode)}" [pTableBody]="columns" [data]="dt.dataToRender"></tbody>\n                </table>\n            </div>\n        </div>\n        <div #scrollFooter class="ui-widget-header ui-datatable-scrollable-footer" [ngStyle]="{\'width\': width}" *ngIf="dt.hasFooter()">\n            <div #scrollFooterBox  class="ui-datatable-scrollable-footer-box">\n                <table [ngClass]="dt.tableStyleClass" [ngStyle]="dt.tableStyle">\n                    <tfoot class="ui-datatable-tfoot">\n                        <tr *ngIf="!footerColumnGroup" [pColumnFooters]="columns" class="ui-state-default"></tr>\n                        <ng-template [ngIf]="footerColumnGroup">\n                            <tr *ngFor="let footerRow of footerColumnGroup.rows" class="ui-state-default" [pColumnFooters]="footerRow.columns"></tr>\n                        </ng-template>\n                    </tfoot>\n                </table>\n            </div>\n        </div>\n    '}),r(0,s.Inject(s.forwardRef(function(){return x}))),o("design:paramtypes",[x,d.DomHandler,s.ElementRef,s.Renderer2,s.NgZone])],w),e.ScrollableView=w;var x=function(){function t(t,e,i,n,o,r,a){this.el=t,this.domHandler=e,this.differs=i,this.renderer=n,this.changeDetector=o,this.objectUtils=r,this.zone=a,this.pageLinks=5,this.selectionChange=new s.EventEmitter,this.onRowClick=new s.EventEmitter,this.onRowSelect=new s.EventEmitter,this.onRowUnselect=new s.EventEmitter,this.onRowDblclick=new s.EventEmitter,this.onHeaderCheckboxToggle=new s.EventEmitter,this.onContextMenuSelect=new s.EventEmitter,this.filterDelay=300,this.onLazyLoad=new s.EventEmitter,this.columnResizeMode="fit",this.onColResize=new s.EventEmitter,this.onColReorder=new s.EventEmitter,this.sortMode="single",this.sortOrder=1,this.defaultSortOrder=1,this.csvSeparator=",",this.exportFilename="download",this.emptyMessage="No records found",this.paginatorPosition="bottom",this.alwaysShowPaginator=!0,this.metaKeySelection=!0,this.rowTrackBy=function(t,e){return e},this.immutable=!0,this.compareSelectionBy="deepEquals",this.onEditInit=new s.EventEmitter,this.onEditComplete=new s.EventEmitter,this.onEdit=new s.EventEmitter,this.onEditCancel=new s.EventEmitter,this.onPage=new s.EventEmitter,this.onSort=new s.EventEmitter,this.onFilter=new s.EventEmitter,this.rowExpandMode="multiple",this.expandedIcon="fa-chevron-circle-down",this.collapsedIcon="fa-chevron-circle-right",this.tabindex=1,this.sortableRowGroup=!0,this.filters={},this.loadingIcon="fa-circle-o-notch",this.enableLoader=!0,this.virtualScrollDelay=500,this.valueChange=new s.EventEmitter,this.firstChange=new s.EventEmitter,this.onRowExpand=new s.EventEmitter,this.onRowCollapse=new s.EventEmitter,this.onRowGroupExpand=new s.EventEmitter,this.onRowGroupCollapse=new s.EventEmitter,this.page=0,this.columnsChanged=!1,this._first=0,this.filterConstraints={startsWith:function(t,e){if(void 0===e||null===e||""===e.trim())return!0;if(void 0===t||null===t)return!1;var i=e.toLowerCase();return t.toString().toLowerCase().slice(0,i.length)===i},contains:function(t,e){return void 0===e||null===e||"string"==typeof e&&""===e.trim()||void 0!==t&&null!==t&&-1!==t.toString().toLowerCase().indexOf(e.toLowerCase())},endsWith:function(t,e){if(void 0===e||null===e||""===e.trim())return!0;if(void 0===t||null===t)return!1;var i=e.toString().toLowerCase();return-1!==t.toString().toLowerCase().indexOf(i,t.toString().length-i.length)},equals:function(t,e){return void 0===e||null===e||"string"==typeof e&&""===e.trim()||void 0!==t&&null!==t&&t.toString().toLowerCase()==e.toString().toLowerCase()},notEquals:function(t,e){return void 0!==e&&null!==e&&("string"!=typeof e||""!==e.trim())&&(void 0===t||null===t||t.toString().toLowerCase()!=e.toString().toLowerCase())},in:function(t,e){if(void 0===e||null===e||0===e.length)return!0;if(void 0===t||null===t)return!1;for(var i=0;i<e.length;i++)if(e[i]===t)return!0;return!1}},this.differ=i.find([]).create(null)}return t.prototype.ngOnInit=function(){this.lazy&&this.onLazyLoad.emit(this.createLazyLoadMetadata())},t.prototype.ngAfterContentInit=function(){var t=this;this.initColumns(),this.initColumnGroups(),this.columnsSubscription=this.cols.changes.subscribe(function(e){t.initColumns(),t.changeDetector.markForCheck()}),this.templates.forEach(function(e){switch(e.getType()){case"rowexpansion":t.rowExpansionTemplate=e.template;break;case"rowgroupheader":t.rowGroupHeaderTemplate=e.template;break;case"rowgroupfooter":t.rowGroupFooterTemplate=e.template;break;case"emptymessage":t.emptyMessageTemplate=e.template}})},t.prototype.ngAfterViewChecked=function(){if(this.columnsChanged&&this.el.nativeElement.offsetParent&&(this.resizableColumns&&this.initResizableColumns(),this.reorderableColumns&&this.initColumnReordering(),this.columnsChanged=!1),this.totalRecordsChanged&&this.virtualScroll&&this.virtualScrollableTableWrapper&&this.virtualScrollableTableWrapper.offsetParent){var t=this.domHandler.findSingle(this.virtualScrollableTableWrapper,"tr.ui-widget-content"),e=this.domHandler.getOuterHeight(t);this.virtualTableHeight=this._totalRecords*e,this.virtualScrollableTableWrapper.style.height=this.virtualTableHeight+"px",this.totalRecordsChanged=!1}},t.prototype.ngAfterViewInit=function(){var t=this;this.globalFilter&&(this.globalFilterFunction=this.renderer.listen(this.globalFilter,"keyup",function(){t.filterTimeout&&clearTimeout(t.filterTimeout),t.filterTimeout=setTimeout(function(){t._filter(),t.filterTimeout=null},t.filterDelay)})),this.virtualScrollableTableWrapper=this.domHandler.findSingle(this.el.nativeElement,"div.ui-datatable-scrollable-table-wrapper"),this.initialized=!0},Object.defineProperty(t.prototype,"value",{get:function(){return this._value},set:function(t){this.immutable?(this._value=t?t.slice():null,this.handleDataChange()):this._value=t,this.valueChange.emit(this.value)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"first",{get:function(){return this._first},set:function(t){var e=this.initialized&&this._first!==t;this._first=t,e&&this.paginate()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"totalRecords",{get:function(){return this._totalRecords},set:function(t){this._totalRecords=t,this.totalRecordsChanged=!0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selection",{get:function(){return this._selection},set:function(t){if(this._selection=t,this.dataKey&&!this.preventSelectionKeysPropagation&&(this.selectionKeys={},this._selection))for(var e=0,i=this._selection;e<i.length;e++){var n=i[e];this.selectionKeys[String(this.objectUtils.resolveFieldData(n,this.dataKey))]=1}this.preventSelectionKeysPropagation=!1},enumerable:!0,configurable:!0}),t.prototype.ngDoCheck=function(){if(!this.immutable){this.differ.diff(this.value)&&this.handleDataChange()}},t.prototype.handleDataChange=function(){var t=this;this.lazy&&this.enableLoader&&(this.loading=!1),this.paginator&&this.updatePaginator(),this.lazy||(this.hasFilter()&&this._filter(),this.preventSortPropagation?this.preventSortPropagation=!1:(this.sortField||this.multiSortMeta)&&(!this.sortColumn&&this.columns&&(this.sortColumn=this.columns.find(function(e){return e.field===t.sortField&&"custom"===e.sortable})),"single"==this.sortMode?this.sortSingle():"multiple"==this.sortMode&&this.sortMultiple())),this.updateDataToRender(this.filteredValue||this.value)},t.prototype.initColumns=function(){this.columns=this.cols.toArray(),this.initScrollableColumns(),this.columnsChanged=!0},t.prototype.initScrollableColumns=function(){this.scrollableColumns=[],this.frozenColumns=[];for(var t=0,e=this.columns;t<e.length;t++){var i=e[t];i.frozen?this.frozenColumns.push(i):this.scrollableColumns.push(i)}},t.prototype.initColumnGroups=function(){for(var t=this.headerColumnGroups.toArray(),e=this.footerColumnGroups.toArray(),i=0,n=t;i<n.length;i++){var o=n[i];o.frozen?this.frozenHeaderColumnGroup=o:this.scrollableHeaderColumnGroup=o}for(var r=0,s=e;r<s.length;r++){var o=s[r];o.frozen?this.frozenFooterColumnGroup=o:this.scrollableFooterColumnGroup=o}},t.prototype.resolveFieldData=function(t,e){if(t&&e){if(-1==e.indexOf("."))return t[e];for(var i=e.split("."),n=t,o=0,r=i.length;o<r;++o){if(null==n)return null;n=n[i[o]]}return n}return null},t.prototype.updateRowGroupMetadata=function(){if(this.rowGroupMetadata={},this.dataToRender)for(var t=0;t<this.dataToRender.length;t++){var e=this.dataToRender[t],i=this.resolveFieldData(e,this.sortField);if(0==t)this.rowGroupMetadata[i]={index:0,size:1};else{var n=this.dataToRender[t-1],o=this.resolveFieldData(n,this.sortField);i===o?this.rowGroupMetadata[i].size++:this.rowGroupMetadata[i]={index:t,size:1}}}},t.prototype.updatePaginator=function(){if(this.updateTotalRecords(),this.totalRecords&&this.first>=this.totalRecords){var t=Math.ceil(this.totalRecords/this.rows);this._first=Math.max((t-1)*this.rows,0)}},t.prototype.updateTotalRecords=function(){this.totalRecords=this.lazy?this.totalRecords:this.value?this.value.length:0},t.prototype.onPageChange=function(t){this._first=t.first,this.firstChange.emit(this.first),this.rows=t.rows,this.paginate()},t.prototype.paginate=function(){this.lazy?this.onLazyLoad.emit(this.createLazyLoadMetadata()):this.updateDataToRender(this.filteredValue||this.value),this.onPage.emit({first:this.first,rows:this.rows})},t.prototype.updateDataToRender=function(t){if((this.paginator||this.virtualScroll)&&t){this.dataToRender=[];for(var e=this.lazy?0:this.first,i=this.virtualScroll?this.first+2*this.rows:e+this.rows,n=e;n<i&&!(n>=t.length);n++)this.dataToRender.push(t[n])}else this.dataToRender=t;this.rowGroupMode&&this.updateRowGroupMetadata()},t.prototype.onVirtualScroll=function(t){var e=this;this._first=(t.page-1)*this.rows,this.zone.run(function(){e.virtualScrollTimer&&clearTimeout(e.virtualScrollTimer),e.virtualScrollTimer=setTimeout(function(){e.lazy?e.onLazyLoad.emit(e.createLazyLoadMetadata()):e.updateDataToRender(e.filteredValue||e.value)},e.virtualScrollDelay)})},t.prototype.onHeaderKeydown=function(t,e){13==t.keyCode&&(this.sort(t,e),t.preventDefault())},t.prototype.onHeaderMousedown=function(t,e){this.reorderableColumns&&("INPUT"!==t.target.nodeName?e.draggable=!0:"INPUT"===t.target.nodeName&&(e.draggable=!1))},t.prototype.sort=function(t,e){if(e.sortable){var i=t.target.nodeName;if("TH"==i&&this.domHandler.hasClass(t.target,"ui-sortable-column")||("SPAN"==i||"DIV"==i)&&!this.domHandler.hasClass(t.target,"ui-clickable")){this.immutable||(this.preventSortPropagation=!0);var n=e.sortField||e.field;this.sortOrder=this.sortField===n?-1*this.sortOrder:this.defaultSortOrder,this.sortField=n,this.sortColumn=e;var o=t.metaKey||t.ctrlKey;"multiple"==this.sortMode&&(this.multiSortMeta&&o||(this.multiSortMeta=[]),this.addSortMeta({field:this.sortField,order:this.sortOrder})),this.lazy?(this._first=0,this.onLazyLoad.emit(this.createLazyLoadMetadata())):"multiple"==this.sortMode?this.sortMultiple():this.sortSingle(),this.onSort.emit({field:this.sortField,order:this.sortOrder,multisortmeta:this.multiSortMeta})}this.updateDataToRender(this.filteredValue||this.value)}},t.prototype.sortSingle=function(){var t=this;this.value&&(this.sortColumn&&"custom"===this.sortColumn.sortable?(this.preventSortPropagation=!0,this.sortColumn.sortFunction.emit({field:this.sortField,order:this.sortOrder})):this.value.sort(function(e,i){var n=t.resolveFieldData(e,t.sortField),o=t.resolveFieldData(i,t.sortField),r=null;return r=null==n&&null!=o?-1:null!=n&&null==o?1:null==n&&null==o?0:"string"==typeof n&&"string"==typeof o?n.localeCompare(o):n<o?-1:n>o?1:0,t.sortOrder*r}),this._first=0,this.hasFilter()&&this._filter())},t.prototype.sortMultiple=function(){var t=this;this.value&&(this.value.sort(function(e,i){return t.multisortField(e,i,t.multiSortMeta,0)}),this.hasFilter()&&this._filter())},t.prototype.multisortField=function(t,e,i,n){var o=this.resolveFieldData(t,i[n].field),r=this.resolveFieldData(e,i[n].field),s=null;if("string"==typeof o||o instanceof String){if(o.localeCompare&&o!=r)return i[n].order*o.localeCompare(r)}else s=o<r?-1:1;return o==r?i.length-1>n?this.multisortField(t,e,i,n+1):0:i[n].order*s},t.prototype.addSortMeta=function(t){for(var e=-1,i=0;i<this.multiSortMeta.length;i++)if(this.multiSortMeta[i].field===t.field){e=i;break}e>=0?this.multiSortMeta[e]=t:this.multiSortMeta.push(t)},t.prototype.isSorted=function(t){if(!t.sortable)return!1;var e=t.sortField||t.field;if("single"===this.sortMode)return this.sortField&&e===this.sortField;if("multiple"===this.sortMode){var i=!1;if(this.multiSortMeta)for(var n=0;n<this.multiSortMeta.length;n++)if(this.multiSortMeta[n].field==e){i=!0;break}return i}},t.prototype.getSortOrder=function(t){var e=0,i=t.sortField||t.field;if("single"===this.sortMode)this.sortField&&i===this.sortField&&(e=this.sortOrder);else if("multiple"===this.sortMode&&this.multiSortMeta)for(var n=0;n<this.multiSortMeta.length;n++)if(this.multiSortMeta[n].field==i){e=this.multiSortMeta[n].order;break}return e},t.prototype.onRowGroupClick=function(t){if(this.rowGroupToggleClick)return void(this.rowGroupToggleClick=!1);if(this.sortableRowGroup){var e=t.target.nodeName;("TD"==e||"SPAN"==e&&!this.domHandler.hasClass(t.target,"ui-clickable"))&&(this.sortField!=this.groupField?(this.sortField=this.groupField,this.sortSingle()):(this.sortOrder=-1*this.sortOrder,this.sortSingle()))}},t.prototype.clearSelectionRange=function(){var t,e;this.rangeRowIndex>this.anchorRowIndex?(t=this.anchorRowIndex,e=this.rangeRowIndex):this.rangeRowIndex<this.anchorRowIndex?(t=this.rangeRowIndex,e=this.anchorRowIndex):(t=this.rangeRowIndex,e=this.rangeRowIndex);for(var i=this,n=t;n<=e;n++)!function(t){var e=i.dataToRender[t],n=i.findIndexInSelection(e);i._selection=i.selection.filter(function(t,e){return e!=n});var o=i.dataKey?String(i.resolveFieldData(e,i.dataKey)):null;o&&delete i.selectionKeys[o],i.onRowUnselect.emit({originalEvent:event,data:e,type:"row"})}(n)},t.prototype.selectRange=function(t){var e,i;this.anchorRowIndex>t?(e=t,i=this.anchorRowIndex):this.anchorRowIndex<t?(e=this.anchorRowIndex,i=t):(e=t,i=t);for(var n=e;n<=i;n++){var o=this.dataToRender[n];this._selection=this.selection.concat([o]),this.selectionChange.emit(this.selection);var r=this.dataKey?String(this.resolveFieldData(o,this.dataKey)):null;r&&(this.selectionKeys[r]=1),this.onRowSelect.emit({originalEvent:event,data:o,type:"row"})}},t.prototype.handleRowClick=function(t,e,i){if(this.preventRowClickPropagation)return void(this.preventRowClickPropagation=!1);var n=t.target.nodeName;if("INPUT"!=n&&"BUTTON"!=n&&"A"!=n&&!this.domHandler.hasClass(t.target,"ui-clickable")){if(this.onRowClick.next({originalEvent:t,data:e}),this.selectionMode){if(this.isMultipleSelectionMode()&&t.shiftKey&&null!=this.anchorRowIndex)this.domHandler.clearSelection(),null!=this.rangeRowIndex&&this.clearSelectionRange(),this.rangeRowIndex=i,this.selectRange(i);else{var o=this.isSelected(e),r=!this.rowTouched&&this.metaKeySelection,s=this.dataKey?String(this.resolveFieldData(e,this.dataKey)):null;if(this.anchorRowIndex=i,this.rangeRowIndex=i,r){var a=t.metaKey||t.ctrlKey;if(o&&a){if(this.isSingleSelectionMode())this._selection=null,this.selectionKeys={},this.selectionChange.emit(null);else{var l=this.findIndexInSelection(e);this._selection=this.selection.filter(function(t,e){return e!=l}),this.selectionChange.emit(this.selection),s&&delete this.selectionKeys[s]}this.onRowUnselect.emit({originalEvent:t,data:e,type:"row"})}else this.isSingleSelectionMode()?(this._selection=e,this.selectionChange.emit(e),s&&(this.selectionKeys={},this.selectionKeys[s]=1)):this.isMultipleSelectionMode()&&(a?this._selection=this.selection||[]:(this._selection=[],this.selectionKeys={}),this._selection=this.selection.concat([e]),this.selectionChange.emit(this.selection),s&&(this.selectionKeys[s]=1)),this.onRowSelect.emit({originalEvent:t,data:e,type:"row"})}else{if(this.isSingleSelectionMode())o?(this._selection=null,this.selectionKeys={},this.onRowUnselect.emit({originalEvent:t,data:e,type:"row"})):(this._selection=e,this.onRowSelect.emit({originalEvent:t,data:e,type:"row"}),s&&(this.selectionKeys={},this.selectionKeys[s]=1));else if(o){var h=this.findIndexInSelection(e);this._selection=this.selection.filter(function(t,e){return e!=h}),this.onRowUnselect.emit({originalEvent:t,data:e,type:"row"}),s&&delete this.selectionKeys[s]}else this._selection=(this.selection||[]).concat([e]),this.onRowSelect.emit({originalEvent:t,data:e,type:"row"}),s&&(this.selectionKeys[s]=1);this.selectionChange.emit(this.selection)}}this.preventSelectionKeysPropagation=!0}this.rowTouched=!1}},t.prototype.handleRowTouchEnd=function(t){this.rowTouched=!0},t.prototype.selectRowWithRadio=function(t,e){this.selection!=e?(this._selection=e,this.selectionChange.emit(this.selection),this.onRowSelect.emit({originalEvent:t,data:e,type:"radiobutton"}),this.dataKey&&(this.selectionKeys={},this.selectionKeys[String(this.resolveFieldData(e,this.dataKey))]=1)):(this._selection=null,this.selectionChange.emit(this.selection),this.onRowUnselect.emit({originalEvent:t,data:e,type:"radiobutton"})),this.preventSelectionKeysPropagation=!0,this.preventRowClickPropagation=!0},t.prototype.toggleRowWithCheckbox=function(t,e){var i=this.findIndexInSelection(e);this.selection=this.selection||[];var n=this.dataKey?String(this.resolveFieldData(e,this.dataKey)):null;-1!=i?(this._selection=this.selection.filter(function(t,e){return e!=i}),this.onRowUnselect.emit({originalEvent:t,data:e,type:"checkbox"}),n&&delete this.selectionKeys[n]):(this._selection=this.selection.concat([e]),this.onRowSelect.emit({originalEvent:t,data:e,type:"checkbox"}),n&&(this.selectionKeys[n]=1)),this.selectionChange.emit(this.selection),this.preventSelectionKeysPropagation=!0,this.preventRowClickPropagation=!0},t.prototype.toggleRowsWithCheckbox=function(t){t.checked?this.selection=this.headerCheckboxToggleAllPages?this.value.slice():this.dataToRender.slice():this.selection=[],this.selectionChange.emit(this.selection),this.onHeaderCheckboxToggle.emit({originalEvent:t,checked:t.checked})},t.prototype.onRowRightClick=function(t,e){if(this.contextMenu){var i=this.findIndexInSelection(e),n=-1!=i;this.dataKey&&String(this.resolveFieldData(e,this.dataKey));n||(this.isSingleSelectionMode()?(this.selection=e,this.selectionChange.emit(e)):this.isMultipleSelectionMode()&&(this.selection=[e],this.selectionChange.emit(this.selection)),this.dataKey&&(this.selectionKeys[String(this.resolveFieldData(e,this.dataKey))]=1)),this.contextMenu.show(t),this.onContextMenuSelect.emit({originalEvent:t,data:e})}this.preventSelectionKeysPropagation=!0},t.prototype.rowDblclick=function(t,e){this.onRowDblclick.emit({originalEvent:t,data:e})},t.prototype.isSingleSelectionMode=function(){return"single"===this.selectionMode},t.prototype.isMultipleSelectionMode=function(){return"multiple"===this.selectionMode},t.prototype.findIndexInSelection=function(t){var e=-1;if(this.selection)for(var i=0;i<this.selection.length;i++)if(this.equals(t,this.selection[i])){e=i;break}return e},t.prototype.isSelected=function(t){return!(!t||!this.selection)&&(this.dataKey?void 0!==this.selectionKeys[this.objectUtils.resolveFieldData(t,this.dataKey)]:this.selection instanceof Array?this.findIndexInSelection(t)>-1:this.equals(t,this.selection))},t.prototype.equals=function(t,e){return"equals"===this.compareSelectionBy?t===e:this.objectUtils.equals(t,e,this.dataKey)},Object.defineProperty(t.prototype,"allSelected",{get:function(){if(this.headerCheckboxToggleAllPages)return this.selection&&this.value&&this.selection.length===this.value.length;var t=!0;if(this.dataToRender&&this.selection&&this.dataToRender.length<=this.selection.length)for(var e=0,i=this.dataToRender;e<i.length;e++){var n=i[e];if(!this.isSelected(n)){t=!1;break}}else t=!1;return t},enumerable:!0,configurable:!0}),t.prototype.onFilterKeyup=function(t,e,i){var n=this;this.filterTimeout&&clearTimeout(this.filterTimeout),this.filterTimeout=setTimeout(function(){n.filter(t,e,i),n.filterTimeout=null},this.filterDelay)},t.prototype.filter=function(t,e,i){this.isFilterBlank(t)?this.filters[e]&&delete this.filters[e]:this.filters[e]={value:t,matchMode:i},this._filter()},t.prototype.isFilterBlank=function(t){return null===t||void 0===t||("string"==typeof t&&0==t.trim().length||t instanceof Array&&0==t.length)},t.prototype._filter=function(){if(this._first=0,this.lazy)this.onLazyLoad.emit(this.createLazyLoadMetadata());else{if(!this.value||!this.columns)return;this.filteredValue=[];for(var t=0;t<this.value.length;t++){for(var e=!0,i=!1,n=0;n<this.columns.length;n++){var o=this.columns[n],r=this.filters[o.filterField||o.field];if(r){var s=r.value,a=o.filterField||o.field,l=r.matchMode||"startsWith",h=this.resolveFieldData(this.value[t],a);if((0,this.filterConstraints[l])(h,s)||(e=!1),!e)break}this.globalFilter&&!i&&(i=this.filterConstraints.contains(this.resolveFieldData(this.value[t],o.filterField||o.field),this.globalFilter.value))}var u=e;this.globalFilter&&(u=e&&i),u&&this.filteredValue.push(this.value[t])}this.filteredValue.length===this.value.length&&(this.filteredValue=null),this.paginator&&(this.totalRecords=this.filteredValue?this.filteredValue.length:this.value?this.value.length:0),this.updateDataToRender(this.filteredValue||this.value)}this.onFilter.emit({filters:this.filters,filteredValue:this.filteredValue||this.value})},t.prototype.hasFilter=function(){var t=!0;for(var e in this.filters)if(this.filters.hasOwnProperty(e)){t=!1;break}return!t||this.globalFilter&&this.globalFilter.value&&this.globalFilter.value.trim().length},t.prototype.onFilterInputClick=function(t){t.stopPropagation()},t.prototype.switchCellToEditMode=function(t,e,i){var n=this;if(!this.selectionMode&&this.editable&&e.editable&&(this.editorClick=!0,this.bindDocumentEditListener(),t!=this.editingCell)){this.editingCell&&0==this.domHandler.find(this.editingCell,".ng-invalid.ng-dirty").length&&this.domHandler.removeClass(this.editingCell,"ui-cell-editing"),this.editingCell=t,this.onEditInit.emit({column:e,data:i}),this.domHandler.addClass(t,"ui-cell-editing");var o=this.domHandler.findSingle(t,".ui-cell-editor input");o&&setTimeout(function(){return n.domHandler.invokeElementMethod(o,"focus")},50)}},t.prototype.switchCellToViewMode=function(t){this.editingCell=null;var e=this.findCell(t);this.domHandler.removeClass(e,"ui-cell-editing"),this.unbindDocumentEditListener()},t.prototype.closeCell=function(){this.editingCell&&(this.domHandler.removeClass(this.editingCell,"ui-cell-editing"),this.editingCell=null,this.unbindDocumentEditListener())},t.prototype.bindDocumentEditListener=function(){var t=this;this.documentEditListener||(this.documentEditListener=this.renderer.listen("document","click",function(e){t.editorClick||t.closeCell(),t.editorClick=!1}))},t.prototype.unbindDocumentEditListener=function(){this.documentEditListener&&(this.documentEditListener(),this.documentEditListener=null)},t.prototype.onCellEditorKeydown=function(t,e,i,n){this.editable&&(13==t.keyCode?0==this.domHandler.find(this.editingCell,".ng-invalid.ng-dirty").length&&(this.switchCellToViewMode(t.target),t.preventDefault()):27==t.keyCode?(this.switchCellToViewMode(t.target),t.preventDefault()):9==t.keyCode&&(t.shiftKey?this.moveToPreviousCell(t):this.moveToNextCell(t)))},t.prototype.onCellEditorInput=function(t,e,i,n){this.editable&&this.onEdit.emit({originalEvent:t,column:e,data:i,index:n})},t.prototype.onCellEditorChange=function(t,e,i,n){this.editable&&(this.editChanged=!0,this.onEditComplete.emit({column:e,data:i,index:n}))},t.prototype.onCellEditorBlur=function(t,e,i,n){this.editable&&(this.editChanged?this.editChanged=!1:this.onEditCancel.emit({column:e,data:i,index:n}))},t.prototype.moveToPreviousCell=function(t){var e=this.findCell(t.target),i=(e.parentElement,this.findPreviousEditableColumn(e));i&&(this.domHandler.invokeElementMethod(i,"click"),t.preventDefault())},t.prototype.moveToNextCell=function(t){var e=this.findCell(t.target),i=(e.parentElement,this.findNextEditableColumn(e));i&&(this.domHandler.invokeElementMethod(i,"click"),t.preventDefault())},t.prototype.findPreviousEditableColumn=function(t){var e=t.previousElementSibling;if(!e){var i=t.parentElement.previousElementSibling;i&&(e=i.lastElementChild)}return e?this.domHandler.hasClass(e,"ui-editable-column")?e:this.findPreviousEditableColumn(e):null},t.prototype.findNextEditableColumn=function(t){var e=t.nextElementSibling;if(!e){var i=t.parentElement.nextElementSibling;i&&(e=i.firstElementChild)}return e?this.domHandler.hasClass(e,"ui-editable-column")?e:this.findNextEditableColumn(e):null},t.prototype.onCustomEditorFocusPrev=function(t){this.moveToPreviousCell(t)},t.prototype.onCustomEditorFocusNext=function(t){this.moveToNextCell(t)},t.prototype.findCell=function(t){if(t){for(var e=t;e&&"TD"!=e.tagName;)e=e.parentElement;return e}return null},t.prototype.initResizableColumns=function(){this.tbody=this.domHandler.findSingle(this.el.nativeElement,"tbody.ui-datatable-data"),this.resizerHelper=this.domHandler.findSingle(this.el.nativeElement,"div.ui-column-resizer-helper"),this.fixColumnWidths()},t.prototype.onDocumentMouseMove=function(t){this.columnResizing&&this.onColumnResize(t)},t.prototype.onDocumentMouseUp=function(t){this.columnResizing&&(this.columnResizing=!1,this.onColumnResizeEnd(t))},t.prototype.bindColumnResizeEvents=function(){var t=this;this.zone.runOutsideAngular(function(){window.document.addEventListener("mousemove",t.onDocumentMouseMove.bind(t))}),this.documentColumnResizeEndListener=this.renderer.listen("document","mouseup",function(e){t.columnResizing&&(t.columnResizing=!1,t.onColumnResizeEnd(e))})},t.prototype.unbindColumnResizeEvents=function(){window.document.removeEventListener("mousemove",this.onDocumentMouseMove),this.documentColumnResizeEndListener&&(this.documentColumnResizeEndListener(),this.documentColumnResizeEndListener=null)},t.prototype.initColumnResize=function(t){this.bindColumnResizeEvents();var e=this.el.nativeElement.children[0],i=this.domHandler.getOffset(e).left;this.resizeColumn=t.target.parentElement,this.columnResizing=!0,this.lastResizerHelperX=t.pageX-i+e.scrollLeft},t.prototype.onColumnResize=function(t){var e=this.el.nativeElement.children[0],i=this.domHandler.getOffset(e).left;this.domHandler.addClass(e,"ui-unselectable-text"),this.resizerHelper.style.height=e.offsetHeight+"px",this.resizerHelper.style.top="0px",this.resizerHelper.style.left=t.pageX-i+e.scrollLeft+"px",this.resizerHelper.style.display="block"},t.prototype.onColumnResizeEnd=function(t){var e=this.resizerHelper.offsetLeft-this.lastResizerHelperX,i=this.resizeColumn.offsetWidth,n=i+e,o=this.resizeColumn.style.minWidth||15;if(i+e>parseInt(o)){if("fit"===this.columnResizeMode){var r=this.resizeColumn.nextElementSibling,s=r.offsetWidth-e;if(n>15&&s>15&&(this.resizeColumn.style.width=n+"px",r&&(r.style.width=s+"px"),this.scrollable)){var a=this.domHandler.findSingle(this.el.nativeElement,"colgroup.ui-datatable-scrollable-colgroup"),l=this.domHandler.index(this.resizeColumn);a.children[l].style.width=n+"px",r&&(a.children[l+1].style.width=s+"px")}}else if("expand"===this.columnResizeMode){this.tbody.parentElement.style.width=this.tbody.parentElement.offsetWidth+e+"px",this.resizeColumn.style.width=n+"px";var h=this.tbody.parentElement.style.width;if(this.scrollable){this.domHandler.findSingle(this.el.nativeElement,".ui-datatable-scrollable-header-box").children[0].style.width=h;var a=this.domHandler.findSingle(this.el.nativeElement,"colgroup.ui-datatable-scrollable-colgroup"),l=this.domHandler.index(this.resizeColumn);a.children[l].style.width=n+"px"}else this.el.nativeElement.children[0].style.width=h}this.onColResize.emit({element:this.resizeColumn,delta:e})}this.resizerHelper.style.display="none",this.resizeColumn=null,this.domHandler.removeClass(this.el.nativeElement.children[0],"ui-unselectable-text"),this.unbindColumnResizeEvents()},t.prototype.fixColumnWidths=function(){for(var t,e=this.domHandler.find(this.el.nativeElement,"th.ui-resizable-column"),i=0;i<e.length;i++)e[i].style.width=e[i].offsetWidth+"px";if(this.scrollable){if(t=this.domHandler.findSingle(this.el.nativeElement,"colgroup.ui-datatable-scrollable-colgroup").children)for(var i=0;i<e.length;i++)t[i].style.width=e[i].offsetWidth+"px"}},t.prototype.onColumnDragStart=function(t){var e=this;if(this.columnResizing)return void t.preventDefault();this.draggedColumn=this.findParentHeader(t.target),t.dataTransfer.setData("text","b"),this.zone.runOutsideAngular(function(){window.document.addEventListener("dragover",e.onColumnDragover.bind(e))})},t.prototype.onColumnDragover=function(t){var e=this.findParentHeader(t.target);if(this.reorderableColumns&&this.draggedColumn&&e){t.preventDefault();var i=this.el.nativeElement.children[0],n=this.domHandler.getOffset(i),o=this.domHandler.getOffset(e);if(this.draggedColumn!=e){var r=o.left-n.left,s=(n.top,o.top,o.left+e.offsetWidth/2);this.reorderIndicatorUp.style.top=o.top-n.top-(this.iconHeight-1)+"px",this.reorderIndicatorDown.style.top=o.top-n.top+e.offsetHeight+"px",t.pageX>s?(this.reorderIndicatorUp.style.left=r+e.offsetWidth-Math.ceil(this.iconWidth/2)+"px",this.reorderIndicatorDown.style.left=r+e.offsetWidth-Math.ceil(this.iconWidth/2)+"px",this.dropPosition=1):(this.reorderIndicatorUp.style.left=r-Math.ceil(this.iconWidth/2)+"px",this.reorderIndicatorDown.style.left=r-Math.ceil(this.iconWidth/2)+"px",this.dropPosition=-1),this.reorderIndicatorUp.style.display="block",this.reorderIndicatorDown.style.display="block"}else t.dataTransfer.dropEffect="none"}},t.prototype.onColumnDragleave=function(t){this.reorderableColumns&&this.draggedColumn&&(t.preventDefault(),this.reorderIndicatorUp.style.display="none",this.reorderIndicatorDown.style.display="none",window.document.removeEventListener("dragover",this.onColumnDragover))},t.prototype.onColumnDrop=function(t){if(t.preventDefault(),this.draggedColumn){var e=this.domHandler.index(this.draggedColumn),i=this.domHandler.index(this.findParentHeader(t.target)),n=e!=i;n&&(i-e==1&&-1===this.dropPosition||e-i==1&&1===this.dropPosition)&&(n=!1),n&&(this.objectUtils.reorderArray(this.columns,e,i),this.scrollable&&this.initScrollableColumns(),this.onColReorder.emit({dragIndex:e,dropIndex:i,columns:this.columns})),this.reorderIndicatorUp.style.display="none",this.reorderIndicatorDown.style.display="none",this.draggedColumn.draggable=!1,this.draggedColumn=null,this.dropPosition=null}},t.prototype.initColumnReordering=function(){this.reorderIndicatorUp=this.domHandler.findSingle(this.el.nativeElement.children[0],"span.ui-datatable-reorder-indicator-up"),this.reorderIndicatorDown=this.domHandler.findSingle(this.el.nativeElement.children[0],"span.ui-datatable-reorder-indicator-down"),this.iconWidth=this.domHandler.getHiddenElementOuterWidth(this.reorderIndicatorUp),this.iconHeight=this.domHandler.getHiddenElementOuterHeight(this.reorderIndicatorUp)},t.prototype.findParentHeader=function(t){if("TH"==t.nodeName)return t;for(var e=t.parentElement;"TH"!=e.nodeName&&(e=e.parentElement););return e},t.prototype.hasFooter=function(){if(this.footerColumnGroups.first)return!0;if(this.columns)for(var t=0;t<this.columns.length;t++)if(this.columns[t].footer||this.columns[t].footerTemplate)return!0;return!1},t.prototype.isEmpty=function(){return!this.dataToRender||0==this.dataToRender.length},t.prototype.createLazyLoadMetadata=function(){return this.enableLoader&&(this.loading=!0),{first:this.first,rows:this.virtualScroll?2*this.rows:this.rows,sortField:this.sortField,sortOrder:this.sortOrder,filters:this.filters,globalFilter:this.globalFilter?this.globalFilter.value:null,multiSortMeta:this.multiSortMeta}},t.prototype.toggleRow=function(t,e){this.expandedRows||(this.expandedRows=[]);var i=this.findExpandedRowIndex(t);-1!=i?(this.expandedRows.splice(i,1),this.onRowCollapse.emit({originalEvent:e,data:t})):("single"===this.rowExpandMode&&(this.expandedRows=[]),this.expandedRows.push(t),this.onRowExpand.emit({originalEvent:e,data:t})),e&&e.preventDefault()},t.prototype.findExpandedRowIndex=function(t){var e=-1;if(this.expandedRows)for(var i=0;i<this.expandedRows.length;i++)if(this.expandedRows[i]==t){e=i;break}return e},t.prototype.isRowExpanded=function(t){return-1!=this.findExpandedRowIndex(t)},t.prototype.findExpandedRowGroupIndex=function(t){var e=-1;if(this.expandedRowsGroups&&this.expandedRowsGroups.length)for(var i=0;i<this.expandedRowsGroups.length;i++){var n=this.expandedRowsGroups[i],o=this.resolveFieldData(t,this.groupField);if(o===n){e=i;break}}return e},t.prototype.isRowGroupExpanded=function(t){return-1!=this.findExpandedRowGroupIndex(t)},t.prototype.toggleRowGroup=function(t,e){this.rowGroupToggleClick=!0;var i=this.findExpandedRowGroupIndex(e),n=this.resolveFieldData(e,this.groupField);i>=0?(this.expandedRowsGroups.splice(i,1),this.onRowGroupCollapse.emit({originalEvent:t,group:n})):(this.expandedRowsGroups=this.expandedRowsGroups||[],this.expandedRowsGroups.push(n),this.onRowGroupExpand.emit({originalEvent:t,group:n})),t.preventDefault()},t.prototype.reset=function(){this.sortField=null,this.sortOrder=1,this.filteredValue=null,this.filters={},this._first=0,this.firstChange.emit(this._first),this.updateTotalRecords(),this.lazy?this.onLazyLoad.emit(this.createLazyLoadMetadata()):this.updateDataToRender(this.value)},t.prototype.exportCSV=function(t){var e=this,i=this.filteredValue||this.value,n="\ufeff";t&&t.selectionOnly&&(i=this.selection||[]);for(var o=0;o<this.columns.length;o++)this.columns[o].field&&(n+='"'+(this.columns[o].header||this.columns[o].field)+'"',o<this.columns.length-1&&(n+=this.csvSeparator));i.forEach(function(t,i){n+="\n";for(var o=0;o<e.columns.length;o++)e.columns[o].field&&(n+='"'+e.resolveFieldData(t,e.columns[o].field)+'"',o<e.columns.length-1&&(n+=e.csvSeparator))});var r=new Blob([n],{type:"text/csv;charset=utf-8;"});if(window.navigator.msSaveOrOpenBlob)navigator.msSaveOrOpenBlob(r,this.exportFilename+".csv");else{var s=document.createElement("a");s.style.display="none",document.body.appendChild(s),void 0!==s.download?(s.setAttribute("href",URL.createObjectURL(r)),s.setAttribute("download",this.exportFilename+".csv"),s.click()):(n="data:text/csv;charset=utf-8,"+n,window.open(encodeURI(n))),document.body.removeChild(s)}},t.prototype.getBlockableElement=function(){return this.el.nativeElement.children[0]},t.prototype.getRowStyleClass=function(t,e){var i="ui-widget-content";if(this.rowStyleClass){var n=this.rowStyleClass.call(this,t,e);n&&(i+=" "+n)}else if(this.rowStyleMap&&this.dataKey){var n=this.rowStyleMap[t[this.dataKey]];n&&(i+=" "+n)}return i},t.prototype.visibleColumns=function(){return this.columns?this.columns.filter(function(t){return!t.hidden}):[]},Object.defineProperty(t.prototype,"containerWidth",{get:function(){return this.scrollable?this.scrollWidth?this.scrollWidth:this.frozenWidth&&this.unfrozenWidth?parseFloat(this.frozenWidth)+parseFloat(this.unfrozenWidth)+"px":void 0:this.style?this.style.width:null},enumerable:!0,configurable:!0}),t.prototype.hasFrozenColumns=function(){return this.frozenColumns&&this.frozenColumns.length>0},t.prototype.ngOnDestroy=function(){this.globalFilterFunction&&this.globalFilterFunction(),this.resizableColumns&&this.unbindColumnResizeEvents(),this.unbindDocumentEditListener(),this.columnsSubscription&&this.columnsSubscription.unsubscribe()},t}();n([s.Input(),o("design:type",Boolean)],x.prototype,"paginator",void 0),n([s.Input(),o("design:type",Number)],x.prototype,"rows",void 0),n([s.Input(),o("design:type",Number)],x.prototype,"pageLinks",void 0),n([s.Input(),o("design:type",Array)],x.prototype,"rowsPerPageOptions",void 0),n([s.Input(),o("design:type",Boolean)],x.prototype,"responsive",void 0),n([s.Input(),o("design:type",Boolean)],x.prototype,"stacked",void 0),n([s.Input(),o("design:type",String)],x.prototype,"selectionMode",void 0),n([s.Output(),o("design:type",s.EventEmitter)],x.prototype,"selectionChange",void 0),n([s.Input(),o("design:type",Boolean)],x.prototype,"editable",void 0),n([s.Output(),o("design:type",s.EventEmitter)],x.prototype,"onRowClick",void 0),n([s.Output(),o("design:type",s.EventEmitter)],x.prototype,"onRowSelect",void 0),n([s.Output(),o("design:type",s.EventEmitter)],x.prototype,"onRowUnselect",void 0),n([s.Output(),o("design:type",s.EventEmitter)],x.prototype,"onRowDblclick",void 0),n([s.Output(),o("design:type",s.EventEmitter)],x.prototype,"onHeaderCheckboxToggle",void 0),n([s.Input(),o("design:type",Boolean)],x.prototype,"headerCheckboxToggleAllPages",void 0),n([s.Output(),o("design:type",s.EventEmitter)],x.prototype,"onContextMenuSelect",void 0),n([s.Input(),o("design:type",Number)],x.prototype,"filterDelay",void 0),n([s.Input(),o("design:type",Boolean)],x.prototype,"lazy",void 0),n([s.Output(),o("design:type",s.EventEmitter)],x.prototype,"onLazyLoad",void 0),n([s.Input(),o("design:type",Boolean)],x.prototype,"resizableColumns",void 0),n([s.Input(),o("design:type",String)],x.prototype,"columnResizeMode",void 0),n([s.Output(),o("design:type",s.EventEmitter)],x.prototype,"onColResize",void 0),n([s.Input(),o("design:type",Boolean)],x.prototype,"reorderableColumns",void 0),n([s.Output(),o("design:type",s.EventEmitter)],x.prototype,"onColReorder",void 0),n([s.Input(),o("design:type",Boolean)],x.prototype,"scrollable",void 0),n([s.Input(),o("design:type",Boolean)],x.prototype,"virtualScroll",void 0),n([s.Input(),o("design:type",Object)],x.prototype,"scrollHeight",void 0),n([s.Input(),o("design:type",Object)],x.prototype,"scrollWidth",void 0),n([s.Input(),o("design:type",Object)],x.prototype,"frozenWidth",void 0),n([s.Input(),o("design:type",Object)],x.prototype,"unfrozenWidth",void 0),n([s.Input(),o("design:type",Object)],x.prototype,"style",void 0),n([s.Input(),o("design:type",String)],x.prototype,"styleClass",void 0),n([s.Input(),o("design:type",Object)],x.prototype,"tableStyle",void 0),n([s.Input(),o("design:type",String)],x.prototype,"tableStyleClass",void 0),n([s.Input(),o("design:type",Object)],x.prototype,"globalFilter",void 0),n([s.Input(),o("design:type",String)],x.prototype,"sortMode",void 0),n([s.Input(),o("design:type",String)],x.prototype,"sortField",void 0),n([s.Input(),o("design:type",Number)],x.prototype,"sortOrder",void 0),n([s.Input(),o("design:type",Number)],x.prototype,"defaultSortOrder",void 0),n([s.Input(),o("design:type",String)],x.prototype,"groupField",void 0),n([s.Input(),o("design:type",Array)],x.prototype,"multiSortMeta",void 0),n([s.Input(),o("design:type",Object)],x.prototype,"contextMenu",void 0),n([s.Input(),o("design:type",String)],x.prototype,"csvSeparator",void 0),n([s.Input(),o("design:type",String)],x.prototype,"exportFilename",void 0),n([s.Input(),o("design:type",String)],x.prototype,"emptyMessage",void 0),n([s.Input(),o("design:type",String)],x.prototype,"paginatorPosition",void 0),n([s.Input(),o("design:type",Boolean)],x.prototype,"alwaysShowPaginator",void 0),n([s.Input(),o("design:type",Boolean)],x.prototype,"metaKeySelection",void 0),n([s.Input(),o("design:type",Function)],x.prototype,"rowTrackBy",void 0),n([s.Input(),o("design:type",Boolean)],x.prototype,"immutable",void 0),n([s.Input(),o("design:type",Array)],x.prototype,"frozenValue",void 0),n([s.Input(),o("design:type",String)],x.prototype,"compareSelectionBy",void 0),n([s.Output(),o("design:type",s.EventEmitter)],x.prototype,"onEditInit",void 0),n([s.Output(),o("design:type",s.EventEmitter)],x.prototype,"onEditComplete",void 0),n([s.Output(),o("design:type",s.EventEmitter)],x.prototype,"onEdit",void 0),n([s.Output(),o("design:type",s.EventEmitter)],x.prototype,"onEditCancel",void 0),n([s.Output(),o("design:type",s.EventEmitter)],x.prototype,"onPage",void 0),n([s.Output(),o("design:type",s.EventEmitter)],x.prototype,"onSort",void 0),n([s.Output(),o("design:type",s.EventEmitter)],x.prototype,"onFilter",void 0),n([s.ContentChild(c.Header),o("design:type",Object)],x.prototype,"header",void 0),n([s.ContentChild(c.Footer),o("design:type",Object)],x.prototype,"footer",void 0),n([s.Input(),o("design:type",Boolean)],x.prototype,"expandableRows",void 0),n([s.Input(),o("design:type",Array)],x.prototype,"expandedRows",void 0),n([s.Input(),o("design:type",Boolean)],x.prototype,"expandableRowGroups",void 0),n([s.Input(),o("design:type",String)],x.prototype,"rowExpandMode",void 0),n([s.Input(),o("design:type",Array)],x.prototype,"expandedRowsGroups",void 0),n([s.Input(),o("design:type",String)],x.prototype,"expandedIcon",void 0),n([s.Input(),o("design:type",String)],x.prototype,"collapsedIcon",void 0),n([s.Input(),o("design:type",Number)],x.prototype,"tabindex",void 0),n([s.Input(),o("design:type",Function)],x.prototype,"rowStyleClass",void 0),n([s.Input(),o("design:type",Object)],x.prototype,"rowStyleMap",void 0),n([s.Input(),o("design:type",String)],x.prototype,"rowGroupMode",void 0),n([s.Input(),o("design:type",Boolean)],x.prototype,"sortableRowGroup",void 0),n([s.Input(),o("design:type",String)],x.prototype,"sortFile",void 0),n([s.Input(),o("design:type",Boolean)],x.prototype,"rowHover",void 0),n([s.Input(),o("design:type",Object)],x.prototype,"filters",void 0),n([s.Input(),o("design:type",String)],x.prototype,"dataKey",void 0),n([s.Input(),o("design:type",Boolean)],x.prototype,"loading",void 0),n([s.Input(),o("design:type",String)],x.prototype,"loadingIcon",void 0),n([s.Input(),o("design:type",Boolean)],x.prototype,"enableLoader",void 0),n([s.Input(),o("design:type",Number)],x.prototype,"virtualScrollDelay",void 0),n([s.Output(),o("design:type",s.EventEmitter)],x.prototype,"valueChange",void 0),n([s.Output(),o("design:type",s.EventEmitter)],x.prototype,"firstChange",void 0),n([s.Output(),o("design:type",s.EventEmitter)],x.prototype,"onRowExpand",void 0),n([s.Output(),o("design:type",s.EventEmitter)],x.prototype,"onRowCollapse",void 0),n([s.Output(),o("design:type",s.EventEmitter)],x.prototype,"onRowGroupExpand",void 0),n([s.Output(),o("design:type",s.EventEmitter)],x.prototype,"onRowGroupCollapse",void 0),n([s.ContentChildren(c.PrimeTemplate),o("design:type",s.QueryList)],x.prototype,"templates",void 0),n([s.ContentChildren(c.Column),o("design:type",s.QueryList)],x.prototype,"cols",void 0),n([s.ContentChildren(c.HeaderColumnGroup),o("design:type",s.QueryList)],x.prototype,"headerColumnGroups",void 0),n([s.ContentChildren(c.FooterColumnGroup),o("design:type",s.QueryList)],x.prototype,"footerColumnGroups",void 0),n([s.Input(),o("design:type",Array),o("design:paramtypes",[Array])],x.prototype,"value",null),n([s.Input(),o("design:type",Number),o("design:paramtypes",[Number])],x.prototype,"first",null),n([s.Input(),o("design:type",Number),o("design:paramtypes",[Number])],x.prototype,"totalRecords",null),n([s.Input(),o("design:type",Object),o("design:paramtypes",[Object])],x.prototype,"selection",null),x=n([s.Component({selector:"p-dataTable",template:'\n        <div [ngStyle]="style" [class]="styleClass" [style.width]="containerWidth"\n            [ngClass]="{\'ui-datatable ui-widget\':true,\'ui-datatable-reflow\':responsive,\'ui-datatable-stacked\':stacked,\'ui-datatable-resizable\':resizableColumns,\'ui-datatable-scrollable\':scrollable}">\n            <div class="ui-datatable-loading ui-widget-overlay" *ngIf="loading"></div>\n            <div class="ui-datatable-loading-content" *ngIf="loading">\n                <i [class]="\'fa fa-spin fa-2x \' + loadingIcon"></i>\n            </div>\n            <div class="ui-datatable-header ui-widget-header" *ngIf="header">\n                <ng-content select="p-header"></ng-content>\n            </div>\n            <p-paginator [rows]="rows" [first]="first" [totalRecords]="totalRecords" [pageLinkSize]="pageLinks" styleClass="ui-paginator-top" [alwaysShow]="alwaysShowPaginator"\n                (onPageChange)="onPageChange($event)" [rowsPerPageOptions]="rowsPerPageOptions" *ngIf="paginator && paginatorPosition ==\'top\' || paginatorPosition ==\'both\'"></p-paginator>\n            <div class="ui-datatable-tablewrapper" *ngIf="!scrollable">\n                <table [ngClass]="tableStyleClass" [ngStyle]="tableStyle">\n                    <thead class="ui-datatable-thead">\n                        <tr *ngIf="!headerColumnGroups.first" class="ui-state-default" [pColumnHeaders]="columns"></tr>\n                        <ng-template [ngIf]="headerColumnGroups.first">\n                            <tr *ngFor="let headerRow of headerColumnGroups.first.rows" class="ui-state-default" [pColumnHeaders]="headerRow.columns"></tr>\n                        </ng-template>\n                    </thead>\n                    <tfoot *ngIf="hasFooter()" class="ui-datatable-tfoot">\n                        <tr *ngIf="!footerColumnGroups.first" class="ui-state-default" [pColumnFooters]="columns"></tr>\n                        <ng-template [ngIf]="footerColumnGroups.first">\n                            <tr *ngFor="let footerRow of footerColumnGroups.first.rows" class="ui-state-default" [pColumnFooters]="footerRow.columns"></tr>\n                        </ng-template>\n                    </tfoot>\n                    <tbody [ngClass]="{\'ui-datatable-data ui-widget-content\': true, \'ui-datatable-hoverable-rows\': (rowHover||selectionMode)}" [pTableBody]="columns" [data]="dataToRender"></tbody>\n                </table>\n            </div>\n            \n            <ng-template [ngIf]="scrollable">\n                <div class="ui-datatable-scrollable-wrapper ui-helper-clearfix" [ngClass]="{\'max-height\':scrollHeight}">\n                    <div *ngIf="hasFrozenColumns()" [pScrollableView]="frozenColumns" frozen="true"\n                        [headerColumnGroup]="frozenHeaderColumnGroup" [footerColumnGroup]="frozenFooterColumnGroup" \n                        [ngStyle]="{\'width\':this.frozenWidth}" class="ui-datatable-scrollable-view ui-datatable-frozen-view"></div>\n                    <div [pScrollableView]="scrollableColumns" [ngStyle]="{\'width\':this.unfrozenWidth, \'left\': this.frozenWidth}"\n                        [headerColumnGroup]="scrollableHeaderColumnGroup" [footerColumnGroup]="scrollableFooterColumnGroup" \n                        class="ui-datatable-scrollable-view" [virtualScroll]="virtualScroll" (onVirtualScroll)="onVirtualScroll($event)"\n                        [ngClass]="{\'ui-datatable-unfrozen-view\': hasFrozenColumns()}"></div>\n                </div>\n            </ng-template>\n            \n            <p-paginator [rows]="rows" [first]="first" [totalRecords]="totalRecords" [pageLinkSize]="pageLinks" styleClass="ui-paginator-bottom" [alwaysShow]="alwaysShowPaginator"\n                (onPageChange)="onPageChange($event)" [rowsPerPageOptions]="rowsPerPageOptions" *ngIf="paginator && paginatorPosition ==\'bottom\' || paginatorPosition ==\'both\'"></p-paginator>\n            <div class="ui-datatable-footer ui-widget-header" *ngIf="footer">\n                <ng-content select="p-footer"></ng-content>\n            </div>\n            \n            <div class="ui-column-resizer-helper ui-state-highlight" style="display:none"></div>\n            <span class="fa fa-arrow-down ui-datatable-reorder-indicator-up" style="position: absolute; display: none;"></span>\n            <span class="fa fa-arrow-up ui-datatable-reorder-indicator-down" style="position: absolute; display: none;"></span>\n        </div>\n    ',providers:[d.DomHandler,p.ObjectUtils]}),o("design:paramtypes",[s.ElementRef,d.DomHandler,s.IterableDiffers,s.Renderer2,s.ChangeDetectorRef,p.ObjectUtils,s.NgZone])],x),e.DataTable=x;var C=function(){function t(){}return t}();C=n([s.NgModule({imports:[a.CommonModule,h.SharedModule,u.PaginatorModule,l.FormsModule],exports:[x,h.SharedModule],declarations:[x,f,y,v,m,b,w,g]})],C),e.DataTableModule=C},function(t,e,i){"use strict";var n=this&&this.__decorate||function(t,e,i,n){var o,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,i,s):o(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};Object.defineProperty(e,"__esModule",{value:!0});var r=i(0),s=i(1),a=i(3),l=function(){function t(t,e,i,n){this.el=t,this.domHandler=e,this.renderer=i,this.viewContainer=n,this.onLoad=new r.EventEmitter}return t.prototype.ngAfterViewInit=function(){var t=this;this.shouldLoad()&&this.load(),this.documentScrollListener=this.renderer.listen("window","scroll",function(){t.shouldLoad()&&(t.load(),t.documentScrollListener(),t.documentScrollListener=null)})},t.prototype.shouldLoad=function(){var t=this.el.nativeElement.getBoundingClientRect(),e=document.documentElement;window.pageYOffset||document.documentElement.scrollTop;return e.clientHeight>=t.top},t.prototype.load=function(){this.view=this.viewContainer.createEmbeddedView(this.template),this.onLoad.emit()},t.prototype.ngOnDestroy=function(){this.view=null,this.documentScrollListener&&this.documentScrollListener()},t}();n([r.Output(),o("design:type",r.EventEmitter)],l.prototype,"onLoad",void 0),n([r.ContentChild(r.TemplateRef),o("design:type",r.TemplateRef)],l.prototype,"template",void 0),l=n([r.Directive({selector:"[pDefer]",host:{},providers:[a.DomHandler]}),o("design:paramtypes",[r.ElementRef,a.DomHandler,r.Renderer2,r.ViewContainerRef])],l),e.DeferredLoader=l;var h=function(){function t(){}return t}();h=n([r.NgModule({imports:[s.CommonModule],exports:[l],declarations:[l]})],h),e.DeferModule=h},function(t,e,i){"use strict";var n=this&&this.__decorate||function(t,e,i,n){var o,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,i,s):o(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};Object.defineProperty(e,"__esModule",{value:!0});var r=i(0),s=i(7),a=i(1),l=i(3),h=i(4),u=i(9),c=i(26),d=function(){function t(t,e,i,n,o){var s=this;this.el=t,this.domHandler=e,this.renderer=i,this.confirmationService=n,this.zone=o,this.acceptIcon="fa-check",this.acceptLabel="Yes",this.acceptVisible=!0,this.rejectIcon="fa-close",this.rejectLabel="No",this.rejectVisible=!0,this.closeOnEscape=!0,this.closable=!0,this.responsive=!0,this.subscription=n.requireConfirmation$.subscribe(function(t){t.key===s.key&&(s.confirmation=t,s.message=s.confirmation.message||s.message,s.icon=s.confirmation.icon||s.icon,s.header=s.confirmation.header||s.header,s.rejectVisible=null==s.confirmation.rejectVisible?s.rejectVisible:s.confirmation.rejectVisible,s.acceptVisible=null==s.confirmation.acceptVisible?s.acceptVisible:s.confirmation.acceptVisible,s.confirmation.accept&&(s.confirmation.acceptEvent=new r.EventEmitter,s.confirmation.acceptEvent.subscribe(s.confirmation.accept)),s.confirmation.reject&&(s.confirmation.rejectEvent=new r.EventEmitter,s.confirmation.rejectEvent.subscribe(s.confirmation.reject)),s.visible=!0)})}return Object.defineProperty(t.prototype,"visible",{get:function(){return this._visible},set:function(t){this._visible=t,this._visible&&(this.positionInitialized||(this.center(),this.positionInitialized=!0),this.el.nativeElement.children[0].style.zIndex=++l.DomHandler.zindex,this.bindGlobalListeners(),this.executePostShowActions=!0),this._visible?this.enableModality():this.disableModality()},enumerable:!0,configurable:!0}),t.prototype.ngAfterViewInit=function(){this.contentContainer=this.domHandler.findSingle(this.el.nativeElement,".ui-dialog-content"),this.appendTo&&("body"===this.appendTo?document.body.appendChild(this.el.nativeElement):this.domHandler.appendChild(this.el.nativeElement,this.appendTo))},t.prototype.ngAfterViewChecked=function(){this.executePostShowActions&&(this.domHandler.findSingle(this.el.nativeElement.children[0],"button").focus(),this.executePostShowActions=!1)},t.prototype.center=function(){var t=this.el.nativeElement.children[0],e=this.domHandler.getOuterWidth(t),i=this.domHandler.getOuterHeight(t);0==e&&0==i&&(t.style.visibility="hidden",t.style.display="block",e=this.domHandler.getOuterWidth(t),i=this.domHandler.getOuterHeight(t),t.style.display="none",t.style.visibility="visible");var n=this.domHandler.getViewport(),o=(n.width-e)/2,r=(n.height-i)/2;t.style.left=o+"px",t.style.top=r+"px"},t.prototype.enableModality=function(){this.mask||(this.mask=document.createElement("div"),this.mask.style.zIndex=this.el.nativeElement.children[0].style.zIndex-1,this.domHandler.addMultipleClasses(this.mask,"ui-widget-overlay ui-dialog-mask"),document.body.appendChild(this.mask),this.domHandler.addClass(document.body,"ui-overflow-hidden"))},t.prototype.disableModality=function(){this.mask&&(document.body.removeChild(this.mask),this.domHandler.removeClass(document.body,"ui-overflow-hidden"),this.mask=null)},t.prototype.close=function(t){this.confirmation.rejectEvent&&this.confirmation.rejectEvent.emit(),this.hide(),t.preventDefault()},t.prototype.hide=function(){this.visible=!1,this.unbindGlobalListeners()},t.prototype.moveOnTop=function(){this.el.nativeElement.children[0].style.zIndex=++l.DomHandler.zindex},t.prototype.bindGlobalListeners=function(){var t=this;this.closeOnEscape&&this.closable&&!this.documentEscapeListener&&(this.documentEscapeListener=this.renderer.listen("document","keydown",function(e){27==e.which&&t.el.nativeElement.children[0].style.zIndex==l.DomHandler.zindex&&t.visible&&t.close(e)})),this.responsive&&this.zone.runOutsideAngular(function(){t.documentResponsiveListener=t.center.bind(t),window.addEventListener("resize",t.documentResponsiveListener)})},t.prototype.unbindGlobalListeners=function(){this.documentEscapeListener&&(this.documentEscapeListener(),this.documentEscapeListener=null),this.documentResponsiveListener&&(window.removeEventListener("resize",this.documentResponsiveListener),this.documentResponsiveListener=null)},t.prototype.ngOnDestroy=function(){this.disableModality(),this.documentResponsiveListener&&this.documentResponsiveListener(),this.documentEscapeListener&&this.documentEscapeListener(),this.appendTo&&"body"===this.appendTo&&document.body.removeChild(this.el.nativeElement),this.subscription.unsubscribe()},t.prototype.accept=function(){this.confirmation.acceptEvent&&this.confirmation.acceptEvent.emit(),this.hide(),this.confirmation=null},t.prototype.reject=function(){this.confirmation.rejectEvent&&this.confirmation.rejectEvent.emit(),this.hide(),this.confirmation=null},t}();n([r.Input(),o("design:type",String)],d.prototype,"header",void 0),n([r.Input(),o("design:type",String)],d.prototype,"icon",void 0),n([r.Input(),o("design:type",String)],d.prototype,"message",void 0),n([r.Input(),o("design:type",String)],d.prototype,"acceptIcon",void 0),n([r.Input(),o("design:type",String)],d.prototype,"acceptLabel",void 0),n([r.Input(),o("design:type",Boolean)],d.prototype,"acceptVisible",void 0),n([r.Input(),o("design:type",String)],d.prototype,"rejectIcon",void 0),n([r.Input(),o("design:type",String)],d.prototype,"rejectLabel",void 0),n([r.Input(),o("design:type",Boolean)],d.prototype,"rejectVisible",void 0),n([r.Input(),o("design:type",Object)],d.prototype,"width",void 0),n([r.Input(),o("design:type",Object)],d.prototype,"height",void 0),n([r.Input(),o("design:type",Boolean)],d.prototype,"closeOnEscape",void 0),n([r.Input(),o("design:type",Boolean)],d.prototype,"rtl",void 0),n([r.Input(),o("design:type",Boolean)],d.prototype,"closable",void 0),n([r.Input(),o("design:type",Boolean)],d.prototype,"responsive",void 0),n([r.Input(),o("design:type",Object)],d.prototype,"appendTo",void 0),n([r.Input(),o("design:type",String)],d.prototype,"key",void 0),n([r.ContentChild(h.Footer),o("design:type",Object)],d.prototype,"footer",void 0),n([r.Input(),o("design:type",Boolean),o("design:paramtypes",[Boolean])],d.prototype,"visible",null),d=n([r.Component({selector:"p-confirmDialog",template:'\n        <div [ngClass]="{\'ui-dialog ui-confirmdialog ui-widget ui-widget-content ui-corner-all ui-shadow\':true,\'ui-dialog-rtl\':rtl}" \n            [style.display]="visible ? \'block\' : \'none\'" [style.width.px]="width" [style.height.px]="height" (mousedown)="moveOnTop()" [@dialogState]="visible ? \'visible\' : \'hidden\'">\n            <div class="ui-dialog-titlebar ui-widget-header ui-helper-clearfix ui-corner-top">\n                <span class="ui-dialog-title" *ngIf="header">{{header}}</span>\n                <a *ngIf="closable" [ngClass]="{\'ui-dialog-titlebar-icon ui-dialog-titlebar-close ui-corner-all\':true}" href="#" role="button" (click)="close($event)">\n                    <span class="fa fa-fw fa-close"></span>\n                </a>\n            </div>\n            <div class="ui-dialog-content ui-widget-content">\n                <i [ngClass]="\'fa\'" [class]="icon" *ngIf="icon"></i>\n                <span class="ui-confirmdialog-message" [innerHTML]="message"></span>\n            </div>\n            <div class="ui-dialog-footer ui-widget-content" *ngIf="footer">\n                <ng-content select="p-footer"></ng-content>\n            </div>\n            <div class="ui-dialog-footer ui-widget-content" *ngIf="!footer">\n                <button type="button" pButton [icon]="acceptIcon" [label]="acceptLabel" (click)="accept()" *ngIf="acceptVisible"></button>\n                <button type="button" pButton [icon]="rejectIcon" [label]="rejectLabel" (click)="reject()" *ngIf="rejectVisible"></button>\n            </div>\n        </div>\n    ',animations:[s.trigger("dialogState",[s.state("hidden",s.style({opacity:0})),s.state("visible",s.style({opacity:1})),s.transition("visible => hidden",s.animate("400ms ease-in")),s.transition("hidden => visible",s.animate("400ms ease-out"))])],providers:[l.DomHandler]}),o("design:paramtypes",[r.ElementRef,l.DomHandler,r.Renderer2,c.ConfirmationService,r.NgZone])],d),e.ConfirmDialog=d;var p=function(){function t(){}return t}();p=n([r.NgModule({imports:[a.CommonModule,u.ButtonModule],exports:[d,u.ButtonModule,h.SharedModule],declarations:[d]})],p),e.ConfirmDialogModule=p},function(t,e,i){"use strict";var n=this&&this.__decorate||function(t,e,i,n){var o,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,i,s):o(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};Object.defineProperty(e,"__esModule",{value:!0});var r=i(0),s=i(7),a=i(1),l=i(3),h=i(4),u=function(){function t(t,e,i,n){this.el=t,this.domHandler=e,this.renderer=i,this.zone=n,this.draggable=!0,this.resizable=!0,this.minWidth=150,this.minHeight=150,this.closeOnEscape=!0,this.closable=!0,this.responsive=!0,this.showHeader=!0,this.breakpoint=640,this.blockScroll=!1,this.onShow=new r.EventEmitter,this.onHide=new r.EventEmitter,this.visibleChange=new r.EventEmitter}return Object.defineProperty(t.prototype,"visible",{get:function(){return this._visible},set:function(t){this._visible=t,this.initialized&&this.containerViewChild&&this.containerViewChild.nativeElement&&(this._visible?this.show():this.preventVisibleChangePropagation?this.preventVisibleChangePropagation=!1:this.hide())},enumerable:!0,configurable:!0}),t.prototype.ngAfterViewChecked=function(){this.executePostDisplayActions&&(this.onShow.emit({}),this.positionOverlay(),this.executePostDisplayActions=!1)},t.prototype.show=function(){this.executePostDisplayActions=!0,this.containerViewChild.nativeElement.style.zIndex=String(++l.DomHandler.zindex),this.bindGlobalListeners(),this.modal&&this.enableModality()},t.prototype.positionOverlay=function(){var t=this.domHandler.getViewport();this.domHandler.getOuterHeight(this.containerViewChild.nativeElement)>t.height&&(this.contentViewChild.nativeElement.style.height=.75*t.height+"px"),this.positionLeft>=0&&this.positionTop>=0?(this.containerViewChild.nativeElement.style.left=this.positionLeft+"px",this.containerViewChild.nativeElement.style.top=this.positionTop+"px"):this.positionTop>=0?(this.center(),this.containerViewChild.nativeElement.style.top=this.positionTop+"px"):this.center()},t.prototype.hide=function(){this.onHide.emit({}),this.unbindMaskClickListener(),this.unbindGlobalListeners(),this.modal&&this.disableModality()},t.prototype.close=function(t){this.preventVisibleChangePropagation=!0,this.hide(),this.visibleChange.emit(!1),t.preventDefault()},t.prototype.ngAfterViewInit=function(){this.initialized=!0,this.appendTo&&("body"===this.appendTo?document.body.appendChild(this.containerViewChild.nativeElement):this.domHandler.appendChild(this.containerViewChild.nativeElement,this.appendTo)),this.visible&&this.show()},t.prototype.center=function(){var t=this.domHandler.getOuterWidth(this.containerViewChild.nativeElement),e=this.domHandler.getOuterHeight(this.containerViewChild.nativeElement);0==t&&0==e&&(this.containerViewChild.nativeElement.style.visibility="hidden",this.containerViewChild.nativeElement.style.display="block",t=this.domHandler.getOuterWidth(this.containerViewChild.nativeElement),e=this.domHandler.getOuterHeight(this.containerViewChild.nativeElement),this.containerViewChild.nativeElement.style.display="none",this.containerViewChild.nativeElement.style.visibility="visible");var i=this.domHandler.getViewport(),n=Math.max((i.width-t)/2,0),o=Math.max((i.height-e)/2,0);this.containerViewChild.nativeElement.style.left=n+"px",this.containerViewChild.nativeElement.style.top=o+"px"},t.prototype.enableModality=function(){var t=this;this.mask||(this.mask=document.createElement("div"),this.mask.style.zIndex=String(parseInt(this.containerViewChild.nativeElement.style.zIndex)-1),this.domHandler.addMultipleClasses(this.mask,"ui-widget-overlay ui-dialog-mask"),this.closable&&this.dismissableMask&&(this.maskClickListener=this.renderer.listen(this.mask,"click",function(e){t.close(e)})),document.body.appendChild(this.mask),this.blockScroll&&this.domHandler.addClass(document.body,"ui-overflow-hidden"))},t.prototype.disableModality=function(){this.mask&&(document.body.removeChild(this.mask),this.blockScroll&&this.domHandler.removeClass(document.body,"ui-overflow-hidden"),this.mask=null)},t.prototype.unbindMaskClickListener=function(){this.maskClickListener&&(this.maskClickListener(),this.maskClickListener=null)},t.prototype.moveOnTop=function(){this.containerViewChild.nativeElement.style.zIndex=String(++l.DomHandler.zindex)},t.prototype.onCloseMouseDown=function(t){this.closeIconMouseDown=!0},t.prototype.initDrag=function(t){if(this.closeIconMouseDown)return void(this.closeIconMouseDown=!1);this.draggable&&(this.dragging=!0,this.lastPageX=t.pageX,this.lastPageY=t.pageY,this.domHandler.addClass(document.body,"ui-unselectable-text"))},t.prototype.onDrag=function(t){if(this.dragging){var e=t.pageX-this.lastPageX,i=t.pageY-this.lastPageY,n=parseInt(this.containerViewChild.nativeElement.style.left),o=parseInt(this.containerViewChild.nativeElement.style.top);this.containerViewChild.nativeElement.style.left=n+e+"px",this.containerViewChild.nativeElement.style.top=o+i+"px",this.lastPageX=t.pageX,this.lastPageY=t.pageY}},t.prototype.endDrag=function(t){this.draggable&&(this.dragging=!1,this.domHandler.removeClass(document.body,"ui-unselectable-text"))},t.prototype.initResize=function(t){this.resizable&&(this.preWidth=null,this.resizing=!0,this.lastPageX=t.pageX,this.lastPageY=t.pageY,this.domHandler.addClass(document.body,"ui-unselectable-text"))},t.prototype.onResize=function(t){if(this.resizing){var e=t.pageX-this.lastPageX,i=t.pageY-this.lastPageY,n=this.domHandler.getOuterWidth(this.containerViewChild.nativeElement),o=this.domHandler.getOuterHeight(this.containerViewChild.nativeElement),r=this.domHandler.getOuterHeight(this.contentViewChild.nativeElement),s=n+e,a=o+i;s>this.minWidth&&(this.containerViewChild.nativeElement.style.width=s+"px"),a>this.minHeight&&(this.containerViewChild.nativeElement.style.height=a+"px",this.contentViewChild.nativeElement.style.height=r+i+"px"),this.lastPageX=t.pageX,this.lastPageY=t.pageY}},t.prototype.onResizeEnd=function(t){this.resizing&&(this.resizing=!1,this.domHandler.removeClass(document.body,"ui-unselectable-text"))},t.prototype.bindGlobalListeners=function(){this.draggable&&this.bindDocumentDragListener(),this.resizable&&this.bindDocumentResizeListeners(),this.responsive&&this.bindDocumentResponsiveListener(),this.closeOnEscape&&this.closable&&this.bindDocumentEscapeListener()},t.prototype.unbindGlobalListeners=function(){this.unbindDocumentDragListener(),this.unbindDocumentResizeListeners(),this.unbindDocumentResponsiveListener(),this.unbindDocumentEscapeListener()},t.prototype.bindDocumentDragListener=function(){var t=this;this.zone.runOutsideAngular(function(){t.documentDragListener=t.onDrag.bind(t),window.document.addEventListener("mousemove",t.documentDragListener)})},t.prototype.unbindDocumentDragListener=function(){this.documentDragListener&&(window.document.removeEventListener("mousemove",this.documentDragListener),this.documentDragListener=null)},t.prototype.bindDocumentResizeListeners=function(){var t=this;this.zone.runOutsideAngular(function(){t.documentResizeListener=t.onResize.bind(t),t.documentResizeEndListener=t.onResizeEnd.bind(t),window.document.addEventListener("mousemove",t.documentResizeListener),window.document.addEventListener("mouseup",t.documentResizeEndListener)})},t.prototype.unbindDocumentResizeListeners=function(){this.documentResizeListener&&this.documentResizeEndListener&&(window.document.removeEventListener("mouseup",this.documentResizeListener),window.document.removeEventListener("mouseup",this.documentResizeEndListener),this.documentResizeListener=null,this.documentResizeEndListener=null)},t.prototype.bindDocumentResponsiveListener=function(){var t=this;this.zone.runOutsideAngular(function(){t.documentResponsiveListener=t.onWindowResize.bind(t),window.addEventListener("resize",t.documentResponsiveListener)})},t.prototype.unbindDocumentResponsiveListener=function(){this.documentResponsiveListener&&(window.removeEventListener("resize",this.documentResponsiveListener),this.documentResponsiveListener=null)},t.prototype.onWindowResize=function(t){var e=this.domHandler.getViewport(),i=this.domHandler.getOuterWidth(this.containerViewChild.nativeElement);e.width<=this.breakpoint?(this.preWidth||(this.preWidth=i),this.containerViewChild.nativeElement.style.left="0px",this.containerViewChild.nativeElement.style.width="100%"):(this.containerViewChild.nativeElement.style.width=this.preWidth+"px",this.positionOverlay())},t.prototype.bindDocumentEscapeListener=function(){var t=this;this.documentEscapeListener=this.renderer.listen("document","keydown",function(e){27==e.which&&parseInt(t.containerViewChild.nativeElement.style.zIndex)==l.DomHandler.zindex&&t.close(e)})},t.prototype.unbindDocumentEscapeListener=function(){this.documentEscapeListener&&(this.documentEscapeListener(),this.documentEscapeListener=null)},t.prototype.ngOnDestroy=function(){this.initialized=!1,this.disableModality(),this.unbindGlobalListeners(),this.appendTo&&this.el.nativeElement.appendChild(this.containerViewChild.nativeElement),this.unbindMaskClickListener()},t}();n([r.Input(),o("design:type",String)],u.prototype,"header",void 0),n([r.Input(),o("design:type",Boolean)],u.prototype,"draggable",void 0),n([r.Input(),o("design:type",Boolean)],u.prototype,"resizable",void 0),n([r.Input(),o("design:type",Number)],u.prototype,"minWidth",void 0),n([r.Input(),o("design:type",Number)],u.prototype,"minHeight",void 0),n([r.Input(),o("design:type",Object)],u.prototype,"width",void 0),n([r.Input(),o("design:type",Object)],u.prototype,"height",void 0),n([r.Input(),o("design:type",Number)],u.prototype,"positionLeft",void 0),n([r.Input(),o("design:type",Number)],u.prototype,"positionTop",void 0),n([r.Input(),o("design:type",Object)],u.prototype,"contentStyle",void 0),n([r.Input(),o("design:type",Boolean)],u.prototype,"modal",void 0),n([r.Input(),o("design:type",Boolean)],u.prototype,"closeOnEscape",void 0),n([r.Input(),o("design:type",Boolean)],u.prototype,"dismissableMask",void 0),n([r.Input(),o("design:type",Boolean)],u.prototype,"rtl",void 0),n([r.Input(),o("design:type",Boolean)],u.prototype,"closable",void 0),n([r.Input(),o("design:type",Boolean)],u.prototype,"responsive",void 0),n([r.Input(),o("design:type",Object)],u.prototype,"appendTo",void 0),n([r.Input(),o("design:type",Object)],u.prototype,"style",void 0),n([r.Input(),o("design:type",String)],u.prototype,"styleClass",void 0),n([r.Input(),o("design:type",Boolean)],u.prototype,"showHeader",void 0),n([r.Input(),o("design:type",Number)],u.prototype,"breakpoint",void 0),n([r.Input(),o("design:type",Boolean)],u.prototype,"blockScroll",void 0),n([r.ContentChildren(h.Header,{descendants:!1}),o("design:type",r.QueryList)],u.prototype,"headerFacet",void 0),n([r.ContentChildren(h.Footer,{descendants:!1}),o("design:type",r.QueryList)],u.prototype,"footerFacet",void 0),n([r.ViewChild("container"),o("design:type",r.ElementRef)],u.prototype,"containerViewChild",void 0),n([r.ViewChild("titlebar"),o("design:type",r.ElementRef)],u.prototype,"headerViewChild",void 0),n([r.ViewChild("content"),o("design:type",r.ElementRef)],u.prototype,"contentViewChild",void 0),n([r.Output(),o("design:type",r.EventEmitter)],u.prototype,"onShow",void 0),n([r.Output(),o("design:type",r.EventEmitter)],u.prototype,"onHide",void 0),n([r.Output(),o("design:type",r.EventEmitter)],u.prototype,"visibleChange",void 0),n([r.Input(),o("design:type",Boolean),o("design:paramtypes",[Boolean])],u.prototype,"visible",null),u=n([r.Component({selector:"p-dialog",template:'\n        <div #container [ngClass]="{\'ui-dialog ui-widget ui-widget-content ui-corner-all ui-shadow\':true,\'ui-dialog-rtl\':rtl,\'ui-dialog-draggable\':draggable}" [ngStyle]="style" [class]="styleClass"\n            [style.display]="visible ? \'block\' : \'none\'" [style.width.px]="width" [style.height.px]="height" [style.minWidth.px]="minWidth" (mousedown)="moveOnTop()" [@dialogState]="visible ? \'visible\' : \'hidden\'">\n            <div #titlebar class="ui-dialog-titlebar ui-widget-header ui-helper-clearfix ui-corner-top"\n                (mousedown)="initDrag($event)" (mouseup)="endDrag($event)" *ngIf="showHeader">\n                <span class="ui-dialog-title" *ngIf="header">{{header}}</span>\n                <span class="ui-dialog-title" *ngIf="headerFacet && headerFacet.first">\n                    <ng-content select="p-header"></ng-content>\n                </span>\n                <a *ngIf="closable" [ngClass]="{\'ui-dialog-titlebar-icon ui-dialog-titlebar-close ui-corner-all\':true}" href="#" role="button" (click)="close($event)" (mousedown)="onCloseMouseDown($event)">\n                    <span class="fa fa-fw fa-close"></span>\n                </a>\n            </div>\n            <div #content class="ui-dialog-content ui-widget-content" [ngStyle]="contentStyle">\n                <ng-content></ng-content>\n            </div>\n            <div class="ui-dialog-footer ui-widget-content" *ngIf="footerFacet && footerFacet.first">\n                <ng-content select="p-footer"></ng-content>\n            </div>\n            <div *ngIf="resizable" class="ui-resizable-handle ui-resizable-se ui-icon ui-icon-gripsmall-diagonal-se" style="z-index: 90;"\n                (mousedown)="initResize($event)"></div>\n        </div>\n    ',animations:[s.trigger("dialogState",[s.state("hidden",s.style({opacity:0})),s.state("visible",s.style({opacity:1})),s.transition("visible => hidden",s.animate("400ms ease-in")),s.transition("hidden => visible",s.animate("400ms ease-out"))])],providers:[l.DomHandler]}),o("design:paramtypes",[r.ElementRef,l.DomHandler,r.Renderer2,r.NgZone])],u),e.Dialog=u;var c=function(){function t(){}return t}();c=n([r.NgModule({imports:[a.CommonModule],exports:[u,h.SharedModule],declarations:[u]})],c),e.DialogModule=c},function(t,e,i){"use strict";var n=this&&this.__decorate||function(t,e,i,n){var o,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,i,s):o(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};Object.defineProperty(e,"__esModule",{value:!0});var r=i(0),s=i(1),a=i(3),l=function(){function t(t,e){this.el=t,this.domHandler=e,this.onDragStart=new r.EventEmitter,this.onDragEnd=new r.EventEmitter,this.onDrag=new r.EventEmitter}return t.prototype.dragStart=function(t){this.allowDrag()?(this.dragEffect&&(t.dataTransfer.effectAllowed=this.dragEffect),t.dataTransfer.setData("text",this.scope),this.onDragStart.emit(t)):t.preventDefault()},t.prototype.drag=function(t){this.onDrag.emit(t)},t.prototype.dragEnd=function(t){this.onDragEnd.emit(t)},t.prototype.mouseover=function(t){this.handle=t.target},t.prototype.mouseleave=function(t){this.handle=null},t.prototype.allowDrag=function(){return!this.dragHandle||!this.handle||this.domHandler.matches(this.handle,this.dragHandle)},t}();n([r.Input("pDraggable"),o("design:type",String)],l.prototype,"scope",void 0),n([r.Input(),o("design:type",String)],l.prototype,"dragEffect",void 0),n([r.Input(),o("design:type",String)],l.prototype,"dragHandle",void 0),n([r.Output(),o("design:type",r.EventEmitter)],l.prototype,"onDragStart",void 0),n([r.Output(),o("design:type",r.EventEmitter)],l.prototype,"onDragEnd",void 0),n([r.Output(),o("design:type",r.EventEmitter)],l.prototype,"onDrag",void 0),n([r.HostListener("dragstart",["$event"]),o("design:type",Function),o("design:paramtypes",[Object]),o("design:returntype",void 0)],l.prototype,"dragStart",null),n([r.HostListener("drag",["$event"]),o("design:type",Function),o("design:paramtypes",[Object]),o("design:returntype",void 0)],l.prototype,"drag",null),n([r.HostListener("dragend",["$event"]),o("design:type",Function),o("design:paramtypes",[Object]),o("design:returntype",void 0)],l.prototype,"dragEnd",null),n([r.HostListener("mouseover",["$event"]),o("design:type",Function),o("design:paramtypes",[Object]),o("design:returntype",void 0)],l.prototype,"mouseover",null),n([r.HostListener("mouseleave",["$event"]),o("design:type",Function),o("design:paramtypes",[Object]),o("design:returntype",void 0)],l.prototype,"mouseleave",null),l=n([r.Directive({selector:"[pDraggable]",host:{"[draggable]":"true"},providers:[a.DomHandler]}),o("design:paramtypes",[r.ElementRef,a.DomHandler])],l),e.Draggable=l;var h=function(){function t(t,e){this.el=t,this.domHandler=e,this.onDragEnter=new r.EventEmitter,this.onDragLeave=new r.EventEmitter,this.onDrop=new r.EventEmitter,this.onDragOver=new r.EventEmitter}return t.prototype.drop=function(t){this.allowDrop(t)&&(t.preventDefault(),this.onDrop.emit(t))},t.prototype.dragEnter=function(t){t.preventDefault(),this.dropEffect&&(t.dataTransfer.dropEffect=this.dropEffect),this.onDragEnter.emit(t)},t.prototype.dragLeave=function(t){t.preventDefault(),this.onDragLeave.emit(t)},t.prototype.dragOver=function(t){t.preventDefault(),this.onDragOver.emit(t)},t.prototype.allowDrop=function(t){var e=t.dataTransfer.getData("text");if("string"==typeof this.scope&&e==this.scope)return!0;if(this.scope instanceof Array)for(var i=0;i<this.scope.length;i++)if(e==this.scope[i])return!0;return!1},t}();n([r.Input("pDroppable"),o("design:type",Object)],h.prototype,"scope",void 0),n([r.Input(),o("design:type",String)],h.prototype,"dropEffect",void 0),n([r.Output(),o("design:type",r.EventEmitter)],h.prototype,"onDragEnter",void 0),n([r.Output(),o("design:type",r.EventEmitter)],h.prototype,"onDragLeave",void 0),n([r.Output(),o("design:type",r.EventEmitter)],h.prototype,"onDrop",void 0),n([r.Output(),o("design:type",r.EventEmitter)],h.prototype,"onDragOver",void 0),n([r.HostListener("drop",["$event"]),o("design:type",Function),o("design:paramtypes",[Object]),o("design:returntype",void 0)],h.prototype,"drop",null),n([r.HostListener("dragenter",["$event"]),o("design:type",Function),o("design:paramtypes",[Object]),o("design:returntype",void 0)],h.prototype,"dragEnter",null),n([r.HostListener("dragleave",["$event"]),o("design:type",Function),o("design:paramtypes",[Object]),o("design:returntype",void 0)],h.prototype,"dragLeave",null),n([r.HostListener("dragover",["$event"]),o("design:type",Function),o("design:paramtypes",[Object]),o("design:returntype",void 0)],h.prototype,"dragOver",null),h=n([r.Directive({selector:"[pDroppable]",providers:[a.DomHandler]}),o("design:paramtypes",[r.ElementRef,a.DomHandler])],h),e.Droppable=h;var u=function(){function t(){}return t}();u=n([r.NgModule({imports:[s.CommonModule],exports:[l,h],declarations:[l,h]})],u),e.DragDropModule=u},function(t,e,i){"use strict";var n=this&&this.__decorate||function(t,e,i,n){var o,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,i,s):o(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};Object.defineProperty(e,"__esModule",{value:!0});var r=i(0),s=i(7),a=i(1),l=i(4),h=i(3),u=i(10),c=i(5);e.DROPDOWN_VALUE_ACCESSOR={provide:c.NG_VALUE_ACCESSOR,useExisting:r.forwardRef(function(){return d}),multi:!0};var d=function(){function t(t,e,i,n,o,s){this.el=t,this.domHandler=e,this.renderer=i,this.cd=n,this.objectUtils=o,this.zone=s,this.scrollHeight="200px",this.autoWidth=!0,this.filterBy="label",this.lazy=!0,this.resetFilterOnHide=!1,this.onChange=new r.EventEmitter,this.onFocus=new r.EventEmitter,this.onBlur=new r.EventEmitter,this.onModelChange=function(){},this.onModelTouched=function(){},this.panelVisible=!1}return t.prototype.ngAfterContentInit=function(){var t=this;this.templates.forEach(function(e){switch(e.getType()){case"item":default:t.itemTemplate=e.template}})},t.prototype.ngOnInit=function(){this.optionsToDisplay=this.options,this.updateSelectedOption(null)},Object.defineProperty(t.prototype,"options",{get:function(){return this._options},set:function(t){this._options=t,this.optionsToDisplay=this._options,this.updateSelectedOption(this.value),this.optionsChanged=!0,this.filterValue&&this.filterValue.length&&this.activateFilter()},enumerable:!0,configurable:!0}),t.prototype.ngAfterViewInit=function(){this.container=this.containerViewChild.nativeElement,this.panel=this.panelViewChild.nativeElement,this.itemsWrapper=this.itemsWrapperViewChild.nativeElement,this.editable&&this.updateEditableLabel(),this.updateDimensions(),this.initialized=!0,this.appendTo&&("body"===this.appendTo?document.body.appendChild(this.panel):this.domHandler.appendChild(this.panel,this.appendTo))},Object.defineProperty(t.prototype,"label",{get:function(){return this.selectedOption?this.selectedOption.label:null},enumerable:!0,configurable:!0}),t.prototype.updateEditableLabel=function(){this.editableInputViewChild&&this.editableInputViewChild.nativeElement&&(this.editableInputViewChild.nativeElement.value=this.selectedOption?this.selectedOption.label:this.value||"")},t.prototype.onItemClick=function(t,e){this.itemClick=!0,this.selectItem(t,e),this.focusViewChild.nativeElement.focus(),this.hide()},t.prototype.selectItem=function(t,e){this.selectedOption!=e&&(this.selectedOption=e,this.value=e.value,this.onModelChange(this.value),this.updateEditableLabel(),this.onChange.emit({originalEvent:t,value:this.value}))},t.prototype.ngAfterViewChecked=function(){var t=this;if(this.shown&&(this.onShow(),this.shown=!1),this.optionsChanged&&this.panelVisible&&(this.optionsChanged=!1,this.zone.runOutsideAngular(function(){setTimeout(function(){t.updateDimensions(),t.alignPanel()},1)})),this.selectedOptionUpdated&&this.itemsWrapper){this.domHandler.findSingle(this.panel,"li.ui-state-highlight")&&this.domHandler.scrollInView(this.itemsWrapper,this.domHandler.findSingle(this.panel,"li.ui-state-highlight")),this.selectedOptionUpdated=!1}},t.prototype.writeValue=function(t){this.filter&&this.resetFilter(),this.value=t,this.updateSelectedOption(t),this.updateEditableLabel(),this.cd.markForCheck()},t.prototype.resetFilter=function(){this.filterViewChild&&this.filterViewChild.nativeElement&&(this.filterViewChild.nativeElement.value=""),this.optionsToDisplay=this.options},t.prototype.updateSelectedOption=function(t){this.selectedOption=this.findOption(t,this.optionsToDisplay),this.placeholder||this.selectedOption||!this.optionsToDisplay||!this.optionsToDisplay.length||this.editable||(this.selectedOption=this.optionsToDisplay[0]),this.selectedOptionUpdated=!0},t.prototype.registerOnChange=function(t){this.onModelChange=t},t.prototype.registerOnTouched=function(t){this.onModelTouched=t},t.prototype.setDisabledState=function(t){this.disabled=t},t.prototype.updateDimensions=function(){if(this.autoWidth){var t=this.domHandler.findSingle(this.el.nativeElement,"select");this.style&&(this.style.width||this.style["min-width"])||(this.el.nativeElement.children[0].style.width=t.offsetWidth+30+"px")}},t.prototype.onMouseclick=function(t){var e=this;this.disabled||this.readonly||(this.selfClick=!0,this.itemClick||(this.focusViewChild.nativeElement.focus(),this.panelVisible?this.hide():(this.show(),void 0!=this.filterViewChild&&setTimeout(function(){e.filterViewChild.nativeElement.focus()},200))))},t.prototype.onEditableInputClick=function(t){this.itemClick=!0,this.bindDocumentClickListener()},t.prototype.onEditableInputFocus=function(t){this.focus=!0,this.hide()},t.prototype.onEditableInputChange=function(t){this.value=t.target.value,this.updateSelectedOption(this.value),this.onModelChange(this.value),this.onChange.emit({originalEvent:t,value:this.value})},t.prototype.onShow=function(){if(this.options&&this.options.length){this.alignPanel(),this.bindDocumentClickListener();var t=this.domHandler.findSingle(this.itemsWrapper,".ui-dropdown-item.ui-state-highlight");t&&this.domHandler.scrollInView(this.itemsWrapper,t)}},t.prototype.show=function(){this.appendTo&&(this.panel.style.minWidth=this.domHandler.getWidth(this.container)+"px"),this.panel.style.zIndex=String(++h.DomHandler.zindex),this.panelVisible=!0,this.shown=!0},t.prototype.hide=function(){this.panelVisible=!1,this.filter&&this.resetFilterOnHide&&this.resetFilter()},t.prototype.alignPanel=function(){this.appendTo?this.domHandler.absolutePosition(this.panel,this.container):this.domHandler.relativePosition(this.panel,this.container)},t.prototype.onInputFocus=function(t){this.focus=!0,this.onFocus.emit(t)},t.prototype.onInputBlur=function(t){this.focus=!1,this.onModelTouched(),this.onBlur.emit(t)},t.prototype.onKeydown=function(t){if(!this.readonly){var e=this.selectedOption?this.findOptionIndex(this.selectedOption.value,this.optionsToDisplay):-1;switch(t.which){case 40:if(!this.panelVisible&&t.altKey)this.show();else if(-1!==e){var i=e+1;i!=this.optionsToDisplay.length&&(this.selectItem(t,this.optionsToDisplay[i]),this.selectedOptionUpdated=!0)}else this.optionsToDisplay&&this.selectItem(t,this.optionsToDisplay[0]);t.preventDefault();break;case 38:if(e>0){var n=e-1;this.selectItem(t,this.optionsToDisplay[n]),this.selectedOptionUpdated=!0}t.preventDefault();break;case 32:case 32:this.panelVisible||(this.show(),t.preventDefault());break;case 13:this.hide(),t.preventDefault();break;case 27:case 9:this.hide()}}},t.prototype.findOptionIndex=function(t,e){var i=-1;if(e)for(var n=0;n<e.length;n++)if(null==t&&null==e[n].value||this.objectUtils.equals(t,e[n].value,this.dataKey)){i=n;break}return i},t.prototype.findOption=function(t,e){var i=this.findOptionIndex(t,e);return-1!=i?e[i]:null},t.prototype.onFilter=function(t){var e=t.target.value.toLowerCase();e&&e.length?(this.filterValue=e,this.activateFilter()):(this.filterValue=null,this.optionsToDisplay=this.options),this.optionsChanged=!0},t.prototype.activateFilter=function(){var t=this.filterBy.split(",");this.options&&this.options.length&&(this.optionsToDisplay=this.objectUtils.filter(this.options,t,this.filterValue),this.optionsChanged=!0)},t.prototype.applyFocus=function(){this.editable?this.domHandler.findSingle(this.el.nativeElement,".ui-dropdown-label.ui-inputtext").focus():this.domHandler.findSingle(this.el.nativeElement,"input[readonly]").focus()},t.prototype.bindDocumentClickListener=function(){var t=this;this.documentClickListener||(this.documentClickListener=this.renderer.listen("document","click",function(){t.selfClick||t.itemClick||(t.panelVisible=!1,t.unbindDocumentClickListener()),t.selfClick=!1,t.itemClick=!1,t.cd.markForCheck()}))},t.prototype.unbindDocumentClickListener=function(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null)},t.prototype.ngOnDestroy=function(){this.initialized=!1,this.unbindDocumentClickListener(),this.appendTo&&this.el.nativeElement.appendChild(this.panel)},t}();n([r.Input(),o("design:type",String)],d.prototype,"scrollHeight",void 0),n([r.Input(),o("design:type",Boolean)],d.prototype,"filter",void 0),n([r.Input(),o("design:type",Object)],d.prototype,"style",void 0),n([r.Input(),o("design:type",Object)],d.prototype,"panelStyle",void 0),n([r.Input(),o("design:type",String)],d.prototype,"styleClass",void 0),n([r.Input(),o("design:type",String)],d.prototype,"panelStyleClass",void 0),n([r.Input(),o("design:type",Boolean)],d.prototype,"disabled",void 0),n([r.Input(),o("design:type",Boolean)],d.prototype,"readonly",void 0),n([r.Input(),o("design:type",Boolean)],d.prototype,"autoWidth",void 0),n([r.Input(),o("design:type",Boolean)],d.prototype,"required",void 0),n([r.Input(),o("design:type",Boolean)],d.prototype,"editable",void 0),n([r.Input(),o("design:type",Object)],d.prototype,"appendTo",void 0),n([r.Input(),o("design:type",Number)],d.prototype,"tabindex",void 0),n([r.Input(),o("design:type",String)],d.prototype,"placeholder",void 0),n([r.Input(),o("design:type",String)],d.prototype,"filterPlaceholder",void 0),n([r.Input(),o("design:type",String)],d.prototype,"inputId",void 0),n([r.Input(),o("design:type",String)],d.prototype,"dataKey",void 0),n([r.Input(),o("design:type",String)],d.prototype,"filterBy",void 0),n([r.Input(),o("design:type",Boolean)],d.prototype,"lazy",void 0),n([r.Input(),o("design:type",Boolean)],d.prototype,"autofocus",void 0),n([r.Input(),o("design:type",Boolean)],d.prototype,"resetFilterOnHide",void 0),n([r.Output(),o("design:type",r.EventEmitter)],d.prototype,"onChange",void 0),n([r.Output(),o("design:type",r.EventEmitter)],d.prototype,"onFocus",void 0),n([r.Output(),o("design:type",r.EventEmitter)],d.prototype,"onBlur",void 0),n([r.ViewChild("container"),o("design:type",r.ElementRef)],d.prototype,"containerViewChild",void 0),n([r.ViewChild("panel"),o("design:type",r.ElementRef)],d.prototype,"panelViewChild",void 0),n([r.ViewChild("itemswrapper"),o("design:type",r.ElementRef)],d.prototype,"itemsWrapperViewChild",void 0),n([r.ViewChild("filter"),o("design:type",r.ElementRef)],d.prototype,"filterViewChild",void 0),n([r.ViewChild("in"),o("design:type",r.ElementRef)],d.prototype,"focusViewChild",void 0),n([r.ViewChild("editableInput"),o("design:type",r.ElementRef)],d.prototype,"editableInputViewChild",void 0),n([r.ContentChildren(l.PrimeTemplate),o("design:type",r.QueryList)],d.prototype,"templates",void 0),n([r.Input(),o("design:type",Array),o("design:paramtypes",[Array])],d.prototype,"options",null),d=n([r.Component({selector:"p-dropdown",template:'\n         <div #container [ngClass]="{\'ui-dropdown ui-widget ui-state-default ui-corner-all ui-helper-clearfix\':true,\n            \'ui-state-disabled\':disabled,\'ui-dropdown-open\':panelVisible,\'ui-state-focus\':focus}"\n            (click)="onMouseclick($event)" [ngStyle]="style" [class]="styleClass">\n            <div class="ui-helper-hidden-accessible" *ngIf="autoWidth">\n                <select [required]="required" name="options" [attr.aria-label]="selectedOption ? selectedOption.label : \' \'" tabindex="-1" aria-hidden="true">\n                    <option *ngFor="let option of options" [value]="option.value" [selected]="selectedOption == option">{{option.label}}</option>\n                </select>\n            </div>\n            <div class="ui-helper-hidden-accessible">\n                <input #in [attr.id]="inputId" type="text" [attr.aria-label]="selectedOption ? selectedOption.label : \' \'" readonly (focus)="onInputFocus($event)" role="listbox"\n                    (blur)="onInputBlur($event)" (keydown)="onKeydown($event)" [disabled]="disabled" [attr.tabindex]="tabindex" [attr.autofocus]="autofocus">\n            </div>\n            <label [ngClass]="{\'ui-dropdown-label ui-inputtext ui-corner-all\':true,\'ui-dropdown-label-empty\':(label == null || label.length === 0)}" *ngIf="!editable && (label != null)">{{label||\'empty\'}}</label>\n            <label [ngClass]="{\'ui-dropdown-label ui-inputtext ui-corner-all ui-placeholder\':true,\'ui-dropdown-label-empty\': (placeholder == null || placeholder.length === 0)}" *ngIf="!editable && (label == null)">{{placeholder||\'empty\'}}</label>\n            <input #editableInput type="text" [attr.aria-label]="selectedOption ? selectedOption.label : \' \'" class="ui-dropdown-label ui-inputtext ui-corner-all" *ngIf="editable" [disabled]="disabled" [attr.placeholder]="placeholder"\n                        (click)="onEditableInputClick($event)" (input)="onEditableInputChange($event)" (focus)="onEditableInputFocus($event)" (blur)="onInputBlur($event)">\n            <div class="ui-dropdown-trigger ui-state-default ui-corner-right">\n                <span class="fa fa-fw fa-caret-down ui-clickable"></span>\n            </div>\n            <div #panel [ngClass]="\'ui-dropdown-panel ui-widget-content ui-corner-all ui-helper-hidden ui-shadow\'" [@panelState]="panelVisible ? \'visible\' : \'hidden\'"\n                [style.display]="panelVisible ? \'block\' : \'none\'" [ngStyle]="panelStyle" [class]="panelStyleClass">\n                <div *ngIf="filter" class="ui-dropdown-filter-container" (input)="onFilter($event)" (click)="$event.stopPropagation()">\n                    <input #filter type="text" autocomplete="off" class="ui-dropdown-filter ui-inputtext ui-widget ui-state-default ui-corner-all" [attr.placeholder]="filterPlaceholder"\n                    (keydown.enter)="$event.preventDefault()" (keydown)="onKeydown($event)">\n                    <span class="fa fa-search"></span>\n                </div>\n                <div #itemswrapper class="ui-dropdown-items-wrapper" [style.max-height]="scrollHeight||\'auto\'">\n                    <ul class="ui-dropdown-items ui-dropdown-list ui-widget-content ui-widget ui-corner-all ui-helper-reset" *ngIf="lazy ? panelVisible : true">\n                        <li *ngFor="let option of optionsToDisplay;let i=index"\n                            [ngClass]="{\'ui-dropdown-item ui-corner-all\':true, \'ui-state-highlight\':(selectedOption == option),\n                            \'ui-dropdown-item-empty\':!option.label||option.label.length === 0}"\n                            (click)="onItemClick($event, option)">\n                            <span *ngIf="!itemTemplate">{{option.label||\'empty\'}}</span>\n                            <ng-template [pTemplateWrapper]="itemTemplate" [item]="option" *ngIf="itemTemplate"></ng-template>\n                        </li>\n                    </ul>\n                </div>\n            </div>\n        </div>\n    ',animations:[s.trigger("panelState",[s.state("hidden",s.style({opacity:0})),s.state("visible",s.style({opacity:1})),s.transition("visible => hidden",s.animate("400ms ease-in")),s.transition("hidden => visible",s.animate("400ms ease-out"))])],providers:[h.DomHandler,u.ObjectUtils,e.DROPDOWN_VALUE_ACCESSOR]}),o("design:paramtypes",[r.ElementRef,h.DomHandler,r.Renderer2,r.ChangeDetectorRef,u.ObjectUtils,r.NgZone])],d),e.Dropdown=d;var p=function(){function t(){}return t}();p=n([r.NgModule({imports:[a.CommonModule,l.SharedModule],exports:[d,l.SharedModule],declarations:[d]})],p),e.DropdownModule=p},function(t,e,i){"use strict";var n=this&&this.__decorate||function(t,e,i,n){var o,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,i,s):o(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};Object.defineProperty(e,"__esModule",{value:!0});var r=i(0),s=i(1),a=i(4),l=i(3),h=i(5);e.EDITOR_VALUE_ACCESSOR={provide:h.NG_VALUE_ACCESSOR,useExisting:r.forwardRef(function(){return u}),multi:!0};var u=function(){function t(t,e){this.el=t,this.domHandler=e,this.onTextChange=new r.EventEmitter,this.onSelectionChange=new r.EventEmitter,this.onInit=new r.EventEmitter,this.onModelChange=function(){},this.onModelTouched=function(){}}return t.prototype.ngAfterViewInit=function(){var t=this,e=this.domHandler.findSingle(this.el.nativeElement,"div.ui-editor-content"),i=this.domHandler.findSingle(this.el.nativeElement,"div.ui-editor-toolbar");this.quill=new Quill(e,{modules:{toolbar:i},placeholder:this.placeholder,readOnly:this.readonly,theme:"snow",formats:this.formats}),this.value&&this.quill.pasteHTML(this.value),this.quill.on("text-change",function(i,n,o){var r=e.children[0].innerHTML,s=t.quill.getText();"<p><br></p>"==r&&(r=null),t.onTextChange.emit({htmlValue:r,textValue:s,delta:i,source:o}),t.onModelChange(r),"user"===o&&t.onModelTouched()}),this.quill.on("selection-change",function(e,i,n){t.onSelectionChange.emit({range:e,oldRange:i,source:n})}),this.onInit.emit({editor:this.quill})},t.prototype.writeValue=function(t){this.value=t,this.quill&&(t?this.quill.pasteHTML(t):this.quill.setText(""))},t.prototype.registerOnChange=function(t){this.onModelChange=t},t.prototype.registerOnTouched=function(t){this.onModelTouched=t},t.prototype.getQuill=function(){return this.quill},Object.defineProperty(t.prototype,"readonly",{get:function(){return this._readonly},set:function(t){this._readonly=t,this.quill&&(this._readonly?this.quill.disable():this.quill.enable())},enumerable:!0,configurable:!0}),t}();n([r.Output(),o("design:type",r.EventEmitter)],u.prototype,"onTextChange",void 0),n([r.Output(),o("design:type",r.EventEmitter)],u.prototype,"onSelectionChange",void 0),n([r.ContentChild(a.Header),o("design:type",Object)],u.prototype,"toolbar",void 0),n([r.Input(),o("design:type",Object)],u.prototype,"style",void 0),n([r.Input(),o("design:type",String)],u.prototype,"styleClass",void 0),n([r.Input(),o("design:type",String)],u.prototype,"placeholder",void 0),n([r.Input(),o("design:type",Array)],u.prototype,"formats",void 0),n([r.Output(),o("design:type",r.EventEmitter)],u.prototype,"onInit",void 0),n([r.Input(),o("design:type",Boolean),o("design:paramtypes",[Boolean])],u.prototype,"readonly",null),u=n([r.Component({selector:"p-editor",template:'\n        <div [ngClass]="\'ui-widget ui-editor-container ui-corner-all\'" [class]="styleClass">\n            <div class="ui-editor-toolbar ui-widget-header ui-corner-top" *ngIf="toolbar">\n                <ng-content select="p-header"></ng-content>\n            </div>\n            <div class="ui-editor-toolbar ui-widget-header ui-corner-top" *ngIf="!toolbar">\n                <span class="ql-formats">\n                    <select class="ql-header">\n                      <option value="1">Heading</option>\n                      <option value="2">Subheading</option>\n                      <option selected>Normal</option>\n                    </select>\n                    <select class="ql-font">\n                      <option selected>Sans Serif</option>\n                      <option value="serif">Serif</option>\n                      <option value="monospace">Monospace</option>\n                    </select>\n                </span>\n                <span class="ql-formats">\n                    <button class="ql-bold" aria-label="Bold"></button>\n                    <button class="ql-italic" aria-label="Italic"></button>\n                    <button class="ql-underline" aria-label="Underline"></button>\n                </span>\n                <span class="ql-formats">\n                    <select class="ql-color"></select>\n                    <select class="ql-background"></select>\n                </span>\n                <span class="ql-formats">\n                    <button class="ql-list" value="ordered" aria-label="Ordered List"></button>\n                    <button class="ql-list" value="bullet" aria-label="Unordered List"></button>\n                    <select class="ql-align">\n                        <option selected></option>\n                        <option value="center"></option>\n                        <option value="right"></option>\n                        <option value="justify"></option>\n                    </select>\n                </span>\n                <span class="ql-formats">\n                    <button class="ql-link" aria-label="Insert Link"></button>\n                    <button class="ql-image" aria-label="Insert Image"></button>\n                    <button class="ql-code-block" aria-label="Insert Code Block"></button>\n                </span>\n                <span class="ql-formats">\n                    <button class="ql-clean" aria-label="Remove Styles"></button>\n                </span>\n            </div>\n            <div class="ui-editor-content" [ngStyle]="style"></div>\n        </div>\n    ',providers:[l.DomHandler,e.EDITOR_VALUE_ACCESSOR]}),o("design:paramtypes",[r.ElementRef,l.DomHandler])],u),e.Editor=u;var c=function(){function t(){}return t}();c=n([r.NgModule({imports:[s.CommonModule],exports:[u,a.SharedModule],declarations:[u]})],c),e.EditorModule=c},function(t,e,i){"use strict";var n=this&&this.__decorate||function(t,e,i,n){var o,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,i,s):o(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};Object.defineProperty(e,"__esModule",{value:!0});var r=i(0),s=i(7),a=i(1),l=i(4),h=function(){function t(t){this.el=t,this.collapsed=!1,this.onBeforeToggle=new r.EventEmitter,this.onAfterToggle=new r.EventEmitter}return t.prototype.toggle=function(t){if(this.toggleable){if(this.animating)return!1;this.animating=!0,this.onBeforeToggle.emit({originalEvent:t,collapsed:this.collapsed}),this.collapsed?this.expand(t):this.collapse(t),this.onAfterToggle.emit({originalEvent:t,collapsed:this.collapsed})}},t.prototype.expand=function(t){this.collapsed=!1},t.prototype.collapse=function(t){this.collapsed=!0},t.prototype.getBlockableElement=function(){return this.el.nativeElement.children[0]},t.prototype.onToggleDone=function(t){this.animating=!1},t}();n([r.Input(),o("design:type",String)],h.prototype,"legend",void 0),n([r.Input(),o("design:type",Boolean)],h.prototype,"toggleable",void 0),n([r.Input(),o("design:type",Boolean)],h.prototype,"collapsed",void 0),n([r.Output(),o("design:type",r.EventEmitter)],h.prototype,"onBeforeToggle",void 0),n([r.Output(),o("design:type",r.EventEmitter)],h.prototype,"onAfterToggle",void 0),n([r.Input(),o("design:type",Object)],h.prototype,"style",void 0),n([r.Input(),o("design:type",String)],h.prototype,"styleClass",void 0),h=n([r.Component({selector:"p-fieldset",template:'\n        <fieldset [ngClass]="{\'ui-fieldset ui-widget ui-widget-content ui-corner-all\': true, \'ui-fieldset-toggleable\': toggleable}" [ngStyle]="style" [class]="styleClass">\n            <legend class="ui-fieldset-legend ui-corner-all ui-state-default ui-unselectable-text" (click)="toggle($event)">\n                <span *ngIf="toggleable" class="ui-fieldset-toggler fa fa-w" [ngClass]="{\'fa-minus\': !collapsed,\'fa-plus\':collapsed}"></span>\n                {{legend}}\n                <ng-content select="p-header"></ng-content>\n            </legend>\n            <div class="ui-fieldset-content-wrapper" [@fieldsetContent]="collapsed ? \'hidden\' : \'visible\'" \n                        [ngClass]="{\'ui-fieldset-content-wrapper-overflown\': collapsed||animating}"\n                         (@fieldsetContent.done)="onToggleDone($event)">\n                <div class="ui-fieldset-content">\n                    <ng-content></ng-content>\n                </div>\n            </div>\n        </fieldset>\n    ',animations:[s.trigger("fieldsetContent",[s.state("hidden",s.style({height:"0px"})),s.state("visible",s.style({height:"*"})),s.transition("visible => hidden",s.animate("400ms cubic-bezier(0.86, 0, 0.07, 1)")),s.transition("hidden => visible",s.animate("400ms cubic-bezier(0.86, 0, 0.07, 1)"))])]}),o("design:paramtypes",[r.ElementRef])],h),e.Fieldset=h;var u=function(){function t(){}return t}();u=n([r.NgModule({imports:[a.CommonModule],exports:[h,l.SharedModule],declarations:[h]})],u),e.FieldsetModule=u},function(t,e,i){"use strict";var n=this&&this.__decorate||function(t,e,i,n){var o,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,i,s):o(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};Object.defineProperty(e,"__esModule",{value:!0});var r=i(0),s=i(1),a=i(18),l=i(9),h=i(27),u=i(29),c=i(3),d=i(4),p=function(){function t(t,e,i){this.domHandler=t,this.sanitizer=e,this.zone=i,this.method="POST",this.invalidFileSizeMessageSummary="{0}: Invalid file size, ",this.invalidFileSizeMessageDetail="maximum upload size is {0}.",this.invalidFileTypeMessageSummary="{0}: Invalid file type, ",this.invalidFileTypeMessageDetail="allowed file types: {0}.",this.previewWidth=50,this.chooseLabel="Choose",this.uploadLabel="Upload",this.cancelLabel="Cancel",this.showUploadButton=!0,this.showCancelButton=!0,this.mode="advanced",this.onBeforeUpload=new r.EventEmitter,this.onBeforeSend=new r.EventEmitter,this.onUpload=new r.EventEmitter,this.onError=new r.EventEmitter,this.onClear=new r.EventEmitter,this.onRemove=new r.EventEmitter,this.onSelect=new r.EventEmitter,this.onProgress=new r.EventEmitter,this.uploadHandler=new r.EventEmitter,this.progress=0}return t.prototype.ngOnInit=function(){this.files=[]},t.prototype.ngAfterContentInit=function(){var t=this;this.templates.forEach(function(e){switch(e.getType()){case"file":t.fileTemplate=e.template;break;case"content":t.contentTemplate=e.template;break;case"toolbar":t.toolbarTemplate=e.template;break;default:t.fileTemplate=e.template}})},t.prototype.ngAfterViewInit=function(){var t=this;"advanced"===this.mode&&this.zone.runOutsideAngular(function(){t.content.nativeElement.addEventListener("dragover",t.onDragOver.bind(t))})},t.prototype.onFileSelect=function(t){if(this.isIE11()&&this.selfInputChange)return void(this.selfInputChange=!1);this.msgs=[],this.multiple||(this.files=[]);for(var e=t.dataTransfer?t.dataTransfer.files:t.target.files,i=0;i<e.length;i++){var n=e[i];this.isFileSelected(n)||this.validate(n)&&(this.isImage(n)&&(n.objectURL=this.sanitizer.bypassSecurityTrustUrl(window.URL.createObjectURL(e[i]))),this.files.push(e[i]))}this.onSelect.emit({originalEvent:t,files:e}),this.hasFiles()&&this.auto&&this.upload(),this.clearInputElement()},t.prototype.isFileSelected=function(t){for(var e=0,i=this.files;e<i.length;e++){var n=i[e];if(n.name+n.type+n.size===t.name+t.type+t.size)return!0}return!1},t.prototype.isIE11=function(){return!!window.MSInputMethodContext&&!!document.documentMode},t.prototype.validate=function(t){return this.accept&&!this.isFileTypeValid(t)?(this.msgs.push({severity:"error",summary:this.invalidFileTypeMessageSummary.replace("{0}",t.name),detail:this.invalidFileTypeMessageDetail.replace("{0}",this.accept)}),!1):!(this.maxFileSize&&t.size>this.maxFileSize)||(this.msgs.push({severity:"error",summary:this.invalidFileSizeMessageSummary.replace("{0}",t.name),detail:this.invalidFileSizeMessageDetail.replace("{0}",this.formatSize(this.maxFileSize))}),!1)},t.prototype.isFileTypeValid=function(t){for(var e=this.accept.split(","),i=0,n=e;i<n.length;i++){var o=n[i];if(this.isWildcard(o)?this.getTypeClass(t.type)===this.getTypeClass(o):t.type==o||this.getFileExtension(t)===o)return!0}return!1},t.prototype.getTypeClass=function(t){return t.substring(0,t.indexOf("/"))},t.prototype.isWildcard=function(t){return-1!==t.indexOf("*")},t.prototype.getFileExtension=function(t){return"."+t.name.split(".").pop()},t.prototype.isImage=function(t){return/^image\//.test(t.type)},t.prototype.onImageLoad=function(t){window.URL.revokeObjectURL(t.src)},t.prototype.upload=function(){var t=this;if(this.customUpload)this.uploadHandler.emit({files:this.files});else{this.msgs=[];var e=new XMLHttpRequest,i=new FormData;this.onBeforeUpload.emit({xhr:e,formData:i});for(var n=0;n<this.files.length;n++)i.append(this.name,this.files[n],this.files[n].name);e.upload.addEventListener("progress",function(e){e.lengthComputable&&(t.progress=Math.round(100*e.loaded/e.total)),t.onProgress.emit({originalEvent:e,progress:t.progress})},!1),e.onreadystatechange=function(){4==e.readyState&&(t.progress=0,e.status>=200&&e.status<300?t.onUpload.emit({xhr:e,files:t.files}):t.onError.emit({xhr:e,files:t.files}),t.clear())},e.open(this.method,this.url,!0),this.onBeforeSend.emit({xhr:e,formData:i}),e.withCredentials=this.withCredentials,e.send(i)}},t.prototype.clear=function(){this.files=[],this.onClear.emit(),this.clearInputElement()},t.prototype.remove=function(t,e){this.clearInputElement(),this.onRemove.emit({originalEvent:t,file:this.files[e]}),this.files.splice(e,1)},t.prototype.clearInputElement=function(){this.advancedFileInput&&this.advancedFileInput.nativeElement&&(this.isIE11()&&(this.selfInputChange=!0),this.advancedFileInput.nativeElement.value="")},t.prototype.hasFiles=function(){return this.files&&this.files.length>0},t.prototype.onDragEnter=function(t){this.disabled||(t.stopPropagation(),t.preventDefault())},t.prototype.onDragOver=function(t){this.disabled||(this.domHandler.addClass(this.content.nativeElement,"ui-fileupload-highlight"),this.dragHighlight=!0,t.stopPropagation(),t.preventDefault())},t.prototype.onDragLeave=function(t){this.disabled||this.domHandler.removeClass(this.content.nativeElement,"ui-fileupload-highlight")},t.prototype.onDrop=function(t){if(!this.disabled){this.domHandler.removeClass(this.content.nativeElement,"ui-fileupload-highlight"),t.stopPropagation(),t.preventDefault();var e=t.dataTransfer?t.dataTransfer.files:t.target.files;(this.multiple||e&&1===e.length)&&this.onFileSelect(t)}},t.prototype.onFocus=function(){this.focus=!0},t.prototype.onBlur=function(){this.focus=!1},t.prototype.formatSize=function(t){if(0==t)return"0 B";var e=["B","KB","MB","GB","TB","PB","EB","ZB","YB"],i=Math.floor(Math.log(t)/Math.log(1e3));return parseFloat((t/Math.pow(1e3,i)).toFixed(3))+" "+e[i]},t.prototype.onSimpleUploaderClick=function(t){this.hasFiles()&&this.upload()},t.prototype.ngOnDestroy=function(){this.content&&this.content.nativeElement&&this.content.nativeElement.removeEventListener("dragover",this.onDragOver)},t}();n([r.Input(),o("design:type",String)],p.prototype,"name",void 0),n([r.Input(),o("design:type",String)],p.prototype,"url",void 0),n([r.Input(),o("design:type",String)],p.prototype,"method",void 0),n([r.Input(),o("design:type",Boolean)],p.prototype,"multiple",void 0),n([r.Input(),o("design:type",String)],p.prototype,"accept",void 0),n([r.Input(),o("design:type",Boolean)],p.prototype,"disabled",void 0),n([r.Input(),o("design:type",Boolean)],p.prototype,"auto",void 0),n([r.Input(),o("design:type",Boolean)],p.prototype,"withCredentials",void 0),n([r.Input(),o("design:type",Number)],p.prototype,"maxFileSize",void 0),n([r.Input(),o("design:type",String)],p.prototype,"invalidFileSizeMessageSummary",void 0),n([r.Input(),o("design:type",String)],p.prototype,"invalidFileSizeMessageDetail",void 0),n([r.Input(),o("design:type",String)],p.prototype,"invalidFileTypeMessageSummary",void 0),n([r.Input(),o("design:type",String)],p.prototype,"invalidFileTypeMessageDetail",void 0),n([r.Input(),o("design:type",String)],p.prototype,"style",void 0),n([r.Input(),o("design:type",String)],p.prototype,"styleClass",void 0),n([r.Input(),o("design:type",Number)],p.prototype,"previewWidth",void 0),n([r.Input(),o("design:type",String)],p.prototype,"chooseLabel",void 0),n([r.Input(),o("design:type",String)],p.prototype,"uploadLabel",void 0),n([r.Input(),o("design:type",String)],p.prototype,"cancelLabel",void 0),n([r.Input(),o("design:type",Boolean)],p.prototype,"showUploadButton",void 0),n([r.Input(),o("design:type",Boolean)],p.prototype,"showCancelButton",void 0),n([r.Input(),o("design:type",String)],p.prototype,"mode",void 0),n([r.Input(),o("design:type",Boolean)],p.prototype,"customUpload",void 0),n([r.Output(),o("design:type",r.EventEmitter)],p.prototype,"onBeforeUpload",void 0),n([r.Output(),o("design:type",r.EventEmitter)],p.prototype,"onBeforeSend",void 0),n([r.Output(),o("design:type",r.EventEmitter)],p.prototype,"onUpload",void 0),n([r.Output(),o("design:type",r.EventEmitter)],p.prototype,"onError",void 0),n([r.Output(),o("design:type",r.EventEmitter)],p.prototype,"onClear",void 0),n([r.Output(),o("design:type",r.EventEmitter)],p.prototype,"onRemove",void 0),n([r.Output(),o("design:type",r.EventEmitter)],p.prototype,"onSelect",void 0),n([r.Output(),o("design:type",r.EventEmitter)],p.prototype,"onProgress",void 0),n([r.Output(),o("design:type",r.EventEmitter)],p.prototype,"uploadHandler",void 0),n([r.ContentChildren(d.PrimeTemplate),o("design:type",r.QueryList)],p.prototype,"templates",void 0),n([r.ViewChild("advancedfileinput"),o("design:type",r.ElementRef)],p.prototype,"advancedFileInput",void 0),n([r.ViewChild("basicfileinput"),o("design:type",r.ElementRef)],p.prototype,"basicFileInput",void 0),n([r.ViewChild("content"),o("design:type",r.ElementRef)],p.prototype,"content",void 0),n([r.Input(),o("design:type",Array)],p.prototype,"files",void 0),p=n([r.Component({selector:"p-fileUpload",template:'\n        <div [ngClass]="\'ui-fileupload ui-widget\'" [ngStyle]="style" [class]="styleClass" *ngIf="mode === \'advanced\'">\n            <div class="ui-fileupload-buttonbar ui-widget-header ui-corner-top">\n                <span class="ui-fileupload-choose" [label]="chooseLabel" icon="fa-plus" pButton  [ngClass]="{\'ui-state-focus\': focus}" [attr.disabled]="disabled" > \n                    <input #advancedfileinput type="file" (change)="onFileSelect($event)" [multiple]="multiple" [accept]="accept" [disabled]="disabled" (focus)="onFocus()" (blur)="onBlur()">\n                </span>\n\n                <button *ngIf="!auto&&showUploadButton" type="button" [label]="uploadLabel" icon="fa-upload" pButton (click)="upload()" [disabled]="!hasFiles()"></button>\n                <button *ngIf="!auto&&showCancelButton" type="button" [label]="cancelLabel" icon="fa-close" pButton (click)="clear()" [disabled]="!hasFiles()"></button>\n            \n                <p-templateLoader [template]="toolbarTemplate"></p-templateLoader>\n            </div>\n            <div #content [ngClass]="{\'ui-fileupload-content ui-widget-content ui-corner-bottom\':true}" \n                (dragenter)="onDragEnter($event)" (dragleave)="onDragLeave($event)" (drop)="onDrop($event)">\n                <p-progressBar [value]="progress" [showValue]="false" *ngIf="hasFiles()"></p-progressBar>\n                \n                <p-messages [value]="msgs"></p-messages>\n                \n                <div class="ui-fileupload-files" *ngIf="hasFiles()">\n                    <div *ngIf="!fileTemplate">\n                        <div class="ui-fileupload-row" *ngFor="let file of files; let i = index;">\n                            <div><img [src]="file.objectURL" *ngIf="isImage(file)" [width]="previewWidth" /></div>\n                            <div>{{file.name}}</div>\n                            <div>{{formatSize(file.size)}}</div>\n                            <div><button type="button" icon="fa-close" pButton (click)="remove($event,i)"></button></div>\n                        </div>\n                    </div>\n                    <div *ngIf="fileTemplate">\n                        <ng-template ngFor [ngForOf]="files" [ngForTemplate]="fileTemplate"></ng-template>\n                    </div>\n                </div>\n                <p-templateLoader [template]="contentTemplate"></p-templateLoader>\n            </div>\n        </div>\n        <span class="ui-button ui-fileupload-choose ui-widget ui-state-default ui-corner-all ui-button-text-icon-left" *ngIf="mode === \'basic\'" \n        (mouseup)="onSimpleUploaderClick($event)"\n        [ngClass]="{\'ui-fileupload-choose-selected\': hasFiles(),\'ui-state-focus\': focus}">\n            <span class="ui-button-icon-left fa" [ngClass]="{\'fa-plus\': !hasFiles()||auto, \'fa-upload\': hasFiles()&&!auto}"></span>\n            <span class="ui-button-text ui-clickable">{{auto ? chooseLabel : hasFiles() ? files[0].name : chooseLabel}}</span>\n            <input #basicfileinput type="file" [accept]="accept" [multiple]="multiple" [disabled]="disabled"\n                (change)="onFileSelect($event)" *ngIf="!hasFiles()" (focus)="onFocus()" (blur)="onBlur()">\n        </span>\n    ',providers:[c.DomHandler]}),o("design:paramtypes",[c.DomHandler,a.DomSanitizer,r.NgZone])],p),e.FileUpload=p;var f=function(){function t(){}return t}();f=n([r.NgModule({imports:[s.CommonModule,d.SharedModule,l.ButtonModule,u.ProgressBarModule,h.MessagesModule],exports:[p,d.SharedModule,l.ButtonModule,u.ProgressBarModule,h.MessagesModule],declarations:[p]})],f),e.FileUploadModule=f},function(t,e,i){"use strict";var n=this&&this.__decorate||function(t,e,i,n){var o,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,i,s):o(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};Object.defineProperty(e,"__esModule",{value:!0});var r=i(0),s=i(1),a=i(3),l=function(){function t(t,e){this.el=t,this.domHandler=e,this.panelWidth=600,this.panelHeight=400,this.frameWidth=60,this.frameHeight=40,this.activeIndex=0,this.showFilmstrip=!0,this.autoPlay=!0,this.transitionInterval=4e3,this.showCaption=!0,this.onImageClicked=new r.EventEmitter,this.stripLeft=0}return t.prototype.ngAfterViewChecked=function(){this.imagesChanged&&(this.stopSlideshow(),this.render(),this.imagesChanged=!1)},Object.defineProperty(t.prototype,"images",{get:function(){return this._images},set:function(t){this._images=t,this.activeIndex=0,this.imagesChanged=!0},enumerable:!0,configurable:!0}),t.prototype.ngAfterViewInit=function(){this.container=this.el.nativeElement.children[0],this.panelWrapper=this.domHandler.findSingle(this.el.nativeElement,"ul.ui-galleria-panel-wrapper"),this.initialized=!0,this.showFilmstrip&&(this.stripWrapper=this.domHandler.findSingle(this.container,"div.ui-galleria-filmstrip-wrapper"),this.strip=this.domHandler.findSingle(this.stripWrapper,"ul.ui-galleria-filmstrip")),this.images&&this.images.length&&this.render()},t.prototype.render=function(){this.panels=this.domHandler.find(this.panelWrapper,"li.ui-galleria-panel"),this.showFilmstrip&&(this.frames=this.domHandler.find(this.strip,"li.ui-galleria-frame"),this.stripWrapper.style.width=this.domHandler.width(this.panelWrapper)-50+"px",this.stripWrapper.style.height=this.frameHeight+"px"),this.showCaption&&(this.caption=this.domHandler.findSingle(this.container,"div.ui-galleria-caption"),this.caption.style.bottom=this.showFilmstrip?this.domHandler.getOuterHeight(this.stripWrapper,!0)+"px":"0px",this.caption.style.width=this.domHandler.width(this.panelWrapper)+"px"),this.autoPlay&&this.startSlideshow(),this.container.style.visibility="visible"},t.prototype.startSlideshow=function(){var t=this;this.interval=setInterval(function(){t.next()},this.transitionInterval),this.slideshowActive=!0},t.prototype.stopSlideshow=function(){this.interval&&clearInterval(this.interval),this.slideshowActive=!1},t.prototype.clickNavRight=function(){this.slideshowActive&&this.stopSlideshow(),this.next()},t.prototype.clickNavLeft=function(){this.slideshowActive&&this.stopSlideshow(),this.prev()},t.prototype.frameClick=function(t){this.slideshowActive&&this.stopSlideshow(),this.select(this.domHandler.index(t),!1)},t.prototype.prev=function(){0!==this.activeIndex&&this.select(this.activeIndex-1,!0)},t.prototype.next=function(){this.activeIndex!==this.panels.length-1?this.select(this.activeIndex+1,!0):(this.select(0,!1),this.stripLeft=0)},t.prototype.select=function(t,e){if(t!==this.activeIndex){var i=(this.panels[this.activeIndex],this.panels[t]);if(this.domHandler.fadeIn(i,500),this.showFilmstrip){var n=(this.frames[this.activeIndex],this.frames[t]);if(void 0===e||!0===e){var o=n.offsetLeft,r=this.frameWidth+parseInt(getComputedStyle(n)["margin-right"],10),s=this.strip.offsetLeft,a=o+s;a+this.frameWidth>this.domHandler.width(this.stripWrapper)?this.stripLeft-=r:a<0&&(this.stripLeft+=r)}}this.activeIndex=t}},t.prototype.clickImage=function(t,e,i){this.onImageClicked.emit({originalEvent:t,image:e,index:i})},t.prototype.ngOnDestroy=function(){this.stopSlideshow()},t}();n([r.Input(),o("design:type",Object)],l.prototype,"style",void 0),n([r.Input(),o("design:type",String)],l.prototype,"styleClass",void 0),n([r.Input(),o("design:type",Number)],l.prototype,"panelWidth",void 0),n([r.Input(),o("design:type",Number)],l.prototype,"panelHeight",void 0),n([r.Input(),o("design:type",Number)],l.prototype,"frameWidth",void 0),n([r.Input(),o("design:type",Number)],l.prototype,"frameHeight",void 0),n([r.Input(),o("design:type",Number)],l.prototype,"activeIndex",void 0),n([r.Input(),o("design:type",Boolean)],l.prototype,"showFilmstrip",void 0),n([r.Input(),o("design:type",Boolean)],l.prototype,"autoPlay",void 0),n([r.Input(),o("design:type",Number)],l.prototype,"transitionInterval",void 0),n([r.Input(),o("design:type",Boolean)],l.prototype,"showCaption",void 0),n([r.Output(),o("design:type",Object)],l.prototype,"onImageClicked",void 0),n([r.Input(),o("design:type",Array),o("design:paramtypes",[Array])],l.prototype,"images",null),l=n([r.Component({selector:"p-galleria",template:'\n        <div [ngClass]="{\'ui-galleria ui-widget ui-widget-content ui-corner-all\':true}" [ngStyle]="style" [class]="styleClass" [style.width.px]="panelWidth">\n            <ul class="ui-galleria-panel-wrapper" [style.width.px]="panelWidth" [style.height.px]="panelHeight">\n                <li *ngFor="let image of images;let i=index" class="ui-galleria-panel" [ngClass]="{\'ui-helper-hidden\':i!=activeIndex}"\n                    [style.width.px]="panelWidth" [style.height.px]="panelHeight" (click)="clickImage($event,image,i)">\n                    <img class="ui-panel-images" [src]="image.source" [alt]="image.alt" [title]="image.title"/>\n                </li>\n            </ul>\n            <div [ngClass]="{\'ui-galleria-filmstrip-wrapper\':true}" *ngIf="showFilmstrip">\n                <ul class="ui-galleria-filmstrip" style="transition:left 1s" [style.left.px]="stripLeft">\n                    <li #frame *ngFor="let image of images;let i=index" [ngClass]="{\'ui-galleria-frame-active\':i==activeIndex}" class="ui-galleria-frame" (click)="frameClick(frame)"\n                        [style.width.px]="frameWidth" [style.height.px]="frameHeight" [style.transition]="\'opacity 0.75s ease\'">\n                        <div class="ui-galleria-frame-content">\n                            <img [src]="image.source" [alt]="image.alt" [title]="image.title" class="ui-galleria-frame-image"\n                                [style.width.px]="frameWidth" [style.height.px]="frameHeight">\n                        </div>\n                    </li>\n                </ul>\n            </div>\n            <div class="ui-galleria-nav-prev fa fa-fw fa-chevron-circle-left" (click)="clickNavLeft()" [style.bottom.px]="frameHeight/2" *ngIf="activeIndex !== 0"></div>\n            <div class="ui-galleria-nav-next fa fa-fw fa-chevron-circle-right" (click)="clickNavRight()" [style.bottom.px]="frameHeight/2"></div>\n            <div class="ui-galleria-caption" *ngIf="showCaption&&images" style="display:block">\n                <h4>{{images[activeIndex]?.title}}</h4><p>{{images[activeIndex]?.alt}}</p>\n            </div>\n        </div>\n    ',providers:[a.DomHandler]}),o("design:paramtypes",[r.ElementRef,a.DomHandler])],l),e.Galleria=l;var h=function(){function t(){}return t}();h=n([r.NgModule({imports:[s.CommonModule],exports:[l],declarations:[l]})],h),e.GalleriaModule=h},function(t,e,i){"use strict";var n=this&&this.__decorate||function(t,e,i,n){var o,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,i,s):o(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};Object.defineProperty(e,"__esModule",{value:!0});var r=i(0),s=i(1),a=function(){function t(t,e,i,n){this.el=t,this.cd=i,this.zone=n,this.onMapClick=new r.EventEmitter,this.onOverlayClick=new r.EventEmitter,this.onOverlayDragStart=new r.EventEmitter,this.onOverlayDrag=new r.EventEmitter,this.onOverlayDragEnd=new r.EventEmitter,this.onMapReady=new r.EventEmitter,this.onMapDragEnd=new r.EventEmitter,this.onZoomChanged=new r.EventEmitter,this.differ=e.find([]).create(null)}return t.prototype.ngAfterViewChecked=function(){!this.map&&this.el.nativeElement.offsetParent&&this.initialize()},t.prototype.initialize=function(){var t=this;if(this.map=new google.maps.Map(this.el.nativeElement.children[0],this.options),this.onMapReady.emit({map:this.map}),this.overlays)for(var e=0,i=this.overlays;e<i.length;e++){var n=i[e];n.setMap(this.map),this.bindOverlayEvents(n)}this.map.addListener("click",function(e){t.zone.run(function(){t.onMapClick.emit(e)})}),this.map.addListener("dragend",function(e){t.zone.run(function(){t.onMapDragEnd.emit(e)})}),this.map.addListener("zoom_changed",function(e){t.zone.run(function(){t.onZoomChanged.emit(e)})})},t.prototype.bindOverlayEvents=function(t){var e=this;t.addListener("click",function(i){e.zone.run(function(){e.onOverlayClick.emit({originalEvent:i,overlay:t,map:e.map})})}),t.getDraggable()&&this.bindDragEvents(t)},t.prototype.ngDoCheck=function(){var t=this,e=this.differ.diff(this.overlays);e&&this.map&&(e.forEachRemovedItem(function(t){t.item.setMap(null)}),e.forEachAddedItem(function(e){e.item.setMap(t.map),e.item.addListener("click",function(i){t.zone.run(function(){t.onOverlayClick.emit({originalEvent:i,overlay:e.item,map:t.map})})}),e.item.getDraggable()&&t.bindDragEvents(e.item)}))},t.prototype.bindDragEvents=function(t){var e=this;t.addListener("dragstart",function(i){e.zone.run(function(){e.onOverlayDragStart.emit({originalEvent:i,overlay:t,map:e.map})})}),t.addListener("drag",function(i){e.zone.run(function(){e.onOverlayDrag.emit({originalEvent:i,overlay:t,map:e.map})})}),t.addListener("dragend",function(i){e.zone.run(function(){e.onOverlayDragEnd.emit({originalEvent:i,overlay:t,map:e.map})})})},t.prototype.getMap=function(){return this.map},t}();n([r.Input(),o("design:type",Object)],a.prototype,"style",void 0),n([r.Input(),o("design:type",String)],a.prototype,"styleClass",void 0),n([r.Input(),o("design:type",Object)],a.prototype,"options",void 0),n([r.Input(),o("design:type",Array)],a.prototype,"overlays",void 0),n([r.Output(),o("design:type",r.EventEmitter)],a.prototype,"onMapClick",void 0),n([r.Output(),o("design:type",r.EventEmitter)],a.prototype,"onOverlayClick",void 0),n([r.Output(),o("design:type",r.EventEmitter)],a.prototype,"onOverlayDragStart",void 0),n([r.Output(),o("design:type",r.EventEmitter)],a.prototype,"onOverlayDrag",void 0),n([r.Output(),o("design:type",r.EventEmitter)],a.prototype,"onOverlayDragEnd",void 0),n([r.Output(),o("design:type",r.EventEmitter)],a.prototype,"onMapReady",void 0),n([r.Output(),o("design:type",r.EventEmitter)],a.prototype,"onMapDragEnd",void 0),n([r.Output(),o("design:type",r.EventEmitter)],a.prototype,"onZoomChanged",void 0),a=n([r.Component({selector:"p-gmap",template:'<div [ngStyle]="style" [class]="styleClass"></div>'}),o("design:paramtypes",[r.ElementRef,r.IterableDiffers,r.ChangeDetectorRef,r.NgZone])],a),e.GMap=a;var l=function(){function t(){}return t}();l=n([r.NgModule({imports:[s.CommonModule],exports:[a],declarations:[a]})],l),e.GMapModule=l},function(t,e,i){"use strict";var n=this&&this.__decorate||function(t,e,i,n){var o,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,i,s):o(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},r=this&&this.__param||function(t,e){return function(i,n){e(i,n,t)}};Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(1),l=i(3),h=i(28),u=function(){function t(t,e,i,n){var o=this;this.el=t,this.domHandler=e,this.differs=i,this.messageService=n,this.life=3e3,this.immutable=!0,this.onClick=new s.EventEmitter,this.onHover=new s.EventEmitter,this.onClose=new s.EventEmitter,this.valueChange=new s.EventEmitter,this.zIndex=l.DomHandler.zindex,this.differ=i.find([]).create(null),n&&(this.subscription=n.messageObserver.subscribe(function(t){t?t instanceof Array?o.value=t:o.value=[t]:o.value=null}))}return t.prototype.ngAfterViewInit=function(){this.container=this.containerViewChild.nativeElement,this.sticky||this.initTimeout()},Object.defineProperty(t.prototype,"value",{get:function(){return this._value},set:function(t){this._value=t,this.container&&this.immutable&&this.handleValueChange()},enumerable:!0,configurable:!0}),t.prototype.ngDoCheck=function(){if(!this.immutable&&this.container){this.differ.diff(this.value)&&this.handleValueChange()}},t.prototype.handleValueChange=function(){if(this.preventRerender)return void(this.preventRerender=!1);this.zIndex=++l.DomHandler.zindex,this.domHandler.fadeIn(this.container,250),this.sticky||this.initTimeout()},t.prototype.initTimeout=function(){var t=this;this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(function(){t.removeAll()},this.life)},t.prototype.remove=function(t,e){var i=this;this.closeIconClick=!0,this.domHandler.fadeOut(e,250),setTimeout(function(){i.preventRerender=!0,i.onClose.emit({message:i.value[t]}),i.immutable?(i._value=i.value.filter(function(e,i){return i!=t}),i.valueChange.emit(i._value)):i._value.splice(t,1)},250)},t.prototype.removeAll=function(){var t=this;this.value&&this.value.length&&(this.domHandler.fadeOut(this.container,250),setTimeout(function(){t.value.forEach(function(e,i){return t.onClose.emit({message:t.value[i]})}),t.immutable?(t.value=[],t.valueChange.emit(t.value)):t.value.splice(0,t.value.length)},250))},t.prototype.onMessageClick=function(t){this.closeIconClick?this.closeIconClick=!1:this.onClick.emit({message:this.value[t]})},t.prototype.onMessageHover=function(t){this.onHover.emit({message:this.value[t]})},t.prototype.ngOnDestroy=function(){this.sticky||clearTimeout(this.timeout),this.subscription&&this.subscription.unsubscribe()},t}();n([s.Input(),o("design:type",Boolean)],u.prototype,"sticky",void 0),n([s.Input(),o("design:type",Number)],u.prototype,"life",void 0),n([s.Input(),o("design:type",Object)],u.prototype,"style",void 0),n([s.Input(),o("design:type",String)],u.prototype,"styleClass",void 0),n([s.Input(),o("design:type",Boolean)],u.prototype,"immutable",void 0),n([s.Output(),o("design:type",s.EventEmitter)],u.prototype,"onClick",void 0),n([s.Output(),o("design:type",s.EventEmitter)],u.prototype,"onHover",void 0),n([s.Output(),o("design:type",s.EventEmitter)],u.prototype,"onClose",void 0),n([s.Output(),o("design:type",s.EventEmitter)],u.prototype,"valueChange",void 0),n([s.ViewChild("container"),o("design:type",s.ElementRef)],u.prototype,"containerViewChild",void 0),n([s.Input(),o("design:type",Array),o("design:paramtypes",[Array])],u.prototype,"value",null),u=n([s.Component({selector:"p-growl",template:'\n        <div #container [ngClass]="\'ui-growl ui-widget\'" [style.zIndex]="zIndex" [ngStyle]="style" [class]="styleClass">\n            <div #msgel *ngFor="let msg of value;let i = index" class="ui-growl-item-container ui-state-highlight ui-corner-all ui-shadow" aria-live="polite"\n                [ngClass]="{\'ui-growl-message-info\':msg.severity == \'info\',\'ui-growl-message-warn\':msg.severity == \'warn\',\n                    \'ui-growl-message-error\':msg.severity == \'error\',\'ui-growl-message-success\':msg.severity == \'success\'}"\n                    (click)="onMessageClick(i)" (mouseenter)="onMessageHover(i)">\n                <div class="ui-growl-item">\n                     <div class="ui-growl-icon-close fa fa-close" (click)="remove(i,msgel)"></div>\n                     <span class="ui-growl-image fa fa-2x"\n                        [ngClass]="{\'fa-info-circle\':msg.severity == \'info\',\'fa-exclamation-circle\':msg.severity == \'warn\',\n                                \'fa-close\':msg.severity == \'error\',\'fa-check\':msg.severity == \'success\'}"></span>\n                     <div class="ui-growl-message">\n                        <span class="ui-growl-title">{{msg.summary}}</span>\n                        <p [innerHTML]="msg.detail"></p>\n                     </div>\n                     <div style="clear: both;"></div>\n                </div>\n            </div>\n        </div>\n    ',providers:[l.DomHandler]}),r(3,s.Optional()),o("design:paramtypes",[s.ElementRef,l.DomHandler,s.IterableDiffers,h.MessageService])],u),e.Growl=u;var c=function(){function t(){}return t}();c=n([s.NgModule({imports:[a.CommonModule],exports:[u],declarations:[u]})],c),e.GrowlModule=c},function(t,e,i){"use strict";var n=this&&this.__decorate||function(t,e,i,n){var o,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,i,s):o(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};Object.defineProperty(e,"__esModule",{value:!0});var r=i(0),s=i(1),a=i(9),l=function(){function t(){}return t}();l=n([r.Component({selector:"p-inplaceDisplay",template:"<ng-content></ng-content>"})],l),e.InplaceDisplay=l;var h=function(){function t(){}return t}();h=n([r.Component({selector:"p-inplaceContent",template:"<ng-content></ng-content>"})],h),e.InplaceContent=h;var u=function(){function t(){this.onActivate=new r.EventEmitter,this.onDeactivate=new r.EventEmitter}return t.prototype.activate=function(t){this.disabled||(this.active=!0,this.onActivate.emit(t))},t.prototype.deactivate=function(t){this.disabled||(this.active=!1,this.hover=!1,this.onDeactivate.emit(t))},t}();n([r.Input(),o("design:type",Boolean)],u.prototype,"active",void 0),n([r.Input(),o("design:type",Boolean)],u.prototype,"closable",void 0),n([r.Input(),o("design:type",Boolean)],u.prototype,"disabled",void 0),n([r.Input(),o("design:type",Object)],u.prototype,"style",void 0),n([r.Input(),o("design:type",String)],u.prototype,"styleClass",void 0),n([r.Output(),o("design:type",r.EventEmitter)],u.prototype,"onActivate",void 0),n([r.Output(),o("design:type",r.EventEmitter)],u.prototype,"onDeactivate",void 0),u=n([r.Component({selector:"p-inplace",template:'\n        <div [ngClass]="\'ui-inplace ui-widget\'" [ngStyle]="style" [class]="styleClass">\n            <div class="ui-inplace-display" (click)="activate($event)"\n                [ngClass]="{\'ui-state-disabled\':disabled}" *ngIf="!active">\n                <ng-content select="[pInplaceDisplay]"></ng-content>\n            </div>\n            <div class="ui-inplace-content" *ngIf="active">\n                <ng-content select="[pInplaceContent]"></ng-content>\n                <button type="button" icon="fa-close" pButton (click)="deactivate($event)" *ngIf="closable"></button>\n            </div>\n        </div>\n    '})],u),e.Inplace=u;var c=function(){function t(){}return t}();c=n([r.NgModule({imports:[s.CommonModule,a.ButtonModule],exports:[u,l,h,a.ButtonModule],declarations:[u,l,h]})],c),e.InplaceModule=c},function(t,e,i){"use strict";var n=this&&this.__decorate||function(t,e,i,n){var o,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,i,s):o(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};Object.defineProperty(e,"__esModule",{value:!0});var r=i(0),s=i(1),a=i(3),l=i(12),h=i(5);e.INPUTMASK_VALUE_ACCESSOR={provide:h.NG_VALUE_ACCESSOR,useExisting:r.forwardRef(function(){return u}),multi:!0};var u=function(){function t(t,e){this.el=t,this.domHandler=e,this.type="text",this.slotChar="_",this.autoClear=!0,this.onComplete=new r.EventEmitter,this.onFocus=new r.EventEmitter,this.onBlur=new r.EventEmitter,this.onModelChange=function(){},this.onModelTouched=function(){}}return t.prototype.ngOnInit=function(){var t=this.domHandler.getUserAgent();this.androidChrome=/chrome/i.test(t)&&/android/i.test(t),this.initMask()},Object.defineProperty(t.prototype,"mask",{get:function(){return this._mask},set:function(t){this._mask=t,this.initMask(),this.writeValue(""),this.onModelChange(this.value)},enumerable:!0,configurable:!0}),t.prototype.initMask=function(){this.tests=[],this.partialPosition=this.mask.length,this.len=this.mask.length,this.firstNonMaskPos=null,this.defs={9:"[0-9]",a:"[A-Za-z]","*":"[A-Za-z0-9]"};for(var t=this.mask.split(""),e=0;e<t.length;e++){var i=t[e];"?"==i?(this.len--,this.partialPosition=e):this.defs[i]?(this.tests.push(new RegExp(this.defs[i])),null===this.firstNonMaskPos&&(this.firstNonMaskPos=this.tests.length-1),e<this.partialPosition&&(this.lastRequiredNonMaskPos=this.tests.length-1)):this.tests.push(null)}this.buffer=[];for(var e=0;e<t.length;e++){var i=t[e];"?"!=i&&(this.defs[i]?this.buffer.push(this.getPlaceholder(e)):this.buffer.push(i))}this.defaultBuffer=this.buffer.join("")},t.prototype.writeValue=function(t){this.value=t,this.inputViewChild.nativeElement&&(void 0==this.value||null==this.value?this.inputViewChild.nativeElement.value="":this.inputViewChild.nativeElement.value=this.value,this.checkVal(),this.focusText=this.inputViewChild.nativeElement.value,this.updateFilledState())},t.prototype.registerOnChange=function(t){this.onModelChange=t},t.prototype.registerOnTouched=function(t){this.onModelTouched=t},t.prototype.setDisabledState=function(t){this.disabled=t},t.prototype.caret=function(t,e){var i,n,o;if(this.inputViewChild.nativeElement.offsetParent&&this.inputViewChild.nativeElement===document.activeElement)return"number"!=typeof t?(this.inputViewChild.nativeElement.setSelectionRange?(n=this.inputViewChild.nativeElement.selectionStart,o=this.inputViewChild.nativeElement.selectionEnd):document.selection&&document.selection.createRange&&(i=document.selection.createRange(),n=0-i.duplicate().moveStart("character",-1e5),o=n+i.text.length),{begin:n,end:o}):(n=t,o="number"==typeof e?e:n,this.inputViewChild.nativeElement.setSelectionRange?this.inputViewChild.nativeElement.setSelectionRange(n,o):this.inputViewChild.nativeElement.createTextRange&&(i=this.inputViewChild.nativeElement.createTextRange(),i.collapse(!0),i.moveEnd("character",o),i.moveStart("character",n),i.select()),void 0)},t.prototype.isCompleted=function(){for(var t=this.firstNonMaskPos;t<=this.lastRequiredNonMaskPos;t++)if(this.tests[t]&&this.buffer[t]===this.getPlaceholder(t))return!1;return!0},t.prototype.getPlaceholder=function(t){return t<this.slotChar.length?this.slotChar.charAt(t):this.slotChar.charAt(0)},t.prototype.seekNext=function(t){for(;++t<this.len&&!this.tests[t];);return t},t.prototype.seekPrev=function(t){for(;--t>=0&&!this.tests[t];);return t},t.prototype.shiftL=function(t,e){var i,n;if(!(t<0)){for(i=t,n=this.seekNext(e);i<this.len;i++)if(this.tests[i]){if(!(n<this.len&&this.tests[i].test(this.buffer[n])))break;this.buffer[i]=this.buffer[n],this.buffer[n]=this.getPlaceholder(n),n=this.seekNext(n)}this.writeBuffer(),this.caret(Math.max(this.firstNonMaskPos,t))}},t.prototype.shiftR=function(t){var e,i,n,o;for(e=t,i=this.getPlaceholder(t);e<this.len;e++)if(this.tests[e]){if(n=this.seekNext(e),o=this.buffer[e],this.buffer[e]=i,!(n<this.len&&this.tests[n].test(o)))break;i=o}},t.prototype.handleAndroidInput=function(t){var e=this,i=this.inputViewChild.nativeElement.value,n=this.caret();if(this.oldVal&&this.oldVal.length&&this.oldVal.length>i.length){for(this.checkVal(!0);n.begin>0&&!this.tests[n.begin-1];)n.begin--;if(0===n.begin)for(;n.begin<this.firstNonMaskPos&&!this.tests[n.begin];)n.begin++;this.caret(n.begin,n.begin)}else{for(this.checkVal(!0);n.begin<this.len&&!this.tests[n.begin-1];)n.begin++;setTimeout(function(){return e.caret(n.begin,n.begin)})}this.isCompleted()&&this.onComplete.emit()},t.prototype.onInputBlur=function(t){if(this.focus=!1,this.onModelTouched(),this.checkVal(),this.updateModel(t),this.updateFilledState(),this.onBlur.emit(t),this.inputViewChild.nativeElement.value!=this.focusText){var e=document.createEvent("HTMLEvents");e.initEvent("change",!0,!1),this.inputViewChild.nativeElement.dispatchEvent(e)}},t.prototype.onKeyDown=function(t){if(!this.readonly){var e,i,n,o=t.which||t.keyCode,r=/iphone/i.test(this.domHandler.getUserAgent());this.oldVal=this.inputViewChild.nativeElement.value,8===o||46===o||r&&127===o?(e=this.caret(),i=e.begin,n=e.end,n-i==0&&(i=46!==o?this.seekPrev(i):n=this.seekNext(i-1),n=46===o?this.seekNext(n):n),this.clearBuffer(i,n),this.shiftL(i,n-1),this.updateModel(t),t.preventDefault()):13===o?(this.onInputBlur(t),this.updateModel(t)):27===o&&(this.inputViewChild.nativeElement.value=this.focusText,this.caret(0,this.checkVal()),this.updateModel(t),t.preventDefault())}},t.prototype.onKeyPress=function(t){var e=this;if(!this.readonly){var i,n,o,r,s=t.which||t.keyCode,a=this.caret();if(!(t.ctrlKey||t.altKey||t.metaKey||s<32)){if(s&&13!==s){if(a.end-a.begin!=0&&(this.clearBuffer(a.begin,a.end),this.shiftL(a.begin,a.end-1)),(i=this.seekNext(a.begin-1))<this.len&&(n=String.fromCharCode(s),this.tests[i].test(n))){if(this.shiftR(i),this.buffer[i]=n,this.writeBuffer(),o=this.seekNext(i),/android/i.test(this.domHandler.getUserAgent())){var l=function(){e.caret(o)};setTimeout(l,0)}else this.caret(o);a.begin<=this.lastRequiredNonMaskPos&&(r=this.isCompleted())}t.preventDefault()}this.updateModel(t),this.updateFilledState(),r&&this.onComplete.emit()}}},t.prototype.clearBuffer=function(t,e){var i;for(i=t;i<e&&i<this.len;i++)this.tests[i]&&(this.buffer[i]=this.getPlaceholder(i))},t.prototype.writeBuffer=function(){this.inputViewChild.nativeElement.value=this.buffer.join("")},t.prototype.checkVal=function(t){var e,i,n,o=this.inputViewChild.nativeElement.value,r=-1;for(e=0,n=0;e<this.len;e++)if(this.tests[e]){for(this.buffer[e]=this.getPlaceholder(e);n++<o.length;)if(i=o.charAt(n-1),this.tests[e].test(i)){this.buffer[e]=i,r=e;break}if(n>o.length){this.clearBuffer(e+1,this.len);break}}else this.buffer[e]===o.charAt(n)&&n++,e<this.partialPosition&&(r=e);return t?this.writeBuffer():r+1<this.partialPosition?this.autoClear||this.buffer.join("")===this.defaultBuffer?(this.inputViewChild.nativeElement.value&&(this.inputViewChild.nativeElement.value=""),this.clearBuffer(0,this.len)):this.writeBuffer():(this.writeBuffer(),this.inputViewChild.nativeElement.value=this.inputViewChild.nativeElement.value.substring(0,r+1)),this.partialPosition?e:this.firstNonMaskPos},t.prototype.onInputFocus=function(t){var e=this;if(!this.readonly){this.focus=!0,clearTimeout(this.caretTimeoutId);var i;this.focusText=this.inputViewChild.nativeElement.value,i=this.checkVal(),this.caretTimeoutId=setTimeout(function(){e.inputViewChild.nativeElement===document.activeElement&&(e.writeBuffer(),i==e.mask.replace("?","").length?e.caret(0,i):e.caret(i))},10),this.onFocus.emit(t)}},t.prototype.onInput=function(t){this.androidChrome?this.handleAndroidInput(t):this.handleInputChange(t)},t.prototype.handleInputChange=function(t){var e=this;this.readonly||setTimeout(function(){var i=e.checkVal(!0);e.caret(i),e.updateModel(t),e.isCompleted()&&e.onComplete.emit()},0)},t.prototype.getUnmaskedValue=function(){for(var t=[],e=0;e<this.buffer.length;e++){var i=this.buffer[e];this.tests[e]&&i!=this.getPlaceholder(e)&&t.push(i)}return t.join("")},t.prototype.updateModel=function(t){this.onModelChange(this.unmask?this.getUnmaskedValue():t.target.value)},t.prototype.updateFilledState=function(){this.filled=this.inputViewChild.nativeElement&&""!=this.inputViewChild.nativeElement.value},t.prototype.ngOnDestroy=function(){},t}();n([r.Input(),o("design:type",String)],u.prototype,"type",void 0),n([r.Input(),o("design:type",String)],u.prototype,"slotChar",void 0),n([r.Input(),o("design:type",Boolean)],u.prototype,"autoClear",void 0),n([r.Input(),o("design:type",String)],u.prototype,"style",void 0),n([r.Input(),o("design:type",String)],u.prototype,"inputId",void 0),n([r.Input(),o("design:type",String)],u.prototype,"styleClass",void 0),n([r.Input(),o("design:type",String)],u.prototype,"placeholder",void 0),n([r.Input(),o("design:type",Number)],u.prototype,"size",void 0),n([r.Input(),o("design:type",Number)],u.prototype,"maxlength",void 0),n([r.Input(),o("design:type",String)],u.prototype,"tabindex",void 0),n([r.Input(),o("design:type",Boolean)],u.prototype,"disabled",void 0),n([r.Input(),o("design:type",Boolean)],u.prototype,"readonly",void 0),n([r.Input(),o("design:type",Boolean)],u.prototype,"unmask",void 0),n([r.Input(),o("design:type",String)],u.prototype,"name",void 0),n([r.Input(),o("design:type",Boolean)],u.prototype,"required",void 0),n([r.ViewChild("input"),o("design:type",r.ElementRef)],u.prototype,"inputViewChild",void 0),n([r.Output(),o("design:type",r.EventEmitter)],u.prototype,"onComplete",void 0),n([r.Output(),o("design:type",r.EventEmitter)],u.prototype,"onFocus",void 0),n([r.Output(),o("design:type",r.EventEmitter)],u.prototype,"onBlur",void 0),n([r.Input(),o("design:type",String),o("design:paramtypes",[String])],u.prototype,"mask",null),u=n([r.Component({selector:"p-inputMask",template:'<input #input pInputText [attr.id]="inputId" [attr.type]="type" [attr.name]="name" [ngStyle]="style" [ngClass]="styleClass" [attr.placeholder]="placeholder"\n        [attr.size]="size" [attr.maxlength]="maxlength" [attr.tabindex]="tabindex" [disabled]="disabled" [readonly]="readonly" [attr.required]="required"\n        (focus)="onInputFocus($event)" (blur)="onInputBlur($event)" (keydown)="onKeyDown($event)" (keypress)="onKeyPress($event)"\n        (input)="onInput($event)" (paste)="handleInputChange($event)">',host:{"[class.ui-inputwrapper-filled]":"filled","[class.ui-inputwrapper-focus]":"focus"},providers:[e.INPUTMASK_VALUE_ACCESSOR,a.DomHandler]}),o("design:paramtypes",[r.ElementRef,a.DomHandler])],u),e.InputMask=u;var c=function(){function t(){}return t}();c=n([r.NgModule({imports:[s.CommonModule,l.InputTextModule],exports:[u],declarations:[u]})],c),e.InputMaskModule=c},function(t,e,i){"use strict";var n=this&&this.__decorate||function(t,e,i,n){var o,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,i,s):o(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};Object.defineProperty(e,"__esModule",{value:!0});var r=i(0),s=i(1),a=i(5),l=i(3);e.INPUTSWITCH_VALUE_ACCESSOR={provide:a.NG_VALUE_ACCESSOR,useExisting:r.forwardRef(function(){return h}),multi:!0};var h=function(){function t(t,e){this.el=t,this.domHandler=e,this.onLabel="On",this.offLabel="Off",this.ariaLabelTemplate="InputSwitch {0}",this.onChange=new r.EventEmitter,this.checked=!1,this.focused=!1,this.onModelChange=function(){},this.onModelTouched=function(){},this.initialized=!1}return t.prototype.ngAfterViewInit=function(){this.container=this.el.nativeElement.children[0],this.handle=this.domHandler.findSingle(this.el.nativeElement,"div.ui-inputswitch-handle"),this.onContainer=this.domHandler.findSingle(this.container,"div.ui-inputswitch-on"),this.offContainer=this.domHandler.findSingle(this.container,"div.ui-inputswitch-off"),this.onLabelChild=this.domHandler.findSingle(this.onContainer,"span.ui-inputswitch-onlabel"),this.offLabelChild=this.domHandler.findSingle(this.offContainer,"span.ui-inputswitch-offlabel")},t.prototype.ngAfterViewChecked=function(){this.container.offsetParent&&!this.initialized&&this.render()},t.prototype.render=function(){var t=this.domHandler.width(this.onContainer),e=this.domHandler.width(this.offContainer),i=this.domHandler.innerWidth(this.offLabelChild)-this.domHandler.width(this.offLabelChild),n=this.domHandler.getOuterWidth(this.handle)-this.domHandler.innerWidth(this.handle),o=t>e?t:e,r=o;this.handle.style.width=r+"px",r=this.domHandler.width(this.handle),o=o+r+6;var s=o-r-i-n;this.container.style.width=o+"px",this.onLabelChild.style.width=s+"px",this.offLabelChild.style.width=s+"px",this.offContainer.style.width=this.domHandler.width(this.container)-5+"px",this.offset=this.domHandler.width(this.container)-this.domHandler.getOuterWidth(this.handle),this.checked?(this.handle.style.left=this.offset+"px",this.onContainer.style.width=this.offset+"px",this.offLabelChild.style.marginRight=-this.offset+"px"):(this.onContainer.style.width="0px",this.onLabelChild.style.marginLeft=-this.offset+"px"),this.initialized=!0},t.prototype.toggle=function(t,e){this.disabled||(this.checked?(this.checked=!1,this.uncheckUI()):(this.checked=!0,this.checkUI()),this.onModelChange(this.checked),this.onChange.emit({originalEvent:t,checked:this.checked}),e.focus())},t.prototype.checkUI=function(){this.onContainer.style.width=this.offset+"px",this.onLabelChild.style.marginLeft="0px",this.offLabelChild.style.marginRight=-this.offset+"px",this.handle.style.left=this.offset+"px",this.updateAriaLabel()},t.prototype.uncheckUI=function(){this.onContainer.style.width="0px",this.onLabelChild.style.marginLeft=-this.offset+"px",this.offLabelChild.style.marginRight="0px",this.handle.style.left="0px",this.updateAriaLabel()},t.prototype.onFocus=function(t){this.focused=!0},t.prototype.onBlur=function(t){this.focused=!1,this.onModelTouched()},t.prototype.writeValue=function(t){this.checked=t,this.initialized&&(!0===this.checked?this.checkUI():this.uncheckUI())},t.prototype.registerOnChange=function(t){this.onModelChange=t},t.prototype.registerOnTouched=function(t){this.onModelTouched=t},t.prototype.setDisabledState=function(t){this.disabled=t},t.prototype.updateAriaLabel=function(){var t=/{(.*?)}/,e=this.checked?this.onLabel:this.offLabel;this.ariaLabel=this.ariaLabelTemplate.replace(this.ariaLabelTemplate.match(t)[0],e)},t}();n([r.Input(),o("design:type",String)],h.prototype,"onLabel",void 0),n([r.Input(),o("design:type",String)],h.prototype,"offLabel",void 0),n([r.Input(),o("design:type",Boolean)],h.prototype,"disabled",void 0),n([r.Input(),o("design:type",Object)],h.prototype,"style",void 0),n([r.Input(),o("design:type",String)],h.prototype,"styleClass",void 0),n([r.Input(),o("design:type",Number)],h.prototype,"tabindex",void 0),n([r.Input(),o("design:type",String)],h.prototype,"inputId",void 0),n([r.Input(),o("design:type",String)],h.prototype,"ariaLabelTemplate",void 0),n([r.Output(),o("design:type",r.EventEmitter)],h.prototype,"onChange",void 0),h=n([r.Component({selector:"p-inputSwitch",template:'\n        <div [ngClass]="{\'ui-inputswitch ui-widget ui-widget-content ui-corner-all\': true,\n            \'ui-state-disabled\': disabled,\'ui-inputswitch-checked\':checked, \'ui-state-focus\':focused}" (click)="toggle($event, in)"\n            [ngStyle]="style" [class]="styleClass">\n            <div class="ui-inputswitch-off">\n                <span class="ui-inputswitch-offlabel">{{offLabel}}</span>\n            </div>\n            <div class="ui-inputswitch-on">\n                <span class="ui-inputswitch-onlabel">{{onLabel}}</span>\n            </div>\n            <div [ngClass]="{\'ui-inputswitch-handle ui-state-default\':true, \'ui-state-focus\':focused}"></div>\n            <div class="ui-helper-hidden-accessible">\n                <input #in type="checkbox" [attr.aria-label]="ariaLabel" [attr.aria-labelledby]="ariaLabelledBy" aria-live="polite" [attr.id]="inputId" (focus)="onFocus($event)" (blur)="onBlur($event)" readonly="readonly" [attr.tabindex]="tabindex"/>\n            </div>\n        </div>\n    ',providers:[e.INPUTSWITCH_VALUE_ACCESSOR,l.DomHandler]}),o("design:paramtypes",[r.ElementRef,l.DomHandler])],h),e.InputSwitch=h;var u=function(){function t(){}return t}();u=n([r.NgModule({imports:[s.CommonModule],exports:[h],declarations:[h]})],u),e.InputSwitchModule=u},function(t,e,i){"use strict";var n=this&&this.__decorate||function(t,e,i,n){var o,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,i,s):o(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};Object.defineProperty(e,"__esModule",{value:!0});var r=i(0),s=i(1),a=function(){function t(t){this.el=t,this.onResize=new r.EventEmitter}return t.prototype.ngOnInit=function(){this.rowsDefault=this.rows,this.colsDefault=this.cols},t.prototype.ngDoCheck=function(){this.updateFilledState()},t.prototype.onInput=function(t){this.updateFilledState()},t.prototype.updateFilledState=function(){this.filled=this.el.nativeElement.value&&this.el.nativeElement.value.length},t.prototype.onFocus=function(t){this.autoResize&&this.resize(t)},t.prototype.onBlur=function(t){this.autoResize&&this.resize(t)},t.prototype.onKeyup=function(t){this.autoResize&&this.resize(t)},t.prototype.resize=function(t){for(var e=0,i=this.el.nativeElement.value.split("\n"),n=i.length-1;n>=0;--n)e+=Math.floor(i[n].length/this.colsDefault+1);this.rows=e>=this.rowsDefault?e+1:this.rowsDefault,this.onResize.emit(t||{})},t}();n([r.Input(),o("design:type",Boolean)],a.prototype,"autoResize",void 0),n([r.Input(),o("design:type",Number)],a.prototype,"rows",void 0),n([r.Input(),o("design:type",Number)],a.prototype,"cols",void 0),n([r.Output(),o("design:type",r.EventEmitter)],a.prototype,"onResize",void 0),n([r.HostListener("input",["$event"]),o("design:type",Function),o("design:paramtypes",[Object]),o("design:returntype",void 0)],a.prototype,"onInput",null),n([r.HostListener("focus",["$event"]),o("design:type",Function),o("design:paramtypes",[Object]),o("design:returntype",void 0)],a.prototype,"onFocus",null),n([r.HostListener("blur",["$event"]),o("design:type",Function),o("design:paramtypes",[Object]),o("design:returntype",void 0)],a.prototype,"onBlur",null),n([r.HostListener("keyup",["$event"]),o("design:type",Function),o("design:paramtypes",[Object]),o("design:returntype",void 0)],a.prototype,"onKeyup",null),a=n([r.Directive({selector:"[pInputTextarea]",host:{"[class.ui-inputtext]":"true","[class.ui-corner-all]":"true","[class.ui-state-default]":"true","[class.ui-widget]":"true","[class.ui-state-filled]":"filled","[attr.rows]":"rows","[attr.cols]":"cols"}}),o("design:paramtypes",[r.ElementRef])],a),e.InputTextarea=a;var l=function(){function t(){}return t}();l=n([r.NgModule({imports:[s.CommonModule],exports:[a],declarations:[a]})],l),e.InputTextareaModule=l},function(t,e,i){"use strict";var n=this&&this.__decorate||function(t,e,i,n){var o,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,i,s):o(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};Object.defineProperty(e,"__esModule",{value:!0});var r=i(0),s=i(1),a=i(3),l=function(){function t(t,e,i){this.el=t,this.domHandler=e,this.renderer=i,this.type="image",this.effectDuration="500ms"}return t.prototype.onImageClick=function(t,e,i,n){this.index=i,this.loading=!0,n.style.width="32px",n.style.height="32px",this.show(),this.displayImage(e),this.preventDocumentClickListener=!0,t.preventDefault()},t.prototype.ngAfterViewInit=function(){var t=this;this.panel=this.domHandler.findSingle(this.el.nativeElement,".ui-lightbox "),this.appendTo&&("body"===this.appendTo?document.body.appendChild(this.panel):this.domHandler.appendChild(this.panel,this.appendTo)),this.documentClickListener=this.renderer.listen("document","click",function(e){!t.preventDocumentClickListener&&t.visible&&t.hide(e),t.preventDocumentClickListener=!1})},t.prototype.onLinkClick=function(t,e){this.show(),this.preventDocumentClickListener=!0,t.preventDefault()},t.prototype.displayImage=function(t){var e=this;setTimeout(function(){e.currentImage=t,e.captionText=t.title,e.center()},1e3)},t.prototype.show=function(){this.mask=document.createElement("div"),this.mask.style.zIndex=++a.DomHandler.zindex,this.domHandler.addMultipleClasses(this.mask,"ui-widget-overlay ui-dialog-mask"),document.body.appendChild(this.mask),this.zindex=++a.DomHandler.zindex,this.center(),this.visible=!0},t.prototype.hide=function(t){this.captionText=null,this.index=null,this.currentImage=null,this.visible=!1,this.panel.style.left="auto",this.panel.style.top="auto",this.mask&&(document.body.removeChild(this.mask),this.mask=null),t.preventDefault()},t.prototype.center=function(){var t=this.domHandler.getOuterWidth(this.panel),e=this.domHandler.getOuterHeight(this.panel);0==t&&0==e&&(this.panel.style.visibility="hidden",this.panel.style.display="block",t=this.domHandler.getOuterWidth(this.panel),e=this.domHandler.getOuterHeight(this.panel),this.panel.style.display="none",this.panel.style.visibility="visible");var i=this.domHandler.getViewport(),n=(i.width-t)/2,o=(i.height-e)/2;this.panel.style.left=n+"px",this.panel.style.top=o+"px"},t.prototype.onImageLoad=function(t,e){var i=this,n=t.target;n.style.visibility="hidden",n.style.display="block";var o=this.domHandler.getOuterWidth(n),r=this.domHandler.getOuterHeight(n);n.style.display="none",n.style.visibility="visible",e.style.width=o+"px",e.style.height=r+"px",this.panel.style.left=parseInt(this.panel.style.left)+(this.domHandler.getOuterWidth(this.panel)-o)/2+"px",this.panel.style.top=parseInt(this.panel.style.top)+(this.domHandler.getOuterHeight(this.panel)-r)/2+"px",setTimeout(function(){i.domHandler.fadeIn(n,500),n.style.display="block",i.loading=!1},parseInt(this.effectDuration))},t.prototype.prev=function(t){this.captionText=null,this.loading=!0,t.style.display="none",this.index>0&&this.displayImage(this.images[--this.index])},t.prototype.next=function(t){this.captionText=null,this.loading=!0,t.style.display="none",this.index<=this.images.length-1&&this.displayImage(this.images[++this.index])},Object.defineProperty(t.prototype,"leftVisible",{get:function(){return this.images&&this.images.length&&0!=this.index&&!this.loading},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rightVisible",{get:function(){return this.images&&this.images.length&&this.index<this.images.length-1&&!this.loading},enumerable:!0,configurable:!0}),t.prototype.ngOnDestroy=function(){this.documentClickListener&&this.documentClickListener(),this.appendTo&&this.el.nativeElement.appendChild(this.panel)},t}();n([r.Input(),o("design:type",Array)],l.prototype,"images",void 0),n([r.Input(),o("design:type",String)],l.prototype,"type",void 0),n([r.Input(),o("design:type",Object)],l.prototype,"style",void 0),n([r.Input(),o("design:type",String)],l.prototype,"styleClass",void 0),n([r.Input(),o("design:type",Object)],l.prototype,"appendTo",void 0),n([r.Input(),o("design:type",String)],l.prototype,"easing",void 0),n([r.Input(),o("design:type",Object)],l.prototype,"effectDuration",void 0),l=n([r.Component({selector:"p-lightbox",template:'\n        <div [ngStyle]="style" [class]="styleClass" *ngIf="(type == \'image\')">\n            <a *ngFor="let image of images; let i = index;" [href]="image.source" (click)="onImageClick($event,image,i,content)">\n                <img [src]="image.thumbnail" [title]="image.title" [alt]="image.alt">\n            </a>\n        </div>\n        <span [ngStyle]="style" [class]="styleClass" *ngIf="(type == \'content\')" (click)="onLinkClick($event,content)">\n            <ng-content select="a"></ng-content>\n        </span>\n        <div class="ui-lightbox ui-widget ui-helper-hidden ui-corner-all ui-shadow" [style.display]="visible ? \'block\' : \'none\'" [style.zIndex]="zindex"\n            [ngClass]="{\'ui-lightbox-loading\': loading}"\n            [style.transitionProperty]="\'all\'" [style.transitionDuration]="effectDuration" [style.transitionTimingFunction]="easing" (click)="preventDocumentClickListener=true">\n           <div class="ui-lightbox-content-wrapper">\n              <a class="ui-state-default ui-lightbox-nav-left ui-corner-right" [style.zIndex]="zindex + 1" (click)="prev(img)"\n                [ngClass]="{\'ui-helper-hidden\':!leftVisible}"><span class="fa fa-fw fa-caret-left"></span></a>\n              <div #content class="ui-lightbox-content ui-corner-all" #content \n                [style.transitionProperty]="\'width,height\'" [style.transitionDuration]="effectDuration" [style.transitionTimingFunction]="easing">\n                <img #img [src]="currentImage ? currentImage.source||\'\' : \'\'" (load)="onImageLoad($event,content)" style="display:none">\n                <ng-content></ng-content>\n              </div>\n              <a class="ui-state-default ui-lightbox-nav-right ui-corner-left ui-helper-hidden" [style.zIndex]="zindex + 1" (click)="next(img)"\n                [ngClass]="{\'ui-helper-hidden\':!rightVisible}"><span class="fa fa-fw fa-caret-right"></span></a>\n           </div>\n           <div class="ui-lightbox-caption ui-widget-header" [style.display]="captionText ? \'block\' : \'none\'">\n              <span class="ui-lightbox-caption-text">{{captionText}}</span><a class="ui-lightbox-close ui-corner-all" href="#" (click)="hide($event)"><span class="fa fa-fw fa-close"></span></a>\n              <div style="clear:both"></div>\n           </div>\n        </div>\n    ',providers:[a.DomHandler]}),o("design:paramtypes",[r.ElementRef,a.DomHandler,r.Renderer2])],l),e.Lightbox=l;var h=function(){function t(){}return t}();h=n([r.NgModule({imports:[s.CommonModule],exports:[l],declarations:[l]})],h),e.LightboxModule=h},function(t,e,i){"use strict";var n=this&&this.__decorate||function(t,e,i,n){var o,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,i,s):o(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};Object.defineProperty(e,"__esModule",{value:!0});var r=i(0),s=i(1),a=i(4),l=i(3),h=i(10),u=i(5);e.LISTBOX_VALUE_ACCESSOR={provide:u.NG_VALUE_ACCESSOR,useExisting:r.forwardRef(function(){return c}),multi:!0};var c=function(){function t(t,e,i,n){this.el=t,this.domHandler=e,this.objectUtils=i,this.cd=n,this.checkbox=!1,this.filter=!1,this.filterMode="contains",this.metaKeySelection=!0,this.showToggleAll=!0,this.onChange=new r.EventEmitter,this.onDblClick=new r.EventEmitter,this.onModelChange=function(){},this.onModelTouched=function(){}}return t.prototype.ngAfterContentInit=function(){var t=this;this.templates.forEach(function(e){switch(e.getType()){case"item":default:t.itemTemplate=e.template}})},t.prototype.writeValue=function(t){this.value=t,this.cd.markForCheck()},t.prototype.registerOnChange=function(t){this.onModelChange=t},t.prototype.registerOnTouched=function(t){this.onModelTouched=t},t.prototype.setDisabledState=function(t){this.disabled=t},t.prototype.onOptionClick=function(t,e){this.disabled||(this.checkboxClick?this.checkboxClick=!1:this.multiple?this.onOptionClickMultiple(t,e):this.onOptionClickSingle(t,e),this.optionTouched=!1)},t.prototype.onOptionTouchEnd=function(t,e){this.disabled||(this.optionTouched=!0)},t.prototype.onOptionClickSingle=function(t,e){var i=this.isSelected(e),n=!1;if(!this.optionTouched&&this.metaKeySelection){var o=t.metaKey||t.ctrlKey;i?o&&(this.value=null,n=!0):(this.value=e.value,n=!0)}else this.value=i?null:e.value,n=!0;n&&(this.onModelChange(this.value),this.onChange.emit({originalEvent:t,value:this.value}))},t.prototype.onOptionClickMultiple=function(t,e){var i=this.isSelected(e),n=!1;if(!this.optionTouched&&this.metaKeySelection){var o=t.metaKey||t.ctrlKey;i?(o?this.removeOption(e):this.value=[e.value],n=!0):(this.value=o?this.value||[]:[],this.value=this.value.concat([e.value]),n=!0)}else i?this.removeOption(e):this.value=(this.value||[]).concat([e.value]),n=!0;n&&(this.onModelChange(this.value),this.onChange.emit({originalEvent:t,value:this.value}))},t.prototype.removeOption=function(t){var e=this;this.value=this.value.filter(function(i){return!e.objectUtils.equals(i,t.value,e.dataKey)})},t.prototype.isSelected=function(t){var e=!1;if(this.multiple){if(this.value)for(var i=0,n=this.value;i<n.length;i++){var o=n[i];if(this.objectUtils.equals(o,t.value,this.dataKey)){e=!0;break}}}else e=this.objectUtils.equals(this.value,t.value,this.dataKey);return e},Object.defineProperty(t.prototype,"allChecked",{get:function(){return this.filterValue?this.allFilteredSelected():this.value&&this.options&&this.value.length===this.options.length},enumerable:!0,configurable:!0}),t.prototype.allFilteredSelected=function(){var t;if(this.value&&this.options&&this.options.length){t=!0;for(var e=0,i=this.options;e<i.length;e++){var n=i[e];if(this.isItemVisible(n)&&!this.isSelected(n)){t=!1;break}}}return t},t.prototype.onFilter=function(t){var e=t.target.value.trim().toLowerCase();this.filterValue=e.length?e:null},t.prototype.toggleAll=function(t,e){if(!this.disabled&&this.options&&0!==this.options.length){if(e.checked)this.value=[];else if(this.options){this.value=[];for(var i=0;i<this.options.length;i++){var n=this.options[i];this.isItemVisible(n)&&this.value.push(n.value)}}e.checked=!e.checked,this.onModelChange(this.value),this.onChange.emit({originalEvent:t,value:this.value})}},t.prototype.isItemVisible=function(t){if(this.filterValue){var e=void 0;switch(this.filterMode){case"startsWith":e=0===t.label.toLowerCase().indexOf(this.filterValue.toLowerCase());break;case"contains":e=t.label.toLowerCase().indexOf(this.filterValue.toLowerCase())>-1;break;default:e=!0}return e}return!0},t.prototype.onDoubleClick=function(t,e){this.disabled||this.onDblClick.emit({originalEvent:t,value:this.value})},t.prototype.onCheckboxClick=function(t,e){if(!this.disabled){this.checkboxClick=!0;this.isSelected(e)?this.removeOption(e):(this.value=this.value?this.value:[],this.value=this.value.concat([e.value])),this.onModelChange(this.value),this.onChange.emit({originalEvent:t,value:this.value})}},t.prototype.onInputFocus=function(t){this.focus=!0},t.prototype.onInputBlur=function(t){this.focus=!1},t}();n([r.Input(),o("design:type",Array)],c.prototype,"options",void 0),n([r.Input(),o("design:type",Boolean)],c.prototype,"multiple",void 0),n([r.Input(),o("design:type",Object)],c.prototype,"style",void 0),n([r.Input(),o("design:type",String)],c.prototype,"styleClass",void 0),n([r.Input(),o("design:type",Object)],c.prototype,"listStyle",void 0),n([r.Input(),o("design:type",Boolean)],c.prototype,"readonly",void 0),n([r.Input(),o("design:type",Boolean)],c.prototype,"disabled",void 0),n([r.Input(),o("design:type",Boolean)],c.prototype,"checkbox",void 0),n([r.Input(),o("design:type",Boolean)],c.prototype,"filter",void 0),n([r.Input(),o("design:type",String)],c.prototype,"filterMode",void 0),n([r.Input(),o("design:type",Boolean)],c.prototype,"metaKeySelection",void 0),n([r.Input(),o("design:type",String)],c.prototype,"dataKey",void 0),n([r.Input(),o("design:type",Boolean)],c.prototype,"showToggleAll",void 0),n([r.Output(),o("design:type",r.EventEmitter)],c.prototype,"onChange",void 0),n([r.Output(),o("design:type",r.EventEmitter)],c.prototype,"onDblClick",void 0),n([r.ContentChild(a.Footer),o("design:type",Object)],c.prototype,"footerFacet",void 0),n([r.ContentChildren(a.PrimeTemplate),o("design:type",r.QueryList)],c.prototype,"templates",void 0),c=n([r.Component({selector:"p-listbox",template:'\n        <div [ngClass]="{\'ui-listbox ui-inputtext ui-widget ui-widget-content ui-corner-all\':true,\'ui-state-disabled\':disabled,\'ui-state-focus\':focus}" [ngStyle]="style" [class]="styleClass">\n            <div class="ui-helper-hidden-accessible">\n                <input type="text" readonly="readonly" (focus)="onInputFocus($event)" (blur)="onInputBlur($event)">\n            </div>\n            <div class="ui-widget-header ui-corner-all ui-listbox-header ui-helper-clearfix" *ngIf="(checkbox && multiple) || filter" [ngClass]="{\'ui-listbox-header-w-checkbox\': checkbox}">\n                <div class="ui-chkbox ui-widget" *ngIf="checkbox && multiple && showToggleAll">\n                    <div class="ui-helper-hidden-accessible">\n                        <input #cb type="checkbox" readonly="readonly" [checked]="allChecked">\n                    </div>\n                    <div class="ui-chkbox-box ui-widget ui-corner-all ui-state-default" [ngClass]="{\'ui-state-active\':allChecked}" (click)="toggleAll($event,cb)">\n                        <span class="ui-chkbox-icon ui-clickable" [ngClass]="{\'fa fa-check\':allChecked}"></span>\n                    </div>\n                </div>\n                <div class="ui-listbox-filter-container" *ngIf="filter">\n                    <input type="text" role="textbox" (input)="onFilter($event)" class="ui-inputtext ui-widget ui-state-default ui-corner-all" [disabled]="disabled">\n                    <span class="fa fa-search"></span>\n                </div>\n            </div>\n            <div class="ui-listbox-list-wrapper">\n                <ul class="ui-listbox-list" [ngStyle]="listStyle">\n                    <li *ngFor="let option of options; let i = index;" [style.display]="isItemVisible(option) ? \'block\' : \'none\'"\n                        [ngClass]="{\'ui-listbox-item ui-corner-all\':true,\'ui-state-highlight\':isSelected(option)}"\n                        (click)="onOptionClick($event,option)" (dblclick)="onDoubleClick($event,option)" (touchend)="onOptionTouchEnd($event,option)">\n                        <div class="ui-chkbox ui-widget" *ngIf="checkbox && multiple" (click)="onCheckboxClick($event,option)">\n                            <div class="ui-helper-hidden-accessible">\n                                <input type="checkbox" [checked]="isSelected(option)" [disabled]="disabled">\n                            </div>\n                            <div class="ui-chkbox-box ui-widget ui-corner-all ui-state-default" [ngClass]="{\'ui-state-active\':isSelected(option)}">\n                                <span class="ui-chkbox-icon ui-clickable" [ngClass]="{\'fa fa-check\':isSelected(option)}"></span>\n                            </div>\n                        </div>\n                        <span *ngIf="!itemTemplate">{{option.label}}</span>\n                        <ng-template *ngIf="itemTemplate" [pTemplateWrapper]="itemTemplate" [item]="option" [index]="i"></ng-template>\n                    </li>\n                </ul>\n            </div>\n            <div class="ui-listbox-footer ui-widget-header ui-corner-all" *ngIf="footerFacet">\n                <ng-content select="p-footer"></ng-content>\n            </div>\n        </div>\n    ',providers:[l.DomHandler,h.ObjectUtils,e.LISTBOX_VALUE_ACCESSOR]}),o("design:paramtypes",[r.ElementRef,l.DomHandler,h.ObjectUtils,r.ChangeDetectorRef])],c),e.Listbox=c;var d=function(){function t(){}return t}();d=n([r.NgModule({imports:[s.CommonModule,a.SharedModule],exports:[c,a.SharedModule],declarations:[c]})],d),e.ListboxModule=d},function(t,e,i){"use strict";var n=this&&this.__decorate||function(t,e,i,n){var o,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,i,s):o(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};Object.defineProperty(e,"__esModule",{value:!0});var r=i(0),s=i(1),a=i(3),l=i(6),h=function(){function t(t,e,i){this.el=t,this.domHandler=e,this.renderer=i,this.orientation="horizontal"}return t.prototype.onItemMouseEnter=function(t,e,i){if(!i.disabled){this.activeItem=e;var n=e.children[0].nextElementSibling;n&&(n.style.zIndex=++a.DomHandler.zindex,"horizontal"===this.orientation?(n.style.top=this.domHandler.getOuterHeight(e.children[0])+"px",n.style.left="0px"):"vertical"===this.orientation&&(n.style.top="0px",n.style.left=this.domHandler.getOuterWidth(e.children[0])+"px"))}},t.prototype.onItemMouseLeave=function(t,e){this.activeItem=null},t.prototype.itemClick=function(t,e){if(e.disabled)return void t.preventDefault();e.url||t.preventDefault(),e.command&&e.command({originalEvent:t,item:e}),this.activeItem=null},t.prototype.getColumnClass=function(t){var e,i=t.items?t.items.length:0;switch(i){case 2:e="ui-g-6";break;case 3:e="ui-g-4";break;case 4:e="ui-g-3";break;case 6:e="ui-g-2";break;default:e="ui-g-12"}return e},t}();n([r.Input(),o("design:type",Array)],h.prototype,"model",void 0),n([r.Input(),o("design:type",Object)],h.prototype,"style",void 0),n([r.Input(),o("design:type",String)],h.prototype,"styleClass",void 0),n([r.Input(),o("design:type",String)],h.prototype,"orientation",void 0),h=n([r.Component({selector:"p-megaMenu",template:'\n        <div [class]="styleClass" [ngStyle]="style"\n            [ngClass]="{\'ui-menu ui-menubar ui-megamenu ui-widget ui-widget-content ui-corner-all ui-helper-clearfix\':true,\'ui-megamenu-vertical\': orientation == \'vertical\'}">\n            <ul class="ui-menu-list ui-helper-reset ui-menubar-root-list">\n                <ng-template ngFor let-category [ngForOf]="model">\n                    <li *ngIf="category.separator" class="ui-menu-separator ui-widget-content">\n                    <li *ngIf="!category.separator" #item [ngClass]="{\'ui-menuitem ui-widget ui-corner-all\':true,\'ui-menu-parent\':category.items,\'ui-menuitem-active\':item==activeItem}"\n                        (mouseenter)="onItemMouseEnter($event, item, category)" (mouseleave)="onItemMouseLeave($event, item)">\n                        <a class="ui-menuitem-link ui-corner-all ui-submenu-link" [ngClass]="{\'ui-state-disabled\':category.disabled}">\n                            <span class="ui-menuitem-icon fa fa-fw" [ngClass]="category.icon"></span>\n                            <span class="ui-menuitem-text">{{category.label}}</span>\n                            <span class="ui-submenu-icon fa fa-fw" [ngClass]="{\'fa-caret-down\':orientation==\'horizontal\',\'fa-caret-right\':orientation==\'vertical\'}"></span>\n                        </a>\n                        <div class="ui-megamenu-panel ui-widget-content ui-menu-list ui-corner-all ui-helper-clearfix ui-menu-child ui-shadow">\n                            <div class="ui-g">\n                                <ng-template ngFor let-column [ngForOf]="category.items">\n                                    <div [class]="getColumnClass(category)">\n                                        <ng-template ngFor let-submenu [ngForOf]="column">\n                                            <ul class="ui-menu-list ui-helper-reset">\n                                                <li class="ui-widget-header ui-corner-all"><h3>{{submenu.label}}</h3></li>\n                                                <ng-template ngFor let-item [ngForOf]="submenu.items">\n                                                    <li *ngIf="item.separator" class="ui-menu-separator ui-widget-content">\n                                                    <li *ngIf="!item.separator" class="ui-menuitem ui-widget ui-corner-all">\n                                                        <a *ngIf="!item.routerLink" [href]="item.url||\'#\'" class="ui-menuitem-link ui-corner-all" [attr.target]="item.target" [attr.title]="item.title"\n                                                            [ngClass]="{\'ui-state-disabled\':item.disabled}" (click)="itemClick($event, item)">\n                                                            <span class="ui-menuitem-icon fa fa-fw" *ngIf="item.icon" [ngClass]="item.icon"></span>\n                                                            <span class="ui-menuitem-text">{{item.label}}</span>\n                                                        </a>\n                                                        <a *ngIf="item.routerLink" [routerLink]="item.routerLink" [routerLinkActive]="\'ui-state-active\'" \n                                                            [routerLinkActiveOptions]="item.routerLinkActiveOptions||{exact:false}" class="ui-menuitem-link ui-corner-all" \n                                                             [attr.target]="item.target" [attr.title]="item.title"\n                                                            [ngClass]="{\'ui-state-disabled\':item.disabled}" (click)="itemClick($event, item)">\n                                                            <span class="ui-menuitem-icon fa fa-fw" *ngIf="item.icon" [ngClass]="item.icon"></span>\n                                                            <span class="ui-menuitem-text">{{item.label}}</span>\n                                                        </a>\n                                                    </li>\n                                                </ng-template>\n                                            </ul>\n                                        </ng-template>\n                                    </div>\n                                </ng-template>\n                            </div>\n                        </div>\n                    </li>\n                </ng-template>\n                <li class="ui-menuitem ui-menuitem-custom ui-widget ui-corner-all" *ngIf="orientation === \'horizontal\'">\n                    <ng-content></ng-content>\n                </li>\n            </ul>\n        </div>\n    ',providers:[a.DomHandler]}),o("design:paramtypes",[r.ElementRef,a.DomHandler,r.Renderer2])],h),e.MegaMenu=h;var u=function(){function t(){}return t}();u=n([r.NgModule({imports:[s.CommonModule,l.RouterModule],exports:[h,l.RouterModule],declarations:[h]})],u),e.MegaMenuModule=u},function(t,e,i){"use strict";var n=this&&this.__decorate||function(t,e,i,n){var o,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,i,s):o(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},r=this&&this.__param||function(t,e){return function(i,n){e(i,n,t)}};Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(1),l=i(3),h=i(6),u=function(){function t(t){this.menu=t}return t}();n([s.Input("pMenuItemContent"),o("design:type",Object)],u.prototype,"item",void 0),u=n([s.Component({selector:"[pMenuItemContent]",template:'\n        <a *ngIf="!item.routerLink" [href]="item.url||\'#\'" class="ui-menuitem-link ui-corner-all" [attr.target]="item.target" [attr.title]="item.title"\n            [ngClass]="{\'ui-state-disabled\':item.disabled}" (click)="menu.itemClick($event, item)">\n            <span class="ui-menuitem-icon fa fa-fw" *ngIf="item.icon" [ngClass]="item.icon"></span>\n            <span class="ui-menuitem-text">{{item.label}}</span>\n        </a>\n        <a *ngIf="item.routerLink" [routerLink]="item.routerLink" [routerLinkActive]="\'ui-state-active\'" \n            [routerLinkActiveOptions]="item.routerLinkActiveOptions||{exact:false}" class="ui-menuitem-link ui-corner-all" [attr.target]="item.target"\n             [attr.title]="item.title" [ngClass]="{\'ui-state-disabled\':item.disabled}" (click)="menu.itemClick($event, item)">\n            <span class="ui-menuitem-icon fa fa-fw" *ngIf="item.icon" [ngClass]="item.icon"></span>\n            <span class="ui-menuitem-text">{{item.label}}</span>\n        </a>\n    '}),r(0,s.Inject(s.forwardRef(function(){return c}))),o("design:paramtypes",[c])],u),e.MenuItemContent=u;var c=function(){function t(t,e,i){this.el=t,this.domHandler=e,this.renderer=i}return t.prototype.ngAfterViewInit=function(){var t=this;this.container=this.containerViewChild.nativeElement,this.popup&&(this.appendTo&&("body"===this.appendTo?document.body.appendChild(this.container):this.domHandler.appendChild(this.container,this.appendTo)),this.documentClickListener=this.renderer.listen("document","click",function(){t.preventDocumentDefault||t.hide(),t.preventDocumentDefault=!1}))},t.prototype.toggle=function(t){this.container.offsetParent?this.hide():this.show(t),this.preventDocumentDefault=!0},t.prototype.onResize=function(t){this.onResizeTarget&&this.container.offsetParent&&this.domHandler.absolutePosition(this.container,this.onResizeTarget)},t.prototype.show=function(t){var e=t.currentTarget;this.onResizeTarget=t.currentTarget,this.container.style.display="block",this.domHandler.absolutePosition(this.container,e),this.domHandler.fadeIn(this.container,250),this.preventDocumentDefault=!0},t.prototype.hide=function(){this.container.style.display="none"},t.prototype.itemClick=function(t,e){if(e.disabled)return void t.preventDefault();e.url||t.preventDefault(),e.command&&e.command({originalEvent:t,item:e}),this.popup&&this.hide()},t.prototype.ngOnDestroy=function(){this.popup&&(this.documentClickListener&&this.documentClickListener(),this.appendTo&&this.el.nativeElement.appendChild(this.container))},t.prototype.hasSubMenu=function(){if(this.model)for(var t=0,e=this.model;t<e.length;t++){var i=e[t];if(i.items)return!0}return!1},t}();n([s.Input(),o("design:type",Array)],c.prototype,"model",void 0),n([s.Input(),o("design:type",Boolean)],c.prototype,"popup",void 0),n([s.Input(),o("design:type",Object)],c.prototype,"style",void 0),n([s.Input(),o("design:type",String)],c.prototype,"styleClass",void 0),n([s.Input(),o("design:type",Object)],c.prototype,"appendTo",void 0),n([s.ViewChild("container"),o("design:type",s.ElementRef)],c.prototype,"containerViewChild",void 0),c=n([s.Component({selector:"p-menu",template:'\n        <div #container [ngClass]="{\'ui-menu ui-widget ui-widget-content ui-corner-all ui-helper-clearfix\':true,\'ui-menu-dynamic ui-shadow\':popup}" \n            [class]="styleClass" [ngStyle]="style" (click)="preventDocumentDefault=true">\n            <ul class="ui-menu-list ui-helper-reset">\n                <ng-template ngFor let-submenu [ngForOf]="model" *ngIf="hasSubMenu()">\n                    <li class="ui-menu-separator ui-widget-content" *ngIf="submenu.separator" [ngClass]="{\'ui-helper-hidden\': submenu.visible === false}"></li>\n                    <li class="ui-widget-header ui-corner-all" *ngIf="!submenu.separator" [ngClass]="{\'ui-helper-hidden\': submenu.visible === false}"><h3>{{submenu.label}}</h3></li>\n                    <ng-template ngFor let-item [ngForOf]="submenu.items">\n                        <li class="ui-menu-separator ui-widget-content" *ngIf="item.separator" [ngClass]="{\'ui-helper-hidden\': (item.visible === false || submenu.visible === false)}"></li>\n                        <li class="ui-menuitem ui-widget ui-corner-all" *ngIf="!item.separator" [pMenuItemContent]="item" [ngClass]="{\'ui-helper-hidden\': (item.visible === false || submenu.visible === false)}"></li>\n                    </ng-template>\n                </ng-template>\n                <ng-template ngFor let-item [ngForOf]="model" *ngIf="!hasSubMenu()">\n                    <li class="ui-menu-separator ui-widget-content" *ngIf="item.separator" [ngClass]="{\'ui-helper-hidden\': item.visible === false}"></li>\n                    <li class="ui-menuitem ui-widget ui-corner-all" *ngIf="!item.separator" [pMenuItemContent]="item" [ngClass]="{\'ui-helper-hidden\': item.visible === false}"></li>\n                </ng-template>\n            </ul>\n        </div>\n    ',providers:[l.DomHandler],host:{"(window:resize)":"onResize($event)"}}),o("design:paramtypes",[s.ElementRef,l.DomHandler,s.Renderer2])],c),e.Menu=c;var d=function(){function t(){}return t}();d=n([s.NgModule({imports:[a.CommonModule,h.RouterModule],exports:[c,h.RouterModule],declarations:[c,u]})],d),e.MenuModule=d},function(t,e,i){"use strict";var n=this&&this.__decorate||function(t,e,i,n){var o,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,i,s):o(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};Object.defineProperty(e,"__esModule",{value:!0});var r=i(0),s=i(1),a=i(3),l=i(6),h=function(){function t(t){this.domHandler=t}return t.prototype.onItemMouseEnter=function(t,e,i){if(!i.disabled){this.activeItem=e;var n=e.children[0].nextElementSibling;if(n){var o=n.children[0];o.style.zIndex=String(++a.DomHandler.zindex),this.root?(o.style.top=this.domHandler.getOuterHeight(e.children[0])+"px",o.style.left="0px"):(o.style.top="0px",o.style.left=this.domHandler.getOuterWidth(e.children[0])+"px")}}},t.prototype.onItemMouseLeave=function(t){this.activeItem=null},t.prototype.itemClick=function(t,e){if(e.disabled)return void t.preventDefault();e.url||t.preventDefault(),e.command&&e.command({originalEvent:t,item:e}),this.activeItem=null},t.prototype.listClick=function(t){this.activeItem=null},t}();n([r.Input(),o("design:type",Object)],h.prototype,"item",void 0),n([r.Input(),o("design:type",Boolean)],h.prototype,"root",void 0),h=n([r.Component({selector:"p-menubarSub",template:'\n        <ul [ngClass]="{\'ui-menubar-root-list ui-helper-clearfix\':root, \'ui-widget-content ui-corner-all ui-helper-clearfix ui-menu-child ui-shadow\':!root}" class="ui-menu-list"\n            (click)="listClick($event)">\n            <ng-template ngFor let-child [ngForOf]="(root ? item : item.items)">\n                <li *ngIf="child.separator" class="ui-menu-separator ui-widget-content" [ngClass]="{\'ui-helper-hidden\': child.visible === false}">\n                <li *ngIf="!child.separator" #listItem [ngClass]="{\'ui-menuitem ui-widget ui-corner-all\':true,\'ui-menu-parent\':child.items,\'ui-menuitem-active\':listItem==activeItem}"\n                    (mouseenter)="onItemMouseEnter($event,listItem,child)" (mouseleave)="onItemMouseLeave($event)">\n                    <a *ngIf="!child.routerLink" [href]="child.url||\'#\'" [attr.target]="child.target" [attr.title]="child.title" (click)="itemClick($event, child)"\n                         [ngClass]="{\'ui-menuitem-link ui-corner-all\':true,\'ui-state-disabled\':child.disabled,\'ui-helper-hidden\': child.visible === false}" [ngStyle]="child.style" [class]="child.styleClass">\n                        <span class="ui-menuitem-icon fa fa-fw" *ngIf="child.icon" [ngClass]="child.icon"></span>\n                        <span class="ui-menuitem-text">{{child.label}}</span>\n                        <span class="ui-submenu-icon fa fa-fw" *ngIf="child.items" [ngClass]="{\'fa-caret-down\':root,\'fa-caret-right\':!root}"></span>\n                    </a>\n                    <a *ngIf="child.routerLink" [routerLink]="child.routerLink" [routerLinkActive]="\'ui-state-active\'" [routerLinkActiveOptions]="child.routerLinkActiveOptions||{exact:false}" \n                        [attr.target]="child.target" [attr.title]="child.title"\n                        (click)="itemClick($event, child)" [ngClass]="{\'ui-menuitem-link ui-corner-all\':true,\'ui-state-disabled\':child.disabled,\'ui-helper-hidden\': child.visible === false}" [ngStyle]="child.style" [class]="child.styleClass">\n                        <span class="ui-menuitem-icon fa fa-fw" *ngIf="child.icon" [ngClass]="child.icon"></span>\n                        <span class="ui-menuitem-text">{{child.label}}</span>\n                        <span class="ui-submenu-icon fa fa-fw" *ngIf="child.items" [ngClass]="{\'fa-caret-down\':root,\'fa-caret-right\':!root}"></span>\n                    </a>\n                    <p-menubarSub class="ui-submenu" [item]="child" *ngIf="child.items"></p-menubarSub>\n                </li>\n            </ng-template>\n            <li class="ui-menuitem ui-menuitem-custom ui-widget ui-corner-all">\n                <ng-content></ng-content>\n            </li>\n        </ul>\n    ',providers:[a.DomHandler]}),o("design:paramtypes",[a.DomHandler])],h),e.MenubarSub=h;var u=function(){function t(t,e,i){this.el=t,this.domHandler=e,this.renderer=i}return t}();n([r.Input(),o("design:type",Array)],u.prototype,"model",void 0),n([r.Input(),o("design:type",Object)],u.prototype,"style",void 0),n([r.Input(),o("design:type",String)],u.prototype,"styleClass",void 0),u=n([r.Component({selector:"p-menubar",template:'\n        <div [ngClass]="{\'ui-menubar ui-menu ui-widget ui-widget-content ui-corner-all ui-helper-clearfix\':true}" \n            [class]="styleClass" [ngStyle]="style">\n            <p-menubarSub [item]="model" root="root">\n                <ng-content></ng-content>\n            </p-menubarSub>\n        </div>\n    ',providers:[a.DomHandler]}),o("design:paramtypes",[r.ElementRef,a.DomHandler,r.Renderer2])],u),e.Menubar=u;var c=function(){function t(){}return t}();c=n([r.NgModule({imports:[s.CommonModule,l.RouterModule],exports:[u,l.RouterModule],declarations:[u,h]})],c),e.MenubarModule=c},function(t,e,i){"use strict";var n=this&&this.__decorate||function(t,e,i,n){var o,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,i,s):o(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};Object.defineProperty(e,"__esModule",{value:!0});var r=i(0),s=i(1),a=i(3),l=i(10),h=i(4),u=i(5);e.MULTISELECT_VALUE_ACCESSOR={provide:u.NG_VALUE_ACCESSOR,useExisting:r.forwardRef(function(){return c}),multi:!0};var c=function(){function t(t,e,i,n,o,s){this.el=t,this.domHandler=e,this.renderer=i,this.objectUtils=o,this.cd=s,this.scrollHeight="200px",this.defaultLabel="Choose",this.filter=!0,this.displaySelectedLabel=!0,this.maxSelectedLabels=3,this.selectedItemsLabel="{0} items selected",this.showToggleAll=!0,this.resetFilterOnHide=!1,this.onChange=new r.EventEmitter,this.onBlur=new r.EventEmitter,this.onPanelShow=new r.EventEmitter,this.onPanelHide=new r.EventEmitter,this.onModelChange=function(){},this.onModelTouched=function(){},this.valueDiffer=n.find([]).create(null),this.optionsDiffer=n.find([]).create(null)}return t.prototype.ngOnInit=function(){this.updateLabel()},t.prototype.ngAfterContentInit=function(){var t=this;this.templates.forEach(function(e){switch(e.getType()){case"item":default:t.itemTemplate=e.template}})},t.prototype.ngAfterViewInit=function(){this.container=this.containerViewChild.nativeElement,this.panel=this.panelViewChild.nativeElement,this.appendTo&&("body"===this.appendTo?document.body.appendChild(this.panel):this.domHandler.appendChild(this.panel,this.appendTo)),this.overlayVisible&&this.show()},t.prototype.ngAfterViewChecked=function(){this.filtered&&(this.appendTo?this.domHandler.absolutePosition(this.panel,this.container):this.domHandler.relativePosition(this.panel,this.container),this.filtered=!1)},t.prototype.ngDoCheck=function(){var t=this.valueDiffer.diff(this.value),e=this.optionsDiffer.diff(this.options);(t||e)&&this.updateLabel()},t.prototype.writeValue=function(t){this.value=t,this.updateLabel(),this.cd.markForCheck()},t.prototype.registerOnChange=function(t){this.onModelChange=t},t.prototype.registerOnTouched=function(t){this.onModelTouched=t},t.prototype.setDisabledState=function(t){this.disabled=t},t.prototype.onItemClick=function(t,e){t.stopPropagation();var i=this.findSelectionIndex(e);this.value=-1!=i?this.value.filter(function(t,e){return e!=i}):(this.value||[]).concat([e]),this.onModelChange(this.value),this.onChange.emit({originalEvent:t,value:this.value})},t.prototype.isSelected=function(t){return-1!=this.findSelectionIndex(t)},t.prototype.findSelectionIndex=function(t){var e=-1;if(this.value)for(var i=0;i<this.value.length;i++)if(this.objectUtils.equals(this.value[i],t,this.dataKey)){e=i;break}return e},t.prototype.toggleAll=function(t,e){if(e.checked)this.value=[];else{var i=this.getVisibleOptions();if(i){this.value=[];for(var n=0;n<i.length;n++)this.value.push(i[n].value)}}e.checked=!e.checked,this.onModelChange(this.value),this.onChange.emit({originalEvent:t,value:this.value})},t.prototype.isAllChecked=function(){return this.filterValue&&this.filterValue.trim().length?this.value&&this.visibleOptions&&this.visibleOptions.length&&this.value.length==this.visibleOptions.length:this.value&&this.options&&this.value.length==this.options.length},t.prototype.show=function(){this.overlayVisible=!0,this.panel.style.zIndex=String(++a.DomHandler.zindex),this.bindDocumentClickListener(),this.appendTo?this.domHandler.absolutePosition(this.panel,this.container):this.domHandler.relativePosition(this.panel,this.container),this.domHandler.fadeIn(this.panel,250),this.onPanelShow.emit()},t.prototype.hide=function(){this.overlayVisible=!1,this.unbindDocumentClickListener(),this.resetFilterOnHide&&(this.filterValue=null,this.filterInputChild.nativeElement.value=null),this.onPanelHide.emit()},t.prototype.close=function(t){this.hide(),t.preventDefault(),t.stopPropagation()},t.prototype.onMouseclick=function(t,e){this.disabled||(this.panelClick||(this.overlayVisible?this.hide():(e.focus(),this.show())),this.selfClick=!0)},t.prototype.onFocus=function(t){this.focus=!0},t.prototype.onInputBlur=function(t){this.focus=!1,this.onBlur.emit({originalEvent:t}),this.onModelTouched()},t.prototype.updateLabel=function(){if(this.value&&this.options&&this.value.length&&this.displaySelectedLabel){for(var t="",e=0;e<this.value.length;e++){var i=this.findLabelByValue(this.value[e]);i&&(t.length>0&&(t+=", "),t+=i)}if(this.value.length<=this.maxSelectedLabels)this.valuesAsString=t;else{var n=/{(.*?)}/,o=this.selectedItemsLabel.replace(this.selectedItemsLabel.match(n)[0],this.value.length+"");this.valuesAsString=o}}else this.valuesAsString=this.defaultLabel},t.prototype.findLabelByValue=function(t){for(var e=null,i=0;i<this.options.length;i++){var n=this.options[i];if(null==t&&null==n.value||this.objectUtils.equals(t,n.value,this.dataKey)){e=n.label;break}}return e},t.prototype.onFilter=function(t){this.filterValue=t.target.value.trim().toLowerCase(),this.visibleOptions=[];for(var e=0;e<this.options.length;e++){var i=this.options[e];i.label.toLowerCase().indexOf(this.filterValue.toLowerCase())>-1&&this.visibleOptions.push(i)}this.filtered=!0},t.prototype.isItemVisible=function(t){if(!this.filterValue||!this.filterValue.trim().length)return!0;for(var e=0;e<this.visibleOptions.length;e++)if(this.visibleOptions[e].value==t.value)return!0},t.prototype.getVisibleOptions=function(){if(this.filterValue&&this.filterValue.trim().length){for(var t=[],e=0;e<this.options.length;e++){var i=this.options[e];i.label.toLowerCase().includes(this.filterValue.toLowerCase())&&t.push(i)}return t}return this.options},t.prototype.bindDocumentClickListener=function(){var t=this;this.documentClickListener||(this.documentClickListener=this.renderer.listen("document","click",function(){t.selfClick||t.panelClick||!t.overlayVisible||t.hide(),t.selfClick=!1,t.panelClick=!1,t.cd.markForCheck()}))},t.prototype.unbindDocumentClickListener=function(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null)},t.prototype.ngOnDestroy=function(){this.unbindDocumentClickListener(),this.appendTo&&this.container.appendChild(this.panel)},t}();n([r.Input(),o("design:type",Array)],c.prototype,"options",void 0),n([r.Input(),o("design:type",String)],c.prototype,"scrollHeight",void 0),n([r.Input(),o("design:type",String)],c.prototype,"defaultLabel",void 0),n([r.Input(),o("design:type",Object)],c.prototype,"style",void 0),n([r.Input(),o("design:type",String)],c.prototype,"styleClass",void 0),n([r.Input(),o("design:type",Object)],c.prototype,"panelStyle",void 0),n([r.Input(),o("design:type",String)],c.prototype,"panelStyleClass",void 0),n([r.Input(),o("design:type",String)],c.prototype,"inputId",void 0),n([r.Input(),o("design:type",Boolean)],c.prototype,"disabled",void 0),n([r.Input(),o("design:type",Boolean)],c.prototype,"filter",void 0),n([r.Input(),o("design:type",Boolean)],c.prototype,"overlayVisible",void 0),n([r.Input(),o("design:type",Number)],c.prototype,"tabindex",void 0),n([r.Input(),o("design:type",Object)],c.prototype,"appendTo",void 0),n([r.Input(),o("design:type",String)],c.prototype,"dataKey",void 0),n([r.Input(),o("design:type",Boolean)],c.prototype,"displaySelectedLabel",void 0),n([r.Input(),o("design:type",Number)],c.prototype,"maxSelectedLabels",void 0),n([r.Input(),o("design:type",String)],c.prototype,"selectedItemsLabel",void 0),n([r.Input(),o("design:type",Boolean)],c.prototype,"showToggleAll",void 0),n([r.Input(),o("design:type",Boolean)],c.prototype,"resetFilterOnHide",void 0),n([r.ViewChild("container"),o("design:type",r.ElementRef)],c.prototype,"containerViewChild",void 0),n([r.ViewChild("panel"),o("design:type",r.ElementRef)],c.prototype,"panelViewChild",void 0),n([r.ViewChild("filterInput"),o("design:type",r.ElementRef)],c.prototype,"filterInputChild",void 0),n([r.ContentChildren(h.PrimeTemplate),o("design:type",r.QueryList)],c.prototype,"templates",void 0),n([r.Output(),o("design:type",r.EventEmitter)],c.prototype,"onChange",void 0),n([r.Output(),o("design:type",r.EventEmitter)],c.prototype,"onBlur",void 0),n([r.Output(),o("design:type",r.EventEmitter)],c.prototype,"onPanelShow",void 0),n([r.Output(),o("design:type",r.EventEmitter)],c.prototype,"onPanelHide",void 0),c=n([r.Component({selector:"p-multiSelect",template:'\n        <div #container [ngClass]="{\'ui-multiselect ui-widget ui-state-default ui-corner-all\':true,\'ui-state-focus\':focus,\'ui-state-disabled\': disabled}" [ngStyle]="style" [class]="styleClass"\n            (click)="onMouseclick($event,in)">\n            <div class="ui-helper-hidden-accessible">\n                <input #in type="text" readonly="readonly" [attr.id]="inputId" (focus)="onFocus($event)" (blur)="onInputBlur($event)" [disabled]="disabled" [attr.tabindex]="tabindex">\n            </div>\n            <div class="ui-multiselect-label-container" [title]="valuesAsString">\n                <label class="ui-multiselect-label ui-corner-all">{{valuesAsString}}</label>\n            </div>\n            <div [ngClass]="{\'ui-multiselect-trigger ui-state-default ui-corner-right\':true}">\n                <span class="fa fa-fw fa-caret-down ui-clickable"></span>\n            </div>\n            <div #panel [ngClass]="[\'ui-multiselect-panel ui-widget ui-widget-content ui-corner-all ui-shadow\', panelStyleClass||\'\']" [ngStyle]="panelStyle"\n                [style.display]="overlayVisible ? \'block\' : \'none\'" (click)="panelClick=true">\n                <div class="ui-widget-header ui-corner-all ui-multiselect-header ui-helper-clearfix" [ngClass]="{\'ui-multiselect-header-no-toggleall\': !showToggleAll}">\n                    <div class="ui-chkbox ui-widget" *ngIf="showToggleAll">\n                        <div class="ui-helper-hidden-accessible">\n                            <input #cb type="checkbox" readonly="readonly" [checked]="isAllChecked()">\n                        </div>\n                        <div class="ui-chkbox-box ui-widget ui-corner-all ui-state-default" [ngClass]="{\'ui-state-active\':isAllChecked()}" (click)="toggleAll($event,cb)">\n                            <span class="ui-chkbox-icon ui-clickable" [ngClass]="{\'fa fa-check\':isAllChecked()}"></span>\n                        </div>\n                    </div>\n                    <div class="ui-multiselect-filter-container" *ngIf="filter">\n                        <input #filterInput type="text" role="textbox" (input)="onFilter($event)"\n                                    class="ui-inputtext ui-widget ui-state-default ui-corner-all">\n                        <span class="fa fa-fw fa-search"></span>\n                    </div>\n                    <a class="ui-multiselect-close ui-corner-all" href="#" (click)="close($event)">\n                        <span class="fa fa-close"></span>\n                    </a>\n                </div>\n                <div class="ui-multiselect-items-wrapper">\n                    <ul class="ui-multiselect-items ui-multiselect-list ui-widget-content ui-widget ui-corner-all ui-helper-reset" [style.max-height]="scrollHeight||\'auto\'">\n                        <li *ngFor="let option of options; let index = i" class="ui-multiselect-item ui-corner-all" (click)="onItemClick($event,option.value)" \n                            [style.display]="isItemVisible(option) ? \'block\' : \'none\'" [ngClass]="{\'ui-state-highlight\':isSelected(option.value)}">\n                            <div class="ui-chkbox ui-widget">\n                                <div class="ui-helper-hidden-accessible">\n                                    <input type="checkbox" readonly="readonly" [checked]="isSelected(option.value)">\n                                </div>\n                                <div class="ui-chkbox-box ui-widget ui-corner-all ui-state-default" [ngClass]="{\'ui-state-active\':isSelected(option.value)}">\n                                    <span class="ui-chkbox-icon ui-clickable" [ngClass]="{\'fa fa-check\':isSelected(option.value)}"></span>\n                                </div>\n                            </div>\n                            <label *ngIf="!itemTemplate">{{option.label}}</label>\n                            <ng-template [pTemplateWrapper]="itemTemplate" [item]="option" [index]="i" *ngIf="itemTemplate"></ng-template>\n                        </li>\n                    </ul>\n                </div>\n            </div>\n        </div>\n    ',providers:[a.DomHandler,l.ObjectUtils,e.MULTISELECT_VALUE_ACCESSOR]}),o("design:paramtypes",[r.ElementRef,a.DomHandler,r.Renderer2,r.IterableDiffers,l.ObjectUtils,r.ChangeDetectorRef])],c),e.MultiSelect=c;var d=function(){function t(){}return t}();d=n([r.NgModule({imports:[s.CommonModule,h.SharedModule],exports:[c,h.SharedModule],declarations:[c]})],d),e.MultiSelectModule=d},function(t,e,i){"use strict";var n=this&&this.__decorate||function(t,e,i,n){var o,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,i,s):o(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};Object.defineProperty(e,"__esModule",{value:!0});var r=i(0),s=i(1),a=i(9),l=i(4),h=i(3),u=i(10),c=function(){function t(t,e,i){this.el=t,this.domHandler=e,this.objectUtils=i,this.metaKeySelection=!0,this.onReorder=new r.EventEmitter,this.onSelectionChange=new r.EventEmitter,this.onFilterEvent=new r.EventEmitter}return t.prototype.ngAfterViewInit=function(){this.listContainer=this.domHandler.findSingle(this.el.nativeElement,"ul.ui-orderlist-list")},t.prototype.ngAfterContentInit=function(){var t=this;this.templates.forEach(function(e){switch(e.getType()){case"item":default:t.itemTemplate=e.template}})},t.prototype.ngAfterViewChecked=function(){if(this.movedUp||this.movedDown){var t=this.domHandler.find(this.listContainer,"li.ui-state-highlight"),e=void 0;t.length>0&&(e=this.movedUp?t[0]:t[t.length-1],this.domHandler.scrollInView(this.listContainer,e)),this.movedUp=!1,this.movedDown=!1}},Object.defineProperty(t.prototype,"value",{get:function(){return this._value},set:function(t){this._value=t,this.filterValue&&this.filter()},enumerable:!0,configurable:!0}),t.prototype.onItemClick=function(t,e){var i=this.findIndexInList(e,this.selectedItems),n=-1!=i;if(!this.itemTouched&&this.metaKeySelection){var o=t.metaKey||t.ctrlKey;n&&o?this.selectedItems.splice(i,1):(this.selectedItems=o?this.selectedItems||[]:[],this.selectedItems.push(e))}else n?this.selectedItems.splice(i,1):(this.selectedItems=this.selectedItems||[],this.selectedItems.push(e));this.onSelectionChange.emit({originalEvent:t,value:this.selectedItems}),this.itemTouched=!1},t.prototype.onFilterKeyup=function(t){this.filterValue=t.target.value.trim().toLowerCase(),this.filter(),this.onFilterEvent.emit({originalEvent:t,value:this.visibleOptions})},t.prototype.filter=function(){var t=this.filterBy.split(",");this.visibleOptions=this.objectUtils.filter(this.value,t,this.filterValue)},t.prototype.isItemVisible=function(t){if(!this.filterValue||!this.filterValue.trim().length)return!0;for(var e=0;e<this.visibleOptions.length;e++)if(t==this.visibleOptions[e])return!0},t.prototype.onItemTouchEnd=function(t){this.itemTouched=!0},t.prototype.isSelected=function(t){return-1!=this.findIndexInList(t,this.selectedItems)},t.prototype.findIndexInList=function(t,e){var i=-1;if(e)for(var n=0;n<e.length;n++)if(e[n]==t){i=n;break}return i},t.prototype.moveUp=function(t,e){if(this.selectedItems){for(var i=0;i<this.selectedItems.length;i++){var n=this.selectedItems[i],o=this.findIndexInList(n,this.value);if(0==o)break;var r=this.value[o],s=this.value[o-1];this.value[o-1]=r,this.value[o]=s}this.movedUp=!0,this.onReorder.emit(t)}},t.prototype.moveTop=function(t,e){if(this.selectedItems){for(var i=0;i<this.selectedItems.length;i++){var n=this.selectedItems[i],o=this.findIndexInList(n,this.value);if(0==o)break;var r=this.value.splice(o,1)[0];this.value.unshift(r),e.scrollTop=0}this.onReorder.emit(t),e.scrollTop=0}},t.prototype.moveDown=function(t,e){if(this.selectedItems){for(var i=this.selectedItems.length-1;i>=0;i--){var n=this.selectedItems[i],o=this.findIndexInList(n,this.value);if(o==this.value.length-1)break;var r=this.value[o],s=this.value[o+1];this.value[o+1]=r,this.value[o]=s}this.movedDown=!0,this.onReorder.emit(t)}},t.prototype.moveBottom=function(t,e){if(this.selectedItems){for(var i=this.selectedItems.length-1;i>=0;i--){var n=this.selectedItems[i],o=this.findIndexInList(n,this.value);if(o==this.value.length-1)break;var r=this.value.splice(o,1)[0];this.value.push(r)}this.onReorder.emit(t),e.scrollTop=e.scrollHeight}},t.prototype.onDragStart=function(t,e){this.dragging=!0,this.draggedItemIndex=e,this.dragdropScope&&t.dataTransfer.setData("text",this.dragdropScope)},t.prototype.onDragOver=function(t,e){this.draggedItemIndex!==e&&this.draggedItemIndex+1!==e&&(this.dragOverItemIndex=e,t.preventDefault())},t.prototype.onDragLeave=function(t,e){this.dragOverItemIndex=null},t.prototype.onDrop=function(t,e){var i=this.draggedItemIndex>e?e:0===e?0:e-1;this.objectUtils.reorderArray(this.value,this.draggedItemIndex,i),this.dragOverItemIndex=null,this.onReorder.emit(t)},t.prototype.onDragEnd=function(t){this.dragging=!1},t.prototype.onListMouseMove=function(t){if(this.dragging){var e=this.listViewChild.nativeElement.getBoundingClientRect().top+document.body.scrollTop,i=e+this.listViewChild.nativeElement.clientHeight-t.pageY,n=t.pageY-e;i<25&&i>0?this.listViewChild.nativeElement.scrollTop+=15:n<25&&n>0&&(this.listViewChild.nativeElement.scrollTop-=15)}},t}();n([r.Input(),o("design:type",String)],c.prototype,"header",void 0),n([r.Input(),o("design:type",Object)],c.prototype,"style",void 0),n([r.Input(),o("design:type",String)],c.prototype,"styleClass",void 0),n([r.Input(),o("design:type",Object)],c.prototype,"listStyle",void 0),n([r.Input(),o("design:type",Boolean)],c.prototype,"responsive",void 0),n([r.Input(),o("design:type",String)],c.prototype,"filterBy",void 0),n([r.Input(),o("design:type",String)],c.prototype,"filterPlaceholder",void 0),n([r.Input(),o("design:type",Boolean)],c.prototype,"metaKeySelection",void 0),n([r.Input(),o("design:type",Boolean)],c.prototype,"dragdrop",void 0),n([r.Input(),o("design:type",String)],c.prototype,"dragdropScope",void 0),n([r.Output(),o("design:type",r.EventEmitter)],c.prototype,"onReorder",void 0),n([r.Output(),o("design:type",r.EventEmitter)],c.prototype,"onSelectionChange",void 0),n([r.Output(),o("design:type",r.EventEmitter)],c.prototype,"onFilterEvent",void 0),n([r.ViewChild("listelement"),o("design:type",r.ElementRef)],c.prototype,"listViewChild",void 0),n([r.ContentChildren(l.PrimeTemplate),o("design:type",r.QueryList)],c.prototype,"templates",void 0),n([r.Input(),o("design:type",Array),o("design:paramtypes",[Array])],c.prototype,"value",null),c=n([r.Component({selector:"p-orderList",template:'\n        <div [ngClass]="{\'ui-orderlist ui-widget\':true,\'ui-orderlist-responsive\':responsive}" [ngStyle]="style" [class]="styleClass">\n            <div class="ui-orderlist-controls">\n                <button type="button" pButton icon="fa-angle-up" (click)="moveUp($event,listelement)"></button>\n                <button type="button" pButton icon="fa-angle-double-up" (click)="moveTop($event,listelement)"></button>\n                <button type="button" pButton icon="fa-angle-down" (click)="moveDown($event,listelement)"></button>\n                <button type="button" pButton icon="fa-angle-double-down" (click)="moveBottom($event,listelement)"></button>\n            </div>\n            <div class="ui-orderlist-list-container">\n                <div class="ui-orderlist-caption ui-widget-header ui-corner-top" *ngIf="header">{{header}}</div>\n                <div class="ui-orderlist-filter-container ui-widget-content" *ngIf="filterBy">\n                    <input type="text" role="textbox" (keyup)="onFilterKeyup($event)" class="ui-inputtext ui-widget ui-state-default ui-corner-all" [disabled]="disabled" [attr.placeholder]="filterPlaceholder">\n                    <span class="fa fa-search"></span>\n                </div>\n                <ul #listelement class="ui-widget-content ui-orderlist-list ui-corner-bottom" [ngStyle]="listStyle" (dragover)="onListMouseMove($event)">\n                    <ng-template ngFor let-item [ngForOf]="value" let-i="index" let-l="last">\n                        <li class="ui-orderlist-droppoint" *ngIf="dragdrop && isItemVisible(item)" (dragover)="onDragOver($event, i)" (drop)="onDrop($event, i)" (dragleave)="onDragLeave($event)" \n                            [ngClass]="{\'ui-state-highlight\': (i === dragOverItemIndex)}"></li>\n                        <li class="ui-orderlist-item"\n                            [ngClass]="{\'ui-state-highlight\':isSelected(item)}" \n                            (click)="onItemClick($event,item)" (touchend)="onItemTouchEnd($event)"\n                            [style.display]="isItemVisible(item) ? \'block\' : \'none\'"\n                            [draggable]="dragdrop" (dragstart)="onDragStart($event, i)" (dragend)="onDragEnd($event)">\n                            <ng-template [pTemplateWrapper]="itemTemplate" [item]="item" [index]="i"></ng-template>\n                        </li>\n                        <li class="ui-orderlist-droppoint" *ngIf="dragdrop && l" (dragover)="onDragOver($event, i + 1)" (drop)="onDrop($event, i + 1)" (dragleave)="onDragLeave($event)" \n                            [ngClass]="{\'ui-state-highlight\': (i + 1 === dragOverItemIndex)}"></li>\n                    </ng-template>\n                </ul>\n            </div>\n        </div>\n    ',providers:[h.DomHandler,u.ObjectUtils]}),o("design:paramtypes",[r.ElementRef,h.DomHandler,u.ObjectUtils])],c),e.OrderList=c;var d=function(){function t(){}return t}();d=n([r.NgModule({imports:[s.CommonModule,a.ButtonModule,l.SharedModule],exports:[c,l.SharedModule],declarations:[c]})],d),e.OrderListModule=d},function(t,e,i){"use strict";var n=this&&this.__decorate||function(t,e,i,n){var o,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,i,s):o(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},r=this&&this.__param||function(t,e){return function(i,n){e(i,n,t)}};Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(7),l=i(1),h=i(3),u=i(4),c=i(4),d=function(){function t(t){this.viewContainer=t}return t.prototype.ngOnInit=function(){this.view=this.viewContainer.createEmbeddedView(this.template,{$implicit:this.node})},t.prototype.ngOnDestroy=function(){this.view.destroy()},t}();n([s.Input(),o("design:type",Object)],d.prototype,"node",void 0),n([s.Input(),o("design:type",s.TemplateRef)],d.prototype,"template",void 0),d=n([s.Component({selector:"p-organizationChartNodeTemplateLoader",template:""}),o("design:paramtypes",[s.ViewContainerRef])],d),e.OrganizationChartNodeTemplateLoader=d;var p=function(){function t(t){this.chart=t}return Object.defineProperty(t.prototype,"leaf",{get:function(){return 0!=this.node.leaf&&!(this.node.children&&this.node.children.length)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"colspan",{get:function(){return this.node.children&&this.node.children.length?2*this.node.children.length:null},enumerable:!0,configurable:!0}),t.prototype.onNodeClick=function(t,e){this.chart.onNodeClick(t,e)},t.prototype.toggleNode=function(t,e){e.expanded=!e.expanded,t.preventDefault()},t.prototype.isSelected=function(){return this.chart.isSelected(this.node)},t}();n([s.Input(),o("design:type",Object)],p.prototype,"node",void 0),n([s.Input(),o("design:type",Boolean)],p.prototype,"root",void 0),n([s.Input(),o("design:type",Boolean)],p.prototype,"first",void 0),n([s.Input(),o("design:type",Boolean)],p.prototype,"last",void 0),p=n([s.Component({selector:"[pOrganizationChartNode]",template:'\n        <tr *ngIf="node">\n            <td [attr.colspan]="colspan">\n                <div class="ui-organizationchart-node-content ui-widget-content ui-corner-all {{node.styleClass}}" \n                    [ngClass]="{\'ui-organizationchart-selectable-node\': chart.selectionMode && node.selectable !== false,\'ui-state-highlight\':isSelected()}"\n                    (click)="onNodeClick($event,node)">\n                    <div *ngIf="!chart.getTemplateForNode(node)">{{node.label}}</div>\n                    <div *ngIf="chart.getTemplateForNode(node)">\n                        <p-organizationChartNodeTemplateLoader [node]="node" [template]="chart.getTemplateForNode(node)"></p-organizationChartNodeTemplateLoader>\n                    </div>\n                    <a *ngIf="!leaf" href="#" class="ui-node-toggler" (click)="toggleNode($event, node)">\n                        <i class="fa ui-node-toggler-icon" [ngClass]="{\'fa-chevron-down\': node.expanded, \'fa-chevron-up\': !node.expanded}"></i>\n                    </a>\n                </div>\n            </td>\n        </tr>\n        <tr [style.visibility]="!leaf&&node.expanded ? \'inherit\' : \'hidden\'" class="ui-organizationchart-lines" [@childState]="\'in\'">\n            <td [attr.colspan]="colspan">\n                <div class="ui-organizationchart-line-down"></div>\n            </td>\n        </tr>\n        <tr [style.visibility]="!leaf&&node.expanded ? \'inherit\' : \'hidden\'" class="ui-organizationchart-lines" [@childState]="\'in\'">\n            <ng-template ngFor let-child [ngForOf]="node.children" let-first="first" let-last="last">\n                <td class="ui-organizationchart-line-left" [ngClass]="{\'ui-organizationchart-line-top\':!first}">&nbsp;</td>\n                <td class="ui-organizationchart-line-right" [ngClass]="{\'ui-organizationchart-line-top\':!last}">&nbsp;</td>\n            </ng-template>\n        </tr>\n        <tr [style.visibility]="!leaf&&node.expanded ? \'inherit\' : \'hidden\'" class="ui-organizationchart-nodes" [@childState]="\'in\'">\n            <td *ngFor="let child of node.children" colspan="2">\n                <table class="ui-organizationchart-table" pOrganizationChartNode [node]="child"></table>\n            </td>\n        </tr>\n    ',animations:[a.trigger("childState",[a.state("in",a.style({opacity:1})),a.transition("void => *",[a.style({opacity:0}),a.animate(150)]),a.transition("* => void",[a.animate(150,a.style({opacity:0}))])])]}),r(0,s.Inject(s.forwardRef(function(){return f}))),o("design:paramtypes",[f])],p),e.OrganizationChartNode=p;var f=function(){function t(t,e){this.el=t,this.domHandler=e,this.selectionChange=new s.EventEmitter,this.onNodeSelect=new s.EventEmitter,this.onNodeUnselect=new s.EventEmitter}return Object.defineProperty(t.prototype,"root",{get:function(){return this.value&&this.value.length?this.value[0]:null},enumerable:!0,configurable:!0}),t.prototype.ngAfterContentInit=function(){var t=this;this.templates.length&&(this.templateMap={}),this.templates.forEach(function(e){t.templateMap[e.getType()]=e.template})},t.prototype.getTemplateForNode=function(t){return this.templateMap?t.type?this.templateMap[t.type]:this.templateMap.default:null},t.prototype.onNodeClick=function(t,e){var i=t.target;if((!i.className||-1===i.className.indexOf("ui-node-toggler")&&-1===i.className.indexOf("ui-node-toggler-icon"))&&this.selectionMode){if(!1===e.selectable)return;var n=this.findIndexInSelection(e),o=n>=0;"single"===this.selectionMode?o?(this.selection=null,this.onNodeUnselect.emit({originalEvent:t,node:e})):(this.selection=e,this.onNodeSelect.emit({originalEvent:t,node:e})):"multiple"===this.selectionMode&&(o?(this.selection=this.selection.filter(function(t,e){return e!=n}),this.onNodeUnselect.emit({originalEvent:t,node:e})):(this.selection=(this.selection||[]).concat([e]),this.onNodeSelect.emit({originalEvent:t,node:e}))),this.selectionChange.emit(this.selection)}},t.prototype.findIndexInSelection=function(t){var e=-1;if(this.selectionMode&&this.selection)if("single"===this.selectionMode)e=this.selection==t?0:-1;else if("multiple"===this.selectionMode)for(var i=0;i<this.selection.length;i++)if(this.selection[i]==t){e=i;break}return e},t.prototype.isSelected=function(t){return-1!=this.findIndexInSelection(t)},t}();n([s.Input(),o("design:type",Array)],f.prototype,"value",void 0),n([s.Input(),o("design:type",Object)],f.prototype,"style",void 0),n([s.Input(),o("design:type",String)],f.prototype,"styleClass",void 0),n([s.Input(),o("design:type",String)],f.prototype,"selectionMode",void 0),n([s.Input(),o("design:type",Object)],f.prototype,"selection",void 0),n([s.Output(),o("design:type",s.EventEmitter)],f.prototype,"selectionChange",void 0),n([s.Output(),o("design:type",s.EventEmitter)],f.prototype,"onNodeSelect",void 0),n([s.Output(),o("design:type",s.EventEmitter)],f.prototype,"onNodeUnselect",void 0),n([s.ContentChildren(c.PrimeTemplate),o("design:type",s.QueryList)],f.prototype,"templates",void 0),f=n([s.Component({selector:"p-organizationChart",template:'\n        <div [ngStyle]="style" [class]="styleClass" [ngClass]="\'ui-organizationchart ui-widget\'">\n            <table class="ui-organizationchart-table" pOrganizationChartNode [node]="root" *ngIf="root"></table>\n        </div>\n    ',providers:[h.DomHandler]}),o("design:paramtypes",[s.ElementRef,h.DomHandler])],f),e.OrganizationChart=f;var y=function(){function t(){}return t}();y=n([s.NgModule({imports:[l.CommonModule],exports:[f,u.SharedModule],declarations:[f,p,d]})],y),e.OrganizationChartModule=y},function(t,e,i){"use strict";var n=this&&this.__decorate||function(t,e,i,n){var o,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,i,s):o(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};Object.defineProperty(e,"__esModule",{value:!0});var r=i(0),s=i(1),a=i(3),l=function(){function t(t,e,i,n){this.el=t,this.domHandler=e,this.renderer=i,this.cd=n,this.dismissable=!0,this.onBeforeShow=new r.EventEmitter,this.onAfterShow=new r.EventEmitter,this.onBeforeHide=new r.EventEmitter,this.onAfterHide=new r.EventEmitter,this.visible=!1}return t.prototype.ngOnInit=function(){var t=this;this.dismissable&&(this.documentClickListener=this.renderer.listen("document","click",function(){t.selfClick||t.targetEvent||t.hide(),t.selfClick=!1,t.targetEvent=!1,t.cd.markForCheck()}))},t.prototype.ngAfterViewInit=function(){this.container=this.el.nativeElement.children[0],this.appendTo&&("body"===this.appendTo?document.body.appendChild(this.container):this.domHandler.appendChild(this.container,this.appendTo))},t.prototype.toggle=function(t,e){var i=e||t.currentTarget||t.target;this.target&&this.target!=i?this.show(t,e):this.visible?this.hide():this.show(t,e),this.dismissable&&(this.targetEvent=!0),this.target=i},t.prototype.show=function(t,e){this.dismissable&&(this.targetEvent=!0),this.onBeforeShow.emit(null);var i=e||t.currentTarget||t.target;this.container.style.zIndex=++a.DomHandler.zindex,this.visible?this.domHandler.absolutePosition(this.container,i):(this.visible=!0,this.domHandler.absolutePosition(this.container,i),this.domHandler.fadeIn(this.container,250)),this.onAfterShow.emit(null)},t.prototype.hide=function(){this.visible&&(this.onBeforeHide.emit(null),this.visible=!1,this.onAfterHide.emit(null))},t.prototype.onPanelClick=function(){this.dismissable&&(this.selfClick=!0)},t.prototype.onCloseClick=function(t){this.hide(),this.dismissable&&(this.selfClick=!0),t.preventDefault()},t.prototype.ngOnDestroy=function(){this.documentClickListener&&this.documentClickListener(),this.appendTo&&this.el.nativeElement.appendChild(this.container),this.target=null},t}();n([r.Input(),o("design:type",Boolean)],l.prototype,"dismissable",void 0),n([r.Input(),o("design:type",Boolean)],l.prototype,"showCloseIcon",void 0),n([r.Input(),o("design:type",Object)],l.prototype,"style",void 0),n([r.Input(),o("design:type",String)],l.prototype,"styleClass",void 0),n([r.Input(),o("design:type",Object)],l.prototype,"appendTo",void 0),n([r.Output(),o("design:type",r.EventEmitter)],l.prototype,"onBeforeShow",void 0),n([r.Output(),o("design:type",r.EventEmitter)],l.prototype,"onAfterShow",void 0),n([r.Output(),o("design:type",r.EventEmitter)],l.prototype,"onBeforeHide",void 0),n([r.Output(),o("design:type",r.EventEmitter)],l.prototype,"onAfterHide",void 0),l=n([r.Component({selector:"p-overlayPanel",template:'\n        <div [ngClass]="\'ui-overlaypanel ui-widget ui-widget-content ui-corner-all ui-shadow\'" [ngStyle]="style" [class]="styleClass"\n            [style.display]="visible ? \'block\' : \'none\'" (click)="onPanelClick()">\n            <div class="ui-overlaypanel-content">\n                <ng-content></ng-content>\n            </div>\n            <a href="#" *ngIf="showCloseIcon" class="ui-overlaypanel-close ui-state-default" (click)="onCloseClick($event)">\n                <span class="fa fa-fw fa-close"></span>\n            </a>\n        </div>\n    ',providers:[a.DomHandler]}),o("design:paramtypes",[r.ElementRef,a.DomHandler,r.Renderer2,r.ChangeDetectorRef])],l),e.OverlayPanel=l;var h=function(){function t(){}return t}();h=n([r.NgModule({imports:[s.CommonModule],exports:[l],declarations:[l]})],h),e.OverlayPanelModule=h},function(t,e,i){"use strict";var n=this&&this.__decorate||function(t,e,i,n){var o,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,i,s):o(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};Object.defineProperty(e,"__esModule",{value:!0});var r=i(0),s=i(1),a=i(4),l=i(7),h=function(){function t(t){this.el=t,this.collapsed=!1,this.expandIcon="fa-plus",this.collapseIcon="fa-minus",this.collapsedChange=new r.EventEmitter,this.onBeforeToggle=new r.EventEmitter,this.onAfterToggle=new r.EventEmitter}return t.prototype.toggle=function(t){if(this.animating)return!1;this.animating=!0,this.onBeforeToggle.emit({originalEvent:t,collapsed:this.collapsed}),this.toggleable&&(this.collapsed?this.expand(t):this.collapse(t)),t.preventDefault()},t.prototype.expand=function(t){this.collapsed=!1,this.collapsedChange.emit(this.collapsed)},t.prototype.collapse=function(t){this.collapsed=!0,this.collapsedChange.emit(this.collapsed)},t.prototype.getBlockableElement=function(){return this.el.nativeElement.children[0]},t.prototype.onToggleDone=function(t){this.animating=!1,this.onAfterToggle.emit({originalEvent:t,collapsed:this.collapsed})},t}();n([r.Input(),o("design:type",Boolean)],h.prototype,"toggleable",void 0),n([r.Input(),o("design:type",String)],h.prototype,"header",void 0),n([r.Input(),o("design:type",Boolean)],h.prototype,"collapsed",void 0),n([r.Input(),o("design:type",Object)],h.prototype,"style",void 0),n([r.Input(),o("design:type",String)],h.prototype,"styleClass",void 0),n([r.Input(),o("design:type",String)],h.prototype,"expandIcon",void 0),n([r.Input(),o("design:type",String)],h.prototype,"collapseIcon",void 0),n([r.Output(),o("design:type",r.EventEmitter)],h.prototype,"collapsedChange",void 0),n([r.Output(),o("design:type",r.EventEmitter)],h.prototype,"onBeforeToggle",void 0),n([r.Output(),o("design:type",r.EventEmitter)],h.prototype,"onAfterToggle",void 0),n([r.ContentChild(a.Footer),o("design:type",Object)],h.prototype,"footerFacet",void 0),h=n([r.Component({selector:"p-panel",template:'\n        <div [ngClass]="\'ui-panel ui-widget ui-widget-content ui-corner-all\'" [ngStyle]="style" [class]="styleClass">\n            <div class="ui-panel-titlebar ui-widget-header ui-helper-clearfix ui-corner-all">\n                <span class="ui-panel-title" *ngIf="header">{{header}}</span>\n                <ng-content select="p-header"></ng-content>\n                <a *ngIf="toggleable" class="ui-panel-titlebar-icon ui-panel-titlebar-toggler ui-corner-all ui-state-default" href="#"\n                    (click)="toggle($event)">\n                    <span [class]="collapsed ? \'fa fa-fw \' + expandIcon : \'fa fa-fw \' + collapseIcon"></span>\n                </a>\n            </div>\n            <div class="ui-panel-content-wrapper" [@panelContent]="collapsed ? \'hidden\' : \'visible\'" (@panelContent.done)="onToggleDone($event)"\n                [ngClass]="{\'ui-panel-content-wrapper-overflown\': collapsed||animating}">\n                <div class="ui-panel-content ui-widget-content">\n                    <ng-content></ng-content>\n                </div>\n                \n                <div class="ui-panel-footer ui-widget-content" *ngIf="footerFacet">\n                    <ng-content select="p-footer"></ng-content>\n                </div>\n            </div>\n        </div>\n    ',animations:[l.trigger("panelContent",[l.state("hidden",l.style({height:"0"})),l.state("visible",l.style({height:"*"})),l.transition("visible <=> hidden",l.animate("400ms cubic-bezier(0.86, 0, 0.07, 1)"))])]}),o("design:paramtypes",[r.ElementRef])],h),e.Panel=h;var u=function(){function t(){}return t}();u=n([r.NgModule({imports:[s.CommonModule],exports:[h,a.SharedModule],declarations:[h]})],u),e.PanelModule=u},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),o=this&&this.__decorate||function(t,e,i,n){var o,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,i,s):o(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},r=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(7),l=i(1),h=i(6),u=function(){function t(){}return t.prototype.handleClick=function(t,e){if(e.disabled)return void t.preventDefault();e.expanded=!e.expanded,e.url||t.preventDefault(),e.command&&e.command({originalEvent:t,item:e})},t}();e.BasePanelMenuItem=u;var c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e}(u);o([s.Input(),r("design:type",Object)],c.prototype,"item",void 0),o([s.Input(),r("design:type",Boolean)],c.prototype,"expanded",void 0),c=o([s.Component({selector:"p-panelMenuSub",template:'\n        <ul class="ui-menu-list ui-helper-reset" [@submenu]="expanded ? \'visible\' : \'hidden\'">\n            <ng-template ngFor let-child [ngForOf]="item.items">\n                <li *ngIf="child.separator" class="ui-menu-separator ui-widget-content">\n                <li *ngIf="!child.separator" class="ui-menuitem ui-corner-all" [ngClass]="{\'ui-menu-parent\':child.items}" [class]="child.styleClass" [ngStyle]="child.style">\n                    <a *ngIf="!child.routerLink" [href]="child.url||\'#\'" class="ui-menuitem-link ui-corner-all" [attr.tabindex]="item.expanded ? null : \'-1\'"\n                        [ngClass]="{\'ui-menuitem-link-hasicon\':child.icon&&child.items,\'ui-state-disabled\':child.disabled}" \n                        (click)="handleClick($event,child)" [attr.target]="child.target" [attr.title]="child.title">\n                        <span class="ui-panelmenu-icon fa fa-fw" [ngClass]="{\'fa-caret-right\':!child.expanded,\'fa-caret-down\':child.expanded}" *ngIf="child.items"></span\n                        ><span class="ui-menuitem-icon fa fa-fw" [ngClass]="child.icon" *ngIf="child.icon"></span\n                        ><span class="ui-menuitem-text">{{child.label}}</span>\n                    </a>\n                    <a *ngIf="child.routerLink" [routerLink]="child.routerLink" [routerLinkActive]="\'ui-state-active\'" [routerLinkActiveOptions]="child.routerLinkActiveOptions||{exact:false}" class="ui-menuitem-link ui-corner-all" \n                        [ngClass]="{\'ui-menuitem-link-hasicon\':child.icon&&child.items,\'ui-state-disabled\':child.disabled}" [attr.tabindex]="item.expanded ? null : \'-1\'" \n                        (click)="handleClick($event,child)" [attr.target]="child.target" [attr.title]="child.title">\n                        <span class="ui-panelmenu-icon fa fa-fw" [ngClass]="{\'fa-caret-right\':!child.expanded,\'fa-caret-down\':child.expanded}" *ngIf="child.items"></span\n                        ><span class="ui-menuitem-icon fa fa-fw" [ngClass]="child.icon" *ngIf="child.icon"></span\n                        ><span class="ui-menuitem-text">{{child.label}}</span>\n                    </a>\n                    <p-panelMenuSub [item]="child" [expanded]="child.expanded" *ngIf="child.items"></p-panelMenuSub>\n                </li>\n            </ng-template>\n        </ul>\n    ',animations:[a.trigger("submenu",[a.state("hidden",a.style({height:"0px"})),a.state("visible",a.style({height:"*"})),a.transition("visible => hidden",a.animate("400ms cubic-bezier(0.86, 0, 0.07, 1)")),a.transition("hidden => visible",a.animate("400ms cubic-bezier(0.86, 0, 0.07, 1)"))])]})],c),e.PanelMenuSub=c;var d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.multiple=!0,e}return n(e,t),e.prototype.collapseAll=function(){for(var t=0,e=this.model;t<e.length;t++){var i=e[t];i.expanded&&(i.expanded=!1)}},e.prototype.handleClick=function(e,i){if(!this.multiple)for(var n=0,o=this.model;n<o.length;n++){var r=o[n];i!==r&&r.expanded&&(r.expanded=!1)}this.animating=!0,t.prototype.handleClick.call(this,e,i)},e.prototype.onToggleDone=function(){this.animating=!1},e}(u);o([s.Input(),r("design:type",Array)],d.prototype,"model",void 0),o([s.Input(),r("design:type",Object)],d.prototype,"style",void 0),o([s.Input(),r("design:type",String)],d.prototype,"styleClass",void 0),o([s.Input(),r("design:type",Boolean)],d.prototype,"multiple",void 0),d=o([s.Component({selector:"p-panelMenu",template:'\n        <div [class]="styleClass" [ngStyle]="style" [ngClass]="\'ui-panelmenu ui-widget\'">\n            <div *ngFor="let item of model;let f=first;let l=last;" class="ui-panelmenu-panel">\n                <div [ngClass]="{\'ui-widget ui-panelmenu-header ui-state-default\':true,\'ui-corner-top\':f,\'ui-corner-bottom\':l&&!item.expanded,\n                    \'ui-state-active\':item.expanded,\'ui-state-disabled\':item.disabled}" [class]="item.styleClass" [ngStyle]="item.style">\n                    <a *ngIf="!item.routerLink" [href]="item.url||\'#\'" [ngClass]="{\'ui-panelmenu-headerlink-hasicon\':item.icon}" (click)="handleClick($event,item)"\n                        [attr.target]="item.target" [attr.title]="item.title">\n                        <span *ngIf="item.items" class="ui-panelmenu-icon fa" [ngClass]="{\'fa-caret-right\':!item.expanded,\'fa-caret-down\':item.expanded}"></span\n                        ><span class="ui-menuitem-icon fa" [ngClass]="item.icon" *ngIf="item.icon"></span\n                        ><span class="ui-menuitem-text">{{item.label}}</span>\n                    </a>\n                    <a *ngIf="item.routerLink" [routerLink]="item.routerLink" [routerLinkActive]="\'ui-state-active\'" [routerLinkActiveOptions]="item.routerLinkActiveOptions||{exact:false}" [ngClass]="{\'ui-panelmenu-headerlink-hasicon\':item.icon}" (click)="handleClick($event,item)"\n                        [attr.target]="item.target" [attr.title]="item.title">\n                        <span *ngIf="item.items" class="ui-panelmenu-icon fa" [ngClass]="{\'fa-caret-right\':!item.expanded,\'fa-caret-down\':item.expanded}"></span\n                        ><span class="ui-menuitem-icon fa" [ngClass]="item.icon" *ngIf="item.icon"></span\n                        ><span class="ui-menuitem-text">{{item.label}}</span>\n                    </a>\n                </div>\n                <div *ngIf="item.items" class="ui-panelmenu-content-wrapper" [@rootItem]="item.expanded ? \'visible\' : \'hidden\'"  (@rootItem.done)="onToggleDone($event)"\n                    [ngClass]="{\'ui-panelmenu-content-wrapper-overflown\': !item.expanded||animating}">\n                    <div class="ui-panelmenu-content ui-widget-content">\n                        <p-panelMenuSub [item]="item" [expanded]="true"></p-panelMenuSub>\n                    </div>\n                </div>\n            </div>\n        </div>\n    ',animations:[a.trigger("rootItem",[a.state("hidden",a.style({height:"0px"})),a.state("visible",a.style({height:"*"})),a.transition("visible => hidden",a.animate("400ms cubic-bezier(0.86, 0, 0.07, 1)")),a.transition("hidden => visible",a.animate("400ms cubic-bezier(0.86, 0, 0.07, 1)"))])]})],d),e.PanelMenu=d;var p=function(){function t(){}return t}();p=o([s.NgModule({imports:[l.CommonModule,h.RouterModule],exports:[d,h.RouterModule],declarations:[d,c]})],p),e.PanelMenuModule=p},function(t,e,i){"use strict";var n=this&&this.__decorate||function(t,e,i,n){var o,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,i,s):o(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};Object.defineProperty(e,"__esModule",{value:!0});var r=i(0),s=i(1),a=i(3),l=function(){function t(t,e){this.el=t,this.domHandler=e,this.promptLabel="Please enter a password",this.weakLabel="Weak",this.mediumLabel="Medium",this.strongLabel="Strong",this.feedback=!0}return t.prototype.ngAfterViewInit=function(){this.panel=document.createElement("div"),this.panel.className="ui-password-panel ui-widget ui-state-highlight ui-corner-all ui-helper-hidden ui-password-panel-overlay",this.meter=document.createElement("div"),this.meter.className="ui-password-meter",this.info=document.createElement("div"),this.info.className="ui-password-info",this.info.textContent=this.promptLabel,this.feedback&&(this.panel.appendChild(this.meter),this.panel.appendChild(this.info),document.body.appendChild(this.panel))},t.prototype.ngDoCheck=function(){this.updateFilledState()},t.prototype.onInput=function(t){this.updateFilledState()},t.prototype.updateFilledState=function(){this.filled=this.el.nativeElement.value&&this.el.nativeElement.value.length},t.prototype.onFocus=function(t){this.panel.style.zIndex=String(++a.DomHandler.zindex),this.domHandler.removeClass(this.panel,"ui-helper-hidden"),this.domHandler.absolutePosition(this.panel,this.el.nativeElement),this.domHandler.fadeIn(this.panel,250)},t.prototype.onBlur=function(t){this.domHandler.addClass(this.panel,"ui-helper-hidden")},t.prototype.onKeyup=function(t){var e=t.target.value,i=null,n=null;if(0===e.length)i=this.promptLabel,n="0px 0px";else{var o=this.testStrength(e);o<30?(i=this.weakLabel,n="0px -10px"):o>=30&&o<80?(i=this.mediumLabel,n="0px -20px"):o>=80&&(i=this.strongLabel,n="0px -30px")}this.meter.style.backgroundPosition=n,this.info.textContent=i},t.prototype.testStrength=function(t){var e,i=0;return e=t.match("[0-9]"),i+=25*this.normalize(e?e.length:.25,1),e=t.match("[a-zA-Z]"),i+=10*this.normalize(e?e.length:.5,3),e=t.match("[!@#$%^&*?_~.,;=]"),i+=35*this.normalize(e?e.length:1/6,1),e=t.match("[A-Z]"),i+=30*this.normalize(e?e.length:1/6,1),i*=t.length/8,i>100?100:i},t.prototype.normalize=function(t,e){return t-e<=0?t/e:1+t/(t+e/4)*.5},Object.defineProperty(t.prototype,"disabled",{get:function(){return this.el.nativeElement.disabled},enumerable:!0,configurable:!0}),t.prototype.ngOnDestroy=function(){this.feedback&&(this.panel.removeChild(this.meter),this.panel.removeChild(this.info),document.body.removeChild(this.panel),this.panel=null,this.meter=null,this.info=null)},t}();n([r.Input(),o("design:type",String)],l.prototype,"promptLabel",void 0),n([r.Input(),o("design:type",String)],l.prototype,"weakLabel",void 0),n([r.Input(),o("design:type",String)],l.prototype,"mediumLabel",void 0),n([r.Input(),o("design:type",String)],l.prototype,"strongLabel",void 0),n([r.Input(),o("design:type",Boolean)],l.prototype,"feedback",void 0),n([r.HostListener("input",["$event"]),o("design:type",Function),o("design:paramtypes",[Object]),o("design:returntype",void 0)],l.prototype,"onInput",null),n([r.HostListener("focus",["$event"]),o("design:type",Function),o("design:paramtypes",[Object]),o("design:returntype",void 0)],l.prototype,"onFocus",null),n([r.HostListener("blur",["$event"]),o("design:type",Function),o("design:paramtypes",[Object]),o("design:returntype",void 0)],l.prototype,"onBlur",null),n([r.HostListener("keyup",["$event"]),o("design:type",Function),o("design:paramtypes",[Object]),o("design:returntype",void 0)],l.prototype,"onKeyup",null),l=n([r.Directive({selector:"[pPassword]",host:{"[class.ui-inputtext]":"true","[class.ui-corner-all]":"true","[class.ui-state-default]":"true","[class.ui-widget]":"true","[class.ui-state-filled]":"filled"},providers:[a.DomHandler]}),o("design:paramtypes",[r.ElementRef,a.DomHandler])],l),e.Password=l;var h=function(){function t(){}return t}();h=n([r.NgModule({imports:[s.CommonModule],exports:[l],declarations:[l]})],h),e.PasswordModule=h},function(t,e,i){"use strict";var n=this&&this.__decorate||function(t,e,i,n){var o,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,i,s):o(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};Object.defineProperty(e,"__esModule",{value:!0});var r=i(0),s=i(1),a=i(9),l=i(4),h=i(3),u=i(10),c=function(){function t(t,e,i){this.el=t,this.domHandler=e,this.objectUtils=i,this.metaKeySelection=!0,this.showSourceControls=!0,this.showTargetControls=!0,this.onMoveToSource=new r.EventEmitter,this.onMoveAllToSource=new r.EventEmitter,this.onMoveAllToTarget=new r.EventEmitter,this.onMoveToTarget=new r.EventEmitter,this.onSourceReorder=new r.EventEmitter,this.onTargetReorder=new r.EventEmitter,this.onSourceSelect=new r.EventEmitter,this.onTargetSelect=new r.EventEmitter,this.selectedItemsSource=[],this.selectedItemsTarget=[]}return t.prototype.ngAfterContentInit=function(){var t=this;this.templates.forEach(function(e){switch(e.getType()){case"item":default:t.itemTemplate=e.template}})},t.prototype.ngAfterViewChecked=function(){if(this.movedUp||this.movedDown){var t=this.domHandler.find(this.reorderedListElement,"li.ui-state-highlight"),e=void 0;e=this.movedUp?t[0]:t[t.length-1],this.domHandler.scrollInView(this.reorderedListElement,e),this.movedUp=!1,this.movedDown=!1,this.reorderedListElement=null}},t.prototype.onItemClick=function(t,e,i,n){var o=this.findIndexInSelection(e,i),r=-1!=o;if(!this.itemTouched&&this.metaKeySelection){var s=t.metaKey||t.ctrlKey;r&&s?i.splice(o,1):(s||(i.length=0),i.push(e))}else r?i.splice(o,1):i.push(e);n.emit({originalEvent:t,items:i}),this.itemTouched=!1},t.prototype.onSourceItemDblClick=function(){this.moveRight()},t.prototype.onTargetItemDblClick=function(){this.moveLeft()},t.prototype.onFilter=function(t,e,i){var n=t.target.value.trim().toLowerCase();-1===i?this.filterValueSource=n:this.filterValueTarget=n,this.activateFilter(e,i)},t.prototype.activateFilter=function(t,e){var i=this.filterBy.split(",");-1===e?this.visibleOptionsSource=this.objectUtils.filter(t,i,this.filterValueSource):this.visibleOptionsTarget=this.objectUtils.filter(t,i,this.filterValueTarget)},t.prototype.isItemVisible=function(t,e){return-1==e?this.isVisibleInList(this.visibleOptionsSource,t,this.filterValueSource):this.isVisibleInList(this.visibleOptionsTarget,t,this.filterValueTarget)},t.prototype.isVisibleInList=function(t,e,i){if(!i||!i.trim().length)return!0;for(var n=0;n<t.length;n++)if(e==t[n])return!0},t.prototype.onItemTouchEnd=function(t){this.itemTouched=!0},t.prototype.moveUp=function(t,e,i,n){if(i&&i.length){for(var o=0;o<i.length;o++){var r=i[o],s=this.findIndexInList(r,e);if(0==s)break;var a=e[s],l=e[s-1];e[s-1]=a,e[s]=l}this.movedUp=!0,this.reorderedListElement=t,n.emit({items:i})}},t.prototype.moveTop=function(t,e,i,n){if(i&&i.length){for(var o=0;o<i.length;o++){var r=i[o],s=this.findIndexInList(r,e);if(0==s)break;var a=e.splice(s,1)[0];e.unshift(a)}t.scrollTop=0,n.emit({items:i})}},t.prototype.moveDown=function(t,e,i,n){if(i&&i.length){for(var o=i.length-1;o>=0;o--){var r=i[o],s=this.findIndexInList(r,e);if(s==e.length-1)break;var a=e[s],l=e[s+1];e[s+1]=a,e[s]=l}this.movedDown=!0,this.reorderedListElement=t,n.emit({items:i})}},t.prototype.moveBottom=function(t,e,i,n){if(i&&i.length){for(var o=i.length-1;o>=0;o--){var r=i[o],s=this.findIndexInList(r,e);if(s==e.length-1)break;var a=e.splice(s,1)[0];e.push(a)}t.scrollTop=t.scrollHeight,n.emit({items:i})}},t.prototype.moveRight=function(){if(this.selectedItemsSource&&this.selectedItemsSource.length){for(var t=0;t<this.selectedItemsSource.length;t++){var e=this.selectedItemsSource[t];-1==this.findIndexInList(e,this.target)&&this.target.push(this.source.splice(this.findIndexInList(e,this.source),1)[0])}this.onMoveToTarget.emit({items:this.selectedItemsSource}),this.selectedItemsSource=[]}},t.prototype.moveAllRight=function(){if(this.source){for(var t=[],e=0;e<this.source.length;e++)if(this.isItemVisible(this.source[e],-1)){var i=this.source.splice(e,1)[0];this.target.push(i),t.push(i),e--}this.onMoveToTarget.emit({items:t}),this.onMoveAllToTarget.emit({items:t}),this.selectedItemsSource=[]}},t.prototype.moveLeft=function(){if(this.selectedItemsTarget&&this.selectedItemsTarget.length){for(var t=0;t<this.selectedItemsTarget.length;t++){var e=this.selectedItemsTarget[t];-1==this.findIndexInList(e,this.source)&&this.source.push(this.target.splice(this.findIndexInList(e,this.target),1)[0])}this.onMoveToSource.emit({items:this.selectedItemsTarget}),this.selectedItemsTarget=[]}},t.prototype.moveAllLeft=function(){if(this.target){for(var t=[],e=0;e<this.target.length;e++)if(this.isItemVisible(this.target[e],1)){var i=this.target.splice(e,1)[0];this.source.push(i),t.push(i),e--}this.onMoveToSource.emit({items:t}),this.onMoveAllToSource.emit({items:t}),this.selectedItemsTarget=[]}},t.prototype.isSelected=function(t,e){return-1!=this.findIndexInSelection(t,e)},t.prototype.findIndexInSelection=function(t,e){return this.findIndexInList(t,e)},t.prototype.findIndexInList=function(t,e){var i=-1;if(e)for(var n=0;n<e.length;n++)if(e[n]==t){i=n;break}return i},t.prototype.onDragStart=function(t,e,i){this.dragging=!0,this.fromListType=i,-1===i?this.draggedItemIndexSource=e:this.draggedItemIndexTarget=e,this.dragdropScope&&t.dataTransfer.setData("text",this.dragdropScope)},t.prototype.onDragOver=function(t,e,i){-1==i?(this.draggedItemIndexSource!==e&&this.draggedItemIndexSource+1!==e||1===this.fromListType)&&(this.dragOverItemIndexSource=e,t.preventDefault()):(this.draggedItemIndexTarget!==e&&this.draggedItemIndexTarget+1!==e||-1===this.fromListType)&&(this.dragOverItemIndexTarget=e,t.preventDefault()),this.onListItemDroppoint=!0},t.prototype.onDragLeave=function(t,e){this.dragOverItemIndexSource=null,this.dragOverItemIndexTarget=null,this.onListItemDroppoint=!1},t.prototype.onDrop=function(t,e,i){this.onListItemDroppoint&&(-1===i?(1===this.fromListType?this.insert(this.draggedItemIndexTarget,this.target,e,this.source,this.onMoveToSource):this.objectUtils.reorderArray(this.source,this.draggedItemIndexSource,this.draggedItemIndexSource>e?e:0===e?0:e-1),this.dragOverItemIndexSource=null):(-1===this.fromListType?this.insert(this.draggedItemIndexSource,this.source,e,this.target,this.onMoveToTarget):this.objectUtils.reorderArray(this.target,this.draggedItemIndexTarget,this.draggedItemIndexTarget>e?e:0===e?0:e-1),this.dragOverItemIndexTarget=null),this.listHighlightTarget=!1,this.listHighlightSource=!1,t.preventDefault())},t.prototype.onDragEnd=function(t){this.dragging=!1},t.prototype.onListDrop=function(t,e){this.onListItemDroppoint||(-1===e?1===this.fromListType&&this.insert(this.draggedItemIndexTarget,this.target,null,this.source,this.onMoveToSource):-1===this.fromListType&&this.insert(this.draggedItemIndexSource,this.source,null,this.target,this.onMoveToTarget),this.listHighlightTarget=!1,this.listHighlightSource=!1,t.preventDefault())},t.prototype.insert=function(t,e,i,n,o){var r=e[t];null===i?n.push(e.splice(t,1)[0]):n.splice(i,0,e.splice(t,1)[0]),o.emit({items:[r]})},t.prototype.onListMouseMove=function(t,e){if(this.dragging){var i=0==e?this.listViewSourceChild:this.listViewTargetChild,n=i.nativeElement.getBoundingClientRect().top+document.body.scrollTop,o=n+i.nativeElement.clientHeight-t.pageY,r=t.pageY-n;o<25&&o>0?i.nativeElement.scrollTop+=15:r<25&&r>0&&(i.nativeElement.scrollTop-=15)}-1===e?1===this.fromListType&&(this.listHighlightSource=!0):-1===this.fromListType&&(this.listHighlightTarget=!0),t.preventDefault()},t.prototype.onListDragLeave=function(){this.listHighlightTarget=!1,this.listHighlightSource=!1},t}();n([r.Input(),o("design:type",Array)],c.prototype,"source",void 0),n([r.Input(),o("design:type",Array)],c.prototype,"target",void 0),n([r.Input(),o("design:type",String)],c.prototype,"sourceHeader",void 0),n([r.Input(),o("design:type",String)],c.prototype,"targetHeader",void 0),n([r.Input(),o("design:type",Boolean)],c.prototype,"responsive",void 0),n([r.Input(),o("design:type",String)],c.prototype,"filterBy",void 0),n([r.Input(),o("design:type",Boolean)],c.prototype,"metaKeySelection",void 0),n([r.Input(),o("design:type",Boolean)],c.prototype,"dragdrop",void 0),n([r.Input(),o("design:type",String)],c.prototype,"dragdropScope",void 0),n([r.Input(),o("design:type",Object)],c.prototype,"style",void 0),n([r.Input(),o("design:type",String)],c.prototype,"styleClass",void 0),n([r.Input(),o("design:type",Object)],c.prototype,"sourceStyle",void 0),n([r.Input(),o("design:type",Object)],c.prototype,"targetStyle",void 0),n([r.Input(),o("design:type",Boolean)],c.prototype,"showSourceControls",void 0),n([r.Input(),o("design:type",Boolean)],c.prototype,"showTargetControls",void 0),n([r.Input(),o("design:type",String)],c.prototype,"sourceFilterPlaceholder",void 0),n([r.Input(),o("design:type",String)],c.prototype,"targetFilterPlaceholder",void 0),n([r.Output(),o("design:type",r.EventEmitter)],c.prototype,"onMoveToSource",void 0),n([r.Output(),o("design:type",r.EventEmitter)],c.prototype,"onMoveAllToSource",void 0),n([r.Output(),o("design:type",r.EventEmitter)],c.prototype,"onMoveAllToTarget",void 0),n([r.Output(),o("design:type",r.EventEmitter)],c.prototype,"onMoveToTarget",void 0),n([r.Output(),o("design:type",r.EventEmitter)],c.prototype,"onSourceReorder",void 0),n([r.Output(),o("design:type",r.EventEmitter)],c.prototype,"onTargetReorder",void 0),n([r.Output(),o("design:type",r.EventEmitter)],c.prototype,"onSourceSelect",void 0),n([r.Output(),o("design:type",r.EventEmitter)],c.prototype,"onTargetSelect",void 0),n([r.ViewChild("sourcelist"),o("design:type",r.ElementRef)],c.prototype,"listViewSourceChild",void 0),n([r.ViewChild("targetlist"),o("design:type",r.ElementRef)],c.prototype,"listViewTargetChild",void 0),n([r.ContentChildren(l.PrimeTemplate),o("design:type",r.QueryList)],c.prototype,"templates",void 0),c=n([r.Component({selector:"p-pickList",template:'\n        <div [class]="styleClass" [ngStyle]="style" [ngClass]="{\'ui-picklist ui-widget ui-helper-clearfix\': true,\'ui-picklist-responsive\': responsive}">\n            <div class="ui-picklist-source-controls ui-picklist-buttons" *ngIf="showSourceControls">\n                <div class="ui-picklist-buttons-cell">\n                    <button type="button" pButton icon="fa-angle-up" (click)="moveUp(sourcelist,source,selectedItemsSource,onSourceReorder)"></button>\n                    <button type="button" pButton icon="fa-angle-double-up" (click)="moveTop(sourcelist,source,selectedItemsSource,onSourceReorder)"></button>\n                    <button type="button" pButton icon="fa-angle-down" (click)="moveDown(sourcelist,source,selectedItemsSource,onSourceReorder)"></button>\n                    <button type="button" pButton icon="fa-angle-double-down" (click)="moveBottom(sourcelist,source,selectedItemsSource,onSourceReorder)"></button>\n                </div>\n            </div>\n            <div class="ui-picklist-listwrapper ui-picklist-source-wrapper" [ngClass]="{\'ui-picklist-listwrapper-nocontrols\':!showSourceControls}">\n                <div class="ui-picklist-caption ui-widget-header ui-corner-tl ui-corner-tr" *ngIf="sourceHeader">{{sourceHeader}}</div>\n                <div class="ui-picklist-filter-container ui-widget-content" *ngIf="filterBy">\n                    <input type="text" role="textbox" (keyup)="onFilter($event,source,-1)" class="ui-picklist-filter ui-inputtext ui-widget ui-state-default ui-corner-all" [disabled]="disabled" [attr.placeholder]="sourceFilterPlaceholder">\n                    <span class="fa fa-search"></span>\n                </div>\n                <ul #sourcelist class="ui-widget-content ui-picklist-list ui-picklist-source ui-corner-bottom" [ngClass]="{\'ui-picklist-highlight\': listHighlightSource}" [ngStyle]="sourceStyle" (dragover)="onListMouseMove($event,-1)" (dragleave)="onListDragLeave()" (drop)="onListDrop($event, -1)">\n                    <ng-template ngFor let-item [ngForOf]="source" let-i="index" let-l="last">\n                        <li class="ui-picklist-droppoint" *ngIf="dragdrop" (dragover)="onDragOver($event, i, -1)" (drop)="onDrop($event, i, -1)" (dragleave)="onDragLeave($event, -1)" \n                        [ngClass]="{\'ui-picklist-droppoint-highlight\': (i === dragOverItemIndexSource)}" [style.display]="isItemVisible(item, -1) ? \'block\' : \'none\'"></li>\n                        <li [ngClass]="{\'ui-picklist-item\':true,\'ui-state-highlight\':isSelected(item,selectedItemsSource)}"\n                            (click)="onItemClick($event,item,selectedItemsSource,onSourceSelect)" (dblclick)="onSourceItemDblClick()" (touchend)="onItemTouchEnd($event)"\n                            [style.display]="isItemVisible(item, -1) ? \'block\' : \'none\'"\n                            [draggable]="dragdrop" (dragstart)="onDragStart($event, i, -1)" (dragend)="onDragEnd($event)">\n                            <ng-template [pTemplateWrapper]="itemTemplate" [item]="item" [index]="i"></ng-template>\n                        </li>\n                        <li class="ui-picklist-droppoint" *ngIf="dragdrop&&l" (dragover)="onDragOver($event, i + 1, -1)" (drop)="onDrop($event, i + 1, -1)" (dragleave)="onDragLeave($event, -1)" \n                        [ngClass]="{\'ui-picklist-droppoint-highlight\': (i + 1 === dragOverItemIndexSource)}"></li>\n                    </ng-template>\n                </ul>\n            </div>\n            <div class="ui-picklist-buttons">\n                <div class="ui-picklist-buttons-cell">\n                    <button type="button" pButton icon="fa-angle-right" (click)="moveRight()"></button>\n                    <button type="button" pButton icon="fa-angle-double-right" (click)="moveAllRight()"></button>\n                    <button type="button" pButton icon="fa-angle-left" (click)="moveLeft()"></button>\n                    <button type="button" pButton icon="fa-angle-double-left" (click)="moveAllLeft()"></button>\n                </div>\n            </div>\n            <div class="ui-picklist-listwrapper ui-picklist-target-wrapper" [ngClass]="{\'ui-picklist-listwrapper-nocontrols\':!showTargetControls}">\n                <div class="ui-picklist-caption ui-widget-header ui-corner-tl ui-corner-tr" *ngIf="targetHeader">{{targetHeader}}</div>\n                <div class="ui-picklist-filter-container ui-widget-content" *ngIf="filterBy">\n                    <input type="text" role="textbox" (keyup)="onFilter($event,target,1)" class="ui-picklist-filter ui-inputtext ui-widget ui-state-default ui-corner-all" [disabled]="disabled" [attr.placeholder]="targetFilterPlaceholder">\n                    <span class="fa fa-search"></span>\n                </div>\n                <ul #targetlist class="ui-widget-content ui-picklist-list ui-picklist-target ui-corner-bottom" [ngClass]="{\'ui-picklist-highlight\': listHighlightTarget}" [ngStyle]="targetStyle" (dragover)="onListMouseMove($event,1)" (dragleave)="onListDragLeave()" (drop)="onListDrop($event,1)">\n                    <ng-template ngFor let-item [ngForOf]="target" let-i="index" let-l="last">\n                        <li class="ui-picklist-droppoint" *ngIf="dragdrop" (dragover)="onDragOver($event, i, 1)" (drop)="onDrop($event, i, 1)" (dragleave)="onDragLeave($event, 1)" \n                        [ngClass]="{\'ui-picklist-droppoint-highlight\': (i === dragOverItemIndexTarget)}" [style.display]="isItemVisible(item, 1) ? \'block\' : \'none\'"></li>\n                        <li [ngClass]="{\'ui-picklist-item\':true,\'ui-state-highlight\':isSelected(item,selectedItemsTarget)}"\n                            (click)="onItemClick($event,item,selectedItemsTarget,onTargetSelect)" (dblclick)="onTargetItemDblClick()" (touchend)="onItemTouchEnd($event)"\n                            [style.display]="isItemVisible(item, 1) ? \'block\' : \'none\'"\n                            [draggable]="dragdrop" (dragstart)="onDragStart($event, i, 1)" (dragend)="onDragEnd($event)">\n                            <ng-template [pTemplateWrapper]="itemTemplate" [item]="item" [index]="i"></ng-template>\n                        </li>\n                        <li class="ui-picklist-droppoint" *ngIf="dragdrop&&l" (dragover)="onDragOver($event, i + 1, 1)" (drop)="onDrop($event, i + 1, 1)" (dragleave)="onDragLeave($event, 1)" \n                        [ngClass]="{\'ui-picklist-droppoint-highlight\': (i + 1 === dragOverItemIndexTarget)}"></li>\n                    </ng-template>\n                </ul>\n            </div>\n            <div class="ui-picklist-target-controls ui-picklist-buttons" *ngIf="showTargetControls">\n                <div class="ui-picklist-buttons-cell">\n                    <button type="button" pButton icon="fa-angle-up" (click)="moveUp(targetlist,target,selectedItemsTarget,onTargetReorder)"></button>\n                    <button type="button" pButton icon="fa-angle-double-up" (click)="moveTop(targetlist,target,selectedItemsTarget,onTargetReorder)"></button>\n                    <button type="button" pButton icon="fa-angle-down" (click)="moveDown(targetlist,target,selectedItemsTarget,onTargetReorder)"></button>\n                    <button type="button" pButton icon="fa-angle-double-down" (click)="moveBottom(targetlist,target,selectedItemsTarget,onTargetReorder)"></button>\n                </div>\n            </div>\n        </div>\n    ',providers:[h.DomHandler,u.ObjectUtils]}),o("design:paramtypes",[r.ElementRef,h.DomHandler,u.ObjectUtils])],c),e.PickList=c;var d=function(){function t(){}return t}();d=n([r.NgModule({imports:[s.CommonModule,a.ButtonModule,l.SharedModule],exports:[c,l.SharedModule],declarations:[c]})],d),e.PickListModule=d},function(t,e,i){"use strict";var n=this&&this.__decorate||function(t,e,i,n){var o,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,i,s):o(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};Object.defineProperty(e,"__esModule",{value:!0});var r=i(0),s=i(1),a=i(5);e.RADIO_VALUE_ACCESSOR={provide:a.NG_VALUE_ACCESSOR,useExisting:r.forwardRef(function(){return l}),multi:!0};var l=function(){function t(t){this.cd=t,this.onClick=new r.EventEmitter,this.onModelChange=function(){},this.onModelTouched=function(){}}return t.prototype.handleClick=function(){this.disabled||this.select()},t.prototype.select=function(){this.disabled||(this.onClick.emit(null),this.inputViewChild.nativeElement.checked=!0,this.checked=!0,this.onModelChange(this.value))},t.prototype.writeValue=function(t){this.checked=t==this.value,this.inputViewChild.nativeElement&&(this.inputViewChild.nativeElement.checked=this.checked),this.cd.markForCheck()},t.prototype.registerOnChange=function(t){this.onModelChange=t},t.prototype.registerOnTouched=function(t){this.onModelTouched=t},t.prototype.setDisabledState=function(t){this.disabled=t},t.prototype.onFocus=function(t){this.focused=!0},t.prototype.onBlur=function(t){this.focused=!1,this.onModelTouched()},t.prototype.onChange=function(t){this.select()},t}();n([r.Input(),o("design:type",Object)],l.prototype,"value",void 0),n([r.Input(),o("design:type",String)],l.prototype,"name",void 0),n([r.Input(),o("design:type",Boolean)],l.prototype,"disabled",void 0),n([r.Input(),o("design:type",String)],l.prototype,"label",void 0),n([r.Input(),o("design:type",Number)],l.prototype,"tabindex",void 0),n([r.Input(),o("design:type",String)],l.prototype,"inputId",void 0),n([r.Input(),o("design:type",Object)],l.prototype,"style",void 0),n([r.Input(),o("design:type",String)],l.prototype,"styleClass",void 0),n([r.Output(),o("design:type",r.EventEmitter)],l.prototype,"onClick",void 0),n([r.ViewChild("rb"),o("design:type",r.ElementRef)],l.prototype,"inputViewChild",void 0),l=n([r.Component({selector:"p-radioButton",template:'\n        <div [ngStyle]="style" [ngClass]="\'ui-radiobutton ui-widget\'" [class]="styleClass">\n            <div class="ui-helper-hidden-accessible">\n                <input #rb type="radio" [attr.id]="inputId" [attr.name]="name" [attr.value]="value" [attr.tabindex]="tabindex" \n                    [checked]="checked" (change)="onChange($event)" (focus)="onFocus($event)" (blur)="onBlur($event)">\n            </div>\n            <div (click)="handleClick()"\n                [ngClass]="{\'ui-radiobutton-box ui-widget ui-state-default\':true,\n                \'ui-state-active\':rb.checked,\'ui-state-disabled\':disabled,\'ui-state-focus\':focused}">\n                <span class="ui-radiobutton-icon ui-clickable" [ngClass]="{\'fa fa-circle\':rb.checked}"></span>\n            </div>\n        </div>\n        <label class="ui-radiobutton-label" (click)="select()" \n            [ngClass]="{\'ui-label-active\':rb.checked,\'ui-label-disabled\':disabled,\'ui-label-focus\':focused}"\n            *ngIf="label" [attr.for]="inputId">{{label}}</label>\n    ',providers:[e.RADIO_VALUE_ACCESSOR]}),o("design:paramtypes",[r.ChangeDetectorRef])],l),e.RadioButton=l;var h=function(){function t(){}return t}();h=n([r.NgModule({imports:[s.CommonModule],exports:[l],declarations:[l]})],h),e.RadioButtonModule=h},function(t,e,i){"use strict";var n=this&&this.__decorate||function(t,e,i,n){var o,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,i,s):o(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};Object.defineProperty(e,"__esModule",{value:!0});var r=i(0),s=i(1),a=i(5);e.RATING_VALUE_ACCESSOR={provide:a.NG_VALUE_ACCESSOR,useExisting:r.forwardRef(function(){return l}),multi:!0};var l=function(){function t(){this.stars=5,this.cancel=!0,this.iconOnClass="fa-star",this.iconOffClass="fa-star-o",this.iconCancelClass="fa-ban",this.onRate=new r.EventEmitter,this.onCancel=new r.EventEmitter,this.onModelChange=function(){},this.onModelTouched=function(){}}return t.prototype.ngOnInit=function(){this.starsArray=[];for(var t=0;t<this.stars;t++)this.starsArray[t]=t},t.prototype.rate=function(t,e){this.readonly||this.disabled||(this.value=e+1,this.onModelChange(this.value),this.onModelTouched(),this.onRate.emit({originalEvent:t,value:e+1})),t.preventDefault()},t.prototype.clear=function(t){this.readonly||this.disabled||(this.value=null,this.onModelChange(this.value),this.onModelTouched(),this.onCancel.emit(t)),t.preventDefault()},t.prototype.writeValue=function(t){this.value=t},t.prototype.registerOnChange=function(t){this.onModelChange=t},t.prototype.registerOnTouched=function(t){this.onModelTouched=t},t.prototype.setDisabledState=function(t){this.disabled=t},t}();n([r.Input(),o("design:type",Boolean)],l.prototype,"disabled",void 0),n([r.Input(),o("design:type",Boolean)],l.prototype,"readonly",void 0),n([r.Input(),o("design:type",Number)],l.prototype,"stars",void 0),n([r.Input(),o("design:type",Boolean)],l.prototype,"cancel",void 0),n([r.Input(),o("design:type",String)],l.prototype,"iconOnClass",void 0),n([r.Input(),o("design:type",Object)],l.prototype,"iconOnStyle",void 0),n([r.Input(),o("design:type",String)],l.prototype,"iconOffClass",void 0),n([r.Input(),o("design:type",Object)],l.prototype,"iconOffStyle",void 0),n([r.Input(),o("design:type",String)],l.prototype,"iconCancelClass",void 0),n([r.Input(),o("design:type",Object)],l.prototype,"iconCancelStyle",void 0),n([r.Output(),o("design:type",r.EventEmitter)],l.prototype,"onRate",void 0),n([r.Output(),o("design:type",r.EventEmitter)],l.prototype,"onCancel",void 0),l=n([r.Component({selector:"p-rating",template:'\n        <div class="ui-rating" [ngClass]="{\'ui-state-disabled\': disabled}">\n            <a href="#" *ngIf="cancel" (click)="clear($event)">\n                <span class="fa" [ngClass]="[iconCancelClass]" [ngStyle]="[iconCancelStyle]"></span>\n            </a>\n            <a href="#" *ngFor="let star of starsArray;let i=index" (click)="rate($event,i)">\n                <span class="fa" \n                    [ngClass]="(!value || i >= value) ? iconOffClass : iconOnClass"\n                    [ngStyle]="(!value || i >= value) ? iconOffStyle : iconOnStyle"\n                ></span>\n            </a>\n        </div>\n    ',providers:[e.RATING_VALUE_ACCESSOR]})],l),e.Rating=l;var h=function(){function t(){}return t}();h=n([r.NgModule({imports:[s.CommonModule],exports:[l],declarations:[l]})],h),e.RatingModule=h},function(t,e,i){"use strict";var n=this&&this.__decorate||function(t,e,i,n){var o,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,i,s):o(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};Object.defineProperty(e,"__esModule",{value:!0});var r=i(0),s=i(1),a=function(){function t(t,e){this.el=t,this.aspectRatio=1.35,this.defaultView="month",this.allDaySlot=!0,this.allDayText="all-day",this.slotDuration="00:30:00",this.scrollTime="06:00:00",this.minTime="00:00:00",this.maxTime="24:00:00",this.slotEventOverlap=!0,this.dragRevertDuration=500,this.dragOpacity=.75,this.dragScroll=!0,this.timezone=!1,this.timeFormat=null,this.onDayClick=new r.EventEmitter,this.onDrop=new r.EventEmitter,this.onEventClick=new r.EventEmitter,this.onEventMouseover=new r.EventEmitter,this.onEventMouseout=new r.EventEmitter,this.onEventDragStart=new r.EventEmitter,this.onEventDragStop=new r.EventEmitter,this.onEventDrop=new r.EventEmitter,this.onEventResizeStart=new r.EventEmitter,this.onEventResizeStop=new r.EventEmitter,this.onEventResize=new r.EventEmitter,this.onViewRender=new r.EventEmitter,this.onViewDestroy=new r.EventEmitter,this.differ=e.find([]).create(null),this.initialized=!1}return t.prototype.ngOnInit=function(){var t=this;if(this.config={theme:!0,header:this.header,isRTL:this.rtl,weekends:this.weekends,hiddenDays:this.hiddenDays,fixedWeekCount:this.fixedWeekCount,weekNumbers:this.weekNumbers,businessHours:this.businessHours,height:this.height,contentHeight:this.contentHeight,aspectRatio:this.aspectRatio,eventLimit:this.eventLimit,defaultDate:this.defaultDate,locale:this.locale,timezone:this.timezone,timeFormat:this.timeFormat,editable:this.editable,droppable:this.droppable,eventStartEditable:this.eventStartEditable,eventDurationEditable:this.eventDurationEditable,defaultView:this.defaultView,allDaySlot:this.allDaySlot,allDayText:this.allDayText,slotDuration:this.slotDuration,slotLabelInterval:this.slotLabelInterval,snapDuration:this.snapDuration,scrollTime:this.scrollTime,minTime:this.minTime,maxTime:this.maxTime,slotEventOverlap:this.slotEventOverlap,nowIndicator:this.nowIndicator,dragRevertDuration:this.dragRevertDuration,dragOpacity:this.dragOpacity,dragScroll:this.dragScroll,eventOverlap:this.eventOverlap,eventConstraint:this.eventConstraint,eventRender:this.eventRender,dayRender:this.dayRender,dayClick:function(e,i,n){t.onDayClick.emit({date:e,jsEvent:i,view:n})},drop:function(e,i,n,o){t.onDrop.emit({date:e,jsEvent:i,ui:n,resourceId:o})},eventClick:function(e,i,n){t.onEventClick.emit({calEvent:e,jsEvent:i,view:n})},eventMouseover:function(e,i,n){t.onEventMouseover.emit({calEvent:e,jsEvent:i,view:n})},eventMouseout:function(e,i,n){t.onEventMouseout.emit({calEvent:e,jsEvent:i,view:n})},eventDragStart:function(e,i,n,o){t.onEventDragStart.emit({event:e,jsEvent:i,view:o})},eventDragStop:function(e,i,n,o){t.onEventDragStop.emit({event:e,jsEvent:i,view:o})},eventDrop:function(e,i,n,o,r,s){t._updateEvent(e),t.onEventDrop.emit({event:e,delta:i,revertFunc:n,jsEvent:o,view:s})},eventResizeStart:function(e,i,n,o){t.onEventResizeStart.emit({event:e,jsEvent:i,view:o})},eventResizeStop:function(e,i,n,o){t.onEventResizeStop.emit({event:e,jsEvent:i,view:o})},eventResize:function(e,i,n,o,r,s){t._updateEvent(e),t.onEventResize.emit({event:e,delta:i,revertFunc:n,jsEvent:o,view:s})},viewRender:function(e,i){t.onViewRender.emit({view:e,element:i})},viewDestroy:function(e,i){t.onViewDestroy.emit({view:e,element:i})}},this.options)for(var e in this.options)this.config[e]=this.options[e]},t.prototype.ngAfterViewChecked=function(){!this.initialized&&this.el.nativeElement.offsetParent&&this.initialize()},t.prototype.ngOnChanges=function(t){if(this.schedule){var e={};for(var i in t)"events"!==i&&(e[i]=t[i].currentValue);Object.keys(e).length&&this.schedule.fullCalendar("option",e)}},t.prototype.initialize=function(){this.schedule=jQuery(this.el.nativeElement.children[0]),this.schedule.fullCalendar(this.config),this.events&&this.schedule.fullCalendar("addEventSource",this.events),this.initialized=!0},t.prototype.ngDoCheck=function(){var t=this.differ.diff(this.events);this.schedule&&t&&(this.schedule.fullCalendar("removeEventSources"),this.events&&this.schedule.fullCalendar("addEventSource",this.events))},t.prototype.ngOnDestroy=function(){jQuery(this.el.nativeElement.children[0]).fullCalendar("destroy"),this.initialized=!1,this.schedule=null},t.prototype.gotoDate=function(t){this.schedule.fullCalendar("gotoDate",t)},t.prototype.prev=function(){this.schedule.fullCalendar("prev")},t.prototype.next=function(){this.schedule.fullCalendar("next")},t.prototype.prevYear=function(){this.schedule.fullCalendar("prevYear")},t.prototype.nextYear=function(){this.schedule.fullCalendar("nextYear")},t.prototype.today=function(){this.schedule.fullCalendar("today")},t.prototype.incrementDate=function(t){this.schedule.fullCalendar("incrementDate",t)},t.prototype.changeView=function(t){this.schedule.fullCalendar("changeView",t)},t.prototype.getDate=function(){return this.schedule.fullCalendar("getDate")},t.prototype.updateEvent=function(t){this.schedule.fullCalendar("updateEvent",t)},t.prototype._findEvent=function(t){var e;if(this.events)for(var i=0,n=this.events;i<n.length;i++){var o=n[i];if(o.id===t){e=o;break}}return e},t.prototype._updateEvent=function(t){var e=this._findEvent(t.id);e&&(e.start=t.start.format(),t.end&&(e.end=t.end.format()))},t}();n([r.Input(),o("design:type",Array)],a.prototype,"events",void 0),n([r.Input(),o("design:type",Object)],a.prototype,"header",void 0),n([r.Input(),o("design:type",Object)],a.prototype,"style",void 0),n([r.Input(),o("design:type",String)],a.prototype,"styleClass",void 0),n([r.Input(),o("design:type",Boolean)],a.prototype,"rtl",void 0),n([r.Input(),o("design:type",Boolean)],a.prototype,"weekends",void 0),n([r.Input(),o("design:type",Array)],a.prototype,"hiddenDays",void 0),n([r.Input(),o("design:type",Boolean)],a.prototype,"fixedWeekCount",void 0),n([r.Input(),o("design:type",Boolean)],a.prototype,"weekNumbers",void 0),n([r.Input(),o("design:type",Object)],a.prototype,"businessHours",void 0),n([r.Input(),o("design:type",Object)],a.prototype,"height",void 0),n([r.Input(),o("design:type",Object)],a.prototype,"contentHeight",void 0),n([r.Input(),o("design:type",Number)],a.prototype,"aspectRatio",void 0),n([r.Input(),o("design:type",Object)],a.prototype,"eventLimit",void 0),n([r.Input(),o("design:type",Object)],a.prototype,"defaultDate",void 0),n([r.Input(),o("design:type",Boolean)],a.prototype,"editable",void 0),n([r.Input(),o("design:type",Boolean)],a.prototype,"droppable",void 0),n([r.Input(),o("design:type",Boolean)],a.prototype,"eventStartEditable",void 0),n([r.Input(),o("design:type",Boolean)],a.prototype,"eventDurationEditable",void 0),n([r.Input(),o("design:type",String)],a.prototype,"defaultView",void 0),n([r.Input(),o("design:type",Boolean)],a.prototype,"allDaySlot",void 0),n([r.Input(),o("design:type",String)],a.prototype,"allDayText",void 0),n([r.Input(),o("design:type",Object)],a.prototype,"slotDuration",void 0),n([r.Input(),o("design:type",Object)],a.prototype,"slotLabelInterval",void 0),n([r.Input(),o("design:type",Object)],a.prototype,"snapDuration",void 0),n([r.Input(),o("design:type",Object)],a.prototype,"scrollTime",void 0),n([r.Input(),o("design:type",Object)],a.prototype,"minTime",void 0),n([r.Input(),o("design:type",Object)],a.prototype,"maxTime",void 0),n([r.Input(),o("design:type",Boolean)],a.prototype,"slotEventOverlap",void 0),n([r.Input(),o("design:type",Boolean)],a.prototype,"nowIndicator",void 0),n([r.Input(),o("design:type",Number)],a.prototype,"dragRevertDuration",void 0),n([r.Input(),o("design:type",Number)],a.prototype,"dragOpacity",void 0),n([r.Input(),o("design:type",Boolean)],a.prototype,"dragScroll",void 0),n([r.Input(),o("design:type",Object)],a.prototype,"eventOverlap",void 0),n([r.Input(),o("design:type",Object)],a.prototype,"eventConstraint",void 0),n([r.Input(),o("design:type",String)],a.prototype,"locale",void 0),n([r.Input(),o("design:type",Object)],a.prototype,"timezone",void 0),n([r.Input(),o("design:type",String)],a.prototype,"timeFormat",void 0),n([r.Input(),o("design:type",Function)],a.prototype,"eventRender",void 0),n([r.Input(),o("design:type",Function)],a.prototype,"dayRender",void 0),n([r.Input(),o("design:type",Object)],a.prototype,"options",void 0),n([r.Output(),o("design:type",r.EventEmitter)],a.prototype,"onDayClick",void 0),n([r.Output(),o("design:type",r.EventEmitter)],a.prototype,"onDrop",void 0),n([r.Output(),o("design:type",r.EventEmitter)],a.prototype,"onEventClick",void 0),n([r.Output(),o("design:type",r.EventEmitter)],a.prototype,"onEventMouseover",void 0),n([r.Output(),o("design:type",r.EventEmitter)],a.prototype,"onEventMouseout",void 0),n([r.Output(),o("design:type",r.EventEmitter)],a.prototype,"onEventDragStart",void 0),n([r.Output(),o("design:type",r.EventEmitter)],a.prototype,"onEventDragStop",void 0),n([r.Output(),o("design:type",r.EventEmitter)],a.prototype,"onEventDrop",void 0),n([r.Output(),o("design:type",r.EventEmitter)],a.prototype,"onEventResizeStart",void 0),n([r.Output(),o("design:type",r.EventEmitter)],a.prototype,"onEventResizeStop",void 0),n([r.Output(),o("design:type",r.EventEmitter)],a.prototype,"onEventResize",void 0),n([r.Output(),o("design:type",r.EventEmitter)],a.prototype,"onViewRender",void 0),n([r.Output(),o("design:type",r.EventEmitter)],a.prototype,"onViewDestroy",void 0),a=n([r.Component({selector:"p-schedule",template:'<div [ngStyle]="style" [class]="styleClass"></div>'}),o("design:paramtypes",[r.ElementRef,r.IterableDiffers])],a),e.Schedule=a;var l=function(){function t(){}return t}();l=n([r.NgModule({imports:[s.CommonModule],exports:[a],declarations:[a]})],l),e.ScheduleModule=l},function(t,e,i){"use strict";var n=this&&this.__decorate||function(t,e,i,n){var o,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,i,s):o(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};Object.defineProperty(e,"__esModule",{value:!0});var r=i(0),s=i(1),a=i(5);e.SELECTBUTTON_VALUE_ACCESSOR={provide:a.NG_VALUE_ACCESSOR,useExisting:r.forwardRef(function(){return l}),multi:!0};var l=function(){function t(){this.onOptionClick=new r.EventEmitter,this.onChange=new r.EventEmitter,this.onModelChange=function(){},this.onModelTouched=function(){}}return t.prototype.writeValue=function(t){this.value=t},t.prototype.registerOnChange=function(t){this.onModelChange=t},t.prototype.registerOnTouched=function(t){this.onModelTouched=t},t.prototype.setDisabledState=function(t){this.disabled=t},t.prototype.onItemClick=function(t,e,i,n){if(!this.disabled){if(i.focus(),this.multiple){var o=this.findItemIndex(e);this.value=-1!=o?this.value.filter(function(t,e){return e!=o}):(this.value||[]).concat([e.value])}else this.value=e.value;this.onOptionClick.emit({originalEvent:t,option:e,index:n}),this.onModelChange(this.value),this.onChange.emit({originalEvent:t,value:this.value})}},t.prototype.onFocus=function(t){this.focusedItem=t.target},t.prototype.onBlur=function(t){this.focusedItem=null,this.onModelTouched()},t.prototype.isSelected=function(t){return this.multiple?-1!=this.findItemIndex(t):t.value==this.value},t.prototype.findItemIndex=function(t){var e=-1;if(this.value)for(var i=0;i<this.value.length;i++)if(this.value[i]==t.value){e=i;break}return e},t}();n([r.Input(),o("design:type",Array)],l.prototype,"options",void 0),n([r.Input(),o("design:type",Number)],l.prototype,"tabindex",void 0),n([r.Input(),o("design:type",Boolean)],l.prototype,"multiple",void 0),n([r.Input(),o("design:type",Object)],l.prototype,"style",void 0),n([r.Input(),o("design:type",String)],l.prototype,"styleClass",void 0),n([r.Input(),o("design:type",Boolean)],l.prototype,"disabled",void 0),n([r.Output(),o("design:type",r.EventEmitter)],l.prototype,"onOptionClick",void 0),n([r.Output(),o("design:type",r.EventEmitter)],l.prototype,"onChange",void 0),l=n([r.Component({selector:"p-selectButton",template:'\n        <div [ngClass]="\'ui-selectbutton ui-buttonset ui-widget ui-corner-all ui-buttonset-\' + options.length" [ngStyle]="style" [class]="styleClass">\n            <div *ngFor="let option of options; let i = index" class="ui-button ui-widget ui-state-default ui-button-text-only {{option.styleClass}}"\n                [ngClass]="{\'ui-state-active\':isSelected(option), \'ui-state-disabled\':disabled, \'ui-state-focus\': cbox == focusedItem}" (click)="onItemClick($event,option,cbox,i)">\n                <span class="ui-button-text ui-clickable">{{option.label}}</span>\n                <div class="ui-helper-hidden-accessible">\n                    <input #cbox type="checkbox" [checked]="isSelected(option)" (focus)="onFocus($event)" (blur)="onBlur($event)" [attr.tabindex]="tabindex" [attr.disabled]="disabled">\n                </div>\n            </div>\n        </div>\n    ',providers:[e.SELECTBUTTON_VALUE_ACCESSOR]})],l),e.SelectButton=l;var h=function(){function t(){}return t}();h=n([r.NgModule({imports:[s.CommonModule],exports:[l],declarations:[l]})],h),e.SelectButtonModule=h},function(t,e,i){"use strict";var n=this&&this.__decorate||function(t,e,i,n){var o,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,i,s):o(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},r=this&&this.__param||function(t,e){return function(i,n){e(i,n,t)}};Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(1),l=i(3),h=i(6),u=function(){function t(t){this.slideMenu=t,this.backLabel="Back",this.easing="ease-out"}return t.prototype.itemClick=function(t,e,i){var n=this;if(e.disabled)return void t.preventDefault();e.url||t.preventDefault(),e.command&&e.command({originalEvent:t,item:e}),e.items&&!this.slideMenu.animating&&(this.slideMenu.left-=this.slideMenu.menuWidth,this.activeItem=i,this.slideMenu.animating=!0,setTimeout(function(){return n.slideMenu.animating=!1},this.effectDuration))},t.prototype.ngOnDestroy=function(){this.activeItem=null},t}();n([s.Input(),o("design:type",Object)],u.prototype,"item",void 0),n([s.Input(),o("design:type",Boolean)],u.prototype,"root",void 0),n([s.Input(),o("design:type",String)],u.prototype,"backLabel",void 0),n([s.Input(),o("design:type",String)],u.prototype,"menuWidth",void 0),n([s.Input(),o("design:type",Object)],u.prototype,"effectDuration",void 0),n([s.Input(),o("design:type",String)],u.prototype,"easing",void 0),u=n([s.Component({selector:"p-slideMenuSub",template:'\n        <ul [ngClass]="{\'ui-helper-reset ui-menu-rootlist\':root, \'ui-widget-content ui-corner-all ui-helper-clearfix ui-menu-child\':!root}" class="ui-menu-list"\n            [style.width.px]="menuWidth" [style.left.px]="root ? slideMenu.left : slideMenu.menuWidth" \n            [style.transitionProperty]="root ? \'left\' : \'none\'" [style.transitionDuration]="effectDuration + \'ms\'" [style.transitionTimingFunction]="easing">\n            <ng-template ngFor let-child [ngForOf]="(root ? item : item.items)">\n                <li *ngIf="child.separator" class="ui-menu-separator ui-widget-content">\n                <li *ngIf="!child.separator" #listitem [ngClass]="{\'ui-menuitem ui-widget ui-corner-all\':true,\'ui-menu-parent\':child.items,\'ui-slidemenuitem-active\':listitem==activeItem}">\n                    <a *ngIf="!child.routerLink" [href]="child.url||\'#\'" class="ui-menuitem-link ui-corner-all" [attr.target]="child.target" [attr.title]="child.title"\n                        [ngClass]="{\'ui-menuitem-link-parent\':child.items,\'ui-state-disabled\':child.disabled}" \n                        (click)="itemClick($event, child, listitem)">\n                        <span class="ui-submenu-icon fa fa-fw fa-caret-right" *ngIf="child.items"></span>\n                        <span class="ui-menuitem-icon fa fa-fw" *ngIf="child.icon" [ngClass]="child.icon"></span>\n                        <span class="ui-menuitem-text">{{child.label}}</span>\n                    </a>\n                    <a *ngIf="child.routerLink" [routerLink]="child.routerLink" [routerLinkActive]="\'ui-state-active\'" \n                        [routerLinkActiveOptions]="child.routerLinkActiveOptions||{exact:false}" [href]="child.url||\'#\'" class="ui-menuitem-link ui-corner-all" \n                        [attr.target]="child.target" [attr.title]="child.title"\n                        [ngClass]="{\'ui-menuitem-link-parent\':child.items,\'ui-state-disabled\':child.disabled}" \n                        (click)="itemClick($event, child, listitem)">\n                        <span class="ui-submenu-icon fa fa-fw fa-caret-right" *ngIf="child.items"></span>\n                        <span class="ui-menuitem-icon fa fa-fw" *ngIf="child.icon" [ngClass]="child.icon"></span>\n                        <span class="ui-menuitem-text">{{child.label}}</span>\n                    </a>\n                    <p-slideMenuSub class="ui-submenu" [item]="child" [menuWidth]="menuWidth" *ngIf="child.items"></p-slideMenuSub>\n                </li>\n            </ng-template>\n        </ul>\n    '}),r(0,s.Inject(s.forwardRef(function(){return c}))),o("design:paramtypes",[c])],u),e.SlideMenuSub=u;var c=function(){function t(t,e,i){this.el=t,this.domHandler=e,this.renderer=i,this.menuWidth=190,this.viewportHeight=175,this.effectDuration=250,this.easing="ease-out",this.backLabel="Back",this.left=0,this.animating=!1}return t.prototype.ngAfterViewInit=function(){var t=this;this.container=this.containerViewChild.nativeElement,this.backwardElement=this.backwardViewChild.nativeElement,this.slideMenuContentElement=this.slideMenuContentViewChild.nativeElement,this.slideMenuContentElement.style.height=this.viewportHeight-this.domHandler.getHiddenElementOuterHeight(this.backwardElement)+"px",this.popup&&(this.appendTo&&("body"===this.appendTo?document.body.appendChild(this.container):this.domHandler.appendChild(this.container,this.appendTo)),this.documentClickListener=this.renderer.listen("document","click",function(){t.preventDocumentDefault||t.hide(),t.preventDocumentDefault=!1}))},t.prototype.toggle=function(t){this.container.offsetParent?this.hide():this.show(t)},t.prototype.show=function(t){this.preventDocumentDefault=!0,this.container.style.display="block",this.domHandler.absolutePosition(this.container,t.target),this.domHandler.fadeIn(this.container,250)},t.prototype.hide=function(){this.container.style.display="none"},t.prototype.onClick=function(t){this.preventDocumentDefault=!0},t.prototype.goBack=function(){this.left+=this.menuWidth},t.prototype.ngOnDestroy=function(){this.popup&&(this.documentClickListener&&this.documentClickListener(),this.appendTo&&this.el.nativeElement.appendChild(this.container))},t}();n([s.Input(),o("design:type",Array)],c.prototype,"model",void 0),n([s.Input(),o("design:type",Boolean)],c.prototype,"popup",void 0),n([s.Input(),o("design:type",Object)],c.prototype,"style",void 0),n([s.Input(),o("design:type",String)],c.prototype,"styleClass",void 0),n([s.Input(),o("design:type",Number)],c.prototype,"menuWidth",void 0),n([s.Input(),o("design:type",Number)],c.prototype,"viewportHeight",void 0),n([s.Input(),o("design:type",Object)],c.prototype,"effectDuration",void 0),n([s.Input(),o("design:type",String)],c.prototype,"easing",void 0),n([s.Input(),o("design:type",String)],c.prototype,"backLabel",void 0),n([s.Input(),o("design:type",Object)],c.prototype,"appendTo",void 0),n([s.ViewChild("container"),o("design:type",s.ElementRef)],c.prototype,"containerViewChild",void 0),n([s.ViewChild("backward"),o("design:type",s.ElementRef)],c.prototype,"backwardViewChild",void 0),n([s.ViewChild("slideMenuContent"),o("design:type",s.ElementRef)],c.prototype,"slideMenuContentViewChild",void 0),c=n([s.Component({selector:"p-slideMenu",template:'\n        <div #container [ngClass]="{\'ui-menu ui-slidemenu ui-widget ui-widget-content ui-corner-all\':true,\'ui-menu-dynamic ui-shadow\':popup}" \n            [class]="styleClass" [ngStyle]="style" (click)="onClick($event)">\n            <div class="ui-slidemenu-wrapper" [style.height.px]="viewportHeight">\n                <div #slideMenuContent class="ui-slidemenu-content">\n                    <p-slideMenuSub [item]="model" root="root" [menuWidth]="menuWidth" [effectDuration]="effectDuration" [easing]="easing"></p-slideMenuSub>\n                </div>\n                <div #backward class="ui-slidemenu-backward ui-widget-header ui-corner-all" [style.display]="left ? \'block\' : \'none\'" (click)="goBack()">\n                    <span class="fa fa-fw fa-caret-left"></span><span>{{backLabel}}</span>\n                </div>\n            </div>\n        </div>\n    ',providers:[l.DomHandler]}),o("design:paramtypes",[s.ElementRef,l.DomHandler,s.Renderer2])],c),e.SlideMenu=c;var d=function(){function t(){}return t}();d=n([s.NgModule({imports:[a.CommonModule,h.RouterModule],exports:[c,h.RouterModule],declarations:[c,u]})],d),e.SlideMenuModule=d},function(t,e,i){"use strict";var n=this&&this.__decorate||function(t,e,i,n){var o,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,i,s):o(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};Object.defineProperty(e,"__esModule",{value:!0});var r=i(0),s=i(1),a=i(3),l=i(5);e.SLIDER_VALUE_ACCESSOR={provide:l.NG_VALUE_ACCESSOR,useExisting:r.forwardRef(function(){return h}),multi:!0};var h=function(){function t(t,e,i,n){this.el=t,this.domHandler=e,this.renderer=i,this.ngZone=n,this.min=0,this.max=100,this.orientation="horizontal",this.onChange=new r.EventEmitter,this.onSlideEnd=new r.EventEmitter,this.handleValues=[],this.onModelChange=function(){},this.onModelTouched=function(){}}return t.prototype.onMouseDown=function(t,e){this.disabled||(this.dragging=!0,this.updateDomData(),this.sliderHandleClick=!0,this.handleIndex=e,this.bindDragListeners(),t.preventDefault())},t.prototype.onTouchStart=function(t,e){var i=t.changedTouches[0];this.startHandleValue=this.range?this.handleValues[e]:this.handleValue,this.dragging=!0,this.handleIndex=e,"horizontal"===this.orientation?(this.startx=parseInt(i.clientX,10),this.barWidth=this.el.nativeElement.children[0].offsetWidth):(this.starty=parseInt(i.clientY,10),this.barHeight=this.el.nativeElement.children[0].offsetHeight),t.preventDefault()},t.prototype.onTouchMove=function(t,e){var i=t.changedTouches[0],n=0;n="horizontal"===this.orientation?Math.floor(100*(parseInt(i.clientX,10)-this.startx)/this.barWidth)+this.startHandleValue:Math.floor(100*(this.starty-parseInt(i.clientY,10))/this.barHeight)+this.startHandleValue,this.setValueFromHandle(t,n),t.preventDefault()},t.prototype.onBarClick=function(t){this.disabled||(this.sliderHandleClick||(this.updateDomData(),this.handleChange(t)),this.sliderHandleClick=!1)},t.prototype.handleChange=function(t){var e=this.calculateHandleValue(t);this.setValueFromHandle(t,e)},t.prototype.bindDragListeners=function(){var t=this;this.ngZone.runOutsideAngular(function(){t.dragListener||(t.dragListener=t.renderer.listen("document","mousemove",function(e){t.dragging&&t.ngZone.run(function(){t.handleChange(e)})})),t.mouseupListener||(t.mouseupListener=t.renderer.listen("document","mouseup",function(e){t.dragging&&(t.dragging=!1,t.range?t.onSlideEnd.emit({originalEvent:e,values:t.values}):t.onSlideEnd.emit({originalEvent:e,value:t.value}))}))})},t.prototype.unbindDragListeners=function(){this.dragListener&&this.dragListener(),this.mouseupListener&&this.mouseupListener()},t.prototype.setValueFromHandle=function(t,e){var i=this.getValueFromHandle(e);this.range?this.step?this.handleStepChange(i,this.values[this.handleIndex]):(this.handleValues[this.handleIndex]=e,this.updateValue(i,t)):this.step?this.handleStepChange(i,this.value):(this.handleValue=e,this.updateValue(i,t))},t.prototype.handleStepChange=function(t,e){var i=t-e,n=e;i<0?n=e+Math.ceil((t-e)/this.step)*this.step:i>0&&(n=e+Math.floor((t-e)/this.step)*this.step),this.updateValue(n),this.updateHandleValue()},t.prototype.writeValue=function(t){this.range?this.values=t||[0,0]:this.value=t||0,this.updateHandleValue()},t.prototype.registerOnChange=function(t){this.onModelChange=t},t.prototype.registerOnTouched=function(t){this.onModelTouched=t},t.prototype.setDisabledState=function(t){this.disabled=t},Object.defineProperty(t.prototype,"rangeStartLeft",{get:function(){return this.isVertical()?"auto":this.handleValues[0]+"%"},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rangeStartBottom",{get:function(){return this.isVertical()?this.handleValues[0]+"%":"auto"},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rangeEndLeft",{get:function(){return this.isVertical()?"auto":this.handleValues[1]+"%"},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rangeEndBottom",{get:function(){return this.isVertical()?this.handleValues[1]+"%":"auto"},enumerable:!0,configurable:!0}),t.prototype.isVertical=function(){return"vertical"===this.orientation},t.prototype.updateDomData=function(){var t=this.el.nativeElement.children[0].getBoundingClientRect();this.initX=t.left+this.domHandler.getWindowScrollLeft(),this.initY=t.top+this.domHandler.getWindowScrollTop(),this.barWidth=this.el.nativeElement.children[0].offsetWidth,this.barHeight=this.el.nativeElement.children[0].offsetHeight},t.prototype.calculateHandleValue=function(t){return"horizontal"===this.orientation?100*(t.pageX-this.initX)/this.barWidth:100*(this.initY+this.barHeight-t.pageY)/this.barHeight},t.prototype.updateHandleValue=function(){this.range?(this.handleValues[0]=100*(this.values[0]<this.min?0:this.values[0]-this.min)/(this.max-this.min),this.handleValues[1]=100*(this.values[1]>this.max?100:this.values[1]-this.min)/(this.max-this.min)):this.value<this.min?this.handleValue=0:this.value>this.max?this.handleValue=100:this.handleValue=100*(this.value-this.min)/(this.max-this.min)},t.prototype.updateValue=function(t,e){if(this.range){var i=t;0==this.handleIndex?i<this.min?(i=this.min,this.handleValues[0]=0):i>this.values[1]&&(i=this.values[1],this.handleValues[0]=this.handleValues[1]):i>this.max?(i=this.max,this.handleValues[1]=100):i<this.values[0]&&(i=this.values[0],this.handleValues[1]=this.handleValues[0]),this.values[this.handleIndex]=Math.floor(i),this.onModelChange(this.values),this.onChange.emit({event:e,values:this.values})}else t<this.min?(t=this.min,this.handleValue=0):t>this.max&&(t=this.max,this.handleValue=100),this.value=Math.floor(t),this.onModelChange(this.value),this.onChange.emit({event:e,value:this.value})},t.prototype.getValueFromHandle=function(t){return(this.max-this.min)*(t/100)+this.min},t.prototype.ngOnDestroy=function(){this.unbindDragListeners()},t}();n([r.Input(),o("design:type",Boolean)],h.prototype,"animate",void 0),n([r.Input(),o("design:type",Boolean)],h.prototype,"disabled",void 0),n([r.Input(),o("design:type",Number)],h.prototype,"min",void 0),n([r.Input(),o("design:type",Number)],h.prototype,"max",void 0),n([r.Input(),o("design:type",String)],h.prototype,"orientation",void 0),n([r.Input(),o("design:type",Number)],h.prototype,"step",void 0),n([r.Input(),o("design:type",Boolean)],h.prototype,"range",void 0),n([r.Input(),o("design:type",Object)],h.prototype,"style",void 0),n([r.Input(),o("design:type",String)],h.prototype,"styleClass",void 0),n([r.Output(),o("design:type",r.EventEmitter)],h.prototype,"onChange",void 0),n([r.Output(),o("design:type",r.EventEmitter)],h.prototype,"onSlideEnd",void 0),h=n([r.Component({selector:"p-slider",template:'\n        <div [ngStyle]="style" [class]="styleClass" [ngClass]="{\'ui-slider ui-widget ui-widget-content ui-corner-all\':true,\'ui-state-disabled\':disabled,\n            \'ui-slider-horizontal\':orientation == \'horizontal\',\'ui-slider-vertical\':orientation == \'vertical\',\'ui-slider-animate\':animate}"\n            (click)="onBarClick($event)">\n            <span *ngIf="range && orientation == \'horizontal\'" class="ui-slider-range ui-widget-header ui-corner-all" [ngStyle]="{\'left\':handleValues[0] + \'%\',width: (handleValues[1] - handleValues[0] + \'%\')}"></span>\n            <span *ngIf="range && orientation == \'vertical\'" class="ui-slider-range ui-widget-header ui-corner-all" [ngStyle]="{\'bottom\':handleValues[0] + \'%\',height: (handleValues[1] - handleValues[0] + \'%\')}"></span>\n            <span *ngIf="!range && orientation==\'vertical\'" class="ui-slider-range ui-slider-range-min ui-widget-header ui-corner-all" [ngStyle]="{\'height\': handleValue + \'%\'}"></span>\n            <span *ngIf="!range" class="ui-slider-handle ui-state-default ui-corner-all ui-clickable" (mousedown)="onMouseDown($event)" (touchstart)="onTouchStart($event)" (touchmove)="onTouchMove($event)" (touchend)="dragging=false"\n                [style.transition]="dragging ? \'none\': null" [ngStyle]="{\'left\': orientation == \'horizontal\' ? handleValue + \'%\' : null,\'bottom\': orientation == \'vertical\' ? handleValue + \'%\' : null}"></span>\n            <span *ngIf="range" (mousedown)="onMouseDown($event,0)" (touchstart)="onTouchStart($event,0)" (touchmove)="onTouchMove($event,0)" (touchend)="dragging=false" [style.transition]="dragging ? \'none\': null" class="ui-slider-handle ui-state-default ui-corner-all ui-clickable" \n                [ngStyle]="{\'left\': rangeStartLeft, \'bottom\': rangeStartBottom}" [ngClass]="{\'ui-slider-handle-active\':handleIndex==0}"></span>\n            <span *ngIf="range" (mousedown)="onMouseDown($event,1)" (touchstart)="onTouchStart($event,1)" (touchmove)="onTouchMove($event,1)" (touchend)="dragging=false" [style.transition]="dragging ? \'none\': null" class="ui-slider-handle ui-state-default ui-corner-all ui-clickable" \n                [ngStyle]="{\'left\': rangeEndLeft, \'bottom\': rangeEndBottom}" [ngClass]="{\'ui-slider-handle-active\':handleIndex==1}"></span>\n        </div>\n    ',providers:[e.SLIDER_VALUE_ACCESSOR,a.DomHandler]}),o("design:paramtypes",[r.ElementRef,a.DomHandler,r.Renderer2,r.NgZone])],h),e.Slider=h;var u=function(){function t(){}return t}();u=n([r.NgModule({imports:[s.CommonModule],exports:[h],declarations:[h]})],u),e.SliderModule=u},function(t,e,i){"use strict";var n=this&&this.__decorate||function(t,e,i,n){var o,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,i,s):o(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};Object.defineProperty(e,"__esModule",{value:!0});var r=i(0),s=i(1),a=i(12),l=i(3),h=i(5);e.SPINNER_VALUE_ACCESSOR={provide:h.NG_VALUE_ACCESSOR,useExisting:r.forwardRef(function(){return u}),multi:!0};var u=function(){function t(t,e){this.el=t,this.domHandler=e,this.onChange=new r.EventEmitter,this.onFocus=new r.EventEmitter,this.onBlur=new r.EventEmitter,this.step=1,this.decimalSeparator=".",this.thousandSeparator=",",this.formatInput=!0,this.type="text",this.valueAsString="",this.onModelChange=function(){},this.onModelTouched=function(){},this.keyPattern=/[0-9\+\-]/}return t.prototype.ngOnInit=function(){0===Math.floor(this.step)&&(this.precision=this.step.toString().split(/[,]|[.]/)[1].length)},t.prototype.repeat=function(t,e,i){var n=this,o=e||500;this.clearTimer(),this.timer=setTimeout(function(){n.repeat(t,40,i)},o),this.spin(t,i)},t.prototype.spin=function(t,e){var i=this.step*e,n=this.value||0;this.precision?this.value=parseFloat(this.toFixed(n+i,this.precision)):this.value=n+i,void 0!==this.maxlength&&this.value.toString().length>this.maxlength&&(this.value=n),void 0!==this.min&&this.value<this.min&&(this.value=this.min),void 0!==this.max&&this.value>this.max&&(this.value=this.max),this.formatValue(),this.onModelChange(this.value),this.onChange.emit(t)},t.prototype.toFixed=function(t,e){var i=Math.pow(10,e||0);return String(Math.round(t*i)/i)},t.prototype.onUpButtonMousedown=function(t,e){this.disabled||(e.focus(),this.repeat(t,null,1),this.updateFilledState())},t.prototype.onUpButtonMouseup=function(t){this.disabled||this.clearTimer()},t.prototype.onUpButtonMouseleave=function(t){this.disabled||this.clearTimer()},t.prototype.onDownButtonMousedown=function(t,e){this.disabled||(e.focus(),this.repeat(t,null,-1),this.updateFilledState())},t.prototype.onDownButtonMouseup=function(t){this.disabled||this.clearTimer()},t.prototype.onDownButtonMouseleave=function(t){this.disabled||this.clearTimer()},t.prototype.onInputKeydown=function(t){38==t.which?(this.spin(t,1),t.preventDefault()):40==t.which&&(this.spin(t,-1),t.preventDefault())},t.prototype.onInputKeyPress=function(t){var e=String.fromCharCode(t.charCode);this.keyPattern.test(e)||e==this.decimalSeparator||9==t.keyCode||8==t.keyCode||37==t.keyCode||39==t.keyCode||46==t.keyCode||t.preventDefault()},t.prototype.onInput=function(t,e){this.value=this.parseValue(e),this.formatValue(),this.onModelChange(this.value),this.updateFilledState()},t.prototype.onInputBlur=function(t){this.focus=!1,this.onModelTouched(),this.onBlur.emit(t)},t.prototype.onInputFocus=function(t){this.focus=!0,this.onFocus.emit(t)},t.prototype.parseValue=function(t){var e;return this.formatInput&&(t=t.split(this.thousandSeparator).join("")),""===t.trim()?e=null:(e=this.precision?parseFloat(t.replace(",",".")):parseInt(t),isNaN(e)?e=null:(void 0!==this.max&&e>this.max&&(e=this.max),void 0!==this.min&&e<this.min&&(e=this.min))),e},t.prototype.formatValue=function(){if(null!==this.value&&void 0!==this.value){var t=String(this.value).replace(".",this.decimalSeparator);this.formatInput&&(t=t.replace(/\B(?=(\d{3})+(?!\d))/g,this.thousandSeparator)),this.valueAsString=t}else this.valueAsString=""},t.prototype.handleChange=function(t){this.onChange.emit(t)},t.prototype.clearTimer=function(){this.timer&&clearInterval(this.timer)},t.prototype.writeValue=function(t){this.value=t,this.formatValue(),this.updateFilledState()},t.prototype.registerOnChange=function(t){this.onModelChange=t},t.prototype.registerOnTouched=function(t){this.onModelTouched=t},t.prototype.setDisabledState=function(t){this.disabled=t},t.prototype.updateFilledState=function(){this.filled=void 0!==this.value&&null!=this.value},t}();n([r.Output(),o("design:type",r.EventEmitter)],u.prototype,"onChange",void 0),n([r.Output(),o("design:type",r.EventEmitter)],u.prototype,"onFocus",void 0),n([r.Output(),o("design:type",r.EventEmitter)],u.prototype,"onBlur",void 0),n([r.Input(),o("design:type",Number)],u.prototype,"step",void 0),n([r.Input(),o("design:type",Number)],u.prototype,"min",void 0),n([r.Input(),o("design:type",Number)],u.prototype,"max",void 0),n([r.Input(),o("design:type",Number)],u.prototype,"maxlength",void 0),n([r.Input(),o("design:type",Number)],u.prototype,"size",void 0),n([r.Input(),o("design:type",String)],u.prototype,"placeholder",void 0),n([r.Input(),o("design:type",String)],u.prototype,"inputId",void 0),n([r.Input(),o("design:type",Boolean)],u.prototype,"disabled",void 0),n([r.Input(),o("design:type",Boolean)],u.prototype,"readonly",void 0),n([r.Input(),o("design:type",String)],u.prototype,"decimalSeparator",void 0),n([r.Input(),o("design:type",String)],u.prototype,"thousandSeparator",void 0),n([r.Input(),o("design:type",Number)],u.prototype,"tabindex",void 0),n([r.Input(),o("design:type",Boolean)],u.prototype,"formatInput",void 0),n([r.Input(),o("design:type",String)],u.prototype,"type",void 0),n([r.Input(),o("design:type",Boolean)],u.prototype,"required",void 0),u=n([r.Component({selector:"p-spinner",template:'\n        <span class="ui-spinner ui-widget ui-corner-all">\n            <input #in [attr.type]="type" [attr.id]="inputId" class="ui-spinner-input" [value]="valueAsString" class="ui-inputtext ui-widget ui-state-default ui-corner-all"\n            [attr.size]="size" [attr.maxlength]="maxlength" [attr.tabindex]="tabindex" [attr.placeholder]="placeholder" [disabled]="disabled" [readonly]="readonly" [attr.required]="required"\n            (keydown)="onInputKeydown($event)" (keyup)="onInput($event,in.value)" (keypress)="onInputKeyPress($event)" (blur)="onInputBlur($event)" (change)="handleChange($event)" (focus)="onInputFocus($event)">\n            <button type="button" [ngClass]="{\'ui-spinner-button ui-spinner-up ui-corner-tr ui-button ui-widget ui-state-default\':true,\'ui-state-disabled\':disabled}" [disabled]="disabled"\n                (mouseleave)="onUpButtonMouseleave($event)" (mousedown)="onUpButtonMousedown($event,in)" (mouseup)="onUpButtonMouseup($event)">\n                <span class="fa fa-caret-up ui-clickable"></span>\n            </button>\n            <button type="button" [ngClass]="{\'ui-spinner-button ui-spinner-down ui-corner-br ui-button ui-widget ui-state-default\':true,\'ui-state-disabled\':disabled}" [disabled]="disabled"\n                (mouseleave)="onDownButtonMouseleave($event)" (mousedown)="onDownButtonMousedown($event,in)" (mouseup)="onDownButtonMouseup($event)">\n                <span class="fa fa-caret-down ui-clickable"></span>\n            </button>\n        </span>\n    ',host:{"[class.ui-inputwrapper-filled]":"filled","[class.ui-inputwrapper-focus]":"focus"},providers:[l.DomHandler,e.SPINNER_VALUE_ACCESSOR]}),o("design:paramtypes",[r.ElementRef,l.DomHandler])],u),e.Spinner=u;var c=function(){function t(){}return t}();c=n([r.NgModule({imports:[s.CommonModule,a.InputTextModule],exports:[u],declarations:[u]})],c),e.SpinnerModule=c},function(t,e,i){"use strict";var n=this&&this.__decorate||function(t,e,i,n){var o,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,i,s):o(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};Object.defineProperty(e,"__esModule",{value:!0});var r=i(0),s=i(7),a=i(1),l=i(3),h=i(9),u=i(6),c=i(6),d=function(){function t(t,e,i,n,o){this.el=t,this.domHandler=e,this.renderer=i,this.router=n,this.cd=o,this.iconPos="left",this.onClick=new r.EventEmitter,this.onDropdownClick=new r.EventEmitter,this.menuVisible=!1}return t.prototype.ngAfterViewInit=function(){this.appendTo&&("body"===this.appendTo?document.body.appendChild(this.overlayViewChild.nativeElement):this.domHandler.appendChild(this.overlayViewChild.nativeElement,this.appendTo))},t.prototype.ngAfterViewChecked=function(){this.shown&&(this.onShow(),this.shown=!1)},t.prototype.onDefaultButtonClick=function(t){this.onClick.emit(t)},t.prototype.itemClick=function(t,e){if(e.disabled)return void t.preventDefault();e.url||t.preventDefault(),e.command&&e.command({originalEvent:t,item:e}),this.menuVisible=!1},t.prototype.show=function(){this.shown=!0,this.menuVisible=!this.menuVisible,this.alignPanel(),this.overlayViewChild.nativeElement.style.zIndex=String(++l.DomHandler.zindex)},t.prototype.onShow=function(){this.alignPanel(),this.bindDocumentClickListener()},t.prototype.onDropdownButtonClick=function(t){this.onDropdownClick.emit(t),this.dropdownClick=!0,this.show()},t.prototype.alignPanel=function(){this.appendTo?this.domHandler.absolutePosition(this.overlayViewChild.nativeElement,this.buttonViewChild.nativeElement):this.domHandler.relativePosition(this.overlayViewChild.nativeElement,this.buttonViewChild.nativeElement)},t.prototype.bindDocumentClickListener=function(){var t=this;this.documentClickListener||(this.documentClickListener=this.renderer.listen("document","click",function(){t.dropdownClick?t.dropdownClick=!1:(t.menuVisible=!1,t.unbindDocumentClickListener(),t.cd.markForCheck())}))},t.prototype.unbindDocumentClickListener=function(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null)},t.prototype.ngOnDestroy=function(){this.unbindDocumentClickListener()},t}();n([r.Input(),o("design:type",Array)],d.prototype,"model",void 0),n([r.Input(),o("design:type",String)],d.prototype,"icon",void 0),n([r.Input(),o("design:type",String)],d.prototype,"iconPos",void 0),n([r.Input(),o("design:type",String)],d.prototype,"label",void 0),n([r.Output(),o("design:type",r.EventEmitter)],d.prototype,"onClick",void 0),n([r.Output(),o("design:type",r.EventEmitter)],d.prototype,"onDropdownClick",void 0),n([r.Input(),o("design:type",Object)],d.prototype,"style",void 0),n([r.Input(),o("design:type",String)],d.prototype,"styleClass",void 0),n([r.Input(),o("design:type",Object)],d.prototype,"menuStyle",void 0),n([r.Input(),o("design:type",String)],d.prototype,"menuStyleClass",void 0),n([r.Input(),o("design:type",Boolean)],d.prototype,"disabled",void 0),n([r.Input(),o("design:type",Number)],d.prototype,"tabindex",void 0),n([r.Input(),o("design:type",Object)],d.prototype,"appendTo",void 0),n([r.ViewChild("defaultbtn"),o("design:type",r.ElementRef)],d.prototype,"buttonViewChild",void 0),n([r.ViewChild("overlay"),o("design:type",r.ElementRef)],d.prototype,"overlayViewChild",void 0),d=n([r.Component({selector:"p-splitButton",template:'\n        <div #container [ngClass]="{\'ui-splitbutton ui-buttonset ui-widget\':true,\'ui-state-disabled\':disabled}" [ngStyle]="style" [class]="styleClass">\n            <button #defaultbtn type="button" pButton [icon]="icon" [iconPos]="iconPos" [label]="label" cornerStyleClass="ui-corner-left" (click)="onDefaultButtonClick($event)" [disabled]="disabled" [attr.tabindex]="tabindex">\n            </button><button type="button" pButton class="ui-splitbutton-menubutton" icon="fa-caret-down" cornerStyleClass="ui-corner-right" (click)="onDropdownButtonClick($event)" [disabled]="disabled"></button>\n            <div #overlay [ngClass]="\'ui-menu ui-menu-dynamic ui-widget ui-widget-content ui-corner-all ui-helper-clearfix ui-shadow\'" [style.display]="menuVisible ? \'block\' : \'none\'"\n                    [ngStyle]="menuStyle" [class]="menuStyleClass" [@overlayState]="menuVisible ? \'visible\' : \'hidden\'">\n                <ul class="ui-menu-list ui-helper-reset">\n                    <li class="ui-menuitem ui-widget ui-corner-all" role="menuitem" *ngFor="let item of model">\n                        <a *ngIf="!item.routerLink" [href]="item.url||\'#\'" class="ui-menuitem-link ui-corner-all" [attr.target]="item.target"\n                            [ngClass]="{\'ui-state-disabled\':item.disabled}" (click)="itemClick($event, item)">\n                            <span [ngClass]="\'ui-menuitem-icon fa fa-fw\'" [class]="item.icon" *ngIf="item.icon"></span>\n                            <span class="ui-menuitem-text">{{item.label}}</span>\n                        </a>\n                        <a *ngIf="item.routerLink" [routerLink]="item.routerLink"\n                            class="ui-menuitem-link ui-corner-all" [attr.target]="item.target" [ngClass]="{\'ui-state-disabled\':item.disabled}" (click)="itemClick($event, item)">\n                            <span [ngClass]="\'ui-menuitem-icon fa fa-fw\'" [class]="item.icon" *ngIf="item.icon"></span>\n                            <span class="ui-menuitem-text">{{item.label}}</span>\n                        </a>\n                    </li>\n                </ul>\n            </div>\n        </div>\n    ',animations:[s.trigger("overlayState",[s.state("hidden",s.style({opacity:0})),s.state("visible",s.style({opacity:1})),s.transition("visible => hidden",s.animate("400ms ease-in")),s.transition("hidden => visible",s.animate("400ms ease-out"))])],providers:[l.DomHandler]}),o("design:paramtypes",[r.ElementRef,l.DomHandler,r.Renderer2,u.Router,r.ChangeDetectorRef])],d),e.SplitButton=d;var p=function(){function t(){}return t}();p=n([r.NgModule({imports:[a.CommonModule,h.ButtonModule,c.RouterModule],exports:[d,h.ButtonModule,c.RouterModule],declarations:[d]})],p),e.SplitButtonModule=p},function(t,e,i){"use strict";var n=this&&this.__decorate||function(t,e,i,n){var o,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,i,s):o(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};Object.defineProperty(e,"__esModule",{value:!0});var r=i(0),s=i(1),a=i(6),l=function(){function t(){this.activeIndex=0,this.readonly=!0,this.activeIndexChange=new r.EventEmitter}return t.prototype.itemClick=function(t,e,i){if(this.readonly||e.disabled)return void t.preventDefault();this.activeIndexChange.emit(i),e.url||t.preventDefault(),e.command&&e.command({originalEvent:t,item:e,index:i})},t}();n([r.Input(),o("design:type",Number)],l.prototype,"activeIndex",void 0),n([r.Input(),o("design:type",Array)],l.prototype,"model",void 0),n([r.Input(),o("design:type",Boolean)],l.prototype,"readonly",void 0),n([r.Input(),o("design:type",Object)],l.prototype,"style",void 0),n([r.Input(),o("design:type",String)],l.prototype,"styleClass",void 0),n([r.Output(),o("design:type",r.EventEmitter)],l.prototype,"activeIndexChange",void 0),l=n([r.Component({selector:"p-steps",template:'\n        <div [ngClass]="{\'ui-steps ui-widget ui-helper-clearfix\':true,\'ui-steps-readonly\':readonly}" [ngStyle]="style" [class]="styleClass">\n            <ul role="tablist">\n                <li *ngFor="let item of model; let i = index" class="ui-steps-item" #menuitem\n                    [ngClass]="{\'ui-state-highlight\':(i === activeIndex),\'ui-state-default\':(i !== activeIndex),\n                        \'ui-state-disabled\':item.disabled||(i !== activeIndex && readonly)}">\n                    <a *ngIf="!item.routerLink" [href]="item.url||\'#\'" class="ui-menuitem-link" (click)="itemClick($event, item, i)" [attr.target]="item.target">\n                        <span class="ui-steps-number">{{i + 1}}</span>\n                        <span class="ui-steps-title">{{item.label}}</span>\n                    </a>\n                    <a *ngIf="item.routerLink" [routerLink]="item.routerLink" [routerLinkActive]="\'ui-state-active\'" [routerLinkActiveOptions]="item.routerLinkActiveOptions||{exact:false}" class="ui-menuitem-link" (click)="itemClick($event, item, i)" [attr.target]="item.target">\n                        <span class="ui-steps-number">{{i + 1}}</span>\n                        <span class="ui-steps-title">{{item.label}}</span>\n                    </a>\n                </li>\n            </ul>\n        </div>\n    '})],l),e.Steps=l;var h=function(){function t(){}return t}();h=n([r.NgModule({imports:[s.CommonModule,a.RouterModule],exports:[l,a.RouterModule],declarations:[l]})],h),e.StepsModule=h},function(t,e,i){"use strict";var n=this&&this.__decorate||function(t,e,i,n){var o,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,i,s):o(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};Object.defineProperty(e,"__esModule",{value:!0});var r=i(0),s=i(1),a=i(4),l=function(){function t(){this.orientation="top",this.onTabClick=new r.EventEmitter,this.onTabCloseClick=new r.EventEmitter}return t.prototype.getDefaultHeaderClass=function(t){var e="ui-state-default ui-corner-"+this.orientation;return t.headerStyleClass&&(e=e+" "+t.headerStyleClass),e},t.prototype.clickTab=function(t,e){this.onTabClick.emit({originalEvent:t,tab:e})},t.prototype.clickClose=function(t,e){this.onTabCloseClick.emit({originalEvent:t,tab:e})},t}();n([r.Input(),o("design:type",Array)],l.prototype,"tabs",void 0),n([r.Input(),o("design:type",String)],l.prototype,"orientation",void 0),n([r.Output(),o("design:type",r.EventEmitter)],l.prototype,"onTabClick",void 0),n([r.Output(),o("design:type",r.EventEmitter)],l.prototype,"onTabCloseClick",void 0),l=n([r.Component({selector:"[p-tabViewNav]",host:{"[class.ui-tabview-nav]":"true","[class.ui-helper-reset]":"true","[class.ui-helper-clearfix]":"true","[class.ui-widget-header]":"true","[class.ui-corner-all]":"true"},template:'\n        <ng-template ngFor let-tab [ngForOf]="tabs">\n            <li [class]="getDefaultHeaderClass(tab)" [ngStyle]="tab.headerStyle" role="tab"\n                [ngClass]="{\'ui-tabview-selected ui-state-active\': tab.selected, \'ui-state-disabled\': tab.disabled}"\n                (click)="clickTab($event,tab)" *ngIf="!tab.closed"\n                [attr.aria-expanded]="tab.selected" [attr.aria-selected]="tab.selected">\n                <a href="#">\n                    <span class="ui-tabview-left-icon fa" [ngClass]="tab.leftIcon" *ngIf="tab.leftIcon"></span>\n                    <span class="ui-tabview-title">{{tab.header}}</span>\n                    <span class="ui-tabview-right-icon fa" [ngClass]="tab.rightIcon" *ngIf="tab.rightIcon"></span>\n                </a>\n                <span *ngIf="tab.closable" class="ui-tabview-close fa fa-close" (click)="clickClose($event,tab)"></span>\n            </li>\n        </ng-template>\n    '})],l),e.TabViewNav=l;var h=function(){function t(t){this.viewContainer=t,this.cache=!0}return t.prototype.ngAfterContentInit=function(){var t=this;this.templates.forEach(function(e){switch(e.getType()){case"content":default:t.contentTemplate=e.template}})},Object.defineProperty(t.prototype,"selected",{get:function(){return this._selected},set:function(t){this._selected=t,this.loaded=!0},enumerable:!0,configurable:!0}),t.prototype.ngOnDestroy=function(){this.view=null},t}();n([r.Input(),o("design:type",String)],h.prototype,"header",void 0),n([r.Input(),o("design:type",Boolean)],h.prototype,"disabled",void 0),n([r.Input(),o("design:type",Boolean)],h.prototype,"closable",void 0),n([r.Input(),o("design:type",Object)],h.prototype,"headerStyle",void 0),n([r.Input(),o("design:type",String)],h.prototype,"headerStyleClass",void 0),n([r.Input(),o("design:type",String)],h.prototype,"leftIcon",void 0),n([r.Input(),o("design:type",String)],h.prototype,"rightIcon",void 0),n([r.Input(),o("design:type",Boolean)],h.prototype,"cache",void 0),n([r.ContentChildren(a.PrimeTemplate),o("design:type",r.QueryList)],h.prototype,"templates",void 0),n([r.Input(),o("design:type",Boolean),o("design:paramtypes",[Boolean])],h.prototype,"selected",null),h=n([r.Component({selector:"p-tabPanel",template:'\n        <div class="ui-tabview-panel ui-widget-content" [style.display]="selected ? \'block\' : \'none\'" \n            role="tabpanel" [attr.aria-hidden]="!selected" *ngIf="!closed">\n            <ng-content></ng-content>\n            <p-templateLoader [template]="contentTemplate" *ngIf="contentTemplate&&(cache ? loaded : selected)"></p-templateLoader>\n        </div>\n    '}),o("design:paramtypes",[r.ViewContainerRef])],h),e.TabPanel=h;var u=function(){function t(t){this.el=t,this.orientation="top",this.onChange=new r.EventEmitter,this.onClose=new r.EventEmitter}return Object.defineProperty(t.prototype,"lazy",{get:function(){return this._lazy},set:function(t){this._lazy=t,console.log("Lazy property of TabView is deprecated, use an ngTemplate inside a TabPanel instead for Lazy Loading")},enumerable:!0,configurable:!0}),t.prototype.ngAfterContentInit=function(){var t=this;this.initTabs(),this.tabPanels.changes.subscribe(function(e){t.initTabs()})},t.prototype.initTabs=function(){this.tabs=this.tabPanels.toArray(),!this.findSelectedTab()&&this.tabs.length&&(null!=this.activeIndex&&this.tabs.length>this.activeIndex?this.tabs[this.activeIndex].selected=!0:this.tabs[0].selected=!0)},t.prototype.open=function(t,e){if(e.disabled)return void(t&&t.preventDefault());if(!e.selected){var i=this.findSelectedTab();i&&(i.selected=!1),e.selected=!0,this.onChange.emit({originalEvent:t,index:this.findTabIndex(e)})}t&&t.preventDefault()},t.prototype.close=function(t,e){var i=this;this.controlClose?this.onClose.emit({originalEvent:t,index:this.findTabIndex(e),close:function(){i.closeTab(e)}}):(this.closeTab(e),this.onClose.emit({originalEvent:t,index:this.findTabIndex(e)})),t.stopPropagation()},t.prototype.closeTab=function(t){if(t.selected){t.selected=!1;for(var e=0;e<this.tabs.length;e++){var i=this.tabs[e];if(!i.closed&&!t.disabled){i.selected=!0;break}}}t.closed=!0},t.prototype.findSelectedTab=function(){for(var t=0;t<this.tabs.length;t++)if(this.tabs[t].selected)return this.tabs[t];return null},t.prototype.findTabIndex=function(t){for(var e=-1,i=0;i<this.tabs.length;i++)if(this.tabs[i]==t){e=i;break}return e},t.prototype.getBlockableElement=function(){return this.el.nativeElement.children[0]},Object.defineProperty(t.prototype,"activeIndex",{get:function(){return this._activeIndex},set:function(t){this._activeIndex=t,this.tabs&&this.tabs.length&&null!=this._activeIndex&&this.tabs.length>this._activeIndex&&(this.findSelectedTab().selected=!1,this.tabs[this._activeIndex].selected=!0)},enumerable:!0,configurable:!0}),t}();n([r.Input(),o("design:type",String)],u.prototype,"orientation",void 0),n([r.Input(),o("design:type",Object)],u.prototype,"style",void 0),n([r.Input(),o("design:type",String)],u.prototype,"styleClass",void 0),n([r.Input(),o("design:type",Boolean)],u.prototype,"controlClose",void 0),n([r.ContentChildren(h),o("design:type",r.QueryList)],u.prototype,"tabPanels",void 0),n([r.Output(),o("design:type",r.EventEmitter)],u.prototype,"onChange",void 0),n([r.Output(),o("design:type",r.EventEmitter)],u.prototype,"onClose",void 0),n([r.Input(),o("design:type",Boolean),o("design:paramtypes",[Boolean])],u.prototype,"lazy",null),n([r.Input(),o("design:type",Number),o("design:paramtypes",[Number])],u.prototype,"activeIndex",null),u=n([r.Component({selector:"p-tabView",template:'\n        <div [ngClass]="\'ui-tabview ui-widget ui-widget-content ui-corner-all ui-tabview-\' + orientation" [ngStyle]="style" [class]="styleClass">\n            <ul p-tabViewNav role="tablist" *ngIf="orientation!=\'bottom\'" [tabs]="tabs" [orientation]="orientation" \n                (onTabClick)="open($event.originalEvent, $event.tab)" (onTabCloseClick)="close($event.originalEvent, $event.tab)"></ul>\n            <div class="ui-tabview-panels">\n                <ng-content></ng-content>\n            </div>\n            <ul p-tabViewNav role="tablist" *ngIf="orientation==\'bottom\'" [tabs]="tabs" [orientation]="orientation"\n                (onTabClick)="open($event.originalEvent, $event.tab)" (onTabCloseClick)="close($event.originalEvent, $event.tab)"></ul>\n        </div>\n    '}),o("design:paramtypes",[r.ElementRef])],u),e.TabView=u;var c=function(){function t(){}return t}();c=n([r.NgModule({imports:[s.CommonModule,a.SharedModule],exports:[u,h,l,a.SharedModule],declarations:[u,h,l]})],c),e.TabViewModule=c},function(t,e,i){"use strict";var n=this&&this.__decorate||function(t,e,i,n){var o,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,i,s):o(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};Object.defineProperty(e,"__esModule",{value:!0});var r=i(0),s=i(1),a=i(3),l=i(6),h=function(){function t(){}return t.prototype.itemClick=function(t,e){if(e.disabled)return void t.preventDefault();e.url||t.preventDefault(),e.command&&e.command({originalEvent:t,item:e}),this.activeItem=e},t}();n([r.Input(),o("design:type",Array)],h.prototype,"model",void 0),n([r.Input(),o("design:type",Object)],h.prototype,"activeItem",void 0),n([r.Input(),o("design:type",Boolean)],h.prototype,"popup",void 0),n([r.Input(),o("design:type",Object)],h.prototype,"style",void 0),n([r.Input(),o("design:type",String)],h.prototype,"styleClass",void 0),h=n([r.Component({selector:"p-tabMenu",template:'\n        <div [ngClass]="\'ui-tabmenu ui-widget ui-widget-content ui-corner-all\'" [ngStyle]="style" [class]="styleClass">\n            <ul class="ui-tabmenu-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all" role="tablist">\n                <li *ngFor="let item of model" \n                    [ngClass]="{\'ui-tabmenuitem ui-state-default ui-corner-top\':true,\'ui-state-disabled\':item.disabled,\n                        \'ui-tabmenuitem-hasicon\':item.icon,\'ui-state-active\':activeItem==item,\'ui-helper-hidden\': item.visible === false}"\n                        [routerLinkActive]="\'ui-state-active\'" [routerLinkActiveOptions]="item.routerLinkActiveOptions||{exact:false}">\n                    <a *ngIf="!item.routerLink" [href]="item.url||\'#\'" class="ui-menuitem-link ui-corner-all" (click)="itemClick($event,item)"\n                        [attr.target]="item.target" [attr.title]="item.title">\n                        <span class="ui-menuitem-icon fa" [ngClass]="item.icon"></span>\n                        <span class="ui-menuitem-text">{{item.label}}</span>\n                    </a>\n                    <a *ngIf="item.routerLink" [routerLink]="item.routerLink" class="ui-menuitem-link ui-corner-all" (click)="itemClick($event,item)"\n                        [attr.target]="item.target" [attr.title]="item.title">\n                        <span class="ui-menuitem-icon fa" [ngClass]="item.icon"></span>\n                        <span class="ui-menuitem-text">{{item.label}}</span>\n                    </a>\n                </li>\n            </ul>\n        </div>\n    ',providers:[a.DomHandler]})],h),e.TabMenu=h;var u=function(){function t(){}return t}();u=n([r.NgModule({imports:[s.CommonModule,l.RouterModule],exports:[h,l.RouterModule],declarations:[h]})],u),e.TabMenuModule=u},function(t,e,i){"use strict";var n=this&&this.__decorate||function(t,e,i,n){var o,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,i,s):o(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};Object.defineProperty(e,"__esModule",{value:!0});var r=i(0),s=i(5),a=i(1),l=i(3),h=i(158),u=function(){function t(t,e,i){var n=this;this.el=t,this.domHandler=e,this.terminalService=i,this.commands=[],this.subscription=i.responseHandler.subscribe(function(t){n.commands[n.commands.length-1].response=t,n.commandProcessed=!0})}return t.prototype.ngAfterViewInit=function(){this.container=this.domHandler.find(this.el.nativeElement,".ui-terminal")[0]},t.prototype.ngAfterViewChecked=function(){this.commandProcessed&&(this.container.scrollTop=this.container.scrollHeight,this.commandProcessed=!1)},Object.defineProperty(t.prototype,"response",{set:function(t){t&&(this.commands[this.commands.length-1].response=t,this.commandProcessed=!0)},enumerable:!0,configurable:!0}),t.prototype.handleCommand=function(t){13==t.keyCode&&(this.commands.push({text:this.command}),this.terminalService.sendCommand(this.command),this.command="")},t.prototype.focus=function(t){t.focus()},t.prototype.ngOnDestroy=function(){this.subscription&&this.subscription.unsubscribe()},t}();n([r.Input(),o("design:type",String)],u.prototype,"welcomeMessage",void 0),n([r.Input(),o("design:type",String)],u.prototype,"prompt",void 0),n([r.Input(),o("design:type",Object)],u.prototype,"style",void 0),n([r.Input(),o("design:type",String)],u.prototype,"styleClass",void 0),n([r.Input(),o("design:type",String),o("design:paramtypes",[String])],u.prototype,"response",null),u=n([r.Component({selector:"p-terminal",template:'\n        <div [ngClass]="\'ui-terminal ui-widget ui-widget-content ui-corner-all\'" [ngStyle]="style" [class]="styleClass" (click)="focus(in)">\n            <div *ngIf="welcomeMessage">{{welcomeMessage}}</div>\n            <div class="ui-terminal-content">\n                <div *ngFor="let command of commands">\n                    <span>{{prompt}}</span>\n                    <span class="ui-terminal-command">{{command.text}}</span>\n                    <div>{{command.response}}</div>\n                </div>\n            </div>\n            <div>\n                <span class="ui-terminal-content-prompt">{{prompt}}</span>\n                <input #in type="text" [(ngModel)]="command" class="ui-terminal-input" autocomplete="off" (keydown)="handleCommand($event)" autofocus>\n            </div>\n        </div>\n    ',providers:[l.DomHandler]}),o("design:paramtypes",[r.ElementRef,l.DomHandler,h.TerminalService])],u),e.Terminal=u;var c=function(){function t(){}return t}();c=n([r.NgModule({imports:[a.CommonModule,s.FormsModule],exports:[u],declarations:[u]})],c),e.TerminalModule=c},function(t,e,i){"use strict";var n=this&&this.__decorate||function(t,e,i,n){var o,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,i,s):o(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s};Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(15),s=function(){function t(){this.commandSource=new r.Subject,this.responseSource=new r.Subject,this.commandHandler=this.commandSource.asObservable(),this.responseHandler=this.responseSource.asObservable()}return t.prototype.sendCommand=function(t){t&&this.commandSource.next(t)},t.prototype.sendResponse=function(t){t&&this.responseSource.next(t)},t}();s=n([o.Injectable()],s),e.TerminalService=s},function(t,e,i){"use strict";var n=this&&this.__decorate||function(t,e,i,n){var o,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,i,s):o(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};Object.defineProperty(e,"__esModule",{value:!0});var r=i(0),s=i(1),a=i(3),l=i(6),h=function(){function t(t){this.domHandler=t}return t.prototype.onItemMouseEnter=function(t,e,i){if(!i.disabled){this.activeItem=e;var n=e.children[0].nextElementSibling;if(n){var o=n.children[0];o.style.zIndex=String(++a.DomHandler.zindex),o.style.top="0px",o.style.left=this.domHandler.getOuterWidth(e.children[0])+"px"}}},t.prototype.onItemMouseLeave=function(t){this.activeItem=null},t.prototype.itemClick=function(t,e){if(e.disabled)return t.preventDefault(),!0;e.url||t.preventDefault(),e.command&&e.command({originalEvent:t,item:e})},t.prototype.listClick=function(t){this.activeItem=null},t}();n([r.Input(),o("design:type",Object)],h.prototype,"item",void 0),n([r.Input(),o("design:type",Boolean)],h.prototype,"root",void 0),h=n([r.Component({selector:"p-tieredMenuSub",template:'\n        <ul [ngClass]="{\'ui-helper-reset\':root, \'ui-widget-content ui-corner-all ui-helper-clearfix ui-menu-child ui-shadow\':!root}" class="ui-menu-list"\n            (click)="listClick($event)">\n            <ng-template ngFor let-child [ngForOf]="(root ? item : item.items)">\n                <li *ngIf="child.separator" class="ui-menu-separator ui-widget-content">\n                <li *ngIf="!child.separator" #listItem [ngClass]="{\'ui-menuitem ui-widget ui-corner-all\':true,\'ui-menu-parent\':child.items,\'ui-menuitem-active\':listItem==activeItem}"\n                    (mouseenter)="onItemMouseEnter($event, listItem, child)" (mouseleave)="onItemMouseLeave($event)">\n                    <a *ngIf="!child.routerLink" [href]="child.url||\'#\'" class="ui-menuitem-link ui-corner-all" [attr.target]="child.target" [attr.title]="child.title"\n                        [ngClass]="{\'ui-state-disabled\':child.disabled}" (click)="itemClick($event, child)">\n                        <span class="ui-submenu-icon fa fa-fw fa-caret-right" *ngIf="child.items"></span>\n                        <span class="ui-menuitem-icon fa fa-fw" *ngIf="child.icon" [ngClass]="child.icon"></span>\n                        <span class="ui-menuitem-text">{{child.label}}</span>\n                    </a>\n                    <a *ngIf="child.routerLink" [routerLink]="child.routerLink" [routerLinkActive]="\'ui-state-active\'" \n                        [routerLinkActiveOptions]="child.routerLinkActiveOptions||{exact:false}" [href]="child.url||\'#\'" \n                        class="ui-menuitem-link ui-corner-all" [attr.target]="child.target" [attr.title]="child.title"\n                        [ngClass]="{\'ui-state-disabled\':child.disabled}" (click)="itemClick($event, child)">\n                        <span class="ui-submenu-icon fa fa-fw fa-caret-right" *ngIf="child.items"></span>\n                        <span class="ui-menuitem-icon fa fa-fw" *ngIf="child.icon" [ngClass]="child.icon"></span>\n                        <span class="ui-menuitem-text">{{child.label}}</span>\n                    </a>\n                    <p-tieredMenuSub class="ui-submenu" [item]="child" *ngIf="child.items"></p-tieredMenuSub>\n                </li>\n            </ng-template>\n        </ul>\n    ',providers:[a.DomHandler]}),o("design:paramtypes",[a.DomHandler])],h),e.TieredMenuSub=h;var u=function(){function t(t,e,i){this.el=t,this.domHandler=e,this.renderer=i}return t.prototype.ngAfterViewInit=function(){this.container=this.el.nativeElement.children[0],this.popup&&this.appendTo&&("body"===this.appendTo?document.body.appendChild(this.container):this.domHandler.appendChild(this.container,this.appendTo))},t.prototype.toggle=function(t){this.container.offsetParent?this.hide():this.show(t)},t.prototype.show=function(t){this.preventDocumentDefault=!0,this.container.style.display="block",this.domHandler.absolutePosition(this.container,t.currentTarget),this.domHandler.fadeIn(this.container,250),this.bindDocumentClickListener()},t.prototype.hide=function(){this.container.style.display="none",this.unbindDocumentClickListener()},t.prototype.unbindDocumentClickListener=function(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null)},t.prototype.bindDocumentClickListener=function(){var t=this;this.documentClickListener||(this.documentClickListener=this.renderer.listen("document","click",function(){t.preventDocumentDefault||t.hide(),t.preventDocumentDefault=!1}))},t.prototype.ngOnDestroy=function(){this.popup&&(this.documentClickListener&&this.unbindDocumentClickListener(),this.appendTo&&this.el.nativeElement.appendChild(this.container))},t}();n([r.Input(),o("design:type",Array)],u.prototype,"model",void 0),n([r.Input(),o("design:type",Boolean)],u.prototype,"popup",void 0),n([r.Input(),o("design:type",Object)],u.prototype,"style",void 0),n([r.Input(),o("design:type",String)],u.prototype,"styleClass",void 0),n([r.Input(),o("design:type",Object)],u.prototype,"appendTo",void 0),u=n([r.Component({selector:"p-tieredMenu",template:'\n        <div [ngClass]="{\'ui-tieredmenu ui-menu ui-widget ui-widget-content ui-corner-all ui-helper-clearfix\':true,\'ui-menu-dynamic ui-shadow\':popup}" \n            [class]="styleClass" [ngStyle]="style">\n            <p-tieredMenuSub [item]="model" root="root"></p-tieredMenuSub>\n        </div>\n    ',providers:[a.DomHandler]}),o("design:paramtypes",[r.ElementRef,a.DomHandler,r.Renderer2])],u),e.TieredMenu=u;var c=function(){function t(){}return t}();c=n([r.NgModule({imports:[s.CommonModule,l.RouterModule],exports:[u,l.RouterModule],declarations:[u,h]})],c),e.TieredMenuModule=c},function(t,e,i){"use strict";var n=this&&this.__decorate||function(t,e,i,n){var o,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,i,s):o(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};Object.defineProperty(e,"__esModule",{value:!0});var r=i(0),s=i(1),a=i(5);e.TOGGLEBUTTON_VALUE_ACCESSOR={provide:a.NG_VALUE_ACCESSOR,useExisting:r.forwardRef(function(){return l}),multi:!0};var l=function(){function t(){this.onLabel="Yes",this.offLabel="No",this.onChange=new r.EventEmitter,this.checked=!1,this.focus=!1,this.onModelChange=function(){},this.onModelTouched=function(){}}return t.prototype.ngAfterViewInit=function(){this.checkbox=this.checkboxViewChild.nativeElement},t.prototype.getIconClass=function(){return"ui-button-icon-left fa fa-fw "+(this.checked?this.onIcon:this.offIcon)},t.prototype.toggle=function(t){this.disabled||(this.checked=!this.checked,this.onModelChange(this.checked),this.onModelTouched(),this.onChange.emit({originalEvent:t,checked:this.checked}),this.checkbox.focus())},t.prototype.onFocus=function(){this.focus=!0},t.prototype.onBlur=function(){this.focus=!1,this.onModelTouched()},t.prototype.writeValue=function(t){this.checked=t},t.prototype.registerOnChange=function(t){this.onModelChange=t},t.prototype.registerOnTouched=function(t){this.onModelTouched=t},t.prototype.setDisabledState=function(t){this.disabled=t},Object.defineProperty(t.prototype,"hasOnLabel",{get:function(){return this.onLabel&&this.onLabel.length>0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hasOffLabel",{get:function(){return this.onLabel&&this.onLabel.length>0},enumerable:!0,configurable:!0}),t}();n([r.Input(),o("design:type",String)],l.prototype,"onLabel",void 0),n([r.Input(),o("design:type",String)],l.prototype,"offLabel",void 0),n([r.Input(),o("design:type",String)],l.prototype,"onIcon",void 0),n([r.Input(),o("design:type",String)],l.prototype,"offIcon",void 0),n([r.Input(),o("design:type",Boolean)],l.prototype,"disabled",void 0),n([r.Input(),o("design:type",Object)],l.prototype,"style",void 0),n([r.Input(),o("design:type",String)],l.prototype,"styleClass",void 0),n([r.Input(),o("design:type",String)],l.prototype,"inputId",void 0),n([r.Input(),o("design:type",Number)],l.prototype,"tabindex",void 0),n([r.Output(),o("design:type",r.EventEmitter)],l.prototype,"onChange",void 0),n([r.ViewChild("checkbox"),o("design:type",r.ElementRef)],l.prototype,"checkboxViewChild",void 0),l=n([r.Component({selector:"p-toggleButton",template:'\n        <div [ngClass]="{\'ui-button ui-togglebutton ui-widget ui-state-default ui-corner-all\': true, \'ui-button-text-only\': (!onIcon&&!offIcon), \n                \'ui-button-text-icon-left\': (onIcon&&offIcon&&hasOnLabel&&hasOffLabel), \'ui-button-icon-only\': (onIcon&&offIcon&&!hasOnLabel&&!hasOffLabel),\n                \'ui-state-active\': checked,\'ui-state-focus\':focus,\'ui-state-disabled\':disabled}" [ngStyle]="style" [class]="styleClass" \n                (click)="toggle($event)">\n            <div class="ui-helper-hidden-accessible">\n                <input #checkbox type="checkbox" [attr.id]="inputId" [checked]="checked" (focus)="onFocus()" (blur)="onBlur()" [attr.tabindex]="tabindex">\n            </div>\n            <span *ngIf="onIcon||offIcon" [class]="getIconClass()"></span>\n            <span class="ui-button-text ui-unselectable-text">{{checked ? hasOnLabel ? onLabel : \'ui-btn\' : hasOffLabel ? offLabel : \'ui-btn\'}}</span>\n        </div>\n    ',providers:[e.TOGGLEBUTTON_VALUE_ACCESSOR]})],l),e.ToggleButton=l;var h=function(){function t(){}return t}();h=n([r.NgModule({imports:[s.CommonModule],exports:[l],declarations:[l]})],h),e.ToggleButtonModule=h},function(t,e,i){"use strict";var n=this&&this.__decorate||function(t,e,i,n){var o,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,i,s):o(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};Object.defineProperty(e,"__esModule",{value:!0});var r=i(0),s=i(1),a=function(){function t(){}return t}();n([r.Input(),o("design:type",Object)],a.prototype,"style",void 0),n([r.Input(),o("design:type",String)],a.prototype,"styleClass",void 0),a=n([r.Component({selector:"p-toolbar",template:'\n        <div [ngClass]="\'ui-toolbar ui-widget ui-widget-header ui-corner-all ui-helper-clearfix\'" [ngStyle]="style" [class]="styleClass">\n            <ng-content></ng-content>\n        </div>\n    '})],a),e.Toolbar=a;var l=function(){function t(){}return t}();l=n([r.NgModule({imports:[s.CommonModule],exports:[a],declarations:[a]})],l),e.ToolbarModule=l},function(t,e,i){"use strict";var n=this&&this.__decorate||function(t,e,i,n){var o,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,i,s):o(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};Object.defineProperty(e,"__esModule",{value:!0});var r=i(0),s=i(1),a=i(3),l=function(){function t(t,e,i){this.el=t,this.domHandler=e,this.renderer=i,this.tooltipPosition="right",this.tooltipEvent="hover",this.appendTo="body",this.tooltipZIndex="auto",this.escape=!0}return t.prototype.onMouseEnter=function(t){"hover"===this.tooltipEvent&&(this.hideTimeout&&(clearTimeout(this.hideTimeout),this.destroy()),this.activate())},t.prototype.onMouseLeave=function(t){"hover"===this.tooltipEvent&&this.deactivate(!0)},t.prototype.onFocus=function(t){"focus"===this.tooltipEvent&&this.activate()},t.prototype.onBlur=function(t){"focus"===this.tooltipEvent&&this.deactivate(!0)},t.prototype.onClick=function(t){"hover"===this.tooltipEvent&&this.deactivate(!0)},t.prototype.activate=function(){var t=this;this.active=!0,this.hideTimeout&&clearTimeout(this.hideTimeout),this.showDelay?this.showTimeout=setTimeout(function(){t.show()},this.showDelay):this.show(),this.life&&(this.lifeTimeout=setTimeout(function(){t.deactivate(!1)},this.life))},t.prototype.deactivate=function(t){var e=this;this.active=!1,this.showTimeout&&clearTimeout(this.showTimeout),this.lifeTimeout&&clearTimeout(this.lifeTimeout),this.hideDelay&&t?this.hideTimeout=setTimeout(function(){e.hide()},this.hideDelay):this.hide()},Object.defineProperty(t.prototype,"text",{get:function(){return this._text},set:function(t){this._text=t,this.active&&(this._text?this.container&&this.container.offsetParent?this.updateText():this.show():this.hide())},enumerable:!0,configurable:!0}),t.prototype.create=function(){this.container=document.createElement("div");var t=document.createElement("div");t.className="ui-tooltip-arrow",this.container.appendChild(t),this.tooltipText=document.createElement("div"),this.tooltipText.className="ui-tooltip-text ui-shadow ui-corner-all",this.updateText(),this.positionStyle&&(this.container.style.position=this.positionStyle),this.container.appendChild(this.tooltipText),"body"===this.appendTo?document.body.appendChild(this.container):"target"===this.appendTo?this.domHandler.appendChild(this.container,this.el.nativeElement):this.domHandler.appendChild(this.container,this.appendTo),this.container.style.display="inline-block"},t.prototype.show=function(){this.text&&!this.disabled&&(this.create(),this.align(),this.tooltipStyleClass&&(this.container.className=this.container.className+" "+this.tooltipStyleClass),this.domHandler.fadeIn(this.container,250),"auto"===this.tooltipZIndex?this.container.style.zIndex=++a.DomHandler.zindex:this.container.style.zIndex=this.tooltipZIndex,this.bindDocumentResizeListener())},t.prototype.hide=function(){this.destroy()},t.prototype.updateText=function(){this.escape?(this.tooltipText.innerHTML="",this.tooltipText.appendChild(document.createTextNode(this._text))):this.tooltipText.innerHTML=this._text},t.prototype.align=function(){switch(this.tooltipPosition){case"top":this.alignTop(),this.isOutOfBounds()&&this.alignBottom();break;case"bottom":this.alignBottom(),this.isOutOfBounds()&&this.alignTop();break;case"left":this.alignLeft(),this.isOutOfBounds()&&(this.alignRight(),this.isOutOfBounds()&&(this.alignTop(),this.isOutOfBounds()&&this.alignBottom()));break;case"right":this.alignRight(),this.isOutOfBounds()&&(this.alignLeft(),this.isOutOfBounds()&&(this.alignTop(),this.isOutOfBounds()&&this.alignBottom()))}},t.prototype.getHostOffset=function(){var t=this.el.nativeElement.getBoundingClientRect();return{left:t.left+this.domHandler.getWindowScrollLeft(),top:t.top+this.domHandler.getWindowScrollTop()}},t.prototype.alignRight=function(){this.preAlign(),this.container.className="ui-tooltip ui-widget ui-tooltip-right";var t=this.getHostOffset(),e=t.left+this.domHandler.getOuterWidth(this.el.nativeElement),i=t.top+(this.domHandler.getOuterHeight(this.el.nativeElement)-this.domHandler.getOuterHeight(this.container))/2;this.container.style.left=e+"px",this.container.style.top=i+"px"},t.prototype.alignLeft=function(){this.preAlign(),this.container.className="ui-tooltip ui-widget ui-tooltip-left";var t=this.getHostOffset(),e=t.left-this.domHandler.getOuterWidth(this.container),i=t.top+(this.domHandler.getOuterHeight(this.el.nativeElement)-this.domHandler.getOuterHeight(this.container))/2;this.container.style.left=e+"px",this.container.style.top=i+"px"},t.prototype.alignTop=function(){this.preAlign(),this.container.className="ui-tooltip ui-widget ui-tooltip-top";var t=this.getHostOffset(),e=t.left+(this.domHandler.getOuterWidth(this.el.nativeElement)-this.domHandler.getOuterWidth(this.container))/2,i=t.top-this.domHandler.getOuterHeight(this.container);this.container.style.left=e+"px",this.container.style.top=i+"px"},t.prototype.alignBottom=function(){this.preAlign(),this.container.className="ui-tooltip ui-widget ui-tooltip-bottom";var t=this.getHostOffset(),e=t.left+(this.domHandler.getOuterWidth(this.el.nativeElement)-this.domHandler.getOuterWidth(this.container))/2,i=t.top+this.domHandler.getOuterHeight(this.el.nativeElement);this.container.style.left=e+"px",this.container.style.top=i+"px"},t.prototype.preAlign=function(){this.container.style.left="-999px",this.container.style.top="-999px"},t.prototype.isOutOfBounds=function(){var t=this.container.getBoundingClientRect(),e=t.top,i=t.left,n=this.domHandler.getOuterWidth(this.container),o=this.domHandler.getOuterHeight(this.container),r=this.domHandler.getViewport();return i+n>r.width||i<0||e<0||e+o>r.height},t.prototype.bindDocumentResizeListener=function(){var t=this;this.documentResizeListener=this.renderer.listen("window","resize",function(e){t.hide()})},t.prototype.unbindDocumentResizeListener=function(){this.documentResizeListener&&(this.documentResizeListener(),this.documentResizeListener=null)},t.prototype.destroy=function(){this.unbindDocumentResizeListener(),this.container&&this.container.parentElement&&("body"===this.appendTo?document.body.removeChild(this.container):"target"===this.appendTo?this.el.nativeElement.removeChild(this.container):this.domHandler.removeChild(this.container,this.appendTo)),this.container=null},t.prototype.ngOnDestroy=function(){this.destroy()},t}();n([r.Input(),o("design:type",String)],l.prototype,"tooltipPosition",void 0),n([r.Input(),o("design:type",String)],l.prototype,"tooltipEvent",void 0),n([r.Input(),o("design:type",Object)],l.prototype,"appendTo",void 0),n([r.Input(),o("design:type",String)],l.prototype,"positionStyle",void 0),n([r.Input(),o("design:type",String)],l.prototype,"tooltipStyleClass",void 0),n([r.Input(),o("design:type",String)],l.prototype,"tooltipZIndex",void 0),n([r.Input("tooltipDisabled"),o("design:type",Boolean)],l.prototype,"disabled",void 0),n([r.Input(),o("design:type",Boolean)],l.prototype,"escape",void 0),n([r.Input(),o("design:type",Number)],l.prototype,"showDelay",void 0),n([r.Input(),o("design:type",Number)],l.prototype,"hideDelay",void 0),n([r.Input(),o("design:type",Number)],l.prototype,"life",void 0),n([r.HostListener("mouseenter",["$event"]),o("design:type",Function),o("design:paramtypes",[Event]),o("design:returntype",void 0)],l.prototype,"onMouseEnter",null),n([r.HostListener("mouseleave",["$event"]),o("design:type",Function),o("design:paramtypes",[Event]),o("design:returntype",void 0)],l.prototype,"onMouseLeave",null),n([r.HostListener("focus",["$event"]),o("design:type",Function),o("design:paramtypes",[Event]),o("design:returntype",void 0)],l.prototype,"onFocus",null),n([r.HostListener("blur",["$event"]),o("design:type",Function),o("design:paramtypes",[Event]),o("design:returntype",void 0)],l.prototype,"onBlur",null),n([r.HostListener("click",["$event"]),o("design:type",Function),o("design:paramtypes",[Event]),o("design:returntype",void 0)],l.prototype,"onClick",null),n([r.Input("pTooltip"),o("design:type",String),o("design:paramtypes",[String])],l.prototype,"text",null),l=n([r.Directive({selector:"[pTooltip]",providers:[a.DomHandler]}),o("design:paramtypes",[r.ElementRef,a.DomHandler,r.Renderer2])],l),e.Tooltip=l;var h=function(){function t(){}return t}();h=n([r.NgModule({imports:[s.CommonModule],exports:[l],declarations:[l]})],h),e.TooltipModule=h},function(t,e,i){"use strict";var n=this&&this.__decorate||function(t,e,i,n){var o,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,i,s):o(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},r=this&&this.__param||function(t,e){return function(i,n){e(i,n,t)}};Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(0),l=i(1),h=i(4),u=i(4),c=i(25),d=function(){function t(t){this.viewContainer=t}return t.prototype.ngOnInit=function(){this.view=this.viewContainer.createEmbeddedView(this.template,{$implicit:this.node})},t.prototype.ngOnDestroy=function(){this.view.destroy()},t}();n([s.Input(),o("design:type",Object)],d.prototype,"node",void 0),n([s.Input(),o("design:type",s.TemplateRef)],d.prototype,"template",void 0),d=n([s.Component({selector:"p-treeNodeTemplateLoader",template:""}),o("design:paramtypes",[s.ViewContainerRef])],d),e.TreeNodeTemplateLoader=d;var p=g=function(){function t(t){this.tree=t}return t.prototype.ngOnInit=function(){this.node.parent=this.parentNode},t.prototype.getIcon=function(){var t;return t=this.node.icon?this.node.icon:this.node.expanded&&this.node.children&&this.node.children.length?this.node.expandedIcon:this.node.collapsedIcon,g.ICON_CLASS+" "+t},t.prototype.isLeaf=function(){return 0!=this.node.leaf&&!(this.node.children&&this.node.children.length)},t.prototype.toggle=function(t){this.node.expanded?this.tree.onNodeCollapse.emit({originalEvent:t,node:this.node}):this.tree.onNodeExpand.emit({originalEvent:t,node:this.node}),this.node.expanded=!this.node.expanded},t.prototype.onNodeClick=function(t){this.tree.onNodeClick(t,this.node)},t.prototype.onNodeTouchEnd=function(){this.tree.onNodeTouchEnd()},t.prototype.onNodeRightClick=function(t){this.tree.onNodeRightClick(t,this.node)},t.prototype.isSelected=function(){return this.tree.isSelected(this.node)},t.prototype.onDropPoint=function(t,e){t.preventDefault();var i=this.tree.dragNode,n=this.tree.dragNodeIndex,o=this.tree.dragNodeScope,r=this.tree.dragNodeTree!==this.tree||(1===e||n!==this.index-1);if(this.tree.allowDrop(i,this.node,o)&&r){var s=this.node.parent?this.node.parent.children:this.tree.value;this.tree.dragNodeSubNodes.splice(n,1);var a=this.index;e<0?(a=this.tree.dragNodeSubNodes===s?this.tree.dragNodeIndex>this.index?this.index:this.index-1:this.index,s.splice(a,0,i)):(a=s.length,s.push(i)),this.tree.dragDropService.stopDrag({node:i,subNodes:this.node.parent?this.node.parent.children:this.tree.value,index:n}),this.tree.onNodeDrop.emit({originalEvent:t,dragNode:i,dropNode:this.node,dropIndex:a})}this.draghoverPrev=!1,this.draghoverNext=!1},t.prototype.onDropPointDragOver=function(t){t.dataTransfer.dropEffect="move",t.preventDefault()},t.prototype.onDropPointDragEnter=function(t,e){this.tree.allowDrop(this.tree.dragNode,this.node,this.tree.dragNodeScope)&&(e<0?this.draghoverPrev=!0:this.draghoverNext=!0)},t.prototype.onDropPointDragLeave=function(t){this.draghoverPrev=!1,this.draghoverNext=!1},t.prototype.onDragStart=function(t){this.tree.draggableNodes&&!1!==this.node.draggable?(t.dataTransfer.setData("text","data"),this.tree.dragDropService.startDrag({tree:this,node:this.node,subNodes:this.node.parent?this.node.parent.children:this.tree.value,index:this.index,scope:this.tree.draggableScope})):t.preventDefault()},t.prototype.onDragStop=function(t){this.tree.dragDropService.stopDrag({node:this.node,subNodes:this.node.parent?this.node.parent.children:this.tree.value,index:this.index})},t.prototype.onDropNodeDragOver=function(t){t.dataTransfer.dropEffect="move",this.tree.droppableNodes&&(t.preventDefault(),t.stopPropagation())},t.prototype.onDropNode=function(t){if(this.tree.droppableNodes&&!1!==this.node.droppable){t.preventDefault(),t.stopPropagation();var e=this.tree.dragNode;if(this.tree.allowDrop(e,this.node,this.tree.dragNodeScope)){var i=this.tree.dragNodeIndex;this.tree.dragNodeSubNodes.splice(i,1),this.node.children?this.node.children.push(e):this.node.children=[e],this.tree.dragDropService.stopDrag({node:e,subNodes:this.node.parent?this.node.parent.children:this.tree.value,index:this.tree.dragNodeIndex}),this.tree.onNodeDrop.emit({originalEvent:t,dragNode:e,dropNode:this.node,index:this.index})}}this.draghoverNode=!1},t.prototype.onDropNodeDragEnter=function(t){this.tree.droppableNodes&&!1!==this.node.droppable&&this.tree.allowDrop(this.tree.dragNode,this.node,this.tree.dragNodeScope)&&(this.draghoverNode=!0)},t.prototype.onDropNodeDragLeave=function(t){if(this.tree.droppableNodes){var e=t.currentTarget.getBoundingClientRect();(t.x>e.left+e.width||t.x<e.left||t.y>=Math.floor(e.top+e.height)||t.y<e.top)&&(this.draghoverNode=!1)}},t}();p.ICON_CLASS="ui-treenode-icon fa fa-fw",n([s.Input(),o("design:type",Object)],p.prototype,"node",void 0),n([s.Input(),o("design:type",Object)],p.prototype,"parentNode",void 0),n([s.Input(),o("design:type",Boolean)],p.prototype,"root",void 0),n([s.Input(),o("design:type",Number)],p.prototype,"index",void 0),n([s.Input(),o("design:type",Boolean)],p.prototype,"firstChild",void 0),n([s.Input(),o("design:type",Boolean)],p.prototype,"lastChild",void 0),p=g=n([s.Component({selector:"p-treeNode",template:'\n        <ng-template [ngIf]="node">\n            <li *ngIf="tree.droppableNodes" class="ui-treenode-droppoint" [ngClass]="{\'ui-treenode-droppoint-active ui-state-highlight\':draghoverPrev}"\n            (drop)="onDropPoint($event,-1)" (dragover)="onDropPointDragOver($event)" (dragenter)="onDropPointDragEnter($event,-1)" (dragleave)="onDropPointDragLeave($event)"></li>\n            <li *ngIf="!tree.horizontal" [ngClass]="[\'ui-treenode\',node.styleClass||\'\', isLeaf() ? \'ui-treenode-leaf\': \'\']">\n                <div class="ui-treenode-content" (click)="onNodeClick($event)" (contextmenu)="onNodeRightClick($event)" (touchend)="onNodeTouchEnd()"\n                    (drop)="onDropNode($event)" (dragover)="onDropNodeDragOver($event)" (dragenter)="onDropNodeDragEnter($event)" (dragleave)="onDropNodeDragLeave($event)"\n                    [ngClass]="{\'ui-treenode-selectable\':tree.selectionMode && node.selectable !== false,\'ui-treenode-dragover\':draghoverNode, \'ui-treenode-content-selected\':isSelected()}" [draggable]="tree.draggableNodes" (dragstart)="onDragStart($event)" (dragend)="onDragStop($event)">\n                    <span class="ui-tree-toggler  fa fa-fw" [ngClass]="{\'fa-caret-right\':!node.expanded,\'fa-caret-down\':node.expanded}"\n                            (click)="toggle($event)"></span\n                    ><div class="ui-chkbox" *ngIf="tree.selectionMode == \'checkbox\'"><div class="ui-chkbox-box ui-widget ui-corner-all ui-state-default">\n                        <span class="ui-chkbox-icon ui-clickable fa" \n                            [ngClass]="{\'fa-check\':isSelected(),\'fa-minus\':node.partialSelected}"></span></div></div\n                    ><span [class]="getIcon()" *ngIf="node.icon||node.expandedIcon||node.collapsedIcon"></span\n                    ><span class="ui-treenode-label ui-corner-all" \n                        [ngClass]="{\'ui-state-highlight\':isSelected()}">\n                            <span *ngIf="!tree.getTemplateForNode(node)">{{node.label}}</span>\n                            <span *ngIf="tree.getTemplateForNode(node)">\n                                <p-treeNodeTemplateLoader [node]="node" [template]="tree.getTemplateForNode(node)"></p-treeNodeTemplateLoader>\n                            </span>\n                    </span>\n                </div>\n                <ul class="ui-treenode-children" style="display: none;" *ngIf="node.children && node.expanded" [style.display]="node.expanded ? \'block\' : \'none\'">\n                    <p-treeNode *ngFor="let childNode of node.children;let firstChild=first;let lastChild=last; let index=index" [node]="childNode" [parentNode]="node"\n                        [firstChild]="firstChild" [lastChild]="lastChild" [index]="index"></p-treeNode>\n                </ul>\n            </li>\n            <li *ngIf="tree.droppableNodes&&lastChild" class="ui-treenode-droppoint" [ngClass]="{\'ui-treenode-droppoint-active ui-state-highlight\':draghoverNext}"\n            (drop)="onDropPoint($event,1)" (dragover)="onDropPointDragOver($event)" (dragenter)="onDropPointDragEnter($event,1)" (dragleave)="onDropPointDragLeave($event)"></li>\n            <table *ngIf="tree.horizontal" [class]="node.styleClass">\n                <tbody>\n                    <tr>\n                        <td class="ui-treenode-connector" *ngIf="!root">\n                            <table class="ui-treenode-connector-table">\n                                <tbody>\n                                    <tr>\n                                        <td [ngClass]="{\'ui-treenode-connector-line\':!firstChild}"></td>\n                                    </tr>\n                                    <tr>\n                                        <td [ngClass]="{\'ui-treenode-connector-line\':!lastChild}"></td>\n                                    </tr>\n                                </tbody>\n                            </table>\n                        </td>\n                        <td class="ui-treenode" [ngClass]="{\'ui-treenode-collapsed\':!node.expanded}">\n                            <div class="ui-treenode-content ui-state-default ui-corner-all" \n                                [ngClass]="{\'ui-treenode-selectable\':tree.selectionMode,\'ui-state-highlight\':isSelected()}" (click)="onNodeClick($event)" (contextmenu)="onNodeRightClick($event)"\n                                (touchend)="onNodeTouchEnd()">\n                                <span class="ui-tree-toggler fa fa-fw" [ngClass]="{\'fa-plus\':!node.expanded,\'fa-minus\':node.expanded}" *ngIf="!isLeaf()"\n                                        (click)="toggle($event)"></span\n                                ><span [class]="getIcon()" *ngIf="node.icon||node.expandedIcon||node.collapsedIcon"></span\n                                ><span class="ui-treenode-label ui-corner-all">\n                                        <span *ngIf="!tree.getTemplateForNode(node)">{{node.label}}</span>\n                                        <span *ngIf="tree.getTemplateForNode(node)">\n                                            <p-treeNodeTemplateLoader [node]="node" [template]="tree.getTemplateForNode(node)"></p-treeNodeTemplateLoader>\n                                        </span>\n                                </span>\n                            </div>\n                        </td>\n                        <td class="ui-treenode-children-container" *ngIf="node.children && node.expanded" [style.display]="node.expanded ? \'table-cell\' : \'none\'">\n                            <div class="ui-treenode-children">\n                                <p-treeNode *ngFor="let childNode of node.children;let firstChild=first;let lastChild=last;" [node]="childNode" \n                                        [firstChild]="firstChild" [lastChild]="lastChild"></p-treeNode>\n                            </div>\n                        </td>\n                    </tr>\n                </tbody>\n            </table>\n        </ng-template>\n    '}),r(0,s.Inject(s.forwardRef(function(){return f}))),o("design:paramtypes",[f])],p),e.UITreeNode=p;var f=function(){function t(t){this.dragDropService=t,this.selectionChange=new s.EventEmitter,this.onNodeSelect=new s.EventEmitter,this.onNodeUnselect=new s.EventEmitter,this.onNodeExpand=new s.EventEmitter,this.onNodeCollapse=new s.EventEmitter,this.onNodeContextMenuSelect=new s.EventEmitter,this.onNodeDrop=new s.EventEmitter,this.layout="vertical",this.metaKeySelection=!0,this.propagateSelectionUp=!0,this.propagateSelectionDown=!0,this.loadingIcon="fa-circle-o-notch"}return t.prototype.ngOnInit=function(){var t=this;this.droppableNodes&&(this.dragStartSubscription=this.dragDropService.dragStart$.subscribe(function(e){t.dragNodeTree=e.tree,t.dragNode=e.node,t.dragNodeSubNodes=e.subNodes,t.dragNodeIndex=e.index,t.dragNodeScope=e.scope}),this.dragStopSubscription=this.dragDropService.dragStop$.subscribe(function(e){t.dragNodeTree=null,t.dragNode=null,t.dragNodeSubNodes=null,t.dragNodeIndex=null,t.dragNodeScope=null,t.dragHover=!1}))},Object.defineProperty(t.prototype,"horizontal",{get:function(){return"horizontal"==this.layout},enumerable:!0,configurable:!0}),t.prototype.ngAfterContentInit=function(){var t=this;this.templates.length&&(this.templateMap={}),this.templates.forEach(function(e){t.templateMap[e.name]=e.template})},t.prototype.onNodeClick=function(t,e){var i=t.target;if(!i.className||0!==i.className.indexOf("ui-tree-toggler")){if(this.selectionMode){if(!1===e.selectable)return;var n=this.findIndexInSelection(e),o=n>=0;if(this.isCheckboxSelectionMode())o?(this.propagateSelectionDown?this.propagateDown(e,!1):this.selection=this.selection.filter(function(t,e){return e!=n}),this.propagateSelectionUp&&e.parent&&this.propagateUp(e.parent,!1),this.selectionChange.emit(this.selection),this.onNodeUnselect.emit({originalEvent:t,node:e})):(this.propagateSelectionDown?this.propagateDown(e,!0):this.selection=(this.selection||[]).concat([e]),this.propagateSelectionUp&&e.parent&&this.propagateUp(e.parent,!0),this.selectionChange.emit(this.selection),this.onNodeSelect.emit({originalEvent:t,node:e}));else{if(!this.nodeTouched&&this.metaKeySelection){var r=t.metaKey||t.ctrlKey;o&&r?(this.isSingleSelectionMode()?this.selectionChange.emit(null):(this.selection=this.selection.filter(function(t,e){return e!=n}),this.selectionChange.emit(this.selection)),this.onNodeUnselect.emit({originalEvent:t,node:e})):(this.isSingleSelectionMode()?this.selectionChange.emit(e):this.isMultipleSelectionMode()&&(this.selection=r?this.selection||[]:[],this.selection=this.selection.concat([e]),this.selectionChange.emit(this.selection)),this.onNodeSelect.emit({originalEvent:t,node:e}))}else this.isSingleSelectionMode()?o?(this.selection=null,this.onNodeUnselect.emit({originalEvent:t,node:e})):(this.selection=e,this.onNodeSelect.emit({originalEvent:t,node:e})):o?(this.selection=this.selection.filter(function(t,e){return e!=n}),this.onNodeUnselect.emit({originalEvent:t,node:e})):(this.selection=(this.selection||[]).concat([e]),this.onNodeSelect.emit({originalEvent:t,node:e})),this.selectionChange.emit(this.selection)}}this.nodeTouched=!1}},t.prototype.onNodeTouchEnd=function(){this.nodeTouched=!0},t.prototype.onNodeRightClick=function(t,e){if(this.contextMenu){var i=t.target;if(i.className&&0===i.className.indexOf("ui-tree-toggler"))return;this.findIndexInSelection(e)>=0||(this.isSingleSelectionMode()?this.selectionChange.emit(e):this.selectionChange.emit([e])),this.contextMenu.show(t),this.onNodeContextMenuSelect.emit({originalEvent:t,node:e})}},t.prototype.findIndexInSelection=function(t){var e=-1;if(this.selectionMode&&this.selection)if(this.isSingleSelectionMode())e=this.selection==t?0:-1;else for(var i=0;i<this.selection.length;i++)if(this.selection[i]==t){e=i;break}return e},t.prototype.propagateUp=function(t,e){if(t.children&&t.children.length){for(var i=0,n=!1,o=0,r=t.children;o<r.length;o++){var s=r[o];this.isSelected(s)?i++:s.partialSelected&&(n=!0)}if(e&&i==t.children.length)this.selection=(this.selection||[]).concat([t]),t.partialSelected=!1;else{if(!e){var a=this.findIndexInSelection(t);a>=0&&(this.selection=this.selection.filter(function(t,e){return e!=a}))}n||i>0&&i!=t.children.length?t.partialSelected=!0:t.partialSelected=!1}}var l=t.parent;l&&this.propagateUp(l,e)},t.prototype.propagateDown=function(t,e){var i=this.findIndexInSelection(t);if(e&&-1==i?this.selection=(this.selection||[]).concat([t]):!e&&i>-1&&(this.selection=this.selection.filter(function(t,e){return e!=i})),t.partialSelected=!1,t.children&&t.children.length)for(var n=0,o=t.children;n<o.length;n++){var r=o[n];this.propagateDown(r,e)}},t.prototype.isSelected=function(t){return-1!=this.findIndexInSelection(t)},t.prototype.isSingleSelectionMode=function(){return this.selectionMode&&"single"==this.selectionMode},t.prototype.isMultipleSelectionMode=function(){return this.selectionMode&&"multiple"==this.selectionMode},t.prototype.isCheckboxSelectionMode=function(){return this.selectionMode&&"checkbox"==this.selectionMode},t.prototype.getTemplateForNode=function(t){return this.templateMap?t.type?this.templateMap[t.type]:this.templateMap.default:null},t.prototype.onDragOver=function(t){!this.droppableNodes||this.value&&0!==this.value.length||(t.dataTransfer.dropEffect="move",t.preventDefault())},t.prototype.onDrop=function(t){if(this.droppableNodes&&(!this.value||0===this.value.length)){t.preventDefault();var e=this.dragNode;if(this.allowDrop(e,null,this.dragNodeScope)){var i=this.dragNodeIndex;this.dragNodeSubNodes.splice(i,1),this.value=this.value||[],this.value.push(e),this.dragDropService.stopDrag({node:e})}}},t.prototype.onDragEnter=function(t){this.droppableNodes&&this.allowDrop(this.dragNode,null,this.dragNodeScope)&&(this.dragHover=!0)},t.prototype.onDragLeave=function(t){if(this.droppableNodes){var e=t.currentTarget.getBoundingClientRect();(t.x>e.left+e.width||t.x<e.left||t.y>e.top+e.height||t.y<e.top)&&(this.dragHover=!1)}},t.prototype.allowDrop=function(t,e,i){if(this.isValidDragScope(i)){var n=!0;if(e)if(t===e)n=!1;else for(var o=e.parent;null!=o;){if(o===t){n=!1;break}o=o.parent}return n}return!1},t.prototype.isValidDragScope=function(t){var e=this.droppableScope;if(e){if("string"==typeof e){if("string"==typeof t)return e===t;if(t instanceof Array)return-1!=t.indexOf(e)}else if(e instanceof Array){if("string"==typeof t)return-1!=e.indexOf(t);if(t instanceof Array)for(var i=0,n=e;i<n.length;i++)for(var o=n[i],r=0,s=t;r<s.length;r++){var a=s[r];if(o===a)return!0}}return!1}return!0},t.prototype.ngOnDestroy=function(){this.dragStartSubscription&&this.dragStartSubscription.unsubscribe(),this.dragStopSubscription&&this.dragStopSubscription.unsubscribe()},t}();n([s.Input(),o("design:type",Array)],f.prototype,"value",void 0),n([s.Input(),o("design:type",String)],f.prototype,"selectionMode",void 0),n([s.Input(),o("design:type",Object)],f.prototype,"selection",void 0),n([s.Output(),o("design:type",s.EventEmitter)],f.prototype,"selectionChange",void 0),n([s.Output(),o("design:type",s.EventEmitter)],f.prototype,"onNodeSelect",void 0),n([s.Output(),o("design:type",s.EventEmitter)],f.prototype,"onNodeUnselect",void 0),n([s.Output(),o("design:type",s.EventEmitter)],f.prototype,"onNodeExpand",void 0),n([s.Output(),o("design:type",s.EventEmitter)],f.prototype,"onNodeCollapse",void 0),n([s.Output(),o("design:type",s.EventEmitter)],f.prototype,"onNodeContextMenuSelect",void 0),n([s.Output(),o("design:type",s.EventEmitter)],f.prototype,"onNodeDrop",void 0),n([s.Input(),o("design:type",Object)],f.prototype,"style",void 0),n([s.Input(),o("design:type",String)],f.prototype,"styleClass",void 0),n([s.Input(),o("design:type",Object)],f.prototype,"contextMenu",void 0),n([s.Input(),o("design:type",String)],f.prototype,"layout",void 0),n([s.Input(),o("design:type",Object)],f.prototype,"draggableScope",void 0),n([s.Input(),o("design:type",Object)],f.prototype,"droppableScope",void 0),n([s.Input(),o("design:type",Boolean)],f.prototype,"draggableNodes",void 0),n([s.Input(),o("design:type",Boolean)],f.prototype,"droppableNodes",void 0),n([s.Input(),o("design:type",Boolean)],f.prototype,"metaKeySelection",void 0),n([s.Input(),o("design:type",Boolean)],f.prototype,"propagateSelectionUp",void 0),n([s.Input(),o("design:type",Boolean)],f.prototype,"propagateSelectionDown",void 0),n([s.Input(),o("design:type",Boolean)],f.prototype,"loading",void 0),n([s.Input(),o("design:type",String)],f.prototype,"loadingIcon",void 0),n([s.ContentChildren(u.PrimeTemplate),o("design:type",s.QueryList)],f.prototype,"templates",void 0),f=n([s.Component({selector:"p-tree",template:'\n        <div [ngClass]="{\'ui-tree ui-widget ui-widget-content ui-corner-all\':true,\'ui-tree-selectable\':selectionMode,\'ui-treenode-dragover\':dragHover,\'ui-tree-loading\': loading}" [ngStyle]="style" [class]="styleClass" *ngIf="!horizontal"\n            (drop)="onDrop($event)" (dragover)="onDragOver($event)" (dragenter)="onDragEnter($event)" (dragleave)="onDragLeave($event)">\n            <div class="ui-tree-loading-mask ui-widget-overlay" *ngIf="loading"></div>\n            <div class="ui-tree-loading-content" *ngIf="loading">\n                <i [class]="\'fa fa-spin fa-2x \' + loadingIcon"></i>\n            </div>\n            <ul class="ui-tree-container">\n                <p-treeNode *ngFor="let node of value;let firstChild=first;let lastChild=last; let index=index" [node]="node" \n                [firstChild]="firstChild" [lastChild]="lastChild" [index]="index"></p-treeNode>\n            </ul>\n        </div>\n        <div [ngClass]="{\'ui-tree ui-tree-horizontal ui-widget ui-widget-content ui-corner-all\':true,\'ui-tree-selectable\':selectionMode}"  [ngStyle]="style" [class]="styleClass" *ngIf="horizontal">\n            <div class="ui-tree-loading ui-widget-overlay" *ngIf="loading"></div>\n            <div class="ui-tree-loading-content" *ngIf="loading">\n                <i [class]="\'fa fa-spin fa-2x \' + loadingIcon"></i>\n            </div>\n            <table *ngIf="value&&value[0]">\n                <p-treeNode [node]="value[0]" [root]="true"></p-treeNode>\n            </table>\n        </div>\n    '}),r(0,a.Optional()),o("design:paramtypes",[c.TreeDragDropService])],f),e.Tree=f;var y=function(){function t(){}return t}();y=n([s.NgModule({imports:[l.CommonModule],exports:[f,h.SharedModule],declarations:[f,p,d]})],y),e.TreeModule=y;var g},function(t,e,i){"use strict";var n=this&&this.__decorate||function(t,e,i,n){var o,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,i,s):o(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},r=this&&this.__param||function(t,e){return function(i,n){e(i,n,t)}};Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(1),l=i(4),h=i(4),u=i(3),c=function(){function t(t){this.treeTable=t,this.level=0,this.labelExpand="Expand",this.labelCollapse="Collapse"}return t.prototype.ngOnInit=function(){this.node.parent=this.parentNode},t.prototype.toggle=function(t){this.node.expanded?this.treeTable.onNodeCollapse.emit({originalEvent:t,node:this.node}):this.treeTable.onNodeExpand.emit({originalEvent:t,node:this.node}),this.node.expanded=!this.node.expanded,t.preventDefault()},t.prototype.isLeaf=function(){return 0!=this.node.leaf&&!(this.node.children&&this.node.children.length)},t.prototype.isSelected=function(){return this.treeTable.isSelected(this.node)},t.prototype.onRowClick=function(t){this.treeTable.onRowClick(t,this.node)},t.prototype.onRowRightClick=function(t){this.treeTable.onRowRightClick(t,this.node)},t.prototype.rowDblClick=function(t){this.treeTable.onRowDblclick.emit({originalEvent:t,node:this.node})},t.prototype.onRowTouchEnd=function(){this.treeTable.onRowTouchEnd()},t.prototype.resolveFieldData=function(t,e){if(t&&e){if(-1==e.indexOf("."))return t[e];for(var i=e.split("."),n=t,o=0,r=i.length;o<r;++o)n=n[i[o]];return n}return null},t}();n([s.Input(),o("design:type",Object)],c.prototype,"node",void 0),n([s.Input(),o("design:type",Object)],c.prototype,"parentNode",void 0),n([s.Input(),o("design:type",Number)],c.prototype,"level",void 0),n([s.Input(),o("design:type",String)],c.prototype,"labelExpand",void 0),n([s.Input(),o("design:type",String)],c.prototype,"labelCollapse",void 0),c=n([s.Component({selector:"[pTreeRow]",template:'\n        <div [class]="node.styleClass" [ngClass]="{\'ui-treetable-row\': true, \'ui-state-highlight\':isSelected(),\'ui-treetable-row-selectable\':treeTable.selectionMode && node.selectable !== false}">\n            <td *ngFor="let col of treeTable.columns; let i=index" [ngStyle]="col.style" [class]="col.styleClass" (click)="onRowClick($event)" (dblclick)="rowDblClick($event)" (touchend)="onRowTouchEnd()" (contextmenu)="onRowRightClick($event)">\n                <a href="#" *ngIf="i == treeTable.toggleColumnIndex" class="ui-treetable-toggler fa fa-fw ui-clickable" [ngClass]="node.expanded ? treeTable.expandedIcon : treeTable.collapsedIcon"\n                    [ngStyle]="{\'margin-left\':level*16 + \'px\',\'visibility\': isLeaf() ? \'hidden\' : \'visible\'}"\n                    (click)="toggle($event)"\n                    [title]="node.expanded ? labelCollapse : labelExpand">\n                </a>\n                <div class="ui-chkbox ui-treetable-checkbox" *ngIf="treeTable.selectionMode == \'checkbox\' && i==0"><div class="ui-chkbox-box ui-widget ui-corner-all ui-state-default">\n                    <span class="ui-chkbox-icon ui-clickable fa" \n                        [ngClass]="{\'fa-check\':isSelected(),\'fa-minus\':node.partialSelected}"></span></div></div\n                ><span *ngIf="!col.template">{{resolveFieldData(node.data,col.field)}}</span>\n                <p-columnBodyTemplateLoader [column]="col" [rowData]="node" *ngIf="col.template"></p-columnBodyTemplateLoader>\n            </td>\n        </div>\n        <div *ngIf="node.children && node.expanded" class="ui-treetable-row" style="display:table-row">\n            <td [attr.colspan]="treeTable.columns.length" class="ui-treetable-child-table-container">\n                <table [class]="treeTable.tableStyleClass" [ngStyle]="treeTable.tableStyle">\n                    <tbody pTreeRow *ngFor="let childNode of node.children" [node]="childNode" [level]="level+1" [labelExpand]="labelExpand" [labelCollapse]="labelCollapse" [parentNode]="node"></tbody>\n                </table>\n            </td>\n        </div>\n    '}),r(0,s.Inject(s.forwardRef(function(){return d}))),o("design:paramtypes",[d])],c),e.UITreeRow=c;var d=function(){function t(t,e,i,n){this.el=t,this.domHandler=e,this.changeDetector=i,this.renderer=n,this.labelExpand="Expand",this.labelCollapse="Collapse",this.metaKeySelection=!0,this.toggleColumnIndex=0,this.collapsedIcon="fa-caret-right",this.expandedIcon="fa-caret-down",this.onRowDblclick=new s.EventEmitter,this.selectionChange=new s.EventEmitter,this.onNodeSelect=new s.EventEmitter,this.onNodeUnselect=new s.EventEmitter,this.onNodeExpand=new s.EventEmitter,this.onNodeCollapse=new s.EventEmitter,this.onContextMenuSelect=new s.EventEmitter}return t.prototype.ngAfterContentInit=function(){var t=this;this.initColumns(),this.columnsSubscription=this.cols.changes.subscribe(function(e){t.initColumns(),t.changeDetector.markForCheck()})},t.prototype.initColumns=function(){this.columns=this.cols.toArray()},t.prototype.onRowClick=function(t,e){var i=t.target;if(!i.className||0!==i.className.indexOf("ui-treetable-toggler")){if(this.selectionMode){if(!1===e.selectable)return;var n=!this.rowTouched&&this.metaKeySelection,o=this.findIndexInSelection(e),r=o>=0;if(this.isCheckboxSelectionMode())r?(this.propagateSelectionDown(e,!1),e.parent&&this.propagateSelectionUp(e.parent,!1),this.selectionChange.emit(this.selection),this.onNodeUnselect.emit({originalEvent:t,node:e})):(this.propagateSelectionDown(e,!0),e.parent&&this.propagateSelectionUp(e.parent,!0),this.selectionChange.emit(this.selection),this.onNodeSelect.emit({originalEvent:t,node:e}));else if(n){var s=t.metaKey||t.ctrlKey;r&&s?(this.isSingleSelectionMode()?this.selectionChange.emit(null):(this.selection=this.selection.filter(function(t,e){return e!=o}),this.selectionChange.emit(this.selection)),this.onNodeUnselect.emit({originalEvent:t,node:e})):(this.isSingleSelectionMode()?this.selectionChange.emit(e):this.isMultipleSelectionMode()&&(this.selection=s?this.selection||[]:[],this.selection=this.selection.concat([e]),this.selectionChange.emit(this.selection)),this.onNodeSelect.emit({originalEvent:t,node:e}))}else this.isSingleSelectionMode()?r?(this.selection=null,this.onNodeUnselect.emit({originalEvent:t,node:e})):(this.selection=e,this.onNodeSelect.emit({originalEvent:t,node:e})):r?(this.selection=this.selection.filter(function(t,e){return e!=o}),this.onNodeUnselect.emit({originalEvent:t,node:e})):(this.selection=(this.selection||[]).concat([e]),this.onNodeSelect.emit({originalEvent:t,node:e})),this.selectionChange.emit(this.selection)}this.rowTouched=!1}},t.prototype.onRowTouchEnd=function(){this.rowTouched=!0},t.prototype.onRowRightClick=function(t,e){if(this.contextMenu){this.findIndexInSelection(e)>=0||(this.isSingleSelectionMode()?this.selection=e:this.isMultipleSelectionMode()&&(this.selection=[e],this.selectionChange.emit(this.selection)),this.selectionChange.emit(this.selection)),this.contextMenu.show(t),this.onContextMenuSelect.emit({originalEvent:t,node:e})}},t.prototype.findIndexInSelection=function(t){var e=-1;if(this.selectionMode&&this.selection)if(this.isSingleSelectionMode())e=this.selection==t?0:-1;else for(var i=0;i<this.selection.length;i++)if(this.selection[i]==t){e=i;break}return e},t.prototype.propagateSelectionUp=function(t,e){if(t.children&&t.children.length){for(var i=0,n=!1,o=0,r=t.children;o<r.length;o++){var s=r[o];this.isSelected(s)?i++:s.partialSelected&&(n=!0)}if(e&&i==t.children.length)this.selection=(this.selection||[]).concat([t]),t.partialSelected=!1;else{if(!e){var a=this.findIndexInSelection(t);a>=0&&(this.selection=this.selection.filter(function(t,e){return e!=a}))}n||i>0&&i!=t.children.length?t.partialSelected=!0:t.partialSelected=!1}}var l=t.parent;l&&this.propagateSelectionUp(l,e)},t.prototype.propagateSelectionDown=function(t,e){var i=this.findIndexInSelection(t);if(e&&-1==i?this.selection=(this.selection||[]).concat([t]):!e&&i>-1&&(this.selection=this.selection.filter(function(t,e){return e!=i})),t.partialSelected=!1,t.children&&t.children.length)for(var n=0,o=t.children;n<o.length;n++){var r=o[n];this.propagateSelectionDown(r,e)}},t.prototype.isSelected=function(t){return-1!=this.findIndexInSelection(t)},t.prototype.isSingleSelectionMode=function(){return this.selectionMode&&"single"==this.selectionMode},t.prototype.isMultipleSelectionMode=function(){return this.selectionMode&&"multiple"==this.selectionMode},t.prototype.isCheckboxSelectionMode=function(){return this.selectionMode&&"checkbox"==this.selectionMode},t.prototype.hasFooter=function(){if(this.columns)for(var t=this.cols.toArray(),e=0;e<t.length;e++)if(t[e].footer)return!0;return!1},t}();n([s.Input(),o("design:type",Array)],d.prototype,"value",void 0),n([s.Input(),o("design:type",String)],d.prototype,"selectionMode",void 0),n([s.Input(),o("design:type",Object)],d.prototype,"selection",void 0),n([s.Input(),o("design:type",Object)],d.prototype,"style",void 0),n([s.Input(),o("design:type",String)],d.prototype,"styleClass",void 0),n([s.Input(),o("design:type",String)],d.prototype,"labelExpand",void 0),n([s.Input(),o("design:type",String)],d.prototype,"labelCollapse",void 0),n([s.Input(),o("design:type",Boolean)],d.prototype,"metaKeySelection",void 0),n([s.Input(),o("design:type",Object)],d.prototype,"contextMenu",void 0),n([s.Input(),o("design:type",Number)],d.prototype,"toggleColumnIndex",void 0),n([s.Input(),o("design:type",Object)],d.prototype,"tableStyle",void 0),n([s.Input(),o("design:type",String)],d.prototype,"tableStyleClass",void 0),n([s.Input(),o("design:type",String)],d.prototype,"collapsedIcon",void 0),n([s.Input(),o("design:type",String)],d.prototype,"expandedIcon",void 0),n([s.Output(),o("design:type",s.EventEmitter)],d.prototype,"onRowDblclick",void 0),n([s.Output(),o("design:type",s.EventEmitter)],d.prototype,"selectionChange",void 0),n([s.Output(),o("design:type",s.EventEmitter)],d.prototype,"onNodeSelect",void 0),n([s.Output(),o("design:type",s.EventEmitter)],d.prototype,"onNodeUnselect",void 0),n([s.Output(),o("design:type",s.EventEmitter)],d.prototype,"onNodeExpand",void 0),n([s.Output(),o("design:type",s.EventEmitter)],d.prototype,"onNodeCollapse",void 0),n([s.Output(),o("design:type",s.EventEmitter)],d.prototype,"onContextMenuSelect",void 0),n([s.ContentChild(l.Header),o("design:type",l.Header)],d.prototype,"header",void 0),n([s.ContentChild(l.Footer),o("design:type",l.Footer)],d.prototype,"footer",void 0),n([s.ContentChildren(l.Column),o("design:type",s.QueryList)],d.prototype,"cols",void 0),n([s.ViewChild("tbl"),o("design:type",s.ElementRef)],d.prototype,"tableViewChild",void 0),d=n([s.Component({selector:"p-treeTable",template:'\n        <div [ngClass]="\'ui-treetable ui-widget\'" [ngStyle]="style" [class]="styleClass">\n            <div class="ui-treetable-header ui-widget-header" *ngIf="header">\n                <ng-content select="p-header"></ng-content>\n            </div>\n            <div class="ui-treetable-tablewrapper">\n                <table #tbl class="ui-widget-content" [class]="tableStyleClass" [ngStyle]="tableStyle">\n                    <thead>\n                        <tr class="ui-state-default">\n                            <th #headerCell *ngFor="let col of columns; let lastCol=last "  [ngStyle]="col.style" [class]="col.styleClass" \n                                [ngClass]="\'ui-state-default ui-unselectable-text\'">\n                                <span class="ui-column-title" *ngIf="!col.headerTemplate">{{col.header}}</span>\n                                <span class="ui-column-title" *ngIf="col.headerTemplate">\n                                    <p-columnHeaderTemplateLoader [column]="col"></p-columnHeaderTemplateLoader>\n                                </span>\n                            </th>\n                        </tr>\n                    </thead>\n                    <tfoot *ngIf="hasFooter()">\n                        <tr>\n                            <td *ngFor="let col of columns" [ngStyle]="col.style" [class]="col.styleClass" [ngClass]="{\'ui-state-default\':true}">\n                                <span class="ui-column-footer" *ngIf="!col.footerTemplate">{{col.footer}}</span>\n                                <span class="ui-column-footer" *ngIf="col.footerTemplate">\n                                    <p-columnFooterTemplateLoader [column]="col"></p-columnFooterTemplateLoader>\n                                </span>\n                            </td>\n                        </tr>\n                    </tfoot>\n                    <tbody pTreeRow *ngFor="let node of value" class="ui-treetable-data ui-widget-content" [node]="node" [level]="0" [labelExpand]="labelExpand" [labelCollapse]="labelCollapse"></tbody>\n                </table>\n            </div>\n            \n            <div class="ui-treetable-footer ui-widget-header" *ngIf="footer">\n                <ng-content select="p-footer"></ng-content>\n            </div>\n        </div>\n    ',providers:[u.DomHandler]}),o("design:paramtypes",[s.ElementRef,u.DomHandler,s.ChangeDetectorRef,s.Renderer2])],d),e.TreeTable=d;var p=function(){function t(){}return t}();p=n([s.NgModule({imports:[a.CommonModule,h.SharedModule],exports:[d,h.SharedModule],declarations:[d,c]})],p),e.TreeTableModule=p},function(t,e,i){"use strict";var n=this&&this.__decorate||function(t,e,i,n){var o,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,i,s):o(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};Object.defineProperty(e,"__esModule",{value:!0});var r=i(0),s=i(1),a=i(5);e.TRISTATECHECKBOX_VALUE_ACCESSOR={provide:a.NG_VALUE_ACCESSOR,useExisting:r.forwardRef(function(){return l}),multi:!0};var l=function(){function t(t){this.cd=t,this.onChange=new r.EventEmitter,this.onModelChange=function(){},this.onModelTouched=function(){}}return t.prototype.onClick=function(t,e){this.disabled||(this.toggle(t),this.focus=!0,e.focus())},t.prototype.onKeydown=function(t){32==t.keyCode&&t.preventDefault()},t.prototype.onKeyup=function(t){32==t.keyCode&&(this.toggle(t),t.preventDefault())},t.prototype.toggle=function(t){null==this.value||void 0==this.value?this.value=!0:1==this.value?this.value=!1:0==this.value&&(this.value=null),this.onModelChange(this.value),this.onChange.emit({originalEvent:t,value:this.value})},t.prototype.onFocus=function(){this.focus=!0},t.prototype.onBlur=function(){this.focus=!1,this.onModelTouched()},t.prototype.registerOnChange=function(t){this.onModelChange=t},t.prototype.registerOnTouched=function(t){this.onModelTouched=t},t.prototype.writeValue=function(t){this.value=t,this.cd.markForCheck()},t.prototype.setDisabledState=function(t){this.disabled=t},t}();n([r.Input(),o("design:type",Boolean)],l.prototype,"disabled",void 0),n([r.Input(),o("design:type",String)],l.prototype,"name",void 0),n([r.Input(),o("design:type",Number)],l.prototype,"tabindex",void 0),n([r.Input(),o("design:type",String)],l.prototype,"inputId",void 0),n([r.Input(),o("design:type",Object)],l.prototype,"style",void 0),n([r.Input(),o("design:type",String)],l.prototype,"styleClass",void 0),n([r.Output(),o("design:type",r.EventEmitter)],l.prototype,"onChange",void 0),l=n([r.Component({selector:"p-triStateCheckbox",template:'\n        <div [ngStyle]="style" [ngClass]="\'ui-chkbox ui-tristatechkbox ui-widget\'" [class]="styleClass">\n            <div class="ui-helper-hidden-accessible">\n                <input #input type="text" [attr.id]="inputId" [name]="name" [attr.tabindex]="tabindex" readonly [disabled]="disabled" (keyup)="onKeyup($event)" (keydown)="onKeydown($event)" (focus)="onFocus()" (blur)="onBlur()">\n            </div>\n            <div class="ui-chkbox-box ui-widget ui-corner-all ui-state-default" (click)="onClick($event,input)"\n                [ngClass]="{\'ui-state-active\':value!=null,\'ui-state-disabled\':disabled,\'ui-state-focus\':focus}">\n                <span class="ui-chkbox-icon fa ui-clickable" [ngClass]="{\'fa-check\':value==true,\'fa-close\':value==false}"></span>\n            </div>\n        </div>\n    ',providers:[e.TRISTATECHECKBOX_VALUE_ACCESSOR]}),o("design:paramtypes",[r.ChangeDetectorRef])],l),e.TriStateCheckbox=l;var h=function(){function t(){}return t}();h=n([r.NgModule({imports:[s.CommonModule],exports:[l],declarations:[l]})],h),e.TriStateCheckboxModule=h}])});
//# sourceMappingURL=index.umd.min.js.map